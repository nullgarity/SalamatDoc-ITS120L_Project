(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hp={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function CS(){if(Vv)return Bc;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Bc.Fragment=e,Bc.jsx=n,Bc.jsxs=n,Bc}var kv;function RS(){return kv||(kv=1,hp.exports=CS()),hp.exports}var O=RS(),fp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function IS(){if(Lv)return Ge;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.iterator;function q(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,X={};function J(I,re,pe){this.props=I,this.context=re,this.refs=X,this.updater=pe||ne}J.prototype.isReactComponent={},J.prototype.setState=function(I,re){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,re,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ae(){}ae.prototype=J.prototype;function he(I,re,pe){this.props=I,this.context=re,this.refs=X,this.updater=pe||ne}var Be=he.prototype=new ae;Be.constructor=he,oe(Be,J.prototype),Be.isPureReactComponent=!0;var Ke=Array.isArray;function Ye(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function N(I,re,pe){var ve=pe.ref;return{$$typeof:r,type:I,key:re,ref:ve!==void 0?ve:null,props:pe}}function j(I,re){return N(I.type,re,I.props)}function L(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function H(I){var re={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(pe){return re[pe]})}var M=/\/+/g;function xt(I,re){return typeof I=="object"&&I!==null&&I.key!=null?H(""+I.key):re.toString(36)}function tn(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ye,Ye):(I.status="pending",I.then(function(re){I.status==="pending"&&(I.status="fulfilled",I.value=re)},function(re){I.status==="pending"&&(I.status="rejected",I.reason=re)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,re,pe,ve,Ce){var Le=typeof I;(Le==="undefined"||Le==="boolean")&&(I=null);var Ue=!1;if(I===null)Ue=!0;else switch(Le){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(I.$$typeof){case r:case e:Ue=!0;break;case A:return Ue=I._init,ee(Ue(I._payload),re,pe,ve,Ce)}}if(Ue)return Ce=Ce(I),Ue=ve===""?"."+xt(I,0):ve,Ke(Ce)?(pe="",Ue!=null&&(pe=Ue.replace(M,"$&/")+"/"),ee(Ce,re,pe,"",function(hr){return hr})):Ce!=null&&(L(Ce)&&(Ce=j(Ce,pe+(Ce.key==null||I&&I.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+Ue)),re.push(Ce)),1;Ue=0;var Kt=ve===""?".":ve+":";if(Ke(I))for(var ge=0;ge<I.length;ge++)ve=I[ge],Le=Kt+xt(ve,ge),Ue+=ee(ve,re,pe,Le,Ce);else if(ge=q(I),typeof ge=="function")for(I=ge.call(I),ge=0;!(ve=I.next()).done;)ve=ve.value,Le=Kt+xt(ve,ge++),Ue+=ee(ve,re,pe,Le,Ce);else if(Le==="object"){if(typeof I.then=="function")return ee(tn(I),re,pe,ve,Ce);throw re=String(I),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function me(I,re,pe){if(I==null)return I;var ve=[],Ce=0;return ee(I,ve,"","",function(Le){return re.call(pe,Le,Ce++)}),ve}function we(I){if(I._status===-1){var re=I._result;re=re(),re.then(function(pe){(I._status===0||I._status===-1)&&(I._status=1,I._result=pe)},function(pe){(I._status===0||I._status===-1)&&(I._status=2,I._result=pe)}),I._status===-1&&(I._status=0,I._result=re)}if(I._status===1)return I._result.default;throw I._result}var ot=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},dt={map:me,forEach:function(I,re,pe){me(I,function(){re.apply(this,arguments)},pe)},count:function(I){var re=0;return me(I,function(){re++}),re},toArray:function(I){return me(I,function(re){return re})||[]},only:function(I){if(!L(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ge.Activity=C,Ge.Children=dt,Ge.Component=J,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=he,Ge.StrictMode=s,Ge.Suspense=_,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(I){return k.H.useMemoCache(I)}},Ge.cache=function(I){return function(){return I.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(I,re,pe){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ve=oe({},I.props),Ce=I.key;if(re!=null)for(Le in re.key!==void 0&&(Ce=""+re.key),re)!D.call(re,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&re.ref===void 0||(ve[Le]=re[Le]);var Le=arguments.length-2;if(Le===1)ve.children=pe;else if(1<Le){for(var Ue=Array(Le),Kt=0;Kt<Le;Kt++)Ue[Kt]=arguments[Kt+2];ve.children=Ue}return N(I.type,Ce,ve)},Ge.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ge.createElement=function(I,re,pe){var ve,Ce={},Le=null;if(re!=null)for(ve in re.key!==void 0&&(Le=""+re.key),re)D.call(re,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ce[ve]=re[ve]);var Ue=arguments.length-2;if(Ue===1)Ce.children=pe;else if(1<Ue){for(var Kt=Array(Ue),ge=0;ge<Ue;ge++)Kt[ge]=arguments[ge+2];Ce.children=Kt}if(I&&I.defaultProps)for(ve in Ue=I.defaultProps,Ue)Ce[ve]===void 0&&(Ce[ve]=Ue[ve]);return N(I,Le,Ce)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(I){return{$$typeof:p,render:I}},Ge.isValidElement=L,Ge.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:we}},Ge.memo=function(I,re){return{$$typeof:y,type:I,compare:re===void 0?null:re}},Ge.startTransition=function(I){var re=k.T,pe={};k.T=pe;try{var ve=I(),Ce=k.S;Ce!==null&&Ce(pe,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Ye,ot)}catch(Le){ot(Le)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),k.T=re}},Ge.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ge.use=function(I){return k.H.use(I)},Ge.useActionState=function(I,re,pe){return k.H.useActionState(I,re,pe)},Ge.useCallback=function(I,re){return k.H.useCallback(I,re)},Ge.useContext=function(I){return k.H.useContext(I)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(I,re){return k.H.useDeferredValue(I,re)},Ge.useEffect=function(I,re){return k.H.useEffect(I,re)},Ge.useEffectEvent=function(I){return k.H.useEffectEvent(I)},Ge.useId=function(){return k.H.useId()},Ge.useImperativeHandle=function(I,re,pe){return k.H.useImperativeHandle(I,re,pe)},Ge.useInsertionEffect=function(I,re){return k.H.useInsertionEffect(I,re)},Ge.useLayoutEffect=function(I,re){return k.H.useLayoutEffect(I,re)},Ge.useMemo=function(I,re){return k.H.useMemo(I,re)},Ge.useOptimistic=function(I,re){return k.H.useOptimistic(I,re)},Ge.useReducer=function(I,re,pe){return k.H.useReducer(I,re,pe)},Ge.useRef=function(I){return k.H.useRef(I)},Ge.useState=function(I){return k.H.useState(I)},Ge.useSyncExternalStore=function(I,re,pe){return k.H.useSyncExternalStore(I,re,pe)},Ge.useTransition=function(){return k.H.useTransition()},Ge.version="19.2.0",Ge}var Pv;function sg(){return Pv||(Pv=1,fp.exports=IS()),fp.exports}var Z=sg(),dp={exports:{}},Hc={},mp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function DS(){return Uv||(Uv=1,(function(r){function e(ee,me){var we=ee.length;ee.push(me);e:for(;0<we;){var ot=we-1>>>1,dt=ee[ot];if(0<o(dt,me))ee[ot]=me,ee[we]=dt,we=ot;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var me=ee[0],we=ee.pop();if(we!==me){ee[0]=we;e:for(var ot=0,dt=ee.length,I=dt>>>1;ot<I;){var re=2*(ot+1)-1,pe=ee[re],ve=re+1,Ce=ee[ve];if(0>o(pe,we))ve<dt&&0>o(Ce,pe)?(ee[ot]=Ce,ee[ve]=we,ot=ve):(ee[ot]=pe,ee[re]=we,ot=re);else if(ve<dt&&0>o(Ce,we))ee[ot]=Ce,ee[ve]=we,ot=ve;else break e}}return me}function o(ee,me){var we=ee.sortIndex-me.sortIndex;return we!==0?we:ee.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var _=[],y=[],A=1,C=null,x=3,q=!1,ne=!1,oe=!1,X=!1,J=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Be(ee){for(var me=n(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=ee)s(y),me.sortIndex=me.expirationTime,e(_,me);else break;me=n(y)}}function Ke(ee){if(oe=!1,Be(ee),!ne)if(n(_)!==null)ne=!0,Ye||(Ye=!0,H());else{var me=n(y);me!==null&&tn(Ke,me.startTime-ee)}}var Ye=!1,k=-1,D=5,N=-1;function j(){return X?!0:!(r.unstable_now()-N<D)}function L(){if(X=!1,Ye){var ee=r.unstable_now();N=ee;var me=!0;try{e:{ne=!1,oe&&(oe=!1,ae(k),k=-1),q=!0;var we=x;try{t:{for(Be(ee),C=n(_);C!==null&&!(C.expirationTime>ee&&j());){var ot=C.callback;if(typeof ot=="function"){C.callback=null,x=C.priorityLevel;var dt=ot(C.expirationTime<=ee);if(ee=r.unstable_now(),typeof dt=="function"){C.callback=dt,Be(ee),me=!0;break t}C===n(_)&&s(_),Be(ee)}else s(_);C=n(_)}if(C!==null)me=!0;else{var I=n(y);I!==null&&tn(Ke,I.startTime-ee),me=!1}}break e}finally{C=null,x=we,q=!1}me=void 0}}finally{me?H():Ye=!1}}}var H;if(typeof he=="function")H=function(){he(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,xt=M.port2;M.port1.onmessage=L,H=function(){xt.postMessage(null)}}else H=function(){J(L,0)};function tn(ee,me){k=J(function(){ee(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var we=x;x=me;try{return ee()}finally{x=we}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var we=x;x=ee;try{return me()}finally{x=we}},r.unstable_scheduleCallback=function(ee,me,we){var ot=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?ot+we:ot):we=ot,ee){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=we+dt,ee={id:A++,callback:me,priorityLevel:ee,startTime:we,expirationTime:dt,sortIndex:-1},we>ot?(ee.sortIndex=we,e(y,ee),n(_)===null&&ee===n(y)&&(oe?(ae(k),k=-1):oe=!0,tn(Ke,we-ot))):(ee.sortIndex=dt,e(_,ee),ne||q||(ne=!0,Ye||(Ye=!0,H()))),ee},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(ee){var me=x;return function(){var we=x;x=me;try{return ee.apply(this,arguments)}finally{x=we}}}})(pp)),pp}var jv;function xS(){return jv||(jv=1,mp.exports=DS()),mp.exports}var gp={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function NS(){if(zv)return ci;zv=1;var r=sg();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,y,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:_,containerInfo:y,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ci.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(_,y,null,A)},ci.flushSync=function(_){var y=f.T,A=s.p;try{if(f.T=null,s.p=2,_)return _()}finally{f.T=y,s.p=A,s.d.f()}},ci.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},ci.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},ci.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,C=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:C,integrity:x,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ci.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},ci.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,C=p(A,y.crossOrigin);s.d.L(_,A,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ci.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},ci.requestFormReset=function(_){s.d.r(_)},ci.unstable_batchedUpdates=function(_,y){return _(y)},ci.useFormState=function(_,y,A){return f.H.useFormState(_,y,A)},ci.useFormStatus=function(){return f.H.useHostTransitionStatus()},ci.version="19.2.0",ci}var Bv;function OS(){if(Bv)return gp.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gp.exports=NS(),gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function MS(){if(Hv)return Hc;Hv=1;var r=xS(),e=sg(),n=OS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return _(h),t;if(m===l)return _(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=m;break}if(S===l){E=!0,l=h,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,l=h;break}if(S===l){E=!0,l=m,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function A(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=A(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,x=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case J:return"Profiler";case X:return"StrictMode";case Ke:return"Suspense";case Ye:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case he:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case Be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:xt(t.type)||"Memo";case D:i=t._payload,t=t._init;try{return xt(t(i))}catch{}}return null}var tn=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},ot=[],dt=-1;function I(t){return{current:t}}function re(t){0>dt||(t.current=ot[dt],ot[dt]=null,dt--)}function pe(t,i){dt++,ot[dt]=t.current,t.current=i}var ve=I(null),Ce=I(null),Le=I(null),Ue=I(null);function Kt(t,i){switch(pe(Le,i),pe(Ce,t),pe(ve,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(ve),pe(ve,t)}function ge(){re(ve),re(Ce),re(Le)}function hr(t){t.memoizedState!==null&&pe(Ue,t);var i=ve.current,a=rv(i,t.type);i!==a&&(pe(Ce,t),pe(ve,a))}function Vs(t){Ce.current===t&&(re(ve),re(Ce)),Ue.current===t&&(re(Ue),Pc._currentValue=we)}var Sa,wa;function ri(t){if(Sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Sa=i&&i[1]||"",wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+wa}var Ca=!1;function Ki(t,i){if(!t||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Y){var K=Y}Reflect.construct(t,[],se)}else{try{se.call()}catch(Y){K=Y}t.call(se.prototype)}}else{try{throw Error()}catch(Y){K=Y}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var V=E.split(`
`),$=S.split(`
`);for(h=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===V.length||h===$.length)for(l=V.length-1,h=$.length-1;1<=l&&0<=h&&V[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(V[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||V[l]!==$[h]){var te=`
`+V[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function fr(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Ki(t.type,!1);case 11:return Ki(t.type.render,!1);case 1:return Ki(t.type,!0);case 31:return ri("Activity");default:return""}}function Po(t){try{var i="",a=null;do i+=fr(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var nn=Object.prototype.hasOwnProperty,un=r.unstable_scheduleCallback,Zr=r.unstable_cancelCallback,Uu=r.unstable_shouldYield,Al=r.unstable_requestPaint,Kn=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,Ci=r.unstable_ImmediatePriority,Ra=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,ju=r.unstable_LowPriority,ts=r.unstable_IdlePriority,xr=r.log,Nr=r.unstable_setDisableYieldValue,si=null,In=null;function ai(t){if(typeof xr=="function"&&Nr(t),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(si,t)}catch{}}var Qt=Math.clz32?Math.clz32:wl,Sl=Math.log,Ia=Math.LN2;function wl(t){return t>>>=0,t===0?32:31-(Sl(t)/Ia|0)|0}var mr=256,ks=262144,Yt=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=gi(l):(E&=S,E!==0?h=gi(E):a||(a=S&~t,a!==0&&(h=gi(a))))):(S=l&~m,S!==0?h=gi(S):E!==0?h=gi(E):a||(a=l&~t,a!==0&&(h=gi(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Ri(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function zu(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var t=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),t}function pr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ls(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ns(t,i,a,l,h,m){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,V=t.expirationTimes,$=t.hiddenUpdates;for(a=E&~a;0<a;){var te=31-Qt(a),se=1<<te;S[te]=0,V[te]=-1;var K=$[te];if(K!==null)for($[te]=null,te=0;te<K.length;te++){var Y=K[te];Y!==null&&(Y.lane&=-536870913)}a&=~se}l!==0&&Yi(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(E&~i))}function Yi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function jo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Or(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rl(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function _i(t,i){var a=me.p;try{return me.p=t,i()}finally{me.p=a}}var Pn=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Pn,gn="__reactProps$"+Pn,Ii="__reactContainer$"+Pn,Da="__reactEvents$"+Pn,Bu="__reactListeners$"+Pn,Mr="__reactHandles$"+Pn,_n="__reactResources$"+Pn,zt="__reactMarker$"+Pn;function yn(t){delete t[Lt],delete t[gn],delete t[Da],delete t[Bu],delete t[Mr]}function Mt(t){var i=t[Lt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[Lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[Lt])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[Lt]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Un(t){var i=t[_n];return i||(i=t[_n]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(t){t[zt]=!0}var xa=new Set,Us={};function Yn(t,i){Xi(t,i),Xi(t+"Capture",i)}function Xi(t,i){for(Us[t]=i,t=0;t<i.length;t++)xa.add(i[t])}var js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},Na={};function zo(t){return nn.call(Na,t)?!0:nn.call(zs,t)?!1:js.test(t)?Na[t]=!0:(zs[t]=!0,!1)}function Bs(t,i,a){if(zo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function oi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oa(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){a=""+E,m.call(this,E)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function mt(t){if(!t._valueTracker){var i=Vr(t)?"checked":"value";t._valueTracker=Oa(t,i,""+t[i])}}function is(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fn=/[\n"\\]/g;function rn(t){return t.replace(fn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dn(t,i,a,l,h,m,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Hs(t,E,cn(i)):a!=null?Hs(t,E,cn(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+cn(S):t.removeAttribute("name")}function Ma(t,i,a,l,h,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){mt(t);return}a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),mt(t)}function Hs(t,i,a){i==="number"&&hn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xn(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function gr(t,i,a){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+cn(a):""}function Wi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tn(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),mt(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ka(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Va.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function _r(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ka(t,h,l)}else for(var m in i)i.hasOwnProperty(m)&&ka(t,m,i[m])}function rs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return jn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function En(){}var ss=null;function yi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,xi=null;function Ji(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[gn]||null;e:switch(t=i.stateNode,i.type){case"input":if(Dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gn]||null;if(!h)throw Error(s(90));Dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&is(l)}break e;case"textarea":gr(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xn(t,!!a.multiple,i,!1)}}}var qs=!1;function kr(t,i,a){if(qs)return t(i,a);qs=!0;try{var l=t(i);return l}finally{if(qs=!1,(Di!==null||xi!==null)&&(df(),Di&&(i=Di,t=xi,xi=Di=null,Ji(i),t)))for(i=0;i<t.length;i++)Ji(t[i])}}function Ni(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gn]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Nn)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Fs=!1}var Oi=null,as=null,Lr=null;function Ho(){if(Lr)return Lr;var t,i=as,a=i.length,l,h="value"in Oi?Oi.value:Oi.textContent,m=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[m-l];l++);return Lr=h.slice(t,1<l?1-l:void 0)}function yr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pr(){return!0}function Mi(){return!1}function mn(t){function i(a,l,h,m,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Pr:Mi,this.isPropagationStopped=Mi,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=mn(Zi),Ur=C({},Zi,{view:0,detail:0}),jr=mn(Ur),vr,Gs,er,tr=C({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(vr=t.screenX-er.screenX,Gs=t.screenY-er.screenY):Gs=vr=0,er=t),vr)},movementY:function(t){return"movementY"in t?t.movementY:Gs}}),qo=mn(tr),os=C({},tr,{dataTransfer:0}),Fo=mn(os),Go=C({},Ur,{relatedTarget:0}),ls=mn(Go),Pa=C({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=mn(Pa),$s=C({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Il=mn($s),Dl=C({},Zi,{data:0}),nr=mn(Dl),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ks={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xl[t])?!!i[t]:!1}function Er(){return Nl}var zn=C({},Ur,{key:function(t){if(t.key){var i=$o[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ks[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=mn(zn),Tr=C({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=mn(Tr),c=C({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),g=mn(c),T=C({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=mn(T),F=C({},tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=mn(F),de=C({},Zi,{newState:0,oldState:0}),He=mn(de),Wt=[9,13,27,32],Ze=Nn&&"CompositionEvent"in window,pt=null;Nn&&"documentMode"in document&&(pt=document.documentMode);var ki=Nn&&"TextEvent"in window&&!pt,vi=Nn&&(!Ze||pt&&8<pt&&11>=pt),rr=" ",sr=!1;function Qs(t,i){switch(t){case"keyup":return Wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function $d(t,i){switch(t){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(sr=!0,rr);case"textInput":return t=i.data,t===rr&&sr?null:t;default:return null}}function Kd(t,i){if(za)return t==="compositionend"||!Ze&&Qs(t,i)?(t=Ho(),Lr=as=Oi=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var Qd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Li(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Qd[t.type]:i==="textarea"}function Hu(t,i,a,l){Di?xi?xi.push(l):xi=[l]:Di=l,i=Ef(i,"onChange"),0<i.length&&(a=new Vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ba=null,Ha=null;function Yd(t){Wy(t,0)}function Ol(t){var i=vn(t);if(is(i))return t}function qu(t,i){if(t==="change")return i}var Qo=!1;if(Nn){var Fu;if(Nn){var Gu="oninput"in document;if(!Gu){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Gu=typeof $u.oninput=="function"}Fu=Gu}else Fu=!1;Qo=Fu&&(!document.documentMode||9<document.documentMode)}function Dh(){Ba&&(Ba.detachEvent("onpropertychange",xh),Ha=Ba=null)}function xh(t){if(t.propertyName==="value"&&Ol(Ha)){var i=[];Hu(i,Ha,t,yi(t)),kr(Yd,i)}}function Nh(t,i,a){t==="focusin"?(Dh(),Ba=i,Ha=a,Ba.attachEvent("onpropertychange",xh)):t==="focusout"&&Dh()}function Oh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(Ha)}function Mh(t,i){if(t==="click")return Ol(i)}function Ml(t,i){if(t==="input"||t==="change")return Ol(i)}function Vh(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Xn=typeof Object.is=="function"?Object.is:Vh;function Bn(t,i){if(Xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!nn.call(i,h)||!Xn(t[h],i[h]))return!1}return!0}function kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,i){var a=kh(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kh(a)}}function Ku(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ku(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Qu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hn(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hn(t.document)}return i}function Yu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Xd=Nn&&"documentMode"in document&&11>=document.documentMode,qa=null,Xu=null,Yo=null,Wu=!1;function Ju(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wu||qa==null||qa!==hn(l)||(l=qa,"selectionStart"in l&&Yu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Bn(Yo,l)||(Yo=l,l=Ef(Xu,"onSelect"),0<l.length&&(i=new Vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=qa)))}function us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var cs={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Zu={},Ph={};Nn&&(Ph=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Ei(t){if(Zu[t])return Zu[t];if(!cs[t])return t;var i=cs[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ph)return Zu[t]=i[a];return t}var br=Ei("animationend"),ec=Ei("animationiteration"),Uh=Ei("animationstart"),jh=Ei("transitionrun"),zh=Ei("transitionstart"),Bh=Ei("transitioncancel"),tc=Ei("transitionend"),Hh=new Map,nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nc.push("scrollEnd");function ar(t,i){Hh.set(t,i),Yn(i,[t])}var Xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ti=[],Fa=0,ic=0;function Vl(){for(var t=Fa,i=ic=Fa=0;i<t;){var a=Ti[i];Ti[i++]=null;var l=Ti[i];Ti[i++]=null;var h=Ti[i];Ti[i++]=null;var m=Ti[i];if(Ti[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}m!==0&&sc(a,h,m)}}function kl(t,i,a,l){Ti[Fa++]=t,Ti[Fa++]=i,Ti[Fa++]=a,Ti[Fa++]=l,ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rc(t,i,a,l){return kl(t,i,a,l),Ll(t)}function Wn(t,i){return kl(t,null,null,i),Ll(t)}function sc(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function Ll(t){if(50<xc)throw xc=0,km=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ga={};function Wd(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(t,i,a,l){return new Wd(t,i,a,l)}function ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,i){var a=t.alternate;return a===null?(a=bi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qh(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pl(t,i,a,l,h,m){var E=0;if(l=t,typeof t=="function")ac(t)&&(E=1);else if(typeof t=="string")E=mS(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=bi(31,a,i,h),t.elementType=N,t.lanes=m,t;case oe:return Br(a.children,h,m,i);case X:E=8,h|=24;break;case J:return t=bi(12,a,i,h|2),t.elementType=J,t.lanes=m,t;case Ke:return t=bi(13,a,i,h),t.elementType=Ke,t.lanes=m,t;case Ye:return t=bi(19,a,i,h),t.elementType=Ye,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:E=10;break e;case ae:E=9;break e;case Be:E=11;break e;case k:E=14;break e;case D:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bi(E,a,i,h),i.elementType=t,i.type=l,i.lanes=m,i}function Br(t,i,a,l){return t=bi(7,t,l,i),t.lanes=a,t}function $a(t,i,a){return t=bi(6,t,null,i),t.lanes=a,t}function Fh(t){var i=bi(18,null,null,0);return i.stateNode=t,i}function Ul(t,i,a){return i=bi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var oc=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var a=oc.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Po(i)},oc.set(t,i),i)}return{value:t,source:i,stack:Po(i)}}var hs=[],fs=0,jl=null,Wo=0,Pi=[],Tn=0,ds=null,Ar=1,Sr="";function Hr(t,i){hs[fs++]=Wo,hs[fs++]=jl,jl=t,Wo=i}function Jo(t,i,a){Pi[Tn++]=Ar,Pi[Tn++]=Sr,Pi[Tn++]=ds,ds=t;var l=Ar;t=Sr;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var m=32-Qt(i)+h;if(30<m){var E=h-h%5;m=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Ar=1<<32-Qt(i)+h|a<<h|l,Sr=m+t}else Ar=1<<m|a<<h|l,Sr=t}function Zo(t){t.return!==null&&(Hr(t,1),Jo(t,1,0))}function lc(t){for(;t===jl;)jl=hs[--fs],hs[fs]=null,Wo=hs[--fs],hs[fs]=null;for(;t===ds;)ds=Pi[--Tn],Pi[Tn]=null,Sr=Pi[--Tn],Pi[Tn]=null,Ar=Pi[--Tn],Pi[Tn]=null}function uc(t,i){Pi[Tn++]=Ar,Pi[Tn++]=Sr,Pi[Tn++]=ds,Ar=i.id,Sr=i.overflow,ds=t}var On=null,gt=null,We=!1,qr=null,Ui=!1,cc=Error(s(519));function ms(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Hn(i,t)),cc}function Ka(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Lt]=t,i[gn]=l,a){case"dialog":tt("cancel",i),tt("close",i);break;case"iframe":case"object":case"embed":tt("load",i);break;case"video":case"audio":for(a=0;a<Oc.length;a++)tt(Oc[a],i);break;case"source":tt("error",i);break;case"img":case"image":case"link":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"input":tt("invalid",i),Ma(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":tt("invalid",i);break;case"textarea":tt("invalid",i),Wi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(tt("beforetoggle",i),tt("toggle",i)),l.onScroll!=null&&tt("scroll",i),l.onScrollEnd!=null&&tt("scrollend",i),l.onClick!=null&&(i.onclick=En),i=!0):i=!1,i||ms(t,!0)}function ps(t){for(On=t.return;On;)switch(On.tag){case 5:case 31:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:On=On.return}}function Qa(t){if(t!==On)return!1;if(!We)return ps(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xm(t.type,t.memoizedProps)),a=!a),a&&gt&&ms(t),ps(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));gt=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));gt=cv(t)}else i===27?(i=gt,lo(t.type)?(t=tp,tp=null,gt=t):gt=i):gt=On?Rr(t.stateNode.nextSibling):null;return!0}function Ys(){gt=On=null,We=!1}function hc(){var t=qr;return t!==null&&(qi===null?qi=t:qi.push.apply(qi,t),qr=null),t}function el(t){qr===null?qr=[t]:qr.push(t)}var fc=I(null),Xs=null,Fr=null;function gs(t,i,a){pe(fc,i._currentValue),i._currentValue=a}function wr(t){t._currentValue=fc.current,re(fc)}function dc(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zl(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var V=0;V<i.length;V++)if(S.context===i[V]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),dc(m.return,a,t),l||(E=null);break e}m=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),dc(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function _s(t,i,a,l){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Xn(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pc):t=[Pc])}h=h.return}t!==null&&zl(i,t,a,l),i.flags|=262144}function tl(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ai(t){Xs=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bn(t){return mc(Xs,t)}function Ya(t,i){return Xs===null&&Ai(t),mc(t,i)}function mc(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fr===null){if(t===null)throw Error(s(308));Fr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fr=Fr.next=i;return a}var pc=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Gh=r.unstable_scheduleCallback,gc=r.unstable_NormalPriority,sn={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gr(){return{controller:new pc,data:new Map,refCount:0}}function ji(t){t.refCount--,t.refCount===0&&Gh(gc,function(){t.controller.abort()})}var nl=null,_c=0,Xa=0,Wa=null;function Jd(t,i){if(nl===null){var a=nl=[];_c=0,Xa=Bm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _c++,i.then($h,$h),i}function $h(){if(--_c===0&&nl!==null){Wa!==null&&(Wa.status="fulfilled");var t=nl;nl=null,Xa=0,Wa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Zd(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kh=ee.S;ee.S=function(t,i){wy=Kn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jd(t,i),Kh!==null&&Kh(t,i)};var ys=I(null);function Ja(){var t=ys.current;return t!==null?t:Ot.pooledCache}function Ws(t,i){i===null?pe(ys,ys.current):pe(ys,i.pool)}function Qh(){var t=Ja();return t===null?null:{parent:sn._currentValue,pool:t}}var Za=Error(s(460)),Js=Error(s(474)),b=Error(s(542)),d={then:function(){}};function v(t){return t=t.status,t==="fulfilled"||t==="rejected"}function w(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(En,En),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ue(t),t;default:if(typeof i.status=="string")i.then(En,En);else{if(t=Ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ue(t),t}throw z=i,Za}}function U(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(z=a,Za):a}}var z=null;function W(){if(z===null)throw Error(s(459));var t=z;return z=null,t}function ue(t){if(t===Za||t===b)throw Error(s(483))}var fe=null,ye=0;function Ee(t){var i=ye;return ye+=1,fe===null&&(fe=[]),w(fe,t,i)}function _e(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function je(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function xe(t){function i(B,P){if(t){var G=B.deletions;G===null?(B.deletions=[P],B.flags|=16):G.push(P)}}function a(B,P){if(!t)return null;for(;P!==null;)i(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function h(B,P){return B=zr(B,P),B.index=0,B.sibling=null,B}function m(B,P,G){return B.index=G,t?(G=B.alternate,G!==null?(G=G.index,G<P?(B.flags|=67108866,P):G):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function E(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,G,ie){return P===null||P.tag!==6?(P=$a(G,B.mode,ie),P.return=B,P):(P=h(P,G),P.return=B,P)}function V(B,P,G,ie){var Re=G.type;return Re===oe?te(B,P,G.props.children,ie,G.key):P!==null&&(P.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&U(Re)===P.type)?(P=h(P,G.props),_e(P,G),P.return=B,P):(P=Pl(G.type,G.key,G.props,null,B.mode,ie),_e(P,G),P.return=B,P)}function $(B,P,G,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Ul(G,B.mode,ie),P.return=B,P):(P=h(P,G.children||[]),P.return=B,P)}function te(B,P,G,ie,Re){return P===null||P.tag!==7?(P=Br(G,B.mode,ie,Re),P.return=B,P):(P=h(P,G),P.return=B,P)}function se(B,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=$a(""+P,B.mode,G),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return G=Pl(P.type,P.key,P.props,null,B.mode,G),_e(G,P),G.return=B,G;case ne:return P=Ul(P,B.mode,G),P.return=B,P;case D:return P=U(P),se(B,P,G)}if(tn(P)||H(P))return P=Br(P,B.mode,G,null),P.return=B,P;if(typeof P.then=="function")return se(B,Ee(P),G);if(P.$$typeof===he)return se(B,Ya(B,P),G);je(B,P)}return null}function K(B,P,G,ie){var Re=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Re!==null?null:S(B,P,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return G.key===Re?V(B,P,G,ie):null;case ne:return G.key===Re?$(B,P,G,ie):null;case D:return G=U(G),K(B,P,G,ie)}if(tn(G)||H(G))return Re!==null?null:te(B,P,G,ie,null);if(typeof G.then=="function")return K(B,P,Ee(G),ie);if(G.$$typeof===he)return K(B,P,Ya(B,G),ie);je(B,G)}return null}function Y(B,P,G,ie,Re){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(G)||null,S(P,B,""+ie,Re);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case q:return B=B.get(ie.key===null?G:ie.key)||null,V(P,B,ie,Re);case ne:return B=B.get(ie.key===null?G:ie.key)||null,$(P,B,ie,Re);case D:return ie=U(ie),Y(B,P,G,ie,Re)}if(tn(ie)||H(ie))return B=B.get(G)||null,te(P,B,ie,Re,null);if(typeof ie.then=="function")return Y(B,P,G,Ee(ie),Re);if(ie.$$typeof===he)return Y(B,P,G,Ya(P,ie),Re);je(P,ie)}return null}function be(B,P,G,ie){for(var Re=null,yt=null,Se=P,Qe=P=0,it=null;Se!==null&&Qe<G.length;Qe++){Se.index>Qe?(it=Se,Se=null):it=Se.sibling;var vt=K(B,Se,G[Qe],ie);if(vt===null){Se===null&&(Se=it);break}t&&Se&&vt.alternate===null&&i(B,Se),P=m(vt,P,Qe),yt===null?Re=vt:yt.sibling=vt,yt=vt,Se=it}if(Qe===G.length)return a(B,Se),We&&Hr(B,Qe),Re;if(Se===null){for(;Qe<G.length;Qe++)Se=se(B,G[Qe],ie),Se!==null&&(P=m(Se,P,Qe),yt===null?Re=Se:yt.sibling=Se,yt=Se);return We&&Hr(B,Qe),Re}for(Se=l(Se);Qe<G.length;Qe++)it=Y(Se,B,Qe,G[Qe],ie),it!==null&&(t&&it.alternate!==null&&Se.delete(it.key===null?Qe:it.key),P=m(it,P,Qe),yt===null?Re=it:yt.sibling=it,yt=it);return t&&Se.forEach(function(mo){return i(B,mo)}),We&&Hr(B,Qe),Re}function Oe(B,P,G,ie){if(G==null)throw Error(s(151));for(var Re=null,yt=null,Se=P,Qe=P=0,it=null,vt=G.next();Se!==null&&!vt.done;Qe++,vt=G.next()){Se.index>Qe?(it=Se,Se=null):it=Se.sibling;var mo=K(B,Se,vt.value,ie);if(mo===null){Se===null&&(Se=it);break}t&&Se&&mo.alternate===null&&i(B,Se),P=m(mo,P,Qe),yt===null?Re=mo:yt.sibling=mo,yt=mo,Se=it}if(vt.done)return a(B,Se),We&&Hr(B,Qe),Re;if(Se===null){for(;!vt.done;Qe++,vt=G.next())vt=se(B,vt.value,ie),vt!==null&&(P=m(vt,P,Qe),yt===null?Re=vt:yt.sibling=vt,yt=vt);return We&&Hr(B,Qe),Re}for(Se=l(Se);!vt.done;Qe++,vt=G.next())vt=Y(Se,B,Qe,vt.value,ie),vt!==null&&(t&&vt.alternate!==null&&Se.delete(vt.key===null?Qe:vt.key),P=m(vt,P,Qe),yt===null?Re=vt:yt.sibling=vt,yt=vt);return t&&Se.forEach(function(wS){return i(B,wS)}),We&&Hr(B,Qe),Re}function Dt(B,P,G,ie){if(typeof G=="object"&&G!==null&&G.type===oe&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case q:e:{for(var Re=G.key;P!==null;){if(P.key===Re){if(Re=G.type,Re===oe){if(P.tag===7){a(B,P.sibling),ie=h(P,G.props.children),ie.return=B,B=ie;break e}}else if(P.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&U(Re)===P.type){a(B,P.sibling),ie=h(P,G.props),_e(ie,G),ie.return=B,B=ie;break e}a(B,P);break}else i(B,P);P=P.sibling}G.type===oe?(ie=Br(G.props.children,B.mode,ie,G.key),ie.return=B,B=ie):(ie=Pl(G.type,G.key,G.props,null,B.mode,ie),_e(ie,G),ie.return=B,B=ie)}return E(B);case ne:e:{for(Re=G.key;P!==null;){if(P.key===Re)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){a(B,P.sibling),ie=h(P,G.children||[]),ie.return=B,B=ie;break e}else{a(B,P);break}else i(B,P);P=P.sibling}ie=Ul(G,B.mode,ie),ie.return=B,B=ie}return E(B);case D:return G=U(G),Dt(B,P,G,ie)}if(tn(G))return be(B,P,G,ie);if(H(G)){if(Re=H(G),typeof Re!="function")throw Error(s(150));return G=Re.call(G),Oe(B,P,G,ie)}if(typeof G.then=="function")return Dt(B,P,Ee(G),ie);if(G.$$typeof===he)return Dt(B,P,Ya(B,G),ie);je(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(a(B,P.sibling),ie=h(P,G),ie.return=B,B=ie):(a(B,P),ie=$a(G,B.mode,ie),ie.return=B,B=ie),E(B)):a(B,P)}return function(B,P,G,ie){try{ye=0;var Re=Dt(B,P,G,ie);return fe=null,Re}catch(Se){if(Se===Za||Se===b)throw Se;var yt=bi(29,Se,null,B.mode);return yt.lanes=ie,yt.return=B,yt}finally{}}}var Ne=xe(!0),Me=xe(!1),Ie=!1;function _t(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bt(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pe(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xe(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ll(t),sc(t,null,a),i}return kl(t,l,i,a),Ll(t)}function ze(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function Je(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ht=!1;function ut(){if(ht){var t=Wa;if(t!==null)throw t}}function lt(t,i,a,l){ht=!1;var h=t.updateQueue;Ie=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var V=S,$=V.next;V.next=null,E===null?m=$:E.next=$,E=V;var te=t.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=$:S.next=$,te.lastBaseUpdate=V))}if(m!==null){var se=h.baseState;E=0,te=$=V=null,S=m;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(nt&K)===K:(l&K)===K){K!==0&&K===Xa&&(ht=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var be=t,Oe=S;K=i;var Dt=a;switch(Oe.tag){case 1:if(be=Oe.payload,typeof be=="function"){se=be.call(Dt,se,K);break e}se=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Oe.payload,K=typeof be=="function"?be.call(Dt,se,K):be,K==null)break e;se=C({},se,K);break e;case 2:Ie=!0}}K=S.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?($=te=Y,V=se):te=te.next=Y,E|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);te===null&&(V=se),h.baseState=V,h.firstBaseUpdate=$,h.lastBaseUpdate=te,m===null&&(h.shared.lanes=0),io|=E,t.lanes=E,t.memoizedState=se}}function Bt(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function li(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bt(a[t],i)}var qn=I(null),An=I(0);function Si(t,i){t=ua,pe(An,t),pe(qn,i),ua=t|i.baseLanes}function ui(){pe(An,ua),pe(qn,qn.current)}function Vt(){ua=An.current,re(qn),re(An)}var Ht=I(null),Jt=null;function wi(t){var i=t.alternate;pe(St,St.current&1),pe(Ht,t),Jt===null&&(i===null||qn.current!==null||i.memoizedState!==null)&&(Jt=t)}function an(t){pe(St,St.current),pe(Ht,t),Jt===null&&(Jt=t)}function At(t){t.tag===22?(pe(St,St.current),pe(Ht,t),Jt===null&&(Jt=t)):qt()}function qt(){pe(St,St.current),pe(Ht,Ht.current)}function kt(t){re(Ht),Jt===t&&(Jt=null),re(St)}var St=I(0);function Zs(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zm(a)||ep(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cr=0,qe=null,ft=null,on=null,Bl=!1,vs=!1,ea=!1,il=0,rl=0,ta=null,Yh=0;function Ft(){throw Error(s(321))}function yc(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Xn(t[a],i[a]))return!1;return!0}function $r(t,i,a,l,h,m){return Cr=m,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?L_:cm,ea=!1,m=a(l,h),ea=!1,vs&&(m=vc(i,a,l,h)),sl(t),m}function sl(t){ee.H=Tc;var i=ft!==null&&ft.next!==null;if(Cr=0,on=ft=qe=null,Bl=!1,rl=0,ta=null,i)throw Error(s(300));t===null||Sn||(t=t.dependencies,t!==null&&tl(t)&&(Sn=!0))}function vc(t,i,a,l){qe=t;var h=0;do{if(vs&&(ta=null),rl=0,vs=!1,25<=h)throw Error(s(301));if(h+=1,on=ft=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ee.H=P_,m=i(a,l)}while(vs);return m}function Xh(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(qe.flags|=1024),i}function al(){var t=il!==0;return il=0,t}function Hl(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ql(t){if(Bl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Bl=!1}Cr=0,on=ft=qe=null,vs=!1,rl=il=0,ta=null}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?qe.memoizedState=on=t:on=on.next=t,on}function Gt(){if(ft===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var i=on===null?qe.memoizedState:on.next;if(i!==null)on=i,ft=t;else{if(t===null)throw qe.alternate===null?Error(s(467)):Error(s(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},on===null?qe.memoizedState=on=t:on=on.next=t}return on}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=rl;return rl+=1,ta===null&&(ta=[]),t=w(ta,t,i),i=qe,(on===null?i.memoizedState:on.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?L_:cm),t}function eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===he)return bn(t)}throw Error(s(438,String(t)))}function Gl(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fl(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=j;return i.index++,a}function na(t,i){return typeof i=="function"?i(t):i}function Wh(t){var i=Gt();return em(i,ft,t)}function em(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}i.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var S=E=null,V=null,$=i,te=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(nt&se)===se:(Cr&se)===se){var K=$.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===Xa&&(te=!0);else if((Cr&K)===K){$=$.next,K===Xa&&(te=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=se,E=m):V=V.next=se,qe.lanes|=K,io|=K;se=$.action,ea&&a(m,se),m=$.hasEagerState?$.eagerState:a(m,se)}else K={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=K,E=m):V=V.next=K,qe.lanes|=se,io|=se;$=$.next}while($!==null&&$!==i);if(V===null?E=m:V.next=S,!Xn(m,t.memoizedState)&&(Sn=!0,te&&(a=Wa,a!==null)))throw a;t.memoizedState=m,t.baseState=E,t.baseQueue=V,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function tm(t){var i=Gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do m=t(m,E.action),E=E.next;while(E!==h);Xn(m,i.memoizedState)||(Sn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function n_(t,i,a){var l=qe,h=Gt(),m=We;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Xn((ft||h).memoizedState,a);if(E&&(h.memoizedState=a,Sn=!0),h=h.queue,rm(s_.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||on!==null&&on.memoizedState.tag&1){if(l.flags|=2048,$l(9,{destroy:void 0},r_.bind(null,l,h,a,i),null),Ot===null)throw Error(s(349));m||(Cr&127)!==0||i_(l,i,a)}return a}function i_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=Fl(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function r_(t,i,a,l){i.value=a,i.getSnapshot=l,a_(i)&&o_(t)}function s_(t,i,a){return a(function(){a_(i)&&o_(t)})}function a_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Xn(t,a)}catch{return!0}}function o_(t){var i=Wn(t,2);i!==null&&Fi(i,t,2)}function nm(t){var i=Fn();if(typeof t=="function"){var a=t;if(t=a(),ea){ai(!0);try{a()}finally{ai(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},i}function l_(t,i,a,l){return t.baseState=a,em(t,ft,typeof l=="function"?l:na)}function _A(t,i,a,l,h){if(ef(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};ee.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,u_(i,m)):(m.next=a.next,i.pending=a.next=m)}}function u_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var m=ee.T,E={};ee.T=E;try{var S=a(h,l),V=ee.S;V!==null&&V(E,S),c_(t,i,S)}catch($){im(t,i,$)}finally{m!==null&&E.types!==null&&(m.types=E.types),ee.T=m}}else try{m=a(h,l),c_(t,i,m)}catch($){im(t,i,$)}}function c_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){h_(t,i,l)},function(l){return im(t,i,l)}):h_(t,i,a)}function h_(t,i,a){i.status="fulfilled",i.value=a,f_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,u_(t,a)))}function im(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,f_(i),i=i.next;while(i!==l)}t.action=null}function f_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function d_(t,i){return i}function m_(t,i){if(We){var a=Ot.formState;if(a!==null){e:{var l=qe;if(We){if(gt){t:{for(var h=gt,m=Ui;h.nodeType!==8;){if(!m){h=null;break t}if(h=Rr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){gt=Rr(h.nextSibling),l=h.data==="F!";break e}}ms(l)}l=!1}l&&(i=a[0])}}return a=Fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d_,lastRenderedState:i},a.queue=l,a=M_.bind(null,qe,l),l.dispatch=a,l=nm(!1),m=um.bind(null,qe,!1,l.queue),l=Fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=_A.bind(null,qe,h,m,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function p_(t){var i=Gt();return g_(i,ft,t)}function g_(t,i,a){if(i=em(t,i,d_)[0],t=Wh(na)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(E){throw E===Za?b:E}else l=i;i=Gt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,$l(9,{destroy:void 0},yA.bind(null,h,a),null)),[l,m,t]}function yA(t,i){t.action=i}function __(t){var i=Gt(),a=ft;if(a!==null)return g_(i,a,t);Gt(),i=i.memoizedState,a=Gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function $l(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=Fl(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function y_(){return Gt().memoizedState}function Jh(t,i,a,l){var h=Fn();qe.flags|=t,h.memoizedState=$l(1|i,{destroy:void 0},a,l===void 0?null:l)}function Zh(t,i,a,l){var h=Gt();l=l===void 0?null:l;var m=h.memoizedState.inst;ft!==null&&l!==null&&yc(l,ft.memoizedState.deps)?h.memoizedState=$l(i,m,a,l):(qe.flags|=t,h.memoizedState=$l(1|i,m,a,l))}function v_(t,i){Jh(8390656,8,t,i)}function rm(t,i){Zh(2048,8,t,i)}function vA(t){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=Fl(),qe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function E_(t){var i=Gt().memoizedState;return vA({ref:i,nextImpl:t}),function(){if((Tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function T_(t,i){return Zh(4,2,t,i)}function b_(t,i){return Zh(4,4,t,i)}function A_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function S_(t,i,a){a=a!=null?a.concat([t]):null,Zh(4,4,A_.bind(null,i,t),a)}function sm(){}function w_(t,i){var a=Gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yc(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function C_(t,i){var a=Gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yc(i,l[1]))return l[0];if(l=t(),ea){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[l,i],l}function am(t,i,a){return a===void 0||(Cr&1073741824)!==0&&(nt&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ry(),qe.lanes|=t,io|=t,a)}function R_(t,i,a,l){return Xn(a,i)?a:qn.current!==null?(t=am(t,a,l),Xn(t,i)||(Sn=!0),t):(Cr&42)===0||(Cr&1073741824)!==0&&(nt&261930)===0?(Sn=!0,t.memoizedState=a):(t=Ry(),qe.lanes|=t,io|=t,i)}function I_(t,i,a,l,h){var m=me.p;me.p=m!==0&&8>m?m:8;var E=ee.T,S={};ee.T=S,um(t,!1,i,a);try{var V=h(),$=ee.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=Zd(V,l);Ec(t,i,te,ur(t))}else Ec(t,i,l,ur(t))}catch(se){Ec(t,i,{then:function(){},status:"rejected",reason:se},ur())}finally{me.p=m,E!==null&&S.types!==null&&(E.types=S.types),ee.T=E}}function EA(){}function om(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=D_(t).queue;I_(t,h,i,we,a===null?EA:function(){return x_(t),a(l)})}function D_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:we},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function x_(t){var i=D_(t);i.next===null&&(i=t.alternate.memoizedState),Ec(t,i.next.queue,{},ur())}function lm(){return bn(Pc)}function N_(){return Gt().memoizedState}function O_(){return Gt().memoizedState}function TA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=ur();t=Pe(a);var l=Xe(i,t,a);l!==null&&(Fi(l,i,a),ze(l,i,a)),i={cache:Gr()},t.payload=i;return}i=i.return}}function bA(t,i,a){var l=ur();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ef(t)?V_(i,a):(a=rc(t,i,a,l),a!==null&&(Fi(a,t,l),k_(a,i,l)))}function M_(t,i,a){var l=ur();Ec(t,i,a,l)}function Ec(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ef(t))V_(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,S=m(E,a);if(h.hasEagerState=!0,h.eagerState=S,Xn(S,E))return kl(t,i,h,0),Ot===null&&Vl(),!1}catch{}finally{}if(a=rc(t,i,h,l),a!==null)return Fi(a,t,l),k_(a,i,l),!0}return!1}function um(t,i,a,l){if(l={lane:2,revertLane:Bm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ef(t)){if(i)throw Error(s(479))}else i=rc(t,a,l,2),i!==null&&Fi(i,t,2)}function ef(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function V_(t,i){vs=Bl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function k_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var Tc={readContext:bn,use:eo,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Tc.useEffectEvent=Ft;var L_={readContext:bn,use:eo,useCallback:function(t,i){return Fn().memoizedState=[t,i===void 0?null:i],t},useContext:bn,useEffect:v_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Jh(4194308,4,A_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Jh(4194308,4,t,i)},useInsertionEffect:function(t,i){Jh(4,2,t,i)},useMemo:function(t,i){var a=Fn();i=i===void 0?null:i;var l=t();if(ea){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Fn();if(a!==void 0){var h=a(i);if(ea){ai(!0);try{a(i)}finally{ai(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bA.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=Fn();return t={current:t},i.memoizedState=t},useState:function(t){t=nm(t);var i=t.queue,a=M_.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sm,useDeferredValue:function(t,i){var a=Fn();return am(a,t,i)},useTransition:function(){var t=nm(!1);return t=I_.bind(null,qe,t.queue,!0,!1),Fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,h=Fn();if(We){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ot===null)throw Error(s(349));(nt&127)!==0||i_(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,v_(s_.bind(null,l,m,t),[t]),l.flags|=2048,$l(9,{destroy:void 0},r_.bind(null,l,m,a,i),null),a},useId:function(){var t=Fn(),i=Ot.identifierPrefix;if(We){var a=Sr,l=Ar;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=il++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Yh++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:lm,useFormState:m_,useActionState:m_,useOptimistic:function(t){var i=Fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=um.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gl,useCacheRefresh:function(){return Fn().memoizedState=TA.bind(null,qe)},useEffectEvent:function(t){var i=Fn(),a={impl:t};return i.memoizedState=a,function(){if((Tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cm={readContext:bn,use:eo,useCallback:w_,useContext:bn,useEffect:rm,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:C_,useReducer:Wh,useRef:y_,useState:function(){return Wh(na)},useDebugValue:sm,useDeferredValue:function(t,i){var a=Gt();return R_(a,ft.memoizedState,t,i)},useTransition:function(){var t=Wh(na)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:n_,useId:N_,useHostTransitionStatus:lm,useFormState:p_,useActionState:p_,useOptimistic:function(t,i){var a=Gt();return l_(a,ft,t,i)},useMemoCache:Gl,useCacheRefresh:O_};cm.useEffectEvent=E_;var P_={readContext:bn,use:eo,useCallback:w_,useContext:bn,useEffect:rm,useImperativeHandle:S_,useInsertionEffect:T_,useLayoutEffect:b_,useMemo:C_,useReducer:tm,useRef:y_,useState:function(){return tm(na)},useDebugValue:sm,useDeferredValue:function(t,i){var a=Gt();return ft===null?am(a,t,i):R_(a,ft.memoizedState,t,i)},useTransition:function(){var t=tm(na)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:n_,useId:N_,useHostTransitionStatus:lm,useFormState:__,useActionState:__,useOptimistic:function(t,i){var a=Gt();return ft!==null?l_(a,ft,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gl,useCacheRefresh:O_};P_.useEffectEvent=E_;function hm(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=ur(),h=Pe(l);h.payload=i,a!=null&&(h.callback=a),i=Xe(t,h,l),i!==null&&(Fi(i,t,l),ze(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=ur(),h=Pe(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Xe(t,h,l),i!==null&&(Fi(i,t,l),ze(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=ur(),l=Pe(a);l.tag=2,i!=null&&(l.callback=i),i=Xe(t,l,a),i!==null&&(Fi(i,t,a),ze(i,t,a))}};function U_(t,i,a,l,h,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!Bn(a,l)||!Bn(h,m):!0}function j_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fm.enqueueReplaceState(i,i.state,null)}function ll(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=C({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function z_(t){Xo(t)}function B_(t){console.error(t)}function H_(t){Xo(t)}function tf(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function q_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dm(t,i,a){return a=Pe(a),a.tag=3,a.payload={element:null},a.callback=function(){tf(t,i)},a}function F_(t){return t=Pe(t),t.tag=3,t}function G_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){q_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){q_(i,a,l),typeof h!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function AA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_s(i,a,h,!0),a=Ht.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?mf():a.alternate===null&&ln===0&&(ln=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===d?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Um(t,l,h)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Um(t,l,h)),!1}throw Error(s(435,a.tag))}return Um(t,l,h),mf(),!1}if(We)return i=Ht.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==cc&&(t=Error(s(422),{cause:l}),el(Hn(t,a)))):(l!==cc&&(i=Error(s(423),{cause:l}),el(Hn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=dm(t.stateNode,l,h),Je(t,h),ln!==4&&(ln=2)),!1;var m=Error(s(520),{cause:l});if(m=Hn(m,a),Dc===null?Dc=[m]:Dc.push(m),ln!==4&&(ln=2),i===null)return!0;l=Hn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dm(a.stateNode,l,t),Je(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ro===null||!ro.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=F_(h),G_(h,t,a,l),Je(a,h),!1}a=a.return}while(a!==null);return!1}var mm=Error(s(461)),Sn=!1;function Jn(t,i,a,l){i.child=t===null?Me(i,null,a,l):Ne(i,t.child,a,l)}function $_(t,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Ai(i),l=$r(t,i,a,E,m,h),S=al(),t!==null&&!Sn?(Hl(t,i,h),ia(t,i,h)):(We&&S&&Zo(i),i.flags|=1,Jn(t,i,l,h),i.child)}function K_(t,i,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!ac(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Q_(t,i,m,l,h)):(t=Pl(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!bm(t,h)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Bn,a(E,l)&&t.ref===i.ref)return ia(t,i,h)}return i.flags|=1,t=zr(m,l),t.ref=i.ref,t.return=i,i.child=t}function Q_(t,i,a,l,h){if(t!==null){var m=t.memoizedProps;if(Bn(m,l)&&t.ref===i.ref)if(Sn=!1,i.pendingProps=l=m,bm(t,h))(t.flags&131072)!==0&&(Sn=!0);else return i.lanes=t.lanes,ia(t,i,h)}return pm(t,i,a,l,h)}function Y_(t,i,a,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return X_(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ws(i,m!==null?m.cachePool:null),m!==null?Si(i,m):ui(),At(i);else return l=i.lanes=536870912,X_(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ws(i,m.cachePool),Si(i,m),qt(),i.memoizedState=null):(t!==null&&Ws(i,null),ui(),qt());return Jn(t,i,h,a),i.child}function bc(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function X_(t,i,a,l,h){var m=Ja();return m=m===null?null:{parent:sn._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ws(i,null),ui(),At(i),t!==null&&_s(t,i,l,!0),i.childLanes=h,null}function nf(t,i){return i=sf({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function W_(t,i,a){return Ne(i,t.child,null,a),t=nf(i,i.pendingProps),t.flags|=2,kt(i),i.memoizedState=null,t}function SA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=nf(i,l),i.lanes=536870912,bc(null,t);if(an(i),(t=gt)?(t=uv(t,Ui),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ds!==null?{id:Ar,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=Fh(t),a.return=i,i.child=a,On=i,gt=null)):t=null,t===null)throw ms(i);return i.lanes=536870912,null}return nf(i,l)}var m=t.memoizedState;if(m!==null){var E=m.dehydrated;if(an(i),h)if(i.flags&256)i.flags&=-257,i=W_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Sn||_s(t,i,a,!1),h=(a&t.childLanes)!==0,Sn||h){if(l=Ot,l!==null&&(E=jo(l,a),E!==0&&E!==m.retryLane))throw m.retryLane=E,Wn(t,E),Fi(l,t,E),mm;mf(),i=W_(t,i,a)}else t=m.treeContext,gt=Rr(E.nextSibling),On=i,We=!0,qr=null,Ui=!1,t!==null&&uc(i,t),i=nf(i,l),i.flags|=4096;return i}return t=zr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function rf(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pm(t,i,a,l,h){return Ai(i),a=$r(t,i,a,l,void 0,h),l=al(),t!==null&&!Sn?(Hl(t,i,h),ia(t,i,h)):(We&&l&&Zo(i),i.flags|=1,Jn(t,i,a,h),i.child)}function J_(t,i,a,l,h,m){return Ai(i),i.updateQueue=null,a=vc(i,l,a,h),sl(t),l=al(),t!==null&&!Sn?(Hl(t,i,m),ia(t,i,m)):(We&&l&&Zo(i),i.flags|=1,Jn(t,i,a,m),i.child)}function Z_(t,i,a,l,h){if(Ai(i),i.stateNode===null){var m=Ga,E=a.contextType;typeof E=="object"&&E!==null&&(m=bn(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},_t(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?bn(E):Ga,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(hm(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&fm.enqueueReplaceState(m,m.state,null),lt(i,l,m,h),ut(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var S=i.memoizedProps,V=ll(a,S);m.props=V;var $=m.context,te=a.contextType;E=Ga,typeof te=="object"&&te!==null&&(E=bn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||$!==E)&&j_(i,m,l,E),Ie=!1;var K=i.memoizedState;m.state=K,lt(i,l,m,h),ut(),$=i.memoizedState,S||K!==$||Ie?(typeof se=="function"&&(hm(i,a,se,l),$=i.memoizedState),(V=Ie||U_(i,a,V,l,K,$,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=E,l=V):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,bt(t,i),E=i.memoizedProps,te=ll(a,E),m.props=te,se=i.pendingProps,K=m.context,$=a.contextType,V=Ga,typeof $=="object"&&$!==null&&(V=bn($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||K!==V)&&j_(i,m,l,V),Ie=!1,K=i.memoizedState,m.state=K,lt(i,l,m,h),ut();var Y=i.memoizedState;E!==se||K!==Y||Ie||t!==null&&t.dependencies!==null&&tl(t.dependencies)?(typeof S=="function"&&(hm(i,a,S,l),Y=i.memoizedState),(te=Ie||U_(i,a,te,l,K,Y,V)||t!==null&&t.dependencies!==null&&tl(t.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,V)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),m.props=l,m.state=Y,m.context=V,l=te):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,rf(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Ne(i,t.child,null,h),i.child=Ne(i,null,a,h)):Jn(t,i,a,h),i.memoizedState=m.state,t=i.child):t=ia(t,i,h),t}function ey(t,i,a,l){return Ys(),i.flags|=256,Jn(t,i,a,l),i.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(t){return{baseLanes:t,cachePool:Qh()}}function ym(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=lr),t}function ty(t,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?wi(i):qt(),(t=gt)?(t=uv(t,Ui),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ds!==null?{id:Ar,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},a=Fh(t),a.return=i,i.child=a,On=i,gt=null)):t=null,t===null)throw ms(i);return ep(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(qt(),h=i.mode,S=sf({mode:"hidden",children:S},h),l=Br(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=_m(a),l.childLanes=ym(t,E,a),i.memoizedState=gm,bc(null,l)):(wi(i),vm(i,S))}var V=t.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(m)i.flags&256?(wi(i),i.flags&=-257,i=Em(t,i,a)):i.memoizedState!==null?(qt(),i.child=t.child,i.flags|=128,i=null):(qt(),S=l.fallback,h=i.mode,l=sf({mode:"visible",children:l.children},h),S=Br(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ne(i,t.child,null,a),l=i.child,l.memoizedState=_m(a),l.childLanes=ym(t,E,a),i.memoizedState=gm,i=bc(null,l));else if(wi(i),ep(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,l=Error(s(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),i=Em(t,i,a)}else if(Sn||_s(t,i,a,!1),E=(a&t.childLanes)!==0,Sn||E){if(E=Ot,E!==null&&(l=jo(E,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,Wn(t,l),Fi(E,t,l),mm;Zm(S)||mf(),i=Em(t,i,a)}else Zm(S)?(i.flags|=192,i.child=t.child,i=null):(t=V.treeContext,gt=Rr(S.nextSibling),On=i,We=!0,qr=null,Ui=!1,t!==null&&uc(i,t),i=vm(i,l.children),i.flags|=4096);return i}return h?(qt(),S=l.fallback,h=i.mode,V=t.child,$=V.sibling,l=zr(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,$!==null?S=zr($,S):(S=Br(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,bc(null,l),l=i.child,S=t.child.memoizedState,S===null?S=_m(a):(h=S.cachePool,h!==null?(V=sn._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=Qh(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=ym(t,E,a),i.memoizedState=gm,bc(t.child,l)):(wi(i),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function vm(t,i){return i=sf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function sf(t,i){return t=bi(22,t,null,i),t.lanes=0,t}function Em(t,i,a){return Ne(i,t.child,null,a),t=vm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),dc(t.return,i,a)}function Tm(t,i,a,l,h,m){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=h,E.treeForkCount=m)}function iy(t,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var E=St.current,S=(E&2)!==0;if(S?(E=E&1|2,i.flags|=128):E&=1,pe(St,E),Jn(t,i,l,a),l=We?Wo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,a,i);else if(t.tag===19)ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zs(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Tm(i,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zs(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Tm(i,!0,a,null,m,l);break;case"together":Tm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ia(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),io|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(_s(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&tl(t)))}function wA(t,i,a){switch(i.tag){case 3:Kt(i,i.stateNode.containerInfo),gs(i,sn,t.memoizedState.cache),Ys();break;case 27:case 5:hr(i);break;case 4:Kt(i,i.stateNode.containerInfo);break;case 10:gs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,an(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ty(t,i,a):(wi(i),t=ia(t,i,a),t!==null?t.sibling:null);wi(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_s(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return iy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),pe(St,St.current),l)break;return null;case 22:return i.lanes=0,Y_(t,i,a,i.pendingProps);case 24:gs(i,sn,t.memoizedState.cache)}return ia(t,i,a)}function ry(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Sn=!0;else{if(!bm(t,a)&&(i.flags&128)===0)return Sn=!1,wA(t,i,a);Sn=(t.flags&131072)!==0}else Sn=!1,We&&(i.flags&1048576)!==0&&Jo(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=U(i.elementType),i.type=t,typeof t=="function")ac(t)?(l=ll(t,l),i.tag=1,i=Z_(null,i,t,l,a)):(i.tag=0,i=pm(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Be){i.tag=11,i=$_(null,i,t,l,a);break e}else if(h===k){i.tag=14,i=K_(null,i,t,l,a);break e}}throw i=xt(t)||t,Error(s(306,i,""))}}return i;case 0:return pm(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ll(l,i.pendingProps),Z_(t,i,l,h,a);case 3:e:{if(Kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,bt(t,i),lt(i,l,null,a);var E=i.memoizedState;if(l=E.cache,gs(i,sn,l),l!==m.cache&&zl(i,[sn],a,!0),ut(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ey(t,i,l,a);break e}else if(l!==h){h=Hn(Error(s(424)),i),el(h),i=ey(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Rr(t.firstChild),On=i,We=!0,qr=null,Ui=!0,a=Me(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ys(),l===h){i=ia(t,i,a);break e}Jn(t,i,l,a)}i=i.child}return i;case 26:return rf(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Tf(Le.current).createElement(a),l[Lt]=i,l[gn]=t,Zn(l,a,t),Nt(l),i.stateNode=l):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return hr(i),t===null&&We&&(l=i.stateNode=fv(i.type,i.pendingProps,Le.current),On=i,Ui=!0,h=gt,lo(i.type)?(tp=h,gt=Rr(l.firstChild)):gt=h),Jn(t,i,i.pendingProps.children,a),rf(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=gt)&&(l=tS(l,i.type,i.pendingProps,Ui),l!==null?(i.stateNode=l,On=i,gt=Rr(l.firstChild),Ui=!1,h=!0):h=!1),h||ms(i)),hr(i),h=i.type,m=i.pendingProps,E=t!==null?t.memoizedProps:null,l=m.children,Xm(h,m)?l=null:E!==null&&Xm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=$r(t,i,Xh,null,null,a),Pc._currentValue=h),rf(t,i),Jn(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=gt)&&(a=nS(a,i.pendingProps,Ui),a!==null?(i.stateNode=a,On=i,gt=null,t=!0):t=!1),t||ms(i)),null;case 13:return ty(t,i,a);case 4:return Kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ne(i,null,l,a):Jn(t,i,l,a),i.child;case 11:return $_(t,i,i.type,i.pendingProps,a);case 7:return Jn(t,i,i.pendingProps,a),i.child;case 8:return Jn(t,i,i.pendingProps.children,a),i.child;case 12:return Jn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,gs(i,i.type,l.value),Jn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ai(i),h=bn(h),l=l(h),i.flags|=1,Jn(t,i,l,a),i.child;case 14:return K_(t,i,i.type,i.pendingProps,a);case 15:return Q_(t,i,i.type,i.pendingProps,a);case 19:return iy(t,i,a);case 31:return SA(t,i,a);case 22:return Y_(t,i,a,i.pendingProps);case 24:return Ai(i),l=bn(sn),t===null?(h=Ja(),h===null&&(h=Ot,m=Gr(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},_t(i),gs(i,sn,h)):((t.lanes&a)!==0&&(bt(t,i),lt(i,null,null,a),ut()),h=t.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gs(i,sn,l)):(l=m.cache,gs(i,sn,l),l!==h.cache&&zl(i,[sn],a,!0))),Jn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ra(t){t.flags|=4}function Am(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ny())t.flags|=8192;else throw z=d,Js}else t.flags&=-16777217}function sy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(Ny())t.flags|=8192;else throw z=d,Js}function af(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cl():536870912,t.lanes|=i,Xl|=i)}function Ac(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Pt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function CA(t,i,a){var l=i.pendingProps;switch(lc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(i),null;case 1:return Pt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),wr(sn),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(i)?ra(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hc())),Pt(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(ra(i),m!==null?(Pt(i),sy(i,m)):(Pt(i),Am(i,h,null,l,a))):m?m!==t.memoizedState?(ra(i),Pt(i),sy(i,m)):(Pt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ra(i),Pt(i),Am(i,h,t,l,a)),null;case 27:if(Vs(i),a=Le.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ra(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Pt(i),null}t=ve.current,Qa(i)?Ka(i):(t=fv(h,l,a),i.stateNode=t,ra(i))}return Pt(i),null;case 5:if(Vs(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ra(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Pt(i),null}if(m=ve.current,Qa(i))Ka(i);else{var E=Tf(Le.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?E.createElement(h,{is:l.is}):E.createElement(h)}}m[Lt]=i,m[gn]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=m;e:switch(Zn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ra(i)}}return Pt(i),Am(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ra(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Le.current,Qa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=On,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||ms(i,!0)}else t=Tf(t).createTextNode(l),t[Lt]=i,i.stateNode=t}return Pt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Lt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pt(i),t=!1}else a=hc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(kt(i),i):(kt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Pt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Lt]=i}else Ys(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pt(i),h=!1}else h=hc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(kt(i),i):(kt(i),null)}return kt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),af(i,i.updateQueue),Pt(i),null);case 4:return ge(),t===null&&Gm(i.stateNode.containerInfo),Pt(i),null;case 10:return wr(i.type),Pt(i),null;case 19:if(re(St),l=i.memoizedState,l===null)return Pt(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)Ac(l,!1);else{if(ln!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Zs(t),m!==null){for(i.flags|=128,Ac(l,!1),t=m.updateQueue,i.updateQueue=t,af(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qh(a,t),a=a.sibling;return pe(St,St.current&1|2),We&&Hr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Kn()>hf&&(i.flags|=128,h=!0,Ac(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zs(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,af(i,t),Ac(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!We)return Pt(i),null}else 2*Kn()-l.renderingStartTime>hf&&a!==536870912&&(i.flags|=128,h=!0,Ac(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kn(),t.sibling=null,a=St.current,pe(St,h?a&1|2:a&1),We&&Hr(i,l.treeForkCount),t):(Pt(i),null);case 22:case 23:return kt(i),Vt(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Pt(i),i.subtreeFlags&6&&(i.flags|=8192)):Pt(i),a=i.updateQueue,a!==null&&af(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),wr(sn),Pt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function RA(t,i){switch(lc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return wr(sn),ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Vs(i),null;case 31:if(i.memoizedState!==null){if(kt(i),i.alternate===null)throw Error(s(340));Ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(kt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ys()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(St),null;case 4:return ge(),null;case 10:return wr(i.type),null;case 22:case 23:return kt(i),Vt(),t!==null&&re(ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return wr(sn),null;case 25:return null;default:return null}}function ay(t,i){switch(lc(i),i.tag){case 3:wr(sn),ge();break;case 26:case 27:case 5:Vs(i);break;case 4:ge();break;case 31:i.memoizedState!==null&&kt(i);break;case 13:kt(i);break;case 19:re(St);break;case 10:wr(i.type);break;case 22:case 23:kt(i),Vt(),t!==null&&re(ys);break;case 24:wr(sn)}}function Sc(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){Rt(i,i.return,S)}}function to(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var V=a,$=S;try{$()}catch(te){Rt(h,V,te)}}}l=l.next}while(l!==m)}}catch(te){Rt(i,i.return,te)}}function oy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{li(i,a)}catch(l){Rt(t,t.return,l)}}}function ly(t,i,a){a.props=ll(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Rt(t,i,l)}}function wc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Rt(t,i,h)}}function Es(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Rt(t,i,h)}else a.current=null}function uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Rt(t,t.return,h)}}function Sm(t,i,a){try{var l=t.stateNode;YA(l,t.type,a,i),l[gn]=i}catch(h){Rt(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lo(t.type)||t.tag===4}function wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=En));else if(l!==4&&(l===27&&lo(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cm(t,i,a),t=t.sibling;t!==null;)Cm(t,i,a),t=t.sibling}function of(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&lo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(of(t,i,a),t=t.sibling;t!==null;)of(t,i,a),t=t.sibling}function hy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zn(i,l,a),i[Lt]=t,i[gn]=a}catch(m){Rt(t,t.return,m)}}var sa=!1,wn=!1,Rm=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function IA(t,i){if(t=t.containerInfo,Qm=If,t=Qu(t),Yu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,V=-1,$=0,te=0,se=t,K=null;t:for(;;){for(var Y;se!==a||h!==0&&se.nodeType!==3||(S=E+h),se!==m||l!==0&&se.nodeType!==3||(V=E+l),se.nodeType===3&&(E+=se.nodeValue.length),(Y=se.firstChild)!==null;)K=se,se=Y;for(;;){if(se===t)break t;if(K===a&&++$===h&&(S=E),K===m&&++te===l&&(V=E),(Y=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Y}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ym={focusedElem:t,selectionRange:a},If=!1,Gn=i;Gn!==null;)if(i=Gn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Gn=t;else for(;Gn!==null;){switch(i=Gn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var be=ll(a.type,h);t=l.getSnapshotBeforeUpdate(be,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){Rt(a,a.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Gn=t;break}Gn=i.return}}function dy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oa(t,a),l&4&&Sc(5,a);break;case 1:if(oa(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Rt(a,a.return,E)}else{var h=ll(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Rt(a,a.return,E)}}l&64&&oy(a),l&512&&wc(a,a.return);break;case 3:if(oa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{li(t,i)}catch(E){Rt(a,a.return,E)}}break;case 27:i===null&&l&4&&hy(a);case 26:case 5:oa(t,a),i===null&&l&4&&uy(a),l&512&&wc(a,a.return);break;case 12:oa(t,a);break;case 31:oa(t,a),l&4&&gy(t,a);break;case 13:oa(t,a),l&4&&_y(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=PA.bind(null,a),iS(t,a))));break;case 22:if(l=a.memoizedState!==null||sa,!l){i=i!==null&&i.memoizedState!==null||wn,h=sa;var m=wn;sa=l,(wn=i)&&!m?la(t,a,(a.subtreeFlags&8772)!==0):oa(t,a),sa=h,wn=m}break;case 30:break;default:oa(t,a)}}function my(t){var i=t.alternate;i!==null&&(t.alternate=null,my(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yn(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $t=null,zi=!1;function aa(t,i,a){for(a=a.child;a!==null;)py(t,i,a),a=a.sibling}function py(t,i,a){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(si,a)}catch{}switch(a.tag){case 26:wn||Es(a,i),aa(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wn||Es(a,i);var l=$t,h=zi;lo(a.type)&&($t=a.stateNode,zi=!1),aa(t,i,a),Vc(a.stateNode),$t=l,zi=h;break;case 5:wn||Es(a,i);case 6:if(l=$t,h=zi,$t=null,aa(t,i,a),$t=l,zi=h,$t!==null)if(zi)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(a.stateNode)}catch(m){Rt(a,i,m)}else try{$t.removeChild(a.stateNode)}catch(m){Rt(a,i,m)}break;case 18:$t!==null&&(zi?(t=$t,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ru(t)):ov($t,a.stateNode));break;case 4:l=$t,h=zi,$t=a.stateNode.containerInfo,zi=!0,aa(t,i,a),$t=l,zi=h;break;case 0:case 11:case 14:case 15:to(2,a,i),wn||to(4,a,i),aa(t,i,a);break;case 1:wn||(Es(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ly(a,i,l)),aa(t,i,a);break;case 21:aa(t,i,a);break;case 22:wn=(l=wn)||a.memoizedState!==null,aa(t,i,a),wn=l;break;default:aa(t,i,a)}}function gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ru(t)}catch(a){Rt(i,i.return,a)}}}function _y(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ru(t)}catch(a){Rt(i,i.return,a)}}function DA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fy),i;default:throw Error(s(435,t.tag))}}function lf(t,i){var a=DA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=UA.bind(null,t,l);l.then(h,h)}})}function Bi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(lo(S.type)){$t=S.stateNode,zi=!1;break e}break;case 5:$t=S.stateNode,zi=!1;break e;case 3:case 4:$t=S.stateNode.containerInfo,zi=!0;break e}S=S.return}if($t===null)throw Error(s(160));py(m,E,h),$t=null,zi=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)yy(i,t),i=i.sibling}var Kr=null;function yy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bi(i,t),Hi(t),l&4&&(to(3,t,t.return),Sc(3,t),to(5,t,t.return));break;case 1:Bi(i,t),Hi(t),l&512&&(wn||a===null||Es(a,a.return)),l&64&&sa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kr;if(Bi(i,t),Hi(t),l&512&&(wn||a===null||Es(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[zt]||m[Lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Zn(m,l,a),m[Lt]=t,Nt(m),l=m;break e;case"link":var E=yv("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}m=h.createElement(l),Zn(m,l,a),h.head.appendChild(m);break;case"meta":if(E=yv("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}m=h.createElement(l),Zn(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Lt]=t,Nt(m),l=m}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=_v(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?vv(h,t.type,t.stateNode):_v(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sm(t,t.memoizedProps,a.memoizedProps)}break;case 27:Bi(i,t),Hi(t),l&512&&(wn||a===null||Es(a,a.return)),a!==null&&l&4&&Sm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Bi(i,t),Hi(t),l&512&&(wn||a===null||Es(a,a.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(be){Rt(t,t.return,be)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sm(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Rm=!0);break;case 6:if(Bi(i,t),Hi(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(be){Rt(t,t.return,be)}}break;case 3:if(Sf=null,h=Kr,Kr=bf(i.containerInfo),Bi(i,t),Kr=h,Hi(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ru(i.containerInfo)}catch(be){Rt(t,t.return,be)}Rm&&(Rm=!1,vy(t));break;case 4:l=Kr,Kr=bf(t.stateNode.containerInfo),Bi(i,t),Hi(t),Kr=l;break;case 12:Bi(i,t),Hi(t);break;case 31:Bi(i,t),Hi(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 13:Bi(i,t),Hi(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cf=Kn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 22:h=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,$=sa,te=wn;if(sa=$||h,wn=te||V,Bi(i,t),wn=te,sa=$,Hi(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||V||sa||wn||ul(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){V=a=i;try{if(m=V.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=V.stateNode;var se=V.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(be){Rt(V,V.return,be)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(be){Rt(V,V.return,be)}}}else if(i.tag===18){if(a===null){V=i;try{var Y=V.stateNode;h?lv(Y,!0):lv(V.stateNode,!1)}catch(be){Rt(V,V.return,be)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lf(t,a))));break;case 19:Bi(i,t),Hi(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 30:break;case 21:break;default:Bi(i,t),Hi(t)}}function Hi(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(cy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=wm(t);of(t,m,h);break;case 5:var E=a.stateNode;a.flags&32&&(dn(E,""),a.flags&=-33);var S=wm(t);of(t,S,E);break;case 3:case 4:var V=a.stateNode.containerInfo,$=wm(t);Cm(t,$,V);break;default:throw Error(s(161))}}catch(te){Rt(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function oa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dy(t,i.alternate,i),i=i.sibling}function ul(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:to(4,i,i.return),ul(i);break;case 1:Es(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ly(i,i.return,a),ul(i);break;case 27:Vc(i.stateNode);case 26:case 5:Es(i,i.return),ul(i);break;case 22:i.memoizedState===null&&ul(i);break;case 30:ul(i);break;default:ul(i)}t=t.sibling}}function la(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:la(h,m,a),Sc(4,m);break;case 1:if(la(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){Rt(l,l.return,$)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)Bt(V[h],S)}catch($){Rt(l,l.return,$)}}a&&E&64&&oy(m),wc(m,m.return);break;case 27:hy(m);case 26:case 5:la(h,m,a),a&&l===null&&E&4&&uy(m),wc(m,m.return);break;case 12:la(h,m,a);break;case 31:la(h,m,a),a&&E&4&&gy(h,m);break;case 13:la(h,m,a),a&&E&4&&_y(h,m);break;case 22:m.memoizedState===null&&la(h,m,a),wc(m,m.return);break;case 30:break;default:la(h,m,a)}i=i.sibling}}function Im(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ji(a))}function Dm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ji(t))}function Qr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ey(t,i,a,l),i=i.sibling}function Ey(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(t,i,a,l),h&2048&&Sc(9,i);break;case 1:Qr(t,i,a,l);break;case 3:Qr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ji(t)));break;case 12:if(h&2048){Qr(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Rt(i,i.return,V)}}else Qr(t,i,a,l);break;case 31:Qr(t,i,a,l);break;case 13:Qr(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Qr(t,i,a,l):Cc(t,i):m._visibility&2?Qr(t,i,a,l):(m._visibility|=2,Kl(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Im(E,i);break;case 24:Qr(t,i,a,l),h&2048&&Dm(i.alternate,i);break;default:Qr(t,i,a,l)}}function Kl(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,E=i,S=a,V=l,$=E.flags;switch(E.tag){case 0:case 11:case 15:Kl(m,E,S,V,h),Sc(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Kl(m,E,S,V,h):Cc(m,E):(te._visibility|=2,Kl(m,E,S,V,h)),h&&$&2048&&Im(E.alternate,E);break;case 24:Kl(m,E,S,V,h),h&&$&2048&&Dm(E.alternate,E);break;default:Kl(m,E,S,V,h)}i=i.sibling}}function Cc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Cc(a,l),h&2048&&Im(l.alternate,l);break;case 24:Cc(a,l),h&2048&&Dm(l.alternate,l);break;default:Cc(a,l)}i=i.sibling}}var Rc=8192;function Ql(t,i,a){if(t.subtreeFlags&Rc)for(t=t.child;t!==null;)Ty(t,i,a),t=t.sibling}function Ty(t,i,a){switch(t.tag){case 26:Ql(t,i,a),t.flags&Rc&&t.memoizedState!==null&&pS(a,Kr,t.memoizedState,t.memoizedProps);break;case 5:Ql(t,i,a);break;case 3:case 4:var l=Kr;Kr=bf(t.stateNode.containerInfo),Ql(t,i,a),Kr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rc,Rc=16777216,Ql(t,i,a),Rc=l):Ql(t,i,a));break;default:Ql(t,i,a)}}function by(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gn=l,Sy(l,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:Ic(t),t.flags&2048&&to(9,t,t.return);break;case 3:Ic(t);break;case 12:Ic(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,uf(t)):Ic(t);break;default:Ic(t)}}function uf(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gn=l,Sy(l,t)}by(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:to(8,i,i.return),uf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uf(i));break;default:uf(i)}t=t.sibling}}function Sy(t,i){for(;Gn!==null;){var a=Gn;switch(a.tag){case 0:case 11:case 15:to(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ji(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gn=l;else e:for(a=t;Gn!==null;){l=Gn;var h=l.sibling,m=l.return;if(my(l),l===a){Gn=null;break e}if(h!==null){h.return=m,Gn=h;break e}Gn=m}}}var xA={getCacheForType:function(t){var i=bn(sn),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return bn(sn).controller.signal}},NA=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ot=null,et=null,nt=0,Ct=0,or=null,no=!1,Yl=!1,xm=!1,ua=0,ln=0,io=0,cl=0,Nm=0,lr=0,Xl=0,Dc=null,qi=null,Om=!1,cf=0,wy=0,hf=1/0,ff=null,ro=null,Mn=0,so=null,Wl=null,ca=0,Mm=0,Vm=null,Cy=null,xc=0,km=null;function ur(){return(Tt&2)!==0&&nt!==0?nt&-nt:ee.T!==null?Bm():Rl()}function Ry(){if(lr===0)if((nt&536870912)===0||We){var t=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),lr=t}else lr=536870912;return t=Ht.current,t!==null&&(t.flags|=32),lr}function Fi(t,i,a){(t===Ot&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)&&(Jl(t,0),ao(t,nt,lr,!1)),Ls(t,a),((Tt&2)===0||t!==Ot)&&(t===Ot&&((Tt&2)===0&&(cl|=a),ln===4&&ao(t,nt,lr,!1)),Ts(t))}function Iy(t,i,a){if((Tt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Ri(t,i),h=l?VA(t,i):Pm(t,i,!0),m=l;do{if(h===0){Yl&&!l&&ao(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!OA(a)){h=Pm(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;h=Dc;var V=S.current.memoizedState.isDehydrated;if(V&&(Jl(S,E).flags|=256),E=Pm(S,E,!1),E!==2){if(xm&&!V){S.errorRecoveryDisabledLanes|=m,cl|=m,h=4;break e}m=qi,qi=h,m!==null&&(qi===null?qi=m:qi.push.apply(qi,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){Jl(t,0),ao(t,i,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ao(l,i,lr,!no);break e;case 2:qi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=cf+300-Kn(),10<h)){if(ao(l,i,lr,!no),Qi(l,0,!0)!==0)break e;ca=i,l.timeoutHandle=sv(Dy.bind(null,l,a,qi,ff,Om,i,lr,cl,Xl,no,m,"Throttled",-0,0),h);break e}Dy(l,a,qi,ff,Om,i,lr,cl,Xl,no,m,null,-0,0)}}break}while(!0);Ts(t)}function Dy(t,i,a,l,h,m,E,S,V,$,te,se,K,Y){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Ty(i,m,se);var be=(m&62914560)===m?cf-Kn():(m&4194048)===m?wy-Kn():0;if(be=gS(se,be),be!==null){ca=m,t.cancelPendingCommit=be(Py.bind(null,t,i,m,a,l,h,E,S,V,te,se,null,K,Y)),ao(t,m,E,!$);return}}Py(t,i,m,a,l,h,E,S,V)}function OA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Xn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ao(t,i,a,l){i&=~Nm,i&=~cl,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var m=31-Qt(h),E=1<<m;l[m]=-1,h&=~E}a!==0&&Yi(t,a,i)}function df(){return(Tt&6)===0?(Nc(0),!1):!0}function Lm(){if(et!==null){if(Ct===0)var t=et.return;else t=et,Fr=Xs=null,ql(t),fe=null,ye=0,t=et;for(;t!==null;)ay(t.alternate,t),t=t.return;et=null}}function Jl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ca=0,Lm(),Ot=t,et=a=zr(t.current,null),nt=i,Ct=0,or=null,no=!1,Yl=Ri(t,i),xm=!1,Xl=lr=Nm=cl=io=ln=0,qi=Dc=null,Om=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),m=1<<h;i|=t[h],l&=~m}return ua=i,Vl(),a}function xy(t,i){qe=null,ee.H=Tc,i===Za||i===b?(i=W(),Ct=3):i===Js?(i=W(),Ct=4):Ct=i===mm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,or=i,et===null&&(ln=1,tf(t,Hn(i,t.current)))}function Ny(){var t=Ht.current;return t===null?!0:(nt&4194048)===nt?Jt===null:(nt&62914560)===nt||(nt&536870912)!==0?t===Jt:!1}function Oy(){var t=ee.H;return ee.H=Tc,t===null?Tc:t}function My(){var t=ee.A;return ee.A=xA,t}function mf(){ln=4,no||(nt&4194048)!==nt&&Ht.current!==null||(Yl=!0),(io&134217727)===0&&(cl&134217727)===0||Ot===null||ao(Ot,nt,lr,!1)}function Pm(t,i,a){var l=Tt;Tt|=2;var h=Oy(),m=My();(Ot!==t||nt!==i)&&(ff=null,Jl(t,i)),i=!1;var E=ln;e:do try{if(Ct!==0&&et!==null){var S=et,V=or;switch(Ct){case 8:Lm(),E=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(i=!0);var $=Ct;if(Ct=0,or=null,Zl(t,S,V,$),a&&Yl){E=0;break e}break;default:$=Ct,Ct=0,or=null,Zl(t,S,V,$)}}MA(),E=ln;break}catch(te){xy(t,te)}while(!0);return i&&t.shellSuspendCounter++,Fr=Xs=null,Tt=l,ee.H=h,ee.A=m,et===null&&(Ot=null,nt=0,Vl()),E}function MA(){for(;et!==null;)Vy(et)}function VA(t,i){var a=Tt;Tt|=2;var l=Oy(),h=My();Ot!==t||nt!==i?(ff=null,hf=Kn()+500,Jl(t,i)):Yl=Ri(t,i);e:do try{if(Ct!==0&&et!==null){i=et;var m=or;t:switch(Ct){case 1:Ct=0,or=null,Zl(t,i,m,1);break;case 2:case 9:if(v(m)){Ct=0,or=null,ky(i);break}i=function(){Ct!==2&&Ct!==9||Ot!==t||(Ct=7),Ts(t)},m.then(i,i);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:v(m)?(Ct=0,or=null,ky(i)):(Ct=0,or=null,Zl(t,i,m,7));break;case 5:var E=null;switch(et.tag){case 26:E=et.memoizedState;case 5:case 27:var S=et;if(E?Ev(E):S.stateNode.complete){Ct=0,or=null;var V=S.sibling;if(V!==null)et=V;else{var $=S.return;$!==null?(et=$,pf($)):et=null}break t}}Ct=0,or=null,Zl(t,i,m,5);break;case 6:Ct=0,or=null,Zl(t,i,m,6);break;case 8:Lm(),ln=6;break e;default:throw Error(s(462))}}kA();break}catch(te){xy(t,te)}while(!0);return Fr=Xs=null,ee.H=l,ee.A=h,Tt=a,et!==null?0:(Ot=null,nt=0,Vl(),ln)}function kA(){for(;et!==null&&!Uu();)Vy(et)}function Vy(t){var i=ry(t.alternate,t,ua);t.memoizedProps=t.pendingProps,i===null?pf(t):et=i}function ky(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=J_(a,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=J_(a,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:ql(i);default:ay(a,i),i=et=qh(i,ua),i=ry(a,i,ua)}t.memoizedProps=t.pendingProps,i===null?pf(t):et=i}function Zl(t,i,a,l){Fr=Xs=null,ql(i),fe=null,ye=0;var h=i.return;try{if(AA(t,h,i,a,nt)){ln=1,tf(t,Hn(a,t.current)),et=null;return}}catch(m){if(h!==null)throw et=h,m;ln=1,tf(t,Hn(a,t.current)),et=null;return}i.flags&32768?(We||l===1?t=!0:Yl||(nt&536870912)!==0?t=!1:(no=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ht.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(i,t)):pf(i)}function pf(t){var i=t;do{if((i.flags&32768)!==0){Ly(i,no);return}t=i.return;var a=CA(i.alternate,i,ua);if(a!==null){et=a;return}if(i=i.sibling,i!==null){et=i;return}et=i=t}while(i!==null);ln===0&&(ln=5)}function Ly(t,i){do{var a=RA(t.alternate,t);if(a!==null){a.flags&=32767,et=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){et=t;return}et=t=a}while(t!==null);ln=6,et=null}function Py(t,i,a,l,h,m,E,S,V){t.cancelPendingCommit=null;do gf();while(Mn!==0);if((Tt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=ic,ns(t,a,m,E,S,V),t===Ot&&(et=Ot=null,nt=0),Wl=i,so=t,ca=a,Mm=m,Vm=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jA(es,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=me.p,me.p=2,E=Tt,Tt|=4;try{IA(t,i,a)}finally{Tt=E,me.p=h,ee.T=l}}Mn=1,Uy(),jy(),zy()}}function Uy(){if(Mn===1){Mn=0;var t=so,i=Wl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=me.p;me.p=2;var h=Tt;Tt|=4;try{yy(i,t);var m=Ym,E=Qu(t.containerInfo),S=m.focusedElem,V=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&Ku(S.ownerDocument.documentElement,S)){if(V!==null&&Yu(S)){var $=V.start,te=V.end;if(te===void 0&&(te=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var Y=K.getSelection(),be=S.textContent.length,Oe=Math.min(V.start,be),Dt=V.end===void 0?Oe:Math.min(V.end,be);!Y.extend&&Oe>Dt&&(E=Dt,Dt=Oe,Oe=E);var B=Lh(S,Oe),P=Lh(S,Dt);if(B&&P&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var G=se.createRange();G.setStart(B.node,B.offset),Y.removeAllRanges(),Oe>Dt?(Y.addRange(G),Y.extend(P.node,P.offset)):(G.setEnd(P.node,P.offset),Y.addRange(G))}}}}for(se=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&se.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}If=!!Qm,Ym=Qm=null}finally{Tt=h,me.p=l,ee.T=a}}t.current=i,Mn=2}}function jy(){if(Mn===2){Mn=0;var t=so,i=Wl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=me.p;me.p=2;var h=Tt;Tt|=4;try{dy(t,i.alternate,i)}finally{Tt=h,me.p=l,ee.T=a}}Mn=3}}function zy(){if(Mn===4||Mn===3){Mn=0,Al();var t=so,i=Wl,a=ca,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mn=5:(Mn=0,Wl=so=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ro=null),Or(a),i=i.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(si,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=me.p,me.p=2,ee.T=null;try{for(var m=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];m(S.value,{componentStack:S.stack})}}finally{ee.T=i,me.p=h}}(ca&3)!==0&&gf(),Ts(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===km?xc++:(xc=0,km=t):xc=0,Nc(0)}}function By(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ji(i)))}function gf(){return Uy(),jy(),zy(),Hy()}function Hy(){if(Mn!==5)return!1;var t=so,i=Mm;Mm=0;var a=Or(ca),l=ee.T,h=me.p;try{me.p=32>a?32:a,ee.T=null,a=Vm,Vm=null;var m=so,E=ca;if(Mn=0,Wl=so=null,ca=0,(Tt&6)!==0)throw Error(s(331));var S=Tt;if(Tt|=4,Ay(m.current),Ey(m,m.current,E,a),Tt=S,Nc(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(si,m)}catch{}return!0}finally{me.p=h,ee.T=l,By(t,i)}}function qy(t,i,a){i=Hn(a,i),i=dm(t.stateNode,i,2),t=Xe(t,i,2),t!==null&&(Ls(t,2),Ts(t))}function Rt(t,i,a){if(t.tag===3)qy(t,t,a);else for(;i!==null;){if(i.tag===3){qy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ro===null||!ro.has(l))){t=Hn(a,t),a=F_(2),l=Xe(i,a,2),l!==null&&(G_(a,l,i,t),Ls(l,2),Ts(l));break}}i=i.return}}function Um(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new NA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(xm=!0,h.add(a),t=LA.bind(null,t,i,a),i.then(t,t))}function LA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ot===t&&(nt&a)===a&&(ln===4||ln===3&&(nt&62914560)===nt&&300>Kn()-cf?(Tt&2)===0&&Jl(t,0):Nm|=a,Xl===nt&&(Xl=0)),Ts(t)}function Fy(t,i){i===0&&(i=Cl()),t=Wn(t,i),t!==null&&(Ls(t,i),Ts(t))}function PA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Fy(t,a)}function UA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Fy(t,a)}function jA(t,i){return un(t,i)}var _f=null,eu=null,jm=!1,yf=!1,zm=!1,oo=0;function Ts(t){t!==eu&&t.next===null&&(eu===null?_f=eu=t:eu=eu.next=t),yf=!0,jm||(jm=!0,BA())}function Nc(t,i){if(!zm&&yf){zm=!0;do for(var a=!1,l=_f;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var E=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Qt(42|t)+1)-1,m&=h&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Qy(l,m))}else m=nt,m=Qi(l,l===Ot?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ri(l,m)||(a=!0,Qy(l,m));l=l.next}while(a);zm=!1}}function zA(){Gy()}function Gy(){yf=jm=!1;var t=0;oo!==0&&WA()&&(t=oo);for(var i=Kn(),a=null,l=_f;l!==null;){var h=l.next,m=$y(l,i);m===0?(l.next=null,a===null?_f=h:a.next=h,h===null&&(eu=a)):(a=l,(t!==0||(m&3)!==0)&&(yf=!0)),l=h}Mn!==0&&Mn!==5||Nc(t),oo!==0&&(oo=0)}function $y(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var E=31-Qt(m),S=1<<E,V=h[E];V===-1?((S&a)===0||(S&l)!==0)&&(h[E]=zu(S,i)):V<=i&&(t.expiredLanes|=S),m&=~S}if(i=Ot,a=nt,a=Qi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ri(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Zr(l),Or(a)){case 2:case 8:a=Ra;break;case 32:a=es;break;case 268435456:a=ts;break;default:a=es}return l=Ky.bind(null,t),a=un(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Zr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,i){if(Mn!==0&&Mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gf()&&t.callbackNode!==a)return null;var l=nt;return l=Qi(t,t===Ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iy(t,l,i),$y(t,Kn()),t.callbackNode!=null&&t.callbackNode===a?Ky.bind(null,t):null)}function Qy(t,i){if(gf())return null;Iy(t,i,!0)}function BA(){ZA(function(){(Tt&6)!==0?un(Ci,zA):Gy()})}function Bm(){if(oo===0){var t=Xa;t===0&&(t=mr,mr<<=1,(mr&261888)===0&&(mr=256)),oo=t}return oo}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function Xy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function HA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=Yy((h[gn]||null).action),E=l.submitter;E&&(i=(i=E[gn]||null)?Yy(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var S=new Vi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oo!==0){var V=E?Xy(h,E):new FormData(h);om(a,{pending:!0,data:V,method:h.method,action:m},null,V)}}else typeof m=="function"&&(S.preventDefault(),V=E?Xy(h,E):new FormData(h),om(a,{pending:!0,data:V,method:h.method,action:m},m,V))},currentTarget:h}]})}}for(var Hm=0;Hm<nc.length;Hm++){var qm=nc[Hm],qA=qm.toLowerCase(),FA=qm[0].toUpperCase()+qm.slice(1);ar(qA,"on"+FA)}ar(br,"onAnimationEnd"),ar(ec,"onAnimationIteration"),ar(Uh,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(jh,"onTransitionRun"),ar(zh,"onTransitionStart"),ar(Bh,"onTransitionCancel"),ar(tc,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function Wy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(te){Xo(te)}h.currentTarget=null,m=V}else for(E=0;E<l.length;E++){if(S=l[E],V=S.instance,$=S.currentTarget,S=S.listener,V!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(te){Xo(te)}h.currentTarget=null,m=V}}}}function tt(t,i){var a=i[Da];a===void 0&&(a=i[Da]=new Set);var l=t+"__bubble";a.has(l)||(Jy(i,t,2,!1),a.add(l))}function Fm(t,i,a){var l=0;i&&(l|=4),Jy(a,t,l,i)}var vf="_reactListening"+Math.random().toString(36).slice(2);function Gm(t){if(!t[vf]){t[vf]=!0,xa.forEach(function(a){a!=="selectionchange"&&(GA.has(a)||Fm(a,!1,t),Fm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vf]||(i[vf]=!0,Fm("selectionchange",!1,i))}}function Jy(t,i,a,l){switch(Rv(i)){case 2:var h=vS;break;case 8:h=ES;break;default:h=ap}a=h.bind(null,i,a,t),h=void 0,!Fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function $m(t,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Mt(S),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){l=m=E;continue e}S=S.parentNode}}l=l.return}kr(function(){var $=m,te=yi(a),se=[];e:{var K=Hh.get(t);if(K!==void 0){var Y=Vi,be=t;switch(t){case"keypress":if(yr(a)===0)break e;case"keydown":case"keyup":Y=Ko;break;case"focusin":be="focus",Y=ls;break;case"focusout":be="blur",Y=ls;break;case"beforeblur":case"afterblur":Y=ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case br:case ec:case Uh:Y=Ua;break;case tc:Y=R;break;case"scroll":case"scrollend":Y=jr;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ir;break;case"toggle":case"beforetoggle":Y=He}var Oe=(i&4)!==0,Dt=!Oe&&(t==="scroll"||t==="scrollend"),B=Oe?K!==null?K+"Capture":null:K;Oe=[];for(var P=$,G;P!==null;){var ie=P;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||B===null||(ie=Ni(P,B),ie!=null&&Oe.push(Mc(P,ie,G))),Dt)break;P=P.return}0<Oe.length&&(K=new Y(K,be,null,a,te),se.push({event:K,listeners:Oe}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==ss&&(be=a.relatedTarget||a.fromElement)&&(Mt(be)||be[Ii]))break e;if((Y||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(be=a.relatedTarget||a.toElement,Y=$,be=be?Mt(be):null,be!==null&&(Dt=u(be),Oe=be.tag,be!==Dt||Oe!==5&&Oe!==27&&Oe!==6)&&(be=null)):(Y=null,be=$),Y!==be)){if(Oe=qo,ie="onMouseLeave",B="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=ir,ie="onPointerLeave",B="onPointerEnter",P="pointer"),Dt=Y==null?K:vn(Y),G=be==null?K:vn(be),K=new Oe(ie,P+"leave",Y,a,te),K.target=Dt,K.relatedTarget=G,ie=null,Mt(te)===$&&(Oe=new Oe(B,P+"enter",be,a,te),Oe.target=G,Oe.relatedTarget=Dt,ie=Oe),Dt=ie,Y&&be)t:{for(Oe=$A,B=Y,P=be,G=0,ie=B;ie;ie=Oe(ie))G++;ie=0;for(var Re=P;Re;Re=Oe(Re))ie++;for(;0<G-ie;)B=Oe(B),G--;for(;0<ie-G;)P=Oe(P),ie--;for(;G--;){if(B===P||P!==null&&B===P.alternate){Oe=B;break t}B=Oe(B),P=Oe(P)}Oe=null}else Oe=null;Y!==null&&Zy(se,K,Y,Oe,!1),be!==null&&Dt!==null&&Zy(se,Dt,be,Oe,!0)}}e:{if(K=$?vn($):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var yt=qu;else if(Li(K))if(Qo)yt=Ml;else{yt=Oh;var Se=Nh}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&rs($.elementType)&&(yt=qu):yt=Mh;if(yt&&(yt=yt(t,$))){Hu(se,yt,a,te);break e}Se&&Se(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Hs(K,"number",K.value)}switch(Se=$?vn($):window,t){case"focusin":(Li(Se)||Se.contentEditable==="true")&&(qa=Se,Xu=$,Yo=null);break;case"focusout":Yo=Xu=qa=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,Ju(se,a,te);break;case"selectionchange":if(Xd)break;case"keydown":case"keyup":Ju(se,a,te)}var Qe;if(Ze)e:{switch(t){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else za?Qs(t,a)&&(it="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(it="onCompositionStart");it&&(vi&&a.locale!=="ko"&&(za||it!=="onCompositionStart"?it==="onCompositionEnd"&&za&&(Qe=Ho()):(Oi=te,as="value"in Oi?Oi.value:Oi.textContent,za=!0)),Se=Ef($,it),0<Se.length&&(it=new nr(it,t,null,a,te),se.push({event:it,listeners:Se}),Qe?it.data=Qe:(Qe=ja(a),Qe!==null&&(it.data=Qe)))),(Qe=ki?$d(t,a):Kd(t,a))&&(it=Ef($,"onBeforeInput"),0<it.length&&(Se=new nr("onBeforeInput","beforeinput",null,a,te),se.push({event:Se,listeners:it}),Se.data=Qe)),HA(se,t,$,a,te)}Wy(se,i)})}function Mc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ef(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ni(t,a),h!=null&&l.unshift(Mc(t,h,m)),h=Ni(t,i),h!=null&&l.push(Mc(t,h,m))),t.tag===3)return l;t=t.return}return[]}function $A(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,i,a,l,h){for(var m=i._reactName,E=[];a!==null&&a!==l;){var S=a,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||$===null||(V=$,h?($=Ni(a,m),$!=null&&E.unshift(Mc(a,$,V))):h||($=Ni(a,m),$!=null&&E.push(Mc(a,$,V)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var KA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(KA,`
`).replace(QA,"")}function tv(t,i){return i=ev(i),ev(t)===i}function It(t,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":oi(t,"class",l);break;case"tabIndex":oi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(t,a,l);break;case"style":_r(t,l,m);break;case"data":if(i!=="object"){oi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&It(t,i,"name",h.name,h,null),It(t,i,"formEncType",h.formEncType,h,null),It(t,i,"formMethod",h.formMethod,h,null),It(t,i,"formTarget",h.formTarget,h,null)):(It(t,i,"encType",h.encType,h,null),It(t,i,"method",h.method,h,null),It(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=En);break;case"onScroll":l!=null&&tt("scroll",t);break;case"onScrollEnd":l!=null&&tt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=La(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":tt("beforetoggle",t),tt("toggle",t),Bs(t,"popover",l);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bo.get(a)||a,Bs(t,a,l))}}function Km(t,i,a,l,h,m){switch(a){case"style":_r(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&tt("scroll",t);break;case"onScrollEnd":l!=null&&tt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=t[gn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Bs(t,a,l)}}}function Zn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",t),tt("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:It(t,i,m,E,a,null)}}h&&It(t,i,"srcSet",a.srcSet,a,null),l&&It(t,i,"src",a.src,a,null);return;case"input":tt("invalid",t);var S=m=E=h=null,V=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":E=te;break;case"checked":V=te;break;case"defaultChecked":$=te;break;case"value":m=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:It(t,i,l,te,a,null)}}Ma(t,m,S,V,$,E,h,!1);return;case"select":tt("invalid",t),l=E=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:It(t,i,h,S,a,null)}i=m,a=E,t.multiple=!!l,i!=null?xn(t,!!l,i,!1):a!=null&&xn(t,!!l,a,!0);return;case"textarea":tt("invalid",t),m=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:It(t,i,E,S,a,null)}Wi(t,l,h,m);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:It(t,i,V,l,a,null)}return;case"dialog":tt("beforetoggle",t),tt("toggle",t),tt("cancel",t),tt("close",t);break;case"iframe":case"object":tt("load",t);break;case"video":case"audio":for(l=0;l<Oc.length;l++)tt(Oc[l],t);break;case"image":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"embed":case"source":case"link":tt("error",t),tt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:It(t,i,$,l,a,null)}return;default:if(rs(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Km(t,i,te,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&It(t,i,S,l,a,null))}function YA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,S=null,V=null,$=null,te=null;for(Y in a){var se=a[Y];if(a.hasOwnProperty(Y)&&se!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":V=se;default:l.hasOwnProperty(Y)||It(t,i,Y,null,l,se)}}for(var K in l){var Y=l[K];if(se=a[K],l.hasOwnProperty(K)&&(Y!=null||se!=null))switch(K){case"type":m=Y;break;case"name":h=Y;break;case"checked":$=Y;break;case"defaultChecked":te=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==se&&It(t,i,K,Y,l,se)}}Dn(t,E,S,V,$,te,m,h);return;case"select":Y=E=S=K=null;for(m in a)if(V=a[m],a.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":Y=V;default:l.hasOwnProperty(m)||It(t,i,m,null,l,V)}for(h in l)if(m=l[h],V=a[h],l.hasOwnProperty(h)&&(m!=null||V!=null))switch(h){case"value":K=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==V&&It(t,i,h,m,l,V)}i=S,a=E,l=Y,K!=null?xn(t,!!a,K,!1):!!l!=!!a&&(i!=null?xn(t,!!a,i,!0):xn(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:It(t,i,S,null,l,h)}for(E in l)if(h=l[E],m=a[E],l.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&It(t,i,E,h,l,m)}gr(t,K,Y);return;case"option":for(var be in a)if(K=a[be],a.hasOwnProperty(be)&&K!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:It(t,i,be,null,l,K)}for(V in l)if(K=l[V],Y=a[V],l.hasOwnProperty(V)&&K!==Y&&(K!=null||Y!=null))switch(V){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:It(t,i,V,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)K=a[Oe],a.hasOwnProperty(Oe)&&K!=null&&!l.hasOwnProperty(Oe)&&It(t,i,Oe,null,l,K);for($ in l)if(K=l[$],Y=a[$],l.hasOwnProperty($)&&K!==Y&&(K!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:It(t,i,$,K,l,Y)}return;default:if(rs(i)){for(var Dt in a)K=a[Dt],a.hasOwnProperty(Dt)&&K!==void 0&&!l.hasOwnProperty(Dt)&&Km(t,i,Dt,void 0,l,K);for(te in l)K=l[te],Y=a[te],!l.hasOwnProperty(te)||K===Y||K===void 0&&Y===void 0||Km(t,i,te,K,l,Y);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&It(t,i,B,null,l,K);for(se in l)K=l[se],Y=a[se],!l.hasOwnProperty(se)||K===Y||K==null&&Y==null||It(t,i,se,K,l,Y)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,E=h.initiatorType,S=h.duration;if(m&&S&&nv(E)){for(E=0,S=h.responseEnd,l+=1;l<a.length;l++){var V=a[l],$=V.startTime;if($>S)break;var te=V.transferSize,se=V.initiatorType;te&&nv(se)&&(V=V.responseEnd,E+=te*(V<S?1:(S-$)/(V-$)))}if(--l,i+=8*(m+E)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qm=null,Ym=null;function Tf(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wm=null;function WA(){var t=window.event;return t&&t.type==="popstate"?t===Wm?!1:(Wm=t,!0):(Wm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(eS)}:sv;function eS(t){setTimeout(function(){throw t})}function lo(t){return t==="head"}function ov(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ru(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vc(a);for(var m=a.firstChild;m;){var E=m.nextSibling,S=m.nodeName;m[zt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=E}}else a==="body"&&Vc(t.ownerDocument.body);a=h}while(a);ru(i)}function lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jm(a),yn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Rr(t.nextSibling),t===null)break}return null}function nS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Rr(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Rr(t.nextSibling),t===null))return null;return t}function Zm(t){return t.data==="$?"||t.data==="$~"}function ep(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Rr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tp=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Rr(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=Tf(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yn(t)}var Ir=new Map,dv=new Set;function bf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ha=me.d;me.d={f:rS,r:sS,D:aS,C:oS,L:lS,m:uS,X:hS,S:cS,M:fS};function rS(){var t=ha.f(),i=df();return t||i}function sS(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?x_(i):ha.r(t)}var tu=typeof document>"u"?null:document;function mv(t,i,a){var l=tu;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Zn(i,"link",t),Nt(i),l.head.appendChild(i)))}}function aS(t){ha.D(t),mv("dns-prefetch",t,null)}function oS(t,i){ha.C(t,i),mv("preconnect",t,i)}function lS(t,i,a){ha.L(t,i,a);var l=tu;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var m=h;switch(i){case"style":m=nu(t);break;case"script":m=iu(t)}Ir.has(m)||(t=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ir.set(m,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(kc(m))||i==="script"&&l.querySelector(Lc(m))||(i=l.createElement("link"),Zn(i,"link",t),Nt(i),l.head.appendChild(i)))}}function uS(t,i){ha.m(t,i);var a=tu;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=iu(t)}if(!Ir.has(m)&&(t=C({rel:"modulepreload",href:t},i),Ir.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Lc(m)))return}l=a.createElement("link"),Zn(l,"link",t),Nt(l),a.head.appendChild(l)}}}function cS(t,i,a){ha.S(t,i,a);var l=tu;if(l&&t){var h=Un(l).hoistableStyles,m=nu(t);i=i||"default";var E=h.get(m);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(kc(m)))S.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ir.get(m))&&np(t,a);var V=E=l.createElement("link");Nt(V),Zn(V,"link",t),V._p=new Promise(function($,te){V.onload=$,V.onerror=te}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Af(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(m,E)}}}function hS(t,i){ha.X(t,i);var a=tu;if(a&&t){var l=Un(a).hoistableScripts,h=iu(t),m=l.get(h);m||(m=a.querySelector(Lc(h)),m||(t=C({src:t,async:!0},i),(i=Ir.get(h))&&ip(t,i),m=a.createElement("script"),Nt(m),Zn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function fS(t,i){ha.M(t,i);var a=tu;if(a&&t){var l=Un(a).hoistableScripts,h=iu(t),m=l.get(h);m||(m=a.querySelector(Lc(h)),m||(t=C({src:t,async:!0,type:"module"},i),(i=Ir.get(h))&&ip(t,i),m=a.createElement("script"),Nt(m),Zn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function pv(t,i,a,l){var h=(h=Le.current)?bf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=nu(a.href),a=Un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=nu(a.href);var m=Un(h).hoistableStyles,E=m.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,E),(m=h.querySelector(kc(t)))&&!m._p&&(E.instance=m,E.state.loading=5),Ir.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ir.set(t,a),m||dS(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=iu(a),a=Un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function nu(t){return'href="'+rn(t)+'"'}function kc(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function dS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zn(i,"link",a),Nt(i),t.head.appendChild(i))}function iu(t){return'[src="'+rn(t)+'"]'}function Lc(t){return"script[async]"+t}function _v(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Nt(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Zn(l,"style",h),Af(l,a.precedence,t),i.instance=l;case"stylesheet":h=nu(a.href);var m=t.querySelector(kc(h));if(m)return i.state.loading|=4,i.instance=m,Nt(m),m;l=gv(a),(h=Ir.get(h))&&np(l,h),m=(t.ownerDocument||t).createElement("link"),Nt(m);var E=m;return E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),Zn(m,"link",l),i.state.loading|=4,Af(m,a.precedence,t),i.instance=m;case"script":return m=iu(a.src),(h=t.querySelector(Lc(m)))?(i.instance=h,Nt(h),h):(l=a,(h=Ir.get(m))&&(l=C({},a),ip(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Zn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Af(l,a.precedence,t));return i.instance}function Af(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function np(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ip(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sf=null;function yv(t,i,a){if(Sf===null){var l=new Map,h=Sf=new Map;h.set(a,l)}else h=Sf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[zt]||m[Lt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(m):l.set(E,[m])}}return l}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function mS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=nu(l.href),m=i.querySelector(kc(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=wf.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,Nt(m);return}m=i.ownerDocument||i,l=gv(l),(h=Ir.get(h))&&np(l,h),m=m.createElement("link"),Nt(m);var E=m;E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),Zn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wf.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rp=0;function gS(t,i){return t.stylesheets&&t.count===0&&Rf(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Rf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&rp===0&&(rp=62500*XA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>rp?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cf=null;function Rf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cf=new Map,i.forEach(_S,t),Cf=null,wf.call(t))}function _S(t,i){if(!(i.state.loading&4)){var a=Cf.get(t);if(a)var l=a.get(null);else{a=new Map,Cf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,h),a.set(E,h),this.count++,l=wf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Pc={$$typeof:he,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function yS(t,i,a,l,h,m,E,S,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Tv(t,i,a,l,h,m,E,S,V,$,te,se){return t=new yS(t,i,a,E,V,$,te,se,S),i=1,m===!0&&(i|=24),m=bi(3,null,null,i),t.current=m,m.stateNode=t,i=Gr(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},_t(m),t}function bv(t){return t?(t=Ga,t):Ga}function Av(t,i,a,l,h,m){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pe(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Xe(t,l,i),a!==null&&(Fi(a,t,i),ze(a,t,i))}function Sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sp(t,i){Sv(t,i),(t=t.alternate)&&Sv(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=Wn(t,67108864);i!==null&&Fi(i,t,67108864),sp(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var i=ur();i=Ps(i);var a=Wn(t,i);a!==null&&Fi(a,t,i),sp(t,i)}}var If=!0;function vS(t,i,a,l){var h=ee.T;ee.T=null;var m=me.p;try{me.p=2,ap(t,i,a,l)}finally{me.p=m,ee.T=h}}function ES(t,i,a,l){var h=ee.T;ee.T=null;var m=me.p;try{me.p=8,ap(t,i,a,l)}finally{me.p=m,ee.T=h}}function ap(t,i,a,l){if(If){var h=op(l);if(h===null)$m(t,i,l,Df,a),Iv(t,l);else if(bS(h,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<TS.indexOf(t)){for(;h!==null;){var m=Qn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=gi(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var V=1<<31-Qt(E);S.entanglements[1]|=V,E&=~V}Ts(m),(Tt&6)===0&&(hf=Kn()+500,Nc(0))}}break;case 31:case 13:S=Wn(m,2),S!==null&&Fi(S,m,2),df(),sp(m,2)}if(m=op(l),m===null&&$m(t,i,l,Df,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else $m(t,i,l,null,a)}}function op(t){return t=yi(t),lp(t)}var Df=null;function lp(t){if(Df=null,t=Mt(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Df=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ci:return 2;case Ra:return 8;case es:case ju:return 32;case ts:return 268435456;default:return 32}default:return 32}}var up=!1,uo=null,co=null,ho=null,Uc=new Map,jc=new Map,fo=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Uc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(i.pointerId)}}function zc(t,i,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function bS(t,i,a,l,h){switch(i){case"focusin":return uo=zc(uo,t,i,a,l,h),!0;case"dragenter":return co=zc(co,t,i,a,l,h),!0;case"mouseover":return ho=zc(ho,t,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Uc.set(m,zc(Uc.get(m)||null,t,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,jc.set(m,zc(jc.get(m)||null,t,i,a,l,h)),!0}return!1}function Dv(t){var i=Mt(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,_i(t.priority,function(){Cv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,_i(t.priority,function(){Cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=op(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ss=l,a.target.dispatchEvent(l),ss=null}else return i=Qn(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function xv(t,i,a){xf(t)&&a.delete(i)}function AS(){up=!1,uo!==null&&xf(uo)&&(uo=null),co!==null&&xf(co)&&(co=null),ho!==null&&xf(ho)&&(ho=null),Uc.forEach(xv),jc.forEach(xv)}function Nf(t,i){t.blockedOn===i&&(t.blockedOn=null,up||(up=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AS)))}var Of=null;function Nv(t){Of!==t&&(Of=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Of===t&&(Of=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(lp(l||a)===null)continue;break}var m=Qn(a);m!==null&&(t.splice(i,3),i-=3,om(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ru(t){function i(V){return Nf(V,t)}uo!==null&&Nf(uo,t),co!==null&&Nf(co,t),ho!==null&&Nf(ho,t),Uc.forEach(i),jc.forEach(i);for(var a=0;a<fo.length;a++){var l=fo[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fo.length&&(a=fo[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&fo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],E=h[gn]||null;if(typeof m=="function")E||Nv(a);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[gn]||null)S=E.formAction;else if(lp(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Nv(a)}}}function Ov(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cp(t){this._internalRoot=t}Mf.prototype.render=cp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=ur();Av(a,l,t,i,null,null)},Mf.prototype.unmount=cp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),df(),i[Ii]=null}};function Mf(t){this._internalRoot=t}Mf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Rl();t={blockedOn:null,target:t,priority:i};for(var a=0;a<fo.length&&i!==0&&i<fo[a].priority;a++);fo.splice(a,0,t),a===0&&Dv(t)}};var Mv=e.version;if(Mv!=="19.2.0")throw Error(s(527,Mv,"19.2.0"));me.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var SS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{si=Vf.inject(SS),In=Vf}catch{}}return Hc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=z_,m=B_,E=H_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,l,null,h,m,E,Ov),t[Ii]=i.current,Gm(t),new cp(i)},Hc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=z_,E=B_,S=H_,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),i=Tv(t,1,!0,i,a??null,l,h,V,m,E,S,Ov),i.context=bv(null),a=i.current,l=ur(),l=Ps(l),h=Pe(l),h.callback=null,Xe(a,h,l),a=l,i.current.lanes=a,Ls(i,a),Ts(i),t[Ii]=i.current,Gm(t),new Mf(i)},Hc.version="19.2.0",Hc}var qv;function VS(){if(qv)return dp.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dp.exports=MS(),dp.exports}var kS=VS();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function LS(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Np("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:sh(o)}return US(e,n,null,r)}function Zt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ds(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PS(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Np(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Cu(e):e,state:n,key:e&&e.key||s||PS()}}function sh({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Cu(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function US(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",_=null,y=A();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function A(){return(f.state||{idx:null}).idx}function C(){p="POP";let X=A(),J=X==null?null:X-y;y=X,_&&_({action:p,location:oe.location,delta:J})}function x(X,J){p="PUSH";let ae=Np(oe.location,X,J);y=A()+1;let he=Gv(ae,y),Be=oe.createHref(ae);try{f.pushState(he,"",Be)}catch(Ke){if(Ke instanceof DOMException&&Ke.name==="DataCloneError")throw Ke;o.location.assign(Be)}u&&_&&_({action:p,location:oe.location,delta:1})}function q(X,J){p="REPLACE";let ae=Np(oe.location,X,J);y=A();let he=Gv(ae,y),Be=oe.createHref(ae);f.replaceState(he,"",Be),u&&_&&_({action:p,location:oe.location,delta:0})}function ne(X){return jS(X)}let oe={get action(){return p},get location(){return r(o,f)},listen(X){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,C),_=X,()=>{o.removeEventListener(Fv,C),_=null}},createHref(X){return e(o,X)},createURL:ne,encodeLocation(X){let J=ne(X);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:x,replace:q,go(X){return f.go(X)}};return oe}function jS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:sh(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function AT(r,e,n="/"){return zS(r,e,n,!1)}function zS(r,e,n,s){let o=typeof e=="string"?Cu(e):e,u=_a(o.pathname||"/",n);if(u==null)return null;let f=ST(r);BS(f);let p=null;for(let _=0;p==null&&_<f.length;++_){let y=JS(u);p=XS(f[_],y,s)}return p}function ST(r,e=[],n=[],s="",o=!1){let u=(f,p,_=o,y)=>{let A={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&_)return;Zt(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let C=pa([s,A.relativePath]),x=n.concat(A);f.children&&f.children.length>0&&(Zt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),ST(f.children,e,x,C,_)),!(f.path==null&&!f.index)&&e.push({path:C,score:QS(C,f.index),routesMeta:x})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let _ of wT(f.path))u(f,p,!0,_)}),e}function wT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=wT(s.join("/")),p=[];return p.push(...f.map(_=>_===""?u:[u,_].join("/"))),o&&p.push(...f),p.map(_=>r.startsWith("/")&&_===""?"/":_)}function BS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:YS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var HS=/^:[\w-]+$/,qS=3,FS=2,GS=1,$S=10,KS=-2,$v=r=>r==="*";function QS(r,e){let n=r.split("/"),s=n.length;return n.some($v)&&(s+=KS),e&&(s+=FS),n.filter(o=>!$v(o)).reduce((o,u)=>o+(HS.test(u)?qS:u===""?GS:$S),s)}function YS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function XS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let _=s[p],y=p===s.length-1,A=u==="/"?e:e.slice(u.length)||"/",C=td({path:_.relativePath,caseSensitive:_.caseSensitive,end:y},A),x=_.route;if(!C&&y&&n&&!s[s.length-1].route.index&&(C=td({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},A)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:pa([u,C.pathname]),pathnameBase:nw(pa([u,C.pathnameBase])),route:x}),C.pathnameBase!=="/"&&(u=pa([u,C.pathnameBase]))}return f}function td(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=WS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:A,isOptional:C},x)=>{if(A==="*"){let ne=p[x]||"";f=u.slice(0,u.length-ne.length).replace(/(.)\/+$/,"$1")}const q=p[x];return C&&!q?y[A]=void 0:y[A]=(q||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function WS(r,e=!1,n=!0){Ds(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,_)=>(s.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function JS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ds(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _a(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function ZS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Cu(r):r;return{pathname:n?n.startsWith("/")?n:ew(n,e):e,search:iw(s),hash:rw(o)}}function ew(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _p(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CT(r){let e=tw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function RT(r,e,n,s=!1){let o;typeof r=="string"?o=Cu(r):(o={...r},Zt(!o.pathname||!o.pathname.includes("?"),_p("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),_p("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),_p("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let C=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),C-=1;o.pathname=x.join("/")}p=C>=0?e[C]:"/"}let _=ZS(o,p),y=f&&f!=="/"&&f.endsWith("/"),A=(u||f===".")&&n.endsWith("/");return!_.pathname.endsWith("/")&&(y||A)&&(_.pathname+="/"),_}var pa=r=>r.join("/").replace(/\/\/+/g,"/"),nw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var IT=["POST","PUT","PATCH","DELETE"];new Set(IT);var aw=["GET",...IT];new Set(aw);var Ru=Z.createContext(null);Ru.displayName="DataRouter";var Td=Z.createContext(null);Td.displayName="DataRouterState";Z.createContext(!1);var DT=Z.createContext({isTransitioning:!1});DT.displayName="ViewTransition";var ow=Z.createContext(new Map);ow.displayName="Fetchers";var lw=Z.createContext(null);lw.displayName="Await";var Os=Z.createContext(null);Os.displayName="Navigation";var gh=Z.createContext(null);gh.displayName="Location";var Ms=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var ag=Z.createContext(null);ag.displayName="RouteError";function uw(r,{relative:e}={}){Zt(_h(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Z.useContext(Os),{hash:o,pathname:u,search:f}=yh(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:pa([n,u])),s.createHref({pathname:p,search:f,hash:o})}function _h(){return Z.useContext(gh)!=null}function Mo(){return Zt(_h(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(gh).location}var xT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NT(r){Z.useContext(Os).static||Z.useLayoutEffect(r)}function OT(){let{isDataRoute:r}=Z.useContext(Ms);return r?Sw():cw()}function cw(){Zt(_h(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Ru),{basename:e,navigator:n}=Z.useContext(Os),{matches:s}=Z.useContext(Ms),{pathname:o}=Mo(),u=JSON.stringify(CT(s)),f=Z.useRef(!1);return NT(()=>{f.current=!0}),Z.useCallback((_,y={})=>{if(Ds(f.current,xT),!f.current)return;if(typeof _=="number"){n.go(_);return}let A=RT(_,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:pa([e,A.pathname])),(y.replace?n.replace:n.push)(A,y.state,y)},[e,n,u,o,r])}var hw=Z.createContext(null);function fw(r){let e=Z.useContext(Ms).outlet;return Z.useMemo(()=>e&&Z.createElement(hw.Provider,{value:r},e),[e,r])}function yh(r,{relative:e}={}){let{matches:n}=Z.useContext(Ms),{pathname:s}=Mo(),o=JSON.stringify(CT(n));return Z.useMemo(()=>RT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function dw(r,e){return MT(r,e)}function MT(r,e,n,s,o){Zt(_h(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Z.useContext(Os),{matches:f}=Z.useContext(Ms),p=f[f.length-1],_=p?p.params:{},y=p?p.pathname:"/",A=p?p.pathnameBase:"/",C=p&&p.route;{let ae=C&&C.path||"";VT(y,!C||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let x=Mo(),q;if(e){let ae=typeof e=="string"?Cu(e):e;Zt(A==="/"||ae.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),q=ae}else q=x;let ne=q.pathname||"/",oe=ne;if(A!=="/"){let ae=A.replace(/^\//,"").split("/");oe="/"+ne.replace(/^\//,"").split("/").slice(ae.length).join("/")}let X=AT(r,{pathname:oe});Ds(C||X!=null,`No routes matched location "${q.pathname}${q.search}${q.hash}" `),Ds(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${q.pathname}${q.search}${q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=yw(X&&X.map(ae=>Object.assign({},ae,{params:Object.assign({},_,ae.params),pathname:pa([A,u.encodeLocation?u.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?A:pa([A,u.encodeLocation?u.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),f,n,s,o);return e&&J?Z.createElement(gh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...q},navigationType:"POP"}},J):J}function mw(){let r=Aw(),e=sw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:o},n):null,f)}var pw=Z.createElement(mw,null),gw=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Z.createElement(Ms.Provider,{value:this.props.routeContext},Z.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _w({routeContext:r,match:e,children:n}){let s=Z.useContext(Ru);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ms.Provider,{value:r},n)}function yw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(A=>A.route.id&&f?.[A.route.id]!==void 0);Zt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,_=-1;if(n)for(let y=0;y<u.length;y++){let A=u[y];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(_=y),A.route.id){let{loaderData:C,errors:x}=n,q=A.route.loader&&!C.hasOwnProperty(A.route.id)&&(!x||x[A.route.id]===void 0);if(A.route.lazy||q){p=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}return u.reduceRight((y,A,C)=>{let x,q=!1,ne=null,oe=null;n&&(x=f&&A.route.id?f[A.route.id]:void 0,ne=A.route.errorElement||pw,p&&(_<0&&C===0?(VT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,oe=null):_===C&&(q=!0,oe=A.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,C+1)),J=()=>{let ae;return x?ae=ne:q?ae=oe:A.route.Component?ae=Z.createElement(A.route.Component,null):A.route.element?ae=A.route.element:ae=y,Z.createElement(_w,{match:A,routeContext:{outlet:y,matches:X,isDataRoute:n!=null},children:ae})};return n&&(A.route.ErrorBoundary||A.route.errorElement||C===0)?Z.createElement(gw,{location:n.location,revalidation:n.revalidation,component:ne,error:x,children:J(),routeContext:{outlet:null,matches:X,isDataRoute:!0},unstable_onError:s}):J()},null)}function og(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vw(r){let e=Z.useContext(Ru);return Zt(e,og(r)),e}function Ew(r){let e=Z.useContext(Td);return Zt(e,og(r)),e}function Tw(r){let e=Z.useContext(Ms);return Zt(e,og(r)),e}function lg(r){let e=Tw(r),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bw(){return lg("useRouteId")}function Aw(){let r=Z.useContext(ag),e=Ew("useRouteError"),n=lg("useRouteError");return r!==void 0?r:e.errors?.[n]}function Sw(){let{router:r}=vw("useNavigate"),e=lg("useNavigate"),n=Z.useRef(!1);return NT(()=>{n.current=!0}),Z.useCallback(async(o,u={})=>{Ds(n.current,xT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Kv={};function VT(r,e,n){!e&&!Kv[r]&&(Kv[r]=!0,Ds(!1,n))}Z.memo(ww);function ww({routes:r,future:e,state:n,unstable_onError:s}){return MT(r,void 0,n,s,e)}function Cw(r){return fw(r.context)}function fa(r){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Zt(!_h(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=Z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Cu(n));let{pathname:_="/",search:y="",hash:A="",state:C=null,key:x="default"}=n,q=Z.useMemo(()=>{let ne=_a(_,f);return ne==null?null:{location:{pathname:ne,search:y,hash:A,state:C,key:x},navigationType:s}},[f,_,y,A,C,x,s]);return Ds(q!=null,`<Router basename="${f}"> is not able to match the URL "${_}${y}${A}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:Z.createElement(Os.Provider,{value:p},Z.createElement(gh.Provider,{children:e,value:q}))}function Iw({children:r,location:e}){return dw(Op(r),e)}function Op(r,e=[]){let n=[];return Z.Children.forEach(r,(s,o)=>{if(!Z.isValidElement(s))return;let u=[...e,o];if(s.type===Z.Fragment){n.push.apply(n,Op(s.props.children,u));return}Zt(s.type===fa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Op(s.props.children,u)),n.push(f)}),n}var Hf="get",qf="application/x-www-form-urlencoded";function bd(r){return r!=null&&typeof r.tagName=="string"}function Dw(r){return bd(r)&&r.tagName.toLowerCase()==="button"}function xw(r){return bd(r)&&r.tagName.toLowerCase()==="form"}function Nw(r){return bd(r)&&r.tagName.toLowerCase()==="input"}function Ow(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Mw(r,e){return r.button===0&&(!e||e==="_self")&&!Ow(r)}var kf=null;function Vw(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var kw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(r){return r!=null&&!kw.has(r)?(Ds(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):r}function Lw(r,e){let n,s,o,u,f;if(xw(r)){let p=r.getAttribute("action");s=p?_a(p,e):null,n=r.getAttribute("method")||Hf,o=yp(r.getAttribute("enctype"))||qf,u=new FormData(r)}else if(Dw(r)||Nw(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=r.getAttribute("formaction")||p.getAttribute("action");if(s=_?_a(_,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Hf,o=yp(r.getAttribute("formenctype"))||yp(p.getAttribute("enctype"))||qf,u=new FormData(p,r),!Vw()){let{name:y,type:A,value:C}=r;if(A==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,C)}}else{if(bd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hf,s=null,o=qf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&_a(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Uw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Uw(u,n);return f.links?f.links():[]}return[]}));return Fw(s.flat(1).filter(jw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qv(r,e,n,s,o,u){let f=(_,y)=>n[y]?_.route.id!==n[y].route.id:!0,p=(_,y)=>n[y].pathname!==_.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==_.params["*"];return u==="assets"?e.filter((_,y)=>f(_,y)||p(_,y)):u==="data"?e.filter((_,y)=>{let A=s.routes[_.route.id];if(!A||!A.hasLoader)return!1;if(f(_,y)||p(_,y))return!0;if(_.route.shouldRevalidate){let C=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Bw(r,e,{includeHydrateFallback:n}={}){return Hw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Hw(r){return[...new Set(r)]}function qw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Fw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(qw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function kT(){let r=Z.useContext(Ru);return ug(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Gw(){let r=Z.useContext(Td);return ug(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cg=Z.createContext(void 0);cg.displayName="FrameworkContext";function LT(){let r=Z.useContext(cg);return ug(r,"You must render this element inside a <HydratedRouter> element"),r}function $w(r,e){let n=Z.useContext(cg),[s,o]=Z.useState(!1),[u,f]=Z.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:y,onMouseLeave:A,onTouchStart:C}=e,x=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let oe=J=>{J.forEach(ae=>{f(ae.isIntersecting)})},X=new IntersectionObserver(oe,{threshold:.5});return x.current&&X.observe(x.current),()=>{X.disconnect()}}},[r]),Z.useEffect(()=>{if(s){let oe=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(oe)}}},[s]);let q=()=>{o(!0)},ne=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:qc(p,q),onBlur:qc(_,ne),onMouseEnter:qc(y,q),onMouseLeave:qc(A,ne),onTouchStart:qc(C,q)}]:[!1,x,{}]}function qc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Kw({page:r,...e}){let{router:n}=kT(),s=Z.useMemo(()=>AT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Z.createElement(Yw,{page:r,matches:s,...e}):null}function Qw(r){let{manifest:e,routeModules:n}=LT(),[s,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return zw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Yw({page:r,matches:e,...n}){let s=Mo(),{manifest:o,routeModules:u}=LT(),{basename:f}=kT(),{loaderData:p,matches:_}=Gw(),y=Z.useMemo(()=>Qv(r,e,_,o,s,"data"),[r,e,_,o,s]),A=Z.useMemo(()=>Qv(r,e,_,o,s,"assets"),[r,e,_,o,s]),C=Z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let ne=new Set,oe=!1;if(e.forEach(J=>{let ae=o.routes[J.route.id];!ae||!ae.hasLoader||(!y.some(he=>he.route.id===J.route.id)&&J.route.id in p&&u[J.route.id]?.shouldRevalidate||ae.hasClientLoader?oe=!0:ne.add(J.route.id))}),ne.size===0)return[];let X=Pw(r,f,"data");return oe&&ne.size>0&&X.searchParams.set("_routes",e.filter(J=>ne.has(J.route.id)).map(J=>J.route.id).join(",")),[X.pathname+X.search]},[f,p,s,o,y,e,r,u]),x=Z.useMemo(()=>Bw(A,o),[A,o]),q=Qw(A);return Z.createElement(Z.Fragment,null,C.map(ne=>Z.createElement("link",{key:ne,rel:"prefetch",as:"fetch",href:ne,...n})),x.map(ne=>Z.createElement("link",{key:ne,rel:"modulepreload",href:ne,...n})),q.map(({key:ne,link:oe})=>Z.createElement("link",{key:ne,nonce:n.nonce,...oe})))}function Xw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PT&&(window.__reactRouterVersion="7.9.3")}catch{}function Ww({basename:r,children:e,window:n}){let s=Z.useRef();s.current==null&&(s.current=LS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Z.useState({action:o.action,location:o.location}),p=Z.useCallback(_=>{Z.startTransition(()=>f(_))},[f]);return Z.useLayoutEffect(()=>o.listen(p),[o,p]),Z.createElement(Rw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var UT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hu=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:_,to:y,preventScrollReset:A,viewTransition:C,...x},q){let{basename:ne}=Z.useContext(Os),oe=typeof y=="string"&&UT.test(y),X,J=!1;if(typeof y=="string"&&oe&&(X=y,PT))try{let N=new URL(window.location.href),j=y.startsWith("//")?new URL(N.protocol+y):new URL(y),L=_a(j.pathname,ne);j.origin===N.origin&&L!=null?y=L+j.search+j.hash:J=!0}catch{Ds(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=uw(y,{relative:o}),[he,Be,Ke]=$w(s,x),Ye=e1(y,{replace:f,state:p,target:_,preventScrollReset:A,relative:o,viewTransition:C});function k(N){e&&e(N),N.defaultPrevented||Ye(N)}let D=Z.createElement("a",{...x,...Ke,href:X||ae,onClick:J||u?e:k,ref:Xw(q,Be),target:_,"data-discover":!oe&&n==="render"?"true":void 0});return he&&!oe?Z.createElement(Z.Fragment,null,D,Z.createElement(Kw,{page:ae})):D});hu.displayName="Link";var ti=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:_,...y},A){let C=yh(f,{relative:y.relative}),x=Mo(),q=Z.useContext(Td),{navigator:ne,basename:oe}=Z.useContext(Os),X=q!=null&&s1(C)&&p===!0,J=ne.encodeLocation?ne.encodeLocation(C).pathname:C.pathname,ae=x.pathname,he=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;n||(ae=ae.toLowerCase(),he=he?he.toLowerCase():null,J=J.toLowerCase()),he&&oe&&(he=_a(he,oe)||he);const Be=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Ke=ae===J||!o&&ae.startsWith(J)&&ae.charAt(Be)==="/",Ye=he!=null&&(he===J||!o&&he.startsWith(J)&&he.charAt(J.length)==="/"),k={isActive:Ke,isPending:Ye,isTransitioning:X},D=Ke?e:void 0,N;typeof s=="function"?N=s(k):N=[s,Ke?"active":null,Ye?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(k):u;return Z.createElement(hu,{...y,"aria-current":D,className:N,ref:A,style:j,to:f,viewTransition:p},typeof _=="function"?_(k):_)});ti.displayName="NavLink";var Jw=Z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hf,action:p,onSubmit:_,relative:y,preventScrollReset:A,viewTransition:C,...x},q)=>{let ne=i1(),oe=r1(p,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&UT.test(p),ae=he=>{if(_&&_(he),he.defaultPrevented)return;he.preventDefault();let Be=he.nativeEvent.submitter,Ke=Be?.getAttribute("formmethod")||f;ne(Be||he.currentTarget,{fetcherKey:e,method:Ke,navigate:n,replace:o,state:u,relative:y,preventScrollReset:A,viewTransition:C})};return Z.createElement("form",{ref:q,method:X,action:oe,onSubmit:s?_:ae,...x,"data-discover":!J&&r==="render"?"true":void 0})});Jw.displayName="Form";function Zw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(r){let e=Z.useContext(Ru);return Zt(e,Zw(r)),e}function e1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=OT(),_=Mo(),y=yh(r,{relative:u});return Z.useCallback(A=>{if(Mw(A,e)){A.preventDefault();let C=n!==void 0?n:sh(_)===sh(y);p(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[_,p,y,n,s,e,r,o,u,f])}var t1=0,n1=()=>`__${String(++t1)}__`;function i1(){let{router:r}=jT("useSubmit"),{basename:e}=Z.useContext(Os),n=bw();return Z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:_,body:y}=Lw(s,e);if(o.navigate===!1){let A=o.fetcherKey||n1();await r.fetch(A,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function r1(r,{relative:e}={}){let{basename:n}=Z.useContext(Os),s=Z.useContext(Ms);Zt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yh(r||".",{relative:e})},f=Mo();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),_=p.getAll("index");if(_.some(A=>A==="")){p.delete("index"),_.filter(C=>C).forEach(C=>p.append("index",C));let A=p.toString();u.search=A?`?${A}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pa([n,u.pathname])),sh(u)}function s1(r,{relative:e}={}){let n=Z.useContext(DT);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jT("useViewTransitionState"),o=yh(r,{relative:e});if(!n.isTransitioning)return!1;let u=_a(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=_a(n.nextLocation.pathname,s)||n.nextLocation.pathname;return td(o.pathname,f)!=null||td(o.pathname,u)!=null}const a1=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},o1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],_=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,A=u>>2,C=(u&3)<<4|p>>4;let x=(p&15)<<2|y>>6,q=y&63;_||(q=64,f||(x=64)),s.push(n[A],n[C],n[x],n[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(zT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):o1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||C==null)throw new l1;const x=u<<2|p>>4;if(s.push(x),y!==64){const q=p<<4&240|y>>2;if(s.push(q),C!==64){const ne=y<<6&192|C;s.push(ne)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(r){const e=zT(r);return BT.encodeByteArray(e,!0)},nd=function(r){return u1(r).replace(/\./g,"")},HT=function(r){try{return BT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof Yv>"u")return;const r=Yv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},d1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&HT(r[1]);return e&&JSON.parse(e)},Ad=()=>{try{return a1()||h1()||f1()||d1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qT=r=>Ad()?.emulatorHosts?.[r],m1=r=>{const e=qT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FT=()=>Ad()?.config,GT=r=>Ad()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $T(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nd(JSON.stringify(n)),nd(JSON.stringify(f)),""].join(".")}const Zc={};function _1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zc))Zc[e]?r.emulator.push(e):r.prod.push(e);return r}function y1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Xv=!1;function KT(r,e){if(typeof window>"u"||typeof document>"u"||!Iu(window.location.host)||Zc[r]===e||Zc[r]||Xv)return;Zc[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=_1().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,q){x.setAttribute("width","24"),x.setAttribute("id",q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Xv=!0,f()},x}function A(x,q){x.setAttribute("id",q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function C(){const x=y1(s),q=n("text"),ne=document.getElementById(q)||document.createElement("span"),oe=n("learnmore"),X=document.getElementById(oe)||document.createElement("a"),J=n("preprendIcon"),ae=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const he=x.element;p(he),A(X,oe);const Be=y();_(ae,J),he.append(ae,ne,X,Be),document.body.appendChild(he)}u?(ne.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function E1(){const r=Ad()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const r=mi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function w1(){return!E1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function R1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="FirebaseError";class Aa extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=I1,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vh.prototype.create)}}class vh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?D1(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Aa(o,p,s)}}function D1(r,e){return r.replace(x1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const x1=/\{\$([^}]+)}/g;function N1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ml(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Wv(u)&&Wv(f)){if(!ml(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Wv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Qc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function O1(r,e){const n=new M1(r,e);return n.subscribe.bind(n)}class M1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");V1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vp),o.error===void 0&&(o.error=vp),o.complete===void 0&&(o.complete=vp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(r){return r&&r._delegate?r._delegate:r}class pl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new p1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(r){return r===hl?void 0:r}function P1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rt||(rt={}));const j1={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},z1=rt.INFO,B1={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},H1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=B1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=z1,this._logHandler=H1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const q1=(r,e)=>e.some(n=>r instanceof n);let Jv,Zv;function F1(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,Mp=new WeakMap,YT=new WeakMap,Ep=new WeakMap,fg=new WeakMap;function $1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(To(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,r)}).catch(()=>{}),fg.set(e,r),e}function K1(r){if(Mp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Mp.set(r,e)}let Vp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Q1(r){Vp=r(Vp)}function Y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tp(this),e,...n);return YT.set(s,e.sort?e.sort():[e]),To(s)}:G1().includes(r)?function(...e){return r.apply(Tp(this),e),To(QT.get(this))}:function(...e){return To(r.apply(Tp(this),e))}}function X1(r){return typeof r=="function"?Y1(r):(r instanceof IDBTransaction&&K1(r),q1(r,F1())?new Proxy(r,Vp):r)}function To(r){if(r instanceof IDBRequest)return $1(r);if(Ep.has(r))return Ep.get(r);const e=X1(r);return e!==r&&(Ep.set(r,e),fg.set(e,r)),e}const Tp=r=>fg.get(r);function W1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=To(f);return s&&f.addEventListener("upgradeneeded",_=>{s(To(f.result),_.oldVersion,_.newVersion,To(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const J1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],bp=new Map;function eE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Z1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(n)))return;const u=async function(f,...p){const _=this.transaction(f,o?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&_.done]))[0]};return bp.set(e,u),u}Q1(r=>({...r,get:(e,n,s)=>eE(e,n)||r.get(e,n,s),has:(e,n)=>!!eE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tC(r){return r.getComponent()?.type==="VERSION"}const kp="@firebase/app",tE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new hg("@firebase/app"),nC="@firebase/app-compat",iC="@firebase/analytics-compat",rC="@firebase/analytics",sC="@firebase/app-check-compat",aC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",cC="@firebase/data-connect",hC="@firebase/database-compat",fC="@firebase/functions",dC="@firebase/functions-compat",mC="@firebase/installations",pC="@firebase/installations-compat",gC="@firebase/messaging",_C="@firebase/messaging-compat",yC="@firebase/performance",vC="@firebase/performance-compat",EC="@firebase/remote-config",TC="@firebase/remote-config-compat",bC="@firebase/storage",AC="@firebase/storage-compat",SC="@firebase/firestore",wC="@firebase/ai",CC="@firebase/firestore-compat",RC="firebase",IC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",DC={[kp]:"fire-core",[nC]:"fire-core-compat",[rC]:"fire-analytics",[iC]:"fire-analytics-compat",[aC]:"fire-app-check",[sC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[cC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[fC]:"fire-fn",[dC]:"fire-fn-compat",[mC]:"fire-iid",[pC]:"fire-iid-compat",[gC]:"fire-fcm",[_C]:"fire-fcm-compat",[yC]:"fire-perf",[vC]:"fire-perf-compat",[EC]:"fire-rc",[TC]:"fire-rc-compat",[bC]:"fire-gcs",[AC]:"fire-gcs-compat",[SC]:"fire-fst",[CC]:"fire-fst-compat",[wC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,xC=new Map,Pp=new Map;function nE(r,e){try{r.container.addComponent(e)}catch(n){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yu(r){const e=r.name;if(Pp.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,r);for(const n of id.values())nE(n,r);for(const n of xC.values())nE(n,r);return!0}function dg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Yr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new vh("app","Firebase",NC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=IC;function XT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Lp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bo.create("bad-app-name",{appName:String(o)});if(n||(n=FT()),!n)throw bo.create("no-options");const u=id.get(o);if(u){if(ml(n,u.options)&&ml(s,u.config))return u;throw bo.create("duplicate-app",{appName:o})}const f=new U1(o);for(const _ of Pp.values())f.addComponent(_);const p=new OC(n,s,f);return id.set(o,p),p}function WT(r=Lp){const e=id.get(r);if(!e&&r===Lp&&FT())return XT();if(!e)throw bo.create("no-app",{appName:r});return e}function Ao(r,e,n){let s=DC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(f.join(" "));return}yu(new pl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebase-heartbeat-database",VC=1,ah="firebase-heartbeat-store";let Ap=null;function JT(){return Ap||(Ap=W1(MC,VC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ah)}catch(n){console.warn(n)}}}}).catch(r=>{throw bo.create("idb-open",{originalErrorMessage:r.message})})),Ap}async function kC(r){try{const n=(await JT()).transaction(ah),s=await n.objectStore(ah).get(ZT(r));return await n.done,s}catch(e){if(e instanceof Aa)ya.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e?.message});ya.warn(n.message)}}}async function iE(r,e){try{const s=(await JT()).transaction(ah,"readwrite");await s.objectStore(ah).put(e,ZT(r)),await s.done}catch(n){if(n instanceof Aa)ya.warn(n.message);else{const s=bo.create("idb-set",{originalErrorMessage:n?.message});ya.warn(s.message)}}}function ZT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,PC=30;class UC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PC){const o=BC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rE(),{heartbeatsToSend:n,unsentEntries:s}=jC(this._heartbeatsCache.heartbeats),o=nd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ya.warn(e),""}}}function rE(){return new Date().toISOString().substring(0,10)}function jC(r,e=LC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),sE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?R1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sE(r){return nd(JSON.stringify({version:2,heartbeats:r})).length}function BC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){yu(new pl("platform-logger",e=>new eC(e),"PRIVATE")),yu(new pl("heartbeat",e=>new UC(e),"PRIVATE")),Ao(kp,tE,r),Ao(kp,tE,"esm2020"),Ao("fire-js","")}HC("");var qC="firebase",FC="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(qC,FC,"app");function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GC=eb,tb=new vh("auth","Firebase",eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new hg("@firebase/auth");function $C(r,...e){rd.logLevel<=rt.WARN&&rd.warn(`Auth (${Du}): ${r}`,...e)}function Ff(r,...e){rd.logLevel<=rt.ERROR&&rd.error(`Auth (${Du}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(r,...e){throw mg(r,...e)}function As(r,...e){return mg(r,...e)}function nb(r,e,n){const s={...GC(),[e]:n};return new vh("auth","Firebase",s).create(e,{appName:r.name})}function So(r){return nb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return tb.create(r,...e)}function Ve(r,e,...n){if(!r)throw mg(e,...n)}function da(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ff(e),new Error(e)}function va(r,e){r||da(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return typeof self<"u"&&self.location?.href||""}function KC(){return aE()==="http:"||aE()==="https:"}function aE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||b1()||"connection"in navigator)?navigator.onLine:!0}function YC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=v1()||A1()}get(){return QC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r,e){va(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JC=new Th(3e4,6e4);function vl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Vo(r,e,n,s,o={}){return rb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Eh({key:r.config.apiKey,...f}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...u};return T1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Iu(r.emulatorConfig.host)&&(y.credentials="include"),ib.fetch()(await sb(r,r.config.apiHost,n,p),y)})}async function rb(r,e,n){r._canInitEmulator=!1;const s={...XC,...e};try{const o=new eR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(r,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Lf(r,"email-already-in-use",f);if(_==="USER_DISABLED")throw Lf(r,"user-disabled",f);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw nb(r,A,y);Jr(r,A)}}catch(o){if(o instanceof Aa)throw o;Jr(r,"network-request-failed",{message:String(o)})}}async function Sd(r,e,n,s,o={}){const u=await Vo(r,e,n,s,o);return"mfaPendingCredential"in u&&Jr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function sb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?pg(r.config,o):`${r.config.apiScheme}://${o}`;return WC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ZC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(As(this.auth,"network-request-failed")),JC.get())})}}function Lf(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=As(r,e,s);return o.customData._tokenResponse=n,o}function oE(r){return r!==void 0&&r.enterprise!==void 0}class tR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nR(r,e){return Vo(r,"GET","/v2/recaptchaConfig",vl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(r,e){return Vo(r,"POST","/v1/accounts:delete",e)}async function sd(r,e){return Vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rR(r,e=!1){const n=pi(r),s=await n.getIdToken(e),o=gg(s);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:eh(Sp(o.auth_time)),issuedAtTime:eh(Sp(o.iat)),expirationTime:eh(Sp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sp(r){return Number(r)*1e3}function gg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const o=HT(n);return o?JSON.parse(o):(Ff("Failed to decode base64 JWT payload"),null)}catch(o){return Ff("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lE(r){const e=gg(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Aa&&sR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(r){const e=r.auth,n=await r.getIdToken(),s=await oh(r,sd(e,{idToken:n}));Ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ab(o.providerUserInfo):[],f=lR(r.providerData,u),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!f?.length,y=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function oR(r){const e=pi(r);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ab(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(r,e){const n=await rb(r,{},async()=>{const s=Eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await sb(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&Iu(r.emulatorConfig.host)&&(_.credentials="include"),ib.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cR(r,e){return Vo(r,"POST","/v2/accounts:revokeToken",vl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=lE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await uR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new du;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oh(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rR(this,e)}reload(){return oR(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(So(this.auth));const e=await this.getIdToken();return await oh(this,iR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:C,emailVerified:x,isAnonymous:q,providerData:ne,stsTokenManager:oe}=n;Ve(C&&oe,e,"internal-error");const X=du.fromJSON(this.name,oe);Ve(typeof C=="string",e,"internal-error"),po(s,e.name),po(o,e.name),Ve(typeof x=="boolean",e,"internal-error"),Ve(typeof q=="boolean",e,"internal-error"),po(u,e.name),po(f,e.name),po(p,e.name),po(_,e.name),po(y,e.name),po(A,e.name);const J=new Xr({uid:C,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:X,createdAt:y,lastLoginAt:A});return ne&&Array.isArray(ne)&&(J.providerData=ne.map(ae=>({...ae}))),_&&(J._redirectEventId=_),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new du;o.updateFromServerResponse(n);const u=new Xr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ad(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ab(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new du;p.updateFromIdToken(s);const _=new Xr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function ma(r){va(r instanceof Function,"Expected a class definition");let e=uE.get(r);return e?(va(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,uE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ob.type="NONE";const cE=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(r,e,n){return`firebase:${r}:${e}:${n}`}class mu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?Xr._fromGetAccountInfoResponse(this.auth,n,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mu(ma(cE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ma(cE);const f=Gf(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const A=await y._get(f);if(A){let C;if(typeof A=="string"){const x=await sd(e,{idToken:A}).catch(()=>{});if(!x)break;C=await Xr._fromGetAccountInfoResponse(e,x,A)}else C=Xr._fromJSON(e,A);y!==u&&(p=C),u=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new mu(u,e,s):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new mu(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(db(e))return"Blackberry";if(mb(e))return"Webos";if(ub(e))return"Safari";if((e.includes("chrome/")||cb(e))&&!e.includes("edge/"))return"Chrome";if(fb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function lb(r=mi()){return/firefox\//i.test(r)}function ub(r=mi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cb(r=mi()){return/crios\//i.test(r)}function hb(r=mi()){return/iemobile/i.test(r)}function fb(r=mi()){return/android/i.test(r)}function db(r=mi()){return/blackberry/i.test(r)}function mb(r=mi()){return/webos/i.test(r)}function _g(r=mi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hR(r=mi()){return _g(r)&&!!window.navigator?.standalone}function fR(){return S1()&&document.documentMode===10}function pb(r=mi()){return _g(r)||fb(r)||mb(r)||db(r)||/windows phone/i.test(r)||hb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r,e=[]){let n;switch(r){case"Browser":n=hE(mi());break;case"Worker":n=`${hE(mi())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Du}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const _=e(u);f(_)}catch(_){p(_)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(r,e={}){return Vo(r,"GET","/v2/passwordPolicy",vl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=6;class gR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new dR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ma(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),s=await Xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(So(this));const n=e?pi(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mR(this),n=new gR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ma(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await mu.create(this,[ma(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,o);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$C(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xu(r){return pi(r)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=O1(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yR(r){wd=r}function _b(r){return wd.loadJS(r)}function vR(){return wd.recaptchaEnterpriseScript}function ER(){return wd.gapiScript}function TR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bR{constructor(){this.enterprise=new AR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SR="recaptcha-enterprise",yb="NO_RECAPTCHA";class wR{constructor(e){this.type=SR,this.auth=xu(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{nR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new tR(_);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(_=>{p(_)})})}function o(u,f,p){const _=window.grecaptcha;oE(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(yb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&oE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let _=vR();_.length!==0&&(_+=p),_b(_).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function dE(r,e,n,s=!1,o=!1){const u=new wR(r);let f;if(o)f=yb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function mE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await dE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r,e){const n=dg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ml(u,e??{}))return o;Jr(o,"already-initialized")}return n.initialize({options:e})}function RR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ma);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function IR(r,e,n){const s=xu(r);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vb(e),{host:f,port:p}=DR(e),_=p===null?"":`:${p}`,y={url:`${u}//${f}${_}/`},A=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(ml(y,s.config.emulator)&&ml(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Iu(f)?($T(`${u}//${f}${_}`),KT("Auth",!0)):xR()}function vb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function DR(r){const e=vb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:pE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:pE(f)}}}function pE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return da("not implemented")}_getIdTokenResponse(e){return da("not implemented")}_linkToIdToken(e,n){return da("not implemented")}_getReauthenticationResolver(e){return da("not implemented")}}async function NR(r,e){return Vo(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(r,e){return Sd(r,"POST","/v1/accounts:signInWithPassword",vl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(r,e){return Sd(r,"POST","/v1/accounts:signInWithEmailLink",vl(r,e))}async function VR(r,e){return Sd(r,"POST","/v1/accounts:signInWithEmailLink",vl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends yg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mE(e,n,"signInWithPassword",OR);case"emailLink":return MR(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mE(e,s,"signUpPassword",NR);case"emailLink":return VR(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r,e){return Sd(r,"POST","/v1/accounts:signInWithIdp",vl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="http://localhost";class gl extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new gl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return pu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,pu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pu(e,n)}buildRequest(){const e={requestUri:kR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PR(r){const e=Kc(Qc(r)).link,n=e?Kc(Qc(e)).deep_link_id:null,s=Kc(Qc(r)).deep_link_id;return(s?Kc(Qc(s)).link:null)||s||n||e||r}class vg{constructor(e){const n=Kc(Qc(e)),s=n.apiKey??null,o=n.oobCode??null,u=LR(n.mode??null);Ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PR(e);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.providerId=Nu.PROVIDER_ID}static credential(e,n){return lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vg.parseLink(n);return Ve(s,"argument-error"),lh._fromEmailAndCode(e,s.code,s.tenantId)}}Nu.PROVIDER_ID="password";Nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends bh{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return _o.credential(n,s)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends bh{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends bh{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return vo.credential(n,s)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xr._fromIdTokenResponse(e,s,o),f=gE(s);return new vu({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=gE(s);return new vu({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function gE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Aa{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new od(e,n,s,o)}}function Tb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(r,u,e,s):u})}async function UR(r,e,n=!1){const s=await oh(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return vu._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(r,e,n=!1){const{auth:s}=r;if(Yr(s.app))return Promise.reject(So(s));const o="reauthenticate";try{const u=await oh(r,Tb(s,o,e,r),n);Ve(u.idToken,s,"internal-error");const f=gg(u.idToken);Ve(f,s,"internal-error");const{sub:p}=f;return Ve(r.uid===p,s,"user-mismatch"),vu._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Jr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(r,e,n=!1){if(Yr(r.app))return Promise.reject(So(r));const s="signIn",o=await Tb(r,s,e),u=await vu._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function zR(r,e){return bb(xu(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(r){const e=xu(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HR(r,e,n){return Yr(r.app)?Promise.reject(So(r)):zR(pi(r),Nu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BR(r),s})}function qR(r,e,n,s){return pi(r).onIdTokenChanged(e,n,s)}function FR(r,e,n){return pi(r).beforeAuthStateChanged(e,n)}function GR(r,e,n,s){return pi(r).onAuthStateChanged(e,n,s)}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,KR=10;class Sb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);fR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const QR=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wb.type="SESSION";const Cb=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Cd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),_=await YR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const y=Eg("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(C){const x=C;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(A),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function WR(r){Ss().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function JR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZR(){return navigator?.serviceWorker?.controller||null}function eI(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebaseLocalStorageDb",tI=1,ud="firebaseLocalStorage",Db="fbase_key";class Ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(r,e){return r.transaction([ud],e?"readwrite":"readonly").objectStore(ud)}function nI(){const r=indexedDB.deleteDatabase(Ib);return new Ah(r).toPromise()}function zp(){const r=indexedDB.open(Ib,tI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ud,{keyPath:Db})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ud)?e(s):(s.close(),await nI(),e(await zp()))})})}async function _E(r,e,n){const s=Rd(r,!0).put({[Db]:e,value:n});return new Ah(s).toPromise()}async function iI(r,e){const n=Rd(r,!1).get(e),s=await new Ah(n).toPromise();return s===void 0?null:s.value}function yE(r,e){const n=Rd(r,!0).delete(e);return new Ah(n).toPromise()}const rI=800,sI=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(eI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JR(),!this.activeServiceWorker)return;this.sender=new XR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await _E(e,ld,"1"),await yE(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_E(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>iI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rd(o,!1).getAll();return new Ah(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const aI=xb;new Th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(r,e){return e?ma(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lI(r){return bb(r.auth,new Tg(r),r.bypassAuthState)}function uI(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),jR(n,new Tg(r),r.bypassAuthState)}async function cI(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),UR(n,new Tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:Jr(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Th(2e3,1e4);class fu extends Nb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fu.currentPopupAction&&fu.currentPopupAction.cancel(),fu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hI.get())};e()}}fu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="pendingRedirect",$f=new Map;class dI extends Nb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const s=await mI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mI(r,e){const n=_I(e),s=gI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function pI(r,e){$f.set(r._key(),e)}function gI(r){return ma(r._redirectPersistence)}function _I(r){return Gf(fI,r.config.apiKey,r.name)}async function yI(r,e,n=!1){if(Yr(r.app))return Promise.reject(So(r));const s=xu(r),o=oI(s,e),f=await new dI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=600*1e3;class EI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ob(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(As(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vI&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ob({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function TI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,e={}){return Vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SI=/^https?/;async function wI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bI(r);for(const n of e)try{if(CI(n))return}catch{}Jr(r,"unauthorized-domain")}function CI(r){const e=Up(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SI.test(n))return!1;if(AI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new Th(3e4,6e4);function EE(){const r=Ss().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function II(r){return new Promise((e,n)=>{function s(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(As(r,"network-request-failed"))},timeout:RI.get()})}if(Ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ss().gapi?.load)s();else{const o=TR("iframefcb");return Ss()[o]=()=>{gapi.load?s():n(As(r,"network-request-failed"))},_b(`${ER()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Kf=null,e})}let Kf=null;function DI(r){return Kf=Kf||II(r),Kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Th(5e3,15e3),NI="__/auth/iframe",OI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kI(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pg(e,OI):`https://${r.config.authDomain}/${NI}`,s={apiKey:e.apiKey,appName:r.name,v:Du},o=VI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eh(s).slice(1)}`}async function LI(r){const e=await DI(r),n=Ss().gapi;return Ve(n,r,"internal-error"),e.open({where:document.body,url:kI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=As(r,"network-request-failed"),p=Ss().setTimeout(()=>{u(f)},xI.get());function _(){Ss().clearTimeout(p),o(s)}s.ping(_).then(_,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UI=500,jI=600,zI="_blank",BI="http://localhost";class TE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,e,n,s=UI,o=jI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...PI,width:s.toString(),height:o.toString(),top:u,left:f},y=mi().toLowerCase();n&&(p=cb(y)?zI:n),lb(y)&&(e=e||BI,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[q,ne])=>`${x}${q}=${ne},`,"");if(hR(y)&&p!=="_self")return qI(e||"",p),new TE(null);const C=window.open(e||"",p,A);Ve(C,r,"popup-blocked");try{C.focus()}catch{}return new TE(C)}function qI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__/auth/handler",GI="emulator/auth/handler",$I=encodeURIComponent("fac");async function bE(r,e,n,s,o,u){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Du,eventId:o};if(e instanceof Eb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",N1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,C]of Object.entries({}))f[A]=C}if(e instanceof bh){const A=e.getScopes().filter(C=>C!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${$I}=${encodeURIComponent(_)}`:"";return`${KI(r)}?${Eh(p).slice(1)}${y}`}function KI({config:r}){return r.emulator?pg(r,GI):`https://${r.authDomain}/${FI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=yI,this._overrideRedirectResult=pI}async _openPopup(e,n,s,o){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bE(e,n,s,Up(),o);return HI(e,u,Eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await bE(e,n,s,Up(),o);return WR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(va(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LI(e),s=new EI(e);return n.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wp,{type:wp},o=>{const u=o?.[0]?.[wp];u!==void 0&&n(!!u),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pb()||ub()||_g()}}const YI=QI;var AE="@firebase/auth",SE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JI(r){yu(new pl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(r)},y=new _R(s,o,u,_);return RR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yu(new pl("auth-internal",e=>{const n=xu(e.getProvider("auth").getImmediate());return(s=>new XI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(AE,SE,WI(r)),Ao(AE,SE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=300,e2=GT("authIdTokenMaxAge")||ZI;let wE=null;const t2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>e2)return;const o=n?.token;wE!==o&&(wE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function n2(r=WT()){const e=dg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=CR(r,{popupRedirectResolver:YI,persistence:[aI,QR,Cb]}),s=GT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=t2(u.toString());FR(n,f,()=>f(n.currentUser)),qR(n,p=>f(p))}}const o=qT("auth");return o&&IR(n,`http://${o}`),n}function i2(){return document.getElementsByTagName("head")?.[0]??document}yR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=As("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",i2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JI("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wo,Mb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,D){function N(){}N.prototype=D.prototype,k.F=D.prototype,k.prototype=new N,k.prototype.constructor=k,k.D=function(j,L,H){for(var M=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)M[xt-2]=arguments[xt];return D.prototype[L].apply(j,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,D,N){N||(N=0);const j=Array(16);if(typeof D=="string")for(var L=0;L<16;++L)j[L]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(L=0;L<16;++L)j[L]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=k.g[0],N=k.g[1],L=k.g[2];let H=k.g[3],M;M=D+(H^N&(L^H))+j[0]+3614090360&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(L^D&(N^L))+j[1]+3905402710&4294967295,H=D+(M<<12&4294967295|M>>>20),M=L+(N^H&(D^N))+j[2]+606105819&4294967295,L=H+(M<<17&4294967295|M>>>15),M=N+(D^L&(H^D))+j[3]+3250441966&4294967295,N=L+(M<<22&4294967295|M>>>10),M=D+(H^N&(L^H))+j[4]+4118548399&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(L^D&(N^L))+j[5]+1200080426&4294967295,H=D+(M<<12&4294967295|M>>>20),M=L+(N^H&(D^N))+j[6]+2821735955&4294967295,L=H+(M<<17&4294967295|M>>>15),M=N+(D^L&(H^D))+j[7]+4249261313&4294967295,N=L+(M<<22&4294967295|M>>>10),M=D+(H^N&(L^H))+j[8]+1770035416&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(L^D&(N^L))+j[9]+2336552879&4294967295,H=D+(M<<12&4294967295|M>>>20),M=L+(N^H&(D^N))+j[10]+4294925233&4294967295,L=H+(M<<17&4294967295|M>>>15),M=N+(D^L&(H^D))+j[11]+2304563134&4294967295,N=L+(M<<22&4294967295|M>>>10),M=D+(H^N&(L^H))+j[12]+1804603682&4294967295,D=N+(M<<7&4294967295|M>>>25),M=H+(L^D&(N^L))+j[13]+4254626195&4294967295,H=D+(M<<12&4294967295|M>>>20),M=L+(N^H&(D^N))+j[14]+2792965006&4294967295,L=H+(M<<17&4294967295|M>>>15),M=N+(D^L&(H^D))+j[15]+1236535329&4294967295,N=L+(M<<22&4294967295|M>>>10),M=D+(L^H&(N^L))+j[1]+4129170786&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^L&(D^N))+j[6]+3225465664&4294967295,H=D+(M<<9&4294967295|M>>>23),M=L+(D^N&(H^D))+j[11]+643717713&4294967295,L=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(L^H))+j[0]+3921069994&4294967295,N=L+(M<<20&4294967295|M>>>12),M=D+(L^H&(N^L))+j[5]+3593408605&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^L&(D^N))+j[10]+38016083&4294967295,H=D+(M<<9&4294967295|M>>>23),M=L+(D^N&(H^D))+j[15]+3634488961&4294967295,L=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(L^H))+j[4]+3889429448&4294967295,N=L+(M<<20&4294967295|M>>>12),M=D+(L^H&(N^L))+j[9]+568446438&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^L&(D^N))+j[14]+3275163606&4294967295,H=D+(M<<9&4294967295|M>>>23),M=L+(D^N&(H^D))+j[3]+4107603335&4294967295,L=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(L^H))+j[8]+1163531501&4294967295,N=L+(M<<20&4294967295|M>>>12),M=D+(L^H&(N^L))+j[13]+2850285829&4294967295,D=N+(M<<5&4294967295|M>>>27),M=H+(N^L&(D^N))+j[2]+4243563512&4294967295,H=D+(M<<9&4294967295|M>>>23),M=L+(D^N&(H^D))+j[7]+1735328473&4294967295,L=H+(M<<14&4294967295|M>>>18),M=N+(H^D&(L^H))+j[12]+2368359562&4294967295,N=L+(M<<20&4294967295|M>>>12),M=D+(N^L^H)+j[5]+4294588738&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^L)+j[8]+2272392833&4294967295,H=D+(M<<11&4294967295|M>>>21),M=L+(H^D^N)+j[11]+1839030562&4294967295,L=H+(M<<16&4294967295|M>>>16),M=N+(L^H^D)+j[14]+4259657740&4294967295,N=L+(M<<23&4294967295|M>>>9),M=D+(N^L^H)+j[1]+2763975236&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^L)+j[4]+1272893353&4294967295,H=D+(M<<11&4294967295|M>>>21),M=L+(H^D^N)+j[7]+4139469664&4294967295,L=H+(M<<16&4294967295|M>>>16),M=N+(L^H^D)+j[10]+3200236656&4294967295,N=L+(M<<23&4294967295|M>>>9),M=D+(N^L^H)+j[13]+681279174&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^L)+j[0]+3936430074&4294967295,H=D+(M<<11&4294967295|M>>>21),M=L+(H^D^N)+j[3]+3572445317&4294967295,L=H+(M<<16&4294967295|M>>>16),M=N+(L^H^D)+j[6]+76029189&4294967295,N=L+(M<<23&4294967295|M>>>9),M=D+(N^L^H)+j[9]+3654602809&4294967295,D=N+(M<<4&4294967295|M>>>28),M=H+(D^N^L)+j[12]+3873151461&4294967295,H=D+(M<<11&4294967295|M>>>21),M=L+(H^D^N)+j[15]+530742520&4294967295,L=H+(M<<16&4294967295|M>>>16),M=N+(L^H^D)+j[2]+3299628645&4294967295,N=L+(M<<23&4294967295|M>>>9),M=D+(L^(N|~H))+j[0]+4096336452&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~L))+j[7]+1126891415&4294967295,H=D+(M<<10&4294967295|M>>>22),M=L+(D^(H|~N))+j[14]+2878612391&4294967295,L=H+(M<<15&4294967295|M>>>17),M=N+(H^(L|~D))+j[5]+4237533241&4294967295,N=L+(M<<21&4294967295|M>>>11),M=D+(L^(N|~H))+j[12]+1700485571&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~L))+j[3]+2399980690&4294967295,H=D+(M<<10&4294967295|M>>>22),M=L+(D^(H|~N))+j[10]+4293915773&4294967295,L=H+(M<<15&4294967295|M>>>17),M=N+(H^(L|~D))+j[1]+2240044497&4294967295,N=L+(M<<21&4294967295|M>>>11),M=D+(L^(N|~H))+j[8]+1873313359&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~L))+j[15]+4264355552&4294967295,H=D+(M<<10&4294967295|M>>>22),M=L+(D^(H|~N))+j[6]+2734768916&4294967295,L=H+(M<<15&4294967295|M>>>17),M=N+(H^(L|~D))+j[13]+1309151649&4294967295,N=L+(M<<21&4294967295|M>>>11),M=D+(L^(N|~H))+j[4]+4149444226&4294967295,D=N+(M<<6&4294967295|M>>>26),M=H+(N^(D|~L))+j[11]+3174756917&4294967295,H=D+(M<<10&4294967295|M>>>22),M=L+(D^(H|~N))+j[2]+718787259&4294967295,L=H+(M<<15&4294967295|M>>>17),M=N+(H^(L|~D))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+H&4294967295}s.prototype.v=function(k,D){D===void 0&&(D=k.length);const N=D-this.blockSize,j=this.C;let L=this.h,H=0;for(;H<D;){if(L==0)for(;H<=N;)o(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<D;)if(j[L++]=k.charCodeAt(H++),L==this.blockSize){o(this,j),L=0;break}}else for(;H<D;)if(j[L++]=k[H++],L==this.blockSize){o(this,j),L=0;break}}this.h=L,this.o+=D},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;D=this.o*8;for(var N=k.length-8;N<k.length;++N)k[N]=D&255,D/=256;for(this.v(k),k=Array(16),D=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)k[D++]=this.g[N]>>>j&255;return k};function u(k,D){var N=p;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=D(k)}function f(k,D){this.h=D;const N=[];let j=!0;for(let L=k.length-1;L>=0;L--){const H=k[L]|0;j&&H==D||(N[L]=H,j=!1)}this.g=N}var p={};function _(k){return-128<=k&&k<128?u(k,function(D){return new f([D|0],D<0?-1:0)}):new f([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return C;if(k<0)return X(y(-k));const D=[];let N=1;for(let j=0;k>=N;j++)D[j]=k/N|0,N*=4294967296;return new f(D,0)}function A(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return X(A(k.substring(1),D));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(D,8));let j=C;for(let H=0;H<k.length;H+=8){var L=Math.min(8,k.length-H);const M=parseInt(k.substring(H,H+L),D);L<8?(L=y(Math.pow(D,L)),j=j.j(L).add(y(M))):(j=j.j(N),j=j.add(y(M)))}return j}var C=_(0),x=_(1),q=_(16777216);r=f.prototype,r.m=function(){if(oe(this))return-X(this).m();let k=0,D=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);k+=(j>=0?j:4294967296+j)*D,D*=4294967296}return k},r.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(ne(this))return"0";if(oe(this))return"-"+X(this).toString(k);const D=y(Math.pow(k,6));var N=this;let j="";for(;;){const L=Be(N,D).g;N=J(N,L.j(D));let H=((N.g.length>0?N.g[0]:N.h)>>>0).toString(k);if(N=L,ne(N))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},r.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function ne(k){if(k.h!=0)return!1;for(let D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function oe(k){return k.h==-1}r.l=function(k){return k=J(this,k),oe(k)?-1:ne(k)?0:1};function X(k){const D=k.g.length,N=[];for(let j=0;j<D;j++)N[j]=~k.g[j];return new f(N,~k.h).add(x)}r.abs=function(){return oe(this)?X(this):this},r.add=function(k){const D=Math.max(this.g.length,k.g.length),N=[];let j=0;for(let L=0;L<=D;L++){let H=j+(this.i(L)&65535)+(k.i(L)&65535),M=(H>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);j=M>>>16,H&=65535,M&=65535,N[L]=M<<16|H}return new f(N,N[N.length-1]&-2147483648?-1:0)};function J(k,D){return k.add(X(D))}r.j=function(k){if(ne(this)||ne(k))return C;if(oe(this))return oe(k)?X(this).j(X(k)):X(X(this).j(k));if(oe(k))return X(this.j(X(k)));if(this.l(q)<0&&k.l(q)<0)return y(this.m()*k.m());const D=this.g.length+k.g.length,N=[];for(var j=0;j<2*D;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<k.g.length;L++){const H=this.i(j)>>>16,M=this.i(j)&65535,xt=k.i(L)>>>16,tn=k.i(L)&65535;N[2*j+2*L]+=M*tn,ae(N,2*j+2*L),N[2*j+2*L+1]+=H*tn,ae(N,2*j+2*L+1),N[2*j+2*L+1]+=M*xt,ae(N,2*j+2*L+1),N[2*j+2*L+2]+=H*xt,ae(N,2*j+2*L+2)}for(k=0;k<D;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=D;k<2*D;k++)N[k]=0;return new f(N,0)};function ae(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function he(k,D){this.g=k,this.h=D}function Be(k,D){if(ne(D))throw Error("division by zero");if(ne(k))return new he(C,C);if(oe(k))return D=Be(X(k),D),new he(X(D.g),X(D.h));if(oe(D))return D=Be(k,X(D)),new he(X(D.g),D.h);if(k.g.length>30){if(oe(k)||oe(D))throw Error("slowDivide_ only works with positive integers.");for(var N=x,j=D;j.l(k)<=0;)N=Ke(N),j=Ke(j);var L=Ye(N,1),H=Ye(j,1);for(j=Ye(j,2),N=Ye(N,2);!ne(j);){var M=H.add(j);M.l(k)<=0&&(L=L.add(N),H=M),j=Ye(j,1),N=Ye(N,1)}return D=J(k,L.j(D)),new he(L,D)}for(L=C;k.l(D)>=0;){for(N=Math.max(1,Math.floor(k.m()/D.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=y(N),M=H.j(D);oe(M)||M.l(k)>0;)N-=j,H=y(N),M=H.j(D);ne(H)&&(H=x),L=L.add(H),k=J(k,M)}return new he(L,k)}r.B=function(k){return Be(this,k).h},r.and=function(k){const D=Math.max(this.g.length,k.g.length),N=[];for(let j=0;j<D;j++)N[j]=this.i(j)&k.i(j);return new f(N,this.h&k.h)},r.or=function(k){const D=Math.max(this.g.length,k.g.length),N=[];for(let j=0;j<D;j++)N[j]=this.i(j)|k.i(j);return new f(N,this.h|k.h)},r.xor=function(k){const D=Math.max(this.g.length,k.g.length),N=[];for(let j=0;j<D;j++)N[j]=this.i(j)^k.i(j);return new f(N,this.h^k.h)};function Ke(k){const D=k.g.length+1,N=[];for(let j=0;j<D;j++)N[j]=k.i(j)<<1|k.i(j-1)>>>31;return new f(N,k.h)}function Ye(k,D){const N=D>>5;D%=32;const j=k.g.length-N,L=[];for(let H=0;H<j;H++)L[H]=D>0?k.i(H+N)>>>D|k.i(H+N+1)<<32-D:k.i(H+N);return new f(L,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Mb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,wo=f}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,Yc,kb,Qf,Bp,Lb,Pb,Ub;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var g=0;g<c.length;++g){var T=c[g];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var T=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var F=c[R];if(!(F in T))break e;T=T[F]}c=c[c.length-1],R=T[c],g=g(R),g!=R&&g!=null&&e(T,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var T=[],R;for(R in g)Object.prototype.hasOwnProperty.call(g,R)&&T.push([R,g[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,T){return c.call.apply(c.bind,arguments)}function y(c,g,T){return y=_,y.apply(null,arguments)}function A(c,g){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function C(c,g){function T(){}T.prototype=g.prototype,c.Z=g.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(R,F,Q){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return g.prototype[F].apply(R,de)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const g=c.length;if(g>0){const T=Array(g);for(let R=0;R<g;R++)T[R]=c[R];return T}return[]}function ne(c,g){for(let R=1;R<arguments.length;R++){const F=arguments[R];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=c.length||0;const Q=F.length||0;c.length=T+Q;for(let de=0;de<Q;de++)c[T+de]=F[de]}else c.push(F)}}class oe{constructor(g,T){this.i=g,this.j=T,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){f.setTimeout(()=>{throw c},0)}function J(){var c=k;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ae{constructor(){this.h=this.g=null}add(g,T){const R=he.get();R.set(g,T),this.h?this.h.next=R:this.g=R,this.h=R}}var he=new oe(()=>new Be,c=>c.reset());class Be{constructor(){this.next=this.g=this.h=null}set(g,T){this.h=g,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Ye=!1,k=new ae,D=()=>{const c=Promise.resolve(void 0);Ke=()=>{c.then(N)}};function N(){for(var c;c=J();){try{c.h.call(c.g)}catch(T){X(T)}var g=he;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Ye=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};f.addEventListener("test",T,g),f.removeEventListener("test",T,g)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function xt(c,g){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}C(xt,L),xt.prototype.init=function(c,g){const T=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(T=="mouseover"?g=c.fromElement:T=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tn="closure_listenable_"+(Math.random()*1e6|0),ee=0;function me(c,g,T,R,F){this.listener=c,this.proxy=null,this.src=g,this.type=T,this.capture=!!R,this.ha=F,this.key=++ee,this.da=this.fa=!1}function we(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ot(c,g,T){for(const R in c)g.call(T,c[R],R,c)}function dt(c,g){for(const T in c)g.call(void 0,c[T],T,c)}function I(c){const g={};for(const T in c)g[T]=c[T];return g}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(c,g){let T,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(T in R)c[T]=R[T];for(let Q=0;Q<re.length;Q++)T=re[Q],Object.prototype.hasOwnProperty.call(R,T)&&(c[T]=R[T])}}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,g,T,R,F){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const de=Le(c,g,R,F);return de>-1?(g=c[de],T||(g.fa=!1)):(g=new me(g,this.src,Q,!!R,F),g.fa=T,c.push(g)),g};function Ce(c,g){const T=g.type;if(T in c.g){var R=c.g[T],F=Array.prototype.indexOf.call(R,g,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(R,F,1),Q&&(we(g),c.g[T].length==0&&(delete c.g[T],c.h--))}}function Le(c,g,T,R){for(let F=0;F<c.length;++F){const Q=c[F];if(!Q.da&&Q.listener==g&&Q.capture==!!T&&Q.ha==R)return F}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Kt={};function ge(c,g,T,R,F){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)ge(c,g[Q],T,R,F);return null}return T=Po(T),c&&c[tn]?c.J(g,T,p(R)?!!R.capture:!1,F):hr(c,g,T,!1,R,F)}function hr(c,g,T,R,F,Q){if(!g)throw Error("Invalid event type");const de=p(F)?!!F.capture:!!F;let He=Ki(c);if(He||(c[Ue]=He=new ve(c)),T=He.add(g,T,R,de,Q),T.proxy)return T;if(R=Vs(),T.proxy=R,R.src=c,R.listener=T,c.addEventListener)H||(F=de),F===void 0&&(F=!1),c.addEventListener(g.toString(),R,F);else if(c.attachEvent)c.attachEvent(ri(g.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Vs(){function c(T){return g.call(c.src,c.listener,T)}const g=Ca;return c}function Sa(c,g,T,R,F){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Sa(c,g[Q],T,R,F);else R=p(R)?!!R.capture:!!R,T=Po(T),c&&c[tn]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],T=Le(g,T,R,F),T>-1&&(we(g[T]),Array.prototype.splice.call(g,T,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Ki(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Le(g,T,R,F)),(T=c>-1?g[c]:null)&&wa(T))}function wa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[tn])Ce(g.i,c);else{var T=c.type,R=c.proxy;g.removeEventListener?g.removeEventListener(T,R,c.capture):g.detachEvent?g.detachEvent(ri(T),R):g.addListener&&g.removeListener&&g.removeListener(R),(T=Ki(g))?(Ce(T,c),T.h==0&&(T.src=null,g[Ue]=null)):we(c)}}}function ri(c){return c in Kt?Kt[c]:Kt[c]="on"+c}function Ca(c,g){if(c.da)c=!0;else{g=new xt(g,this);const T=c.listener,R=c.ha||c.src;c.fa&&wa(c),c=T.call(R,g)}return c}function Ki(c){return c=c[Ue],c instanceof ve?c:null}var fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[fr]||(c[fr]=function(g){return c.handleEvent(g)}),c[fr])}function nn(){j.call(this),this.i=new ve(this),this.M=this,this.G=null}C(nn,j),nn.prototype[tn]=!0,nn.prototype.removeEventListener=function(c,g,T,R){Sa(this,c,g,T,R)};function un(c,g){var T,R=c.G;if(R)for(T=[];R;R=R.G)T.push(R);if(c=c.M,R=g.type||g,typeof g=="string")g=new L(g,c);else if(g instanceof L)g.target=g.target||c;else{var F=g;g=new L(R,c),pe(g,F)}F=!0;let Q,de;if(T)for(de=T.length-1;de>=0;de--)Q=g.g=T[de],F=Zr(Q,R,!0,g)&&F;if(Q=g.g=c,F=Zr(Q,R,!0,g)&&F,F=Zr(Q,R,!1,g)&&F,T)for(de=0;de<T.length;de++)Q=g.g=T[de],F=Zr(Q,R,!1,g)&&F}nn.prototype.N=function(){if(nn.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const T=c.g[g];for(let R=0;R<T.length;R++)we(T[R]);delete c.g[g],c.h--}}this.G=null},nn.prototype.J=function(c,g,T,R){return this.i.add(String(c),g,!1,T,R)},nn.prototype.K=function(c,g,T,R){return this.i.add(String(c),g,!0,T,R)};function Zr(c,g,T,R){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let F=!0;for(let Q=0;Q<g.length;++Q){const de=g[Q];if(de&&!de.da&&de.capture==T){const He=de.listener,Wt=de.ha||de.src;de.fa&&Ce(c.i,de),F=He.call(Wt,R)!==!1&&F}}return F&&!R.defaultPrevented}function Uu(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Al(c){c.g=Uu(()=>{c.g=null,c.i&&(c.i=!1,Al(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Kn extends j{constructor(g,T){super(),this.m=g,this.l=T,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(c){j.call(this),this.h=c,this.g={}}C(dr,j);var Ci=[];function Ra(c){ot(c.g,function(g,T){this.g.hasOwnProperty(T)&&wa(g)},c),c.g={}}dr.prototype.N=function(){dr.Z.N.call(this),Ra(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=f.JSON.stringify,ju=f.JSON.parse,ts=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function xr(){}function Nr(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function In(){L.call(this,"d")}C(In,L);function ai(){L.call(this,"c")}C(ai,L);var Qt={},Sl=null;function Ia(){return Sl=Sl||new nn}Qt.Ia="serverreachability";function wl(c){L.call(this,Qt.Ia,c)}C(wl,L);function mr(c){const g=Ia();un(g,new wl(g))}Qt.STAT_EVENT="statevent";function ks(c,g){L.call(this,Qt.STAT_EVENT,c),this.stat=g}C(ks,L);function Yt(c){const g=Ia();un(g,new ks(g,c))}Qt.Ja="timingevent";function gi(c,g){L.call(this,Qt.Ja,c),this.size=g}C(gi,L);function Qi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Ri(){this.g=!0}Ri.prototype.ua=function(){this.g=!1};function zu(c,g,T,R,F,Q){c.info(function(){if(c.g)if(Q){var de="",He=Q.split("&");for(let Ze=0;Ze<He.length;Ze++){var Wt=He[Ze].split("=");if(Wt.length>1){const pt=Wt[0];Wt=Wt[1];const ki=pt.split("_");de=ki.length>=2&&ki[1]=="type"?de+(pt+"="+Wt+"&"):de+(pt+"=redacted&")}}}else de=null;else de=Q;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+g+`
`+T+`
`+de})}function Cl(c,g,T,R,F,Q,de){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+g+`
`+T+`
`+Q+" "+de})}function pr(c,g,T,R){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ns(c,T)+(R?" "+R:"")})}function Ls(c,g){c.info(function(){return"TIMEOUT: "+g})}Ri.prototype.info=function(){};function ns(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var T=Q[c];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return es(Q)}catch{return g}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Ps(){}C(Ps,xr),Ps.prototype.g=function(){return new XMLHttpRequest},jo=new Ps;function Or(c){return encodeURIComponent(String(c))}function Rl(c){var g=1;c=c.split(":");const T=[];for(;g>0&&c.length;)T.push(c.shift()),g--;return c.length&&T.push(c.join(":")),T}function _i(c,g,T,R){this.j=c,this.i=g,this.l=T,this.S=R||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Lt={},gn={};function Ii(c,g,T){c.M=1,c.A=is(Xt(g)),c.u=T,c.R=!0,Da(c,null)}function Da(c,g){c.F=Date.now(),zt(c),c.B=Xt(c.A);var T=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),rs(T.i,"t",R),c.C=0,T=c.j.L,c.h=new Pn,c.g=xl(c.j,T?g:null,!c.u),c.P>0&&(c.O=new Kn(y(c.Y,c,c.g),c.P)),g=c.V,T=c.g,R=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ci[0]=F.toString()),F=Ci);for(let Q=0;Q<F.length;Q++){const de=ge(T,F[Q],R||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),mr(),zu(c.i,c.v,c.B,c.l,c.S,c.u)}_i.prototype.ba=function(c){c=c.target;const g=this.O;g&&Mi(c)==3?g.j():this.Y(c)},_i.prototype.Y=function(c){try{if(c==this.g)e:{const He=Mi(this.g),Wt=this.g.ya(),Ze=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||He!=4||Wt==7||(Wt==8||Ze<=0?mr(3):mr(2)),Mt(this);var g=this.g.ca();this.X=g;var T=Bu(this);if(this.o=g==200,Cl(this.i,this.v,this.B,this.l,this.S,He,g),this.o){if(this.U&&!this.L){t:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Q=R;break t}}Q=null}if(c=Q)pr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Un(this,c);else{this.o=!1,this.m=3,Yt(12),vn(this),Qn(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=_n(this,T),pt==gn){He==4&&(this.m=4,Yt(14),c=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Lt){this.m=4,Yt(15),pr(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else pr(this.i,this.l,pt,null),Un(this,pt);if(Mr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||T.length!=0||this.h.h||(this.m=1,Yt(16),c=!1),this.o=this.o&&c,!c)pr(this.i,this.l,T,"[Invalid Chunked Response]"),vn(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Pa(de),de.P=!0,Yt(11))}}else pr(this.i,this.l,T,null),Un(this,T);He==4&&vn(this),this.o&&!this.K&&(He==4?Il(this.j,this):(this.o=!1,zt(this)))}else Zi(this.g),g==400&&T.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),vn(this),Qn(this)}}}catch{}finally{}};function Bu(c){if(!Mr(c))return c.g.la();const g=mn(c.g);if(g==="")return"";let T="";const R=g.length,F=Mi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Qn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<R;Q++)c.h.h=!0,T+=c.h.i.decode(g[Q],{stream:!(F&&Q==R-1)});return g.length=0,c.h.g+=T,c.C=0,c.h.g}function Mr(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function _n(c,g){var T=c.C,R=g.indexOf(`
`,T);return R==-1?gn:(T=Number(g.substring(T,R)),isNaN(T)?Lt:(R+=1,R+T>g.length?gn:(g=g.slice(R,R+T),c.C=R+T,g)))}_i.prototype.cancel=function(){this.K=!0,vn(this)};function zt(c){c.T=Date.now()+c.H,yn(c,c.H)}function yn(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Qi(y(c.aa,c),g)}function Mt(c){c.D&&(f.clearTimeout(c.D),c.D=null)}_i.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(mr(),Yt(17)),vn(this),this.m=2,Qn(this)):yn(this,this.T-c)};function Qn(c){c.j.I==0||c.K||Il(c.j,c)}function vn(c){Mt(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ra(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Un(c,g){try{var T=c.j;if(T.I!=0&&(T.g==c||Xi(T.h,c))){if(!c.L&&Xi(T.h,c)&&T.I==3){try{var R=T.Ba.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)$s(T),vr(T);else break e;ls(T),Yt(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Qi(y(T.Va,T),6e3));Yn(T.h)<=1&&T.ta&&(T.ta=void 0)}else nr(T,11)}else if((c.L||T.g==c)&&$s(T),!M(g))for(F=T.Ba.g.parse(g),g=0;g<F.length;g++){let Ze=F[g];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const ki=Ze[3];ki!=null&&(T.ka=ki,T.j.info("VER="+T.ka));const vi=Ze[4];vi!=null&&(T.za=vi,T.j.info("SVER="+T.za));const rr=Ze[5];rr!=null&&typeof rr=="number"&&rr>0&&(R=1.5*rr,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const sr=c.g;if(sr){const Qs=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var Q=R.h;Q.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(js(Q,Q.h),Q.h=null))}if(R.G){const ja=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(R.wa=ja,mt(R.J,R.G,ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var de=c;if(R.na=Ks(R,R.L?R.ba:null,R.W),de.L){zs(R.h,de);var He=de,Wt=R.O;Wt&&(He.H=Wt),He.D&&(Mt(He),zt(He)),R.g=de}else Go(R);T.i.length>0&&er(T)}else Ze[0]!="stop"&&Ze[0]!="close"||nr(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?nr(T,7):jr(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}mr(4)}catch{}}var Nt=class{constructor(c,g){this.g=c,this.map=g}};function xa(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Us(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yn(c){return c.h?1:c.g?c.g.size:0}function Xi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function js(c,g){c.g?c.g.add(g):c.h=g}function zs(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xa.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Na(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const T of c.g.values())g=g.concat(T.G);return g}return q(c.i)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bs(c,g){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const R=c[T].indexOf("=");let F,Q=null;R>=0?(F=c[T].substring(0,R),Q=c[T].substring(R+1)):F=c[T],g(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function oi(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof oi?(this.l=c.l,cn(this,c.j),this.o=c.o,this.g=c.g,Vr(this,c.u),this.h=c.h,Oa(this,Bo(c.i)),this.m=c.m):c&&(g=String(c).match(zo))?(this.l=!1,cn(this,g[1]||"",!0),this.o=hn(g[2]||""),this.g=hn(g[3]||"",!0),Vr(this,g[4]),this.h=hn(g[5]||"",!0),Oa(this,g[6]||"",!0),this.m=hn(g[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}oi.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(fn(g,Dn,!0),":");var T=this.g;return(T||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fn(g,Dn,!0),"@"),c.push(Or(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(fn(T,T.charAt(0)=="/"?Hs:Ma,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",fn(T,gr)),c.join("")},oi.prototype.resolve=function(c){const g=Xt(this);let T=!!c.j;T?cn(g,c.j):T=!!c.o,T?g.o=c.o:T=!!c.g,T?g.g=c.g:T=c.u!=null;var R=c.h;if(T)Vr(g,c.u);else if(T=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var F=g.h.lastIndexOf("/");F!=-1&&(R=g.h.slice(0,F+1)+R)}if(F=R,F==".."||F==".")R="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){R=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let de=0;de<F.length;){const He=F[de++];He=="."?R&&de==F.length&&Q.push(""):He==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&de==F.length&&Q.push("")):(Q.push(He),R=!0)}R=Q.join("/")}else R=F}return T?g.h=R:T=c.i.toString()!=="",T?Oa(g,Bo(c.i)):T=!!c.m,T&&(g.m=c.m),g};function Xt(c){return new oi(c)}function cn(c,g,T){c.j=T?hn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Vr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Oa(c,g,T){g instanceof Wi?(c.i=g,La(c.i,c.l)):(T||(g=fn(g,xn)),c.i=new Wi(g,c.l))}function mt(c,g,T){c.i.set(g,T)}function is(c){return mt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fn(c,g,T){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Dn=/[#\/\?@]/g,Ma=/[#\?:]/g,Hs=/[#\?]/g,xn=/[#\?@]/g,gr=/#/g;function Wi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Bs(c.i,function(g,T){c.add(decodeURIComponent(g.replace(/\+/g," ")),T)}))}r=Wi.prototype,r.add=function(c,g){dn(this),this.i=null,c=jn(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(g),this.h+=1,this};function Va(c,g){dn(c),g=jn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ka(c,g){return dn(c),g=jn(c,g),c.g.has(g)}r.forEach=function(c,g){dn(this),this.g.forEach(function(T,R){T.forEach(function(F){c.call(g,F,R,this)},this)},this)};function _r(c,g){dn(c);let T=[];if(typeof g=="string")ka(c,g)&&(T=T.concat(c.g.get(jn(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)T=T.concat(c[g]);return T}r.set=function(c,g){return dn(this),this.i=null,c=jn(this,c),ka(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=_r(this,c),c.length>0?String(c[0]):g):g};function rs(c,g,T){Va(c,g),T.length>0&&(c.i=null,c.g.set(jn(c,g),q(T)),c.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let R=0;R<g.length;R++){var T=g[R];const F=Or(T);T=_r(this,T);for(let Q=0;Q<T.length;Q++){let de=F;T[Q]!==""&&(de+="="+Or(T[Q])),c.push(de)}}return this.i=c.join("&")};function Bo(c){const g=new Wi;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function jn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function La(c,g){g&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(T,R){const F=R.toLowerCase();R!=F&&(Va(this,R),rs(this,F,T))},c)),c.j=g}function En(c,g){const T=new Ri;if(f.Image){const R=new Image;R.onload=A(yi,T,"TestLoadImage: loaded",!0,g,R),R.onerror=A(yi,T,"TestLoadImage: error",!1,g,R),R.onabort=A(yi,T,"TestLoadImage: abort",!1,g,R),R.ontimeout=A(yi,T,"TestLoadImage: timeout",!1,g,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else g(!1)}function ss(c,g){const T=new Ri,R=new AbortController,F=setTimeout(()=>{R.abort(),yi(T,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:R.signal}).then(Q=>{clearTimeout(F),Q.ok?yi(T,"TestPingServer: ok",!0,g):yi(T,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),yi(T,"TestPingServer: error",!1,g)})}function yi(c,g,T,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(T)}catch{}}function Di(){this.g=new ts}function xi(c){this.i=c.Sb||null,this.h=c.ab||!1}C(xi,xr),xi.prototype.g=function(){return new Ji(this.i,this.h)};function Ji(c,g){nn.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Ji,nn),r=Ji.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?kr(this):Ni(this),this.readyState==3&&qs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,kr(this))},r.Na=function(c){this.g&&(this.response=c,kr(this))},r.ga=function(){this.g&&kr(this)};function kr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ni(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var T=g.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=g.next();return c.join(`\r
`)};function Ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let g="";return ot(c,function(T,R){g+=R,g+=":",g+=T,g+=`\r
`}),g}function Fs(c,g,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Nn(T),typeof c=="string"?T!=null&&Or(T):mt(c,g,T))}function Et(c){nn.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Et,nn);var Oi=/^https?$/i,as=["POST","PUT"];r=Et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Lr(this,Q);return}if(c=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)T.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())T.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(as,g,void 0)>=0)||R||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of T)this.g.setRequestHeader(Q,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Lr(this,Q)}};function Lr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ho(c),Pr(c)}function Ho(c){c.A||(c.A=!0,un(c,"complete"),un(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,un(this,"complete"),un(this,"abort"),Pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),Et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},r.Xa=function(){yr(this)};function yr(c){if(c.h&&typeof u<"u"){if(c.v&&Mi(c)==4)setTimeout(c.Ca.bind(c),0);else if(un(c,"readystatechange"),Mi(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var T;if(!(T=g)){var R;if(R=Q===0){let de=String(c.D).match(zo)[1]||null;!de&&f.self&&f.self.location&&(de=f.self.location.protocol.slice(0,-1)),R=!Oi.test(de?de.toLowerCase():"")}T=R}if(T)un(c,"complete"),un(c,"success");else{c.o=6;try{var F=Mi(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",Ho(c)}}finally{Pr(c)}}}}function Pr(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,g||un(c,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Mi(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ju(g)}};function mn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const g={};c=(c.g&&Mi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(M(c[R]))continue;var T=Rl(c[R]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=g[F]||[];g[F]=Q,Q.push(T)}dt(g,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(c,g,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||g}function Ur(c){this.za=0,this.i=[],this.j=new Ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,c),this.Za=Vi("retryDelaySeedMs",1e4,c),this.Ta=Vi("forwardChannelMaxRetries",2,c),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xa(c&&c.concurrentRequestLimit),this.Ba=new Di,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ur.prototype,r.ka=8,r.I=1,r.connect=function(c,g,T,R){Yt(0),this.W=c,this.H=g||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Ks(this,null,this.W),er(this)};function jr(c){if(Gs(c),c.I==3){var g=c.V++,T=Xt(c.J);if(mt(T,"SID",c.M),mt(T,"RID",g),mt(T,"TYPE","terminate"),os(c,T),g=new _i(c,c.j,g),g.M=2,g.A=is(Xt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!T&&f.Image&&(new Image().src=g.A,T=!0),T||(g.g=xl(g.j,null),g.g.ea(g.A)),g.F=Date.now(),zt(g)}$o(c)}function vr(c){c.g&&(Pa(c),c.g.cancel(),c.g=null)}function Gs(c){vr(c),c.v&&(f.clearTimeout(c.v),c.v=null),$s(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function er(c){if(!Us(c.h)&&!c.m){c.m=!0;var g=c.Ea;Ke||D(),Ye||(Ke(),Ye=!0),k.add(g,c),c.D=0}}function tr(c,g){return Yn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Qi(y(c.Ea,c,g),Dl(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new _i(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=I(Q),pe(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)e:{for(var g=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,g>4096){g=T;break e}if(g===4096||T===this.i.length-1){g=T+1;break e}}g=1e3}else g=1e3;g=Fo(this,F,g),T=Xt(this.J),mt(T,"RID",c),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),os(this,T),Q&&(this.R?g="headers="+Or(Nn(Q))+"&"+g:this.u&&Fs(T,this.u,Q)),js(this.h,F),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",g),mt(T,"SID","null"),F.U=!0,Ii(F,T,null)):Ii(F,T,g),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||Us(this.h)||qo(this))};function qo(c,g){var T;g?T=g.l:T=c.V++;const R=Xt(c.J);mt(R,"SID",c.M),mt(R,"RID",T),mt(R,"AID",c.K),os(c,R),c.u&&c.o&&Fs(R,c.u,c.o),T=new _i(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Fo(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),js(c.h,T),Ii(T,R,g)}function os(c,g){c.H&&ot(c.H,function(T,R){mt(g,R,T)}),c.l&&ot({},function(T,R){mt(g,R,T)})}function Fo(c,g,T){T=Math.min(c.i.length,T);const R=c.l?y(c.l.Ka,c.l,c):null;e:{var F=c.i;let He=-1;for(;;){const Wt=["count="+T];He==-1?T>0?(He=F[0].g,Wt.push("ofs="+He)):He=0:Wt.push("ofs="+He);let Ze=!0;for(let pt=0;pt<T;pt++){var Q=F[pt].g;const ki=F[pt].map;if(Q-=He,Q<0)He=Math.max(0,F[pt].g-100),Ze=!1;else try{Q="req"+Q+"_"||"";try{var de=ki instanceof Map?ki:Object.entries(ki);for(const[vi,rr]of de){let sr=rr;p(rr)&&(sr=es(rr)),Wt.push(Q+vi+"="+encodeURIComponent(sr))}}catch(vi){throw Wt.push(Q+"type="+encodeURIComponent("_badmap")),vi}}catch{R&&R(ki)}}if(Ze){de=Wt.join("&");break e}}de=void 0}return c=c.i.splice(0,T),g.G=c,de}function Go(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Ke||D(),Ye||(Ke(),Ye=!0),k.add(g,c),c.A=0}}function ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Qi(y(c.Da,c),Dl(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ua(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Qi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),vr(this),Ua(this))};function Pa(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ua(c){c.g=new _i(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Xt(c.na);mt(g,"RID","rpc"),mt(g,"SID",c.M),mt(g,"AID",c.K),mt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&mt(g,"TO",c.ia),mt(g,"TYPE","xmlhttp"),os(c,g),c.u&&c.o&&Fs(g,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=is(Xt(g)),T.u=null,T.R=!0,Da(T,c)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),ls(this),Yt(19))};function $s(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Il(c,g){var T=null;if(c.g==g){$s(c),Pa(c),c.g=null;var R=2}else if(Xi(c.h,g))T=g.G,zs(c.h,g),R=1;else return;if(c.I!=0){if(g.o)if(R==1){T=g.u?g.u.length:0,g=Date.now()-g.F;var F=c.D;R=Ia(),un(R,new gi(R,T)),er(c)}else Go(c);else if(F=g.m,F==3||F==0&&g.X>0||!(R==1&&tr(c,g)||R==2&&ls(c)))switch(T&&T.length>0&&(g=c.h,g.i=g.i.concat(T)),F){case 1:nr(c,5);break;case 4:nr(c,10);break;case 3:nr(c,6);break;default:nr(c,2)}}}function Dl(c,g){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*g}function nr(c,g){if(c.j.info("Error code "+g),g==2){var T=y(c.bb,c),R=c.Ua;const F=!R;R=new oi(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||cn(R,"https"),is(R),F?En(R.toString(),T):ss(R.toString(),T)}else Yt(2);c.I=0,c.l&&c.l.pa(g),$o(c),Gs(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function $o(c){if(c.I=0,c.ja=[],c.l){const g=Na(c.h);(g.length!=0||c.i.length!=0)&&(ne(c.ja,g),ne(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Ks(c,g,T){var R=T instanceof oi?Xt(T):new oi(T);if(R.g!="")g&&(R.g=g+"."+R.g),Vr(R,R.u);else{var F=f.location;R=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;const Q=new oi(null);R&&cn(Q,R),g&&(Q.g=g),F&&Vr(Q,F),T&&(Q.h=T),R=Q}return T=c.G,g=c.wa,T&&g&&mt(R,T,g),mt(R,"VER",c.ka),os(c,R),R}function xl(c,g,T){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Et(new xi({ab:T})):new Et(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nl(){}r=Nl.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(c,g){return new zn(c,g)};function zn(c,g){nn.call(this),this.g=new Ur(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!M(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ir(this)}C(zn,nn),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){jr(this.g)},zn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=es(c),c=T);g.i.push(new Nt(g.Ya++,c)),g.I==3&&er(g)},zn.prototype.N=function(){this.g.l=null,delete this.j,jr(this.g),delete this.g,zn.Z.N.call(this)};function Ko(c){In.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const T in g){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(Ko,In);function Tr(){ai.call(this),this.status=1}C(Tr,ai);function ir(c){this.g=c}C(ir,Nl),ir.prototype.ra=function(){un(this.g,"a")},ir.prototype.qa=function(c){un(this.g,new Ko(c))},ir.prototype.pa=function(c){un(this.g,new Tr)},ir.prototype.oa=function(){un(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,Ub=function(){return new Er},Pb=function(){return Ia()},Lb=Qt,Bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Qf=Yi,Uo.COMPLETE="complete",kb=Uo,Nr.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",nn.prototype.listen=nn.prototype.J,Yc=Nr,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,Vb=Et}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",IE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new hg("@firebase/firestore");function ou(){return _l.logLevel}function Te(r,...e){if(_l.logLevel<=rt.DEBUG){const n=e.map(bg);_l.debug(`Firestore (${Ou}): ${r}`,...n)}}function Ea(r,...e){if(_l.logLevel<=rt.ERROR){const n=e.map(bg);_l.error(`Firestore (${Ou}): ${r}`,...n)}}function Eu(r,...e){if(_l.logLevel<=rt.WARN){const n=e.map(bg);_l.warn(`Firestore (${Ou}): ${r}`,...n)}}function bg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,jb(r,s,n)}function jb(r,e,n){let s=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ea(s),new Error(s)}function wt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||jb(e,o,s)}function $e(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Aa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fi.UNAUTHENTICATED)))}shutdown(){}}class s2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a2{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ga,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ga)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt(typeof s.accessToken=="string",31837,{l:s}),new zb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new fi(e)}}class o2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new o2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const s=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=c2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function st(r,e){return r<e?-1:r>e?1:0}function Hp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Cp(o)===Cp(u)?st(o,u):Cp(o)?1:-1}return st(r.length,e.length)}const h2=55296,f2=57343;function Cp(r){const e=r.charCodeAt(0);return e>=h2&&e<=f2}function Tu(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class bs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ke(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=bs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return st(e.length,n.length)}static compareSegments(e,n){const s=bs.isNumericId(e),o=bs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bs.extractNumericId(e).compare(bs.extractNumericId(n)):Hp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}}class Ut extends bs{construct(e,n,s){return new Ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends bs{construct(e,n,s){return new ni(e,n,s)}static isValidIdentifier(e){return d2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new ni([xE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(n)}static emptyPath(){return new ni([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Ut.fromString(e))}static fromName(e){return new De(Ut.fromString(e).popFirst(5))}static empty(){return new De(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(r,e,n){if(!n)throw new Ae(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function m2(r,e,n,s){if(e===!0&&s===!0)throw new Ae(ce.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function NE(r){if(!De.isDocumentKey(r))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OE(r){if(De.isDocumentKey(r))throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke(12329,{type:typeof r})}function Ta(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sg(r);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Sh(r,e){if(!Hb(r))throw new Ae(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ae(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=-62135596800,VE=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*VE);return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ME)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sh(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:Rn("string",jt._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new jt(0,0))}static max(){return new Fe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=-1;function p2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new Ro(o,De.empty(),e)}function g2(r){return new Ro(r.readTime,r.key,uh)}class Ro{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ro(Fe.min(),De.empty(),uh)}static max(){return new Ro(Fe.max(),De.empty(),uh)}}function _2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(r.documentKey,e.documentKey),n!==0?n:st(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(r){if(r.code!==ce.FAILED_PRECONDITION||r.message!==y2)throw r;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(_=>s(_)))})),f=!0,u===o&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((o=>o?le.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;n(e[y]).next((A=>{f[y]=A,++p,p===u&&s(f)}),(A=>o(A)))}}))}static doWhile(e,n){return new le(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function E2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Id.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Dd(r){return r==null}function cd(r){return r===0&&1/r==-1/0}function T2(r){return typeof r=="number"&&Number.isInteger(r)&&!cd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="";function b2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=kE(e)),e=A2(r.get(n),e);return kE(e)}function A2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case qb:n+="";break;default:n+=u}}return n}function kE(r){return r+qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ko(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Fb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||ei.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uf(this.root,e,this.comparator,!0)}}class Uf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??ei.RED,this.left=o??ei.EMPTY,this.right=u??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new ei(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ei.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Ln(ni.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gb("Invalid base64 string: "+u):u}})(e);return new ii(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new ii(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(r){if(wt(!!r,39018),typeof r=="string"){let e=0;const n=S2.exec(r);if(wt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pn(r.seconds),nanos:pn(r.nanos)}}function pn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Do(r){return typeof r=="string"?ii.fromBase64String(r):ii.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="server_timestamp",Kb="__type__",Qb="__previous_value__",Yb="__local_write_time__";function Cg(r){return(r?.mapValue?.fields||{})[Kb]?.stringValue===$b}function xd(r){const e=r.mapValue.fields[Qb];return Cg(e)?xd(e):e}function ch(r){const e=Io(r.mapValue.fields[Yb].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,s,o,u,f,p,_,y,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const hd="(default)";class hh{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new hh("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__type__",C2="__max__",jf={mapValue:{}},Wb="__vector__",fd="value";function xo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cg(r)?4:I2(r)?9007199254740991:R2(r)?10:11:ke(28295,{value:r})}function xs(r,e){if(r===e)return!0;const n=xo(r);if(n!==xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ch(r).isEqual(ch(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Io(o.timestampValue),p=Io(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Do(o.bytesValue).isEqual(Do(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return pn(o.geoPointValue.latitude)===pn(u.geoPointValue.latitude)&&pn(o.geoPointValue.longitude)===pn(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pn(o.integerValue)===pn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pn(o.doubleValue),p=pn(u.doubleValue);return f===p?cd(f)===cd(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return Tu(r.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(LE(f)!==LE(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!xs(f[_],p[_])))return!1;return!0})(r,e);default:return ke(52216,{left:r})}}function fh(r,e){return(r.values||[]).find((n=>xs(n,e)))!==void 0}function bu(r,e){if(r===e)return 0;const n=xo(r),s=xo(e);if(n!==s)return st(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=pn(u.integerValue||u.doubleValue),_=pn(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return UE(r.timestampValue,e.timestampValue);case 4:return UE(ch(r),ch(e));case 5:return Hp(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=Do(u),_=Do(f);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=st(p[y],_[y]);if(A!==0)return A}return st(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=st(pn(u.latitude),pn(f.latitude));return p!==0?p:st(pn(u.longitude),pn(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return jE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},_=f.fields||{},y=p[fd]?.arrayValue,A=_[fd]?.arrayValue,C=st(y?.values?.length||0,A?.values?.length||0);return C!==0?C:jE(y,A)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===jf.mapValue&&f===jf.mapValue)return 0;if(u===jf.mapValue)return 1;if(f===jf.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=f.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const x=Hp(_[C],A[C]);if(x!==0)return x;const q=bu(p[_[C]],y[A[C]]);if(q!==0)return q}return st(_.length,A.length)})(r.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function UE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return st(r,e);const n=Io(r),s=Io(e),o=st(n.seconds,s.seconds);return o!==0?o:st(n.nanos,s.nanos)}function jE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bu(n[o],s[o]);if(u)return u}return st(n.length,s.length)}function Au(r){return qp(r)}function qp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Io(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Do(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return De.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qp(n.fields[f])}`;return o+"}"})(r.mapValue):ke(61005,{value:r})}function Yf(r){switch(xo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(r);return e?16+Yf(e):16;case 5:return 2*r.stringValue.length;case 6:return Do(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Yf(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ko(s.fields,((u,f)=>{o+=u.length+Yf(f)})),o})(r.mapValue);default:throw ke(13486,{value:r})}}function Fp(r){return!!r&&"integerValue"in r}function Rg(r){return!!r&&"arrayValue"in r}function zE(r){return!!r&&"nullValue"in r}function BE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xf(r){return!!r&&"mapValue"in r}function R2(r){return(r?.mapValue?.fields||{})[Xb]?.stringValue===Wb}function th(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ko(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=th(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=th(r.arrayValue.values[n]);return e}return{...r}}function I2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(n)}setAll(e){let n=ni.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=th(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Xf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ko(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new $i(th(this.value))}}function Jb(r){const e=[];return ko(r.fields,((n,s)=>{const o=new ni([n]);if(Xf(s)){const u=Jb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new di(e,0,Fe.min(),Fe.min(),Fe.min(),$i.empty(),0)}static newFoundDocument(e,n,s,o){return new di(e,1,n,Fe.min(),s,o,0)}static newNoDocument(e,n){return new di(e,2,n,Fe.min(),Fe.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new di(e,3,n,Fe.min(),Fe.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function HE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=De.comparator(De.fromName(f.referenceValue),n.key):s=bu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xs(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n="asc"){this.field=e,this.dir=n}}function D2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{}class Vn extends Zb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new N2(e,n,s):n==="array-contains"?new V2(e,s):n==="in"?new k2(e,s):n==="not-in"?new L2(e,s):n==="array-contains-any"?new P2(e,s):new Vn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new O2(e,s):new M2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bu(n,this.value)):n!==null&&xo(this.value)===xo(n)&&this.matchesComparison(bu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends Zb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return e0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e0(r){return r.op==="and"}function t0(r){return x2(r)&&e0(r)}function x2(r){for(const e of r.filters)if(e instanceof Ns)return!1;return!0}function Gp(r){if(r instanceof Vn)return r.field.canonicalString()+r.op.toString()+Au(r.value);if(t0(r))return r.filters.map((e=>Gp(e))).join(",");{const e=r.filters.map((n=>Gp(n))).join(",");return`${r.op}(${e})`}}function n0(r,e){return r instanceof Vn?(function(s,o){return o instanceof Vn&&s.op===o.op&&s.field.isEqual(o.field)&&xs(s.value,o.value)})(r,e):r instanceof Ns?(function(s,o){return o instanceof Ns&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&n0(f,o.filters[p])),!0):!1})(r,e):void ke(19439)}function i0(r){return r instanceof Vn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Au(n.value)}`})(r):r instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(i0).join(" ,")+"}"})(r):"Filter"}class N2 extends Vn{constructor(e,n,s){super(e,n,s),this.key=De.fromName(s.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class O2 extends Vn{constructor(e,n){super(e,"in",n),this.keys=r0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class M2 extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=r0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function r0(r,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class V2 extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&fh(n.arrayValue,this.value)}}class k2 extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fh(this.value.arrayValue,n)}}class L2 extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fh(this.value.arrayValue,n)}}class P2 extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>fh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function FE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new U2(r,e,n,s,o,u,f)}function Ig(r){const e=$e(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Au(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Au(s))).join(",")),e.Te=n}return e.Te}function Dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!D2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!n0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qE(r.startAt,e.startAt)&&qE(r.endAt,e.endAt)}function $p(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j2(r,e,n,s,o,u,f,p){return new Nd(r,e,n,s,o,u,f,p)}function xg(r){return new Nd(r)}function GE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function z2(r){return r.collectionGroup!==null}function nh(r){const e=$e(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ln(ni.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new md(u,s))})),n.has(ni.keyField().canonicalString())||e.Ie.push(new md(ni.keyField(),s))}return e.Ie}function ws(r){const e=$e(r);return e.Ee||(e.Ee=B2(e,nh(r))),e.Ee}function B2(r,e){if(r.limitType==="F")return FE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new md(o.field,u)}));const n=r.endAt?new dd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dd(r.startAt.position,r.startAt.inclusive):null;return FE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Kp(r,e,n){return new Nd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Od(r,e){return Dg(ws(r),ws(e))&&r.limitType===e.limitType}function s0(r){return`${Ig(ws(r))}|lt:${r.limitType}`}function lu(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>i0(o))).join(", ")}]`),Dd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Au(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Au(o))).join(",")),`Target(${s})`})(ws(r))}; limitType=${r.limitType})`}function Md(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):De.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of nh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,_){const y=HE(f,p,_);return f.inclusive?y<=0:y<0})(s.startAt,nh(s),o)||s.endAt&&!(function(f,p,_){const y=HE(f,p,_);return f.inclusive?y>=0:y>0})(s.endAt,nh(s),o))})(r,e)}function H2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function a0(r){return(e,n)=>{let s=!1;for(const o of nh(r)){const u=q2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function q2(r,e,n){const s=r.field.isKeyField()?De.comparator(e.key,n.key):(function(u,f,p){const _=f.data.field(u),y=p.data.field(u);return _!==null&&y!==null?bu(_,y):ke(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new en(De.comparator);function ba(){return F2}const o0=new en(De.comparator);function Xc(...r){let e=o0;for(const n of r)e=e.insert(n.key,n);return e}function l0(r){let e=o0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fl(){return ih()}function u0(){return ih()}function ih(){return new El((r=>r.toString()),((r,e)=>r.isEqual(e)))}const G2=new en(De.comparator),$2=new Ln(De.comparator);function at(...r){let e=$2;for(const n of r)e=e.add(n);return e}const K2=new Ln(st);function Q2(){return K2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function c0(r){return{integerValue:""+r}}function Y2(r,e){return T2(e)?c0(e):Ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function X2(r,e,n){return r instanceof dh?(function(o,u){const f={fields:{[Kb]:{stringValue:$b},[Yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cg(u)&&(u=xd(u)),u&&(f.fields[Qb]=u),{mapValue:f}})(n,e):r instanceof mh?f0(r,e):r instanceof ph?d0(r,e):(function(o,u){const f=h0(o,u),p=$E(f)+$E(o.Ae);return Fp(f)&&Fp(o.Ae)?c0(p):Ng(o.serializer,p)})(r,e)}function W2(r,e,n){return r instanceof mh?f0(r,e):r instanceof ph?d0(r,e):n}function h0(r,e){return r instanceof pd?(function(s){return Fp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class dh extends Vd{}class mh extends Vd{constructor(e){super(),this.elements=e}}function f0(r,e){const n=m0(e);for(const s of r.elements)n.some((o=>xs(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ph extends Vd{constructor(e){super(),this.elements=e}}function d0(r,e){let n=m0(e);for(const s of r.elements)n=n.filter((o=>!xs(o,s)));return{arrayValue:{values:n}}}class pd extends Vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(r){return pn(r.integerValue||r.doubleValue)}function m0(r){return Rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.field=e,this.transform=n}}function Z2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof mh&&o instanceof mh||s instanceof ph&&o instanceof ph?Tu(s.elements,o.elements,xs):s instanceof pd&&o instanceof pd?xs(s.Ae,o.Ae):s instanceof dh&&o instanceof dh})(r.transform,e.transform)}class eD{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class kd{}function p0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Og(r.key,Wr.none()):new wh(r.key,r.data,Wr.none());{const n=r.data,s=$i.empty();let o=new Ln(ni.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Lo(r.key,s,new cr(o.toArray()),Wr.none())}}function tD(r,e,n){r instanceof wh?(function(o,u,f){const p=o.value.clone(),_=QE(o.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Lo?(function(o,u,f){if(!Wf(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=QE(o.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(g0(o)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function rh(r,e,n,s){return r instanceof wh?(function(u,f,p,_){if(!Wf(u.precondition,f))return p;const y=u.value.clone(),A=YE(u.fieldTransforms,_,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Lo?(function(u,f,p,_){if(!Wf(u.precondition,f))return p;const y=YE(u.fieldTransforms,_,f),A=f.data;return A.setAll(g0(u)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(r,e,n,s):(function(u,f,p){return Wf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function nD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=h0(s.transform,o||null);u!=null&&(n===null&&(n=$i.empty()),n.set(s.field,u))}return n||null}function KE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Tu(s,o,((u,f)=>Z2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wh extends kd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lo extends kd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function g0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function QE(r,e,n){const s=new Map;wt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,W2(f,p,n[o]))}return s}function YE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,X2(u,f,e))}return s}class Og extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=u0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const _=p0(f,p);_!==null&&s.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(Fe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,((n,s)=>KE(n,s)))&&Tu(this.baseMutations,e.baseMutations,((n,s)=>KE(n,s)))}}class Mg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){wt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return G2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,ct;function oD(r){switch(r){case ce.OK:return ke(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ke(15467,{code:r})}}function _0(r){if(r===void 0)return Ea("GRPC error has no .code"),ce.UNKNOWN;switch(r){case Cn.OK:return ce.OK;case Cn.CANCELLED:return ce.CANCELLED;case Cn.UNKNOWN:return ce.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ce.INTERNAL;case Cn.UNAVAILABLE:return ce.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ce.NOT_FOUND;case Cn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Cn.ABORTED:return ce.ABORTED;case Cn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Cn.DATA_LOSS:return ce.DATA_LOSS;default:return ke(39323,{code:r})}}(ct=Cn||(Cn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new wo([4294967295,4294967295],0);function XE(r){const e=lD().encode(r),n=new Mb;return n.update(e),new Uint8Array(n.digest())}function WE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wo([n,s],0),new wo([o,u],0)]}class Vg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wc(`Invalid padding: ${n}`);if(s<0)throw new Wc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wo.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(wo.fromNumber(s)));return o.compare(uD)===1&&(o=new wo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[s,o]=WE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vg(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=XE(e),[s,o]=WE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ld(Fe.min(),o,new en(st),ba(),at())}}class Ch{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ch(s,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class y0{constructor(e,n){this.targetId=e,this.Ce=n}}class v0{constructor(e,n,s=ii.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=ii.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),s=at();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ke(38017,{changeType:u})}})),new Ch(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ba(),this.Je=zf(),this.He=zf(),this.Ye=new en(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($p(u))if(s===0){const f=new De(u.path);this.et(n,f,di.newNoDocument(f,Fe.min()))}else wt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),_=p?this.ct(p,e,f):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Do(s).toUint8Array()}catch(_){if(_ instanceof Gb)return Eu("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Vg(f,o,u)}catch(_){return Eu(_ instanceof Wc?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&$p(p.target)){const _=new De(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,di.newNoDocument(_,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=at();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Ld(e,n,this.Ye,this.je,s);return this.je=ba(),this.Je=zf(),this.He=zf(),this.Ye=new en(st),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ln(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ln(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zf(){return new en(De.comparator)}function ZE(){return new en(De.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dD={and:"AND",or:"OR"};class mD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qp(r,e){return r.useProto3Json||Dd(e)?e:{value:e}}function gd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function pD(r,e){return gd(r,e.toTimestamp())}function Cs(r){return wt(!!r,49232),Fe.fromTimestamp((function(n){const s=Io(n);return new jt(s.seconds,s.nanos)})(r))}function kg(r,e){return Yp(r,e).canonicalString()}function Yp(r,e){const n=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function T0(r){const e=Ut.fromString(r);return wt(C0(e),10190,{key:e.toString()}),e}function Xp(r,e){return kg(r.databaseId,e.path)}function Rp(r,e){const n=T0(e);if(n.get(1)!==r.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new De(A0(n))}function b0(r,e){return kg(r.databaseId,e)}function gD(r){const e=T0(r);return e.length===4?Ut.emptyPath():A0(e)}function Wp(r){return new Ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function A0(r){return wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function eT(r,e,n){return{name:Xp(r,e),fields:n.value.mapValue.fields}}function _D(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ke(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,A){return y.useProto3Json?(wt(A===void 0||typeof A=="string",58123),ii.fromBase64String(A||"")):(wt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ii.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const A=y.code===void 0?ce.UNKNOWN:_0(y.code);return new Ae(A,y.message||"")})(f);n=new v0(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rp(r,s.document.name),u=Cs(s.document.updateTime),f=s.document.createTime?Cs(s.document.createTime):Fe.min(),p=new $i({mapValue:{fields:s.document.fields}}),_=di.newFoundDocument(o,u,f,p),y=s.targetIds||[],A=s.removedTargetIds||[];n=new Jf(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rp(r,s.document),u=s.readTime?Cs(s.readTime):Fe.min(),f=di.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Jf([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rp(r,s.document),u=s.removedTargetIds||[];n=new Jf([],u,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new aD(o,u),p=s.targetId;n=new y0(p,f)}}return n}function yD(r,e){let n;if(e instanceof wh)n={update:eT(r,e.key,e.value)};else if(e instanceof Og)n={delete:Xp(r,e.key)};else if(e instanceof Lo)n={update:eT(r,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof iD))return ke(16599,{Vt:e.type});n={verify:Xp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ph)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pd)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw ke(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:pD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ke(27497)})(r,e.precondition)),n}function vD(r,e){return r&&r.length>0?(wt(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Cs(o.updateTime):Cs(u);return f.isEqual(Fe.min())&&(f=Cs(u)),new eD(f,o.transformResults||[])})(n,e)))):[]}function ED(r,e){return{documents:[b0(r,e.path)]}}function TD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=b0(r,o);const u=(function(y){if(y.length!==0)return w0(Ns.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:uu(x.field),direction:SD(x.dir)}})(A)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Qp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function bD(r){let e=gD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){wt(s===1,65062);const A=n.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=(function(C){const x=S0(C);return x instanceof Ns&&t0(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(C){return C.map((x=>(function(ne){return new md(cu(ne.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(x)))})(n.orderBy));let p=null;n.limit&&(p=(function(C){let x;return x=typeof C=="object"?C.value:C,Dd(x)?null:x})(n.limit));let _=null;n.startAt&&(_=(function(C){const x=!!C.before,q=C.values||[];return new dd(q,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(C){const x=!C.before,q=C.values||[];return new dd(q,x)})(n.endAt)),j2(e,o,f,u,p,"F",_,y)}function AD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=cu(n.unaryFilter.field);return Vn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=cu(n.unaryFilter.field);return Vn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=cu(n.unaryFilter.field);return Vn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=cu(n.unaryFilter.field);return Vn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vn.create(cu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((s=>S0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(r):ke(30097,{filter:r})}function SD(r){return hD[r]}function wD(r){return fD[r]}function CD(r){return dD[r]}function uu(r){return{fieldPath:r.canonicalString()}}function cu(r){return ni.fromServerFormat(r.fieldPath)}function w0(r){return r instanceof Vn?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:wD(n.op),value:n.value}}})(r):r instanceof Ns?(function(n){const s=n.getFilters().map((o=>w0(o)));return s.length===1?s[0]:{compositeFilter:{op:CD(n.op),filters:s}}})(r):ke(54877,{filter:r})}function RD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function C0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s,o,u=Fe.min(),f=Fe.min(),p=ii.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.yt=e}}function DD(r){const e=bD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Cn=new ND}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Ro.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class ND{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ln(Ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ln(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R0=41943040;class Gi{static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(R0,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Su(0)}static cr(){return new Su(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="LruGarbageCollector",OD=1048576;function iT([r,e],[n,s]){const o=st(r,n);return o===0?st(e,s):o}class MD{constructor(e){this.Ir=e,this.buffer=new Ln(iT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(nT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vu(n)?Te(nT,"Ignoring IndexedDB error during garbage collection: ",n):await Mu(n)}await this.Vr(3e5)}))}}class kD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Id.ce);const s=new MD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(tT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,p,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(s=C,p=Date.now(),this.removeTargets(e,s,n)))).next((C=>(u=C,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((C=>(y=Date.now(),ou()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${C} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C}))))}}function LD(r,e){return new kD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.changes=new El((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&rh(s.mutation,o,cr.empty(),jt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,at()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=at()){const o=fl();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Xc();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=fl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,at())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let u=ba();const f=ih(),p=(function(){return ih()})();return n.forEach(((_,y)=>{const A=s.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof Lo)?u=u.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),rh(A.mutation,y,A.mutation.getFieldMask(),jt.now())):f.set(y.key,cr.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((y,A)=>f.set(y,A))),n.forEach(((y,A)=>p.set(y,new UD(A,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=ih();let o=new en(((f,p)=>f-p)),u=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let A=s.get(_)||cr.empty();A=p.applyToLocalView(y,A),s.set(_,A);const C=(o.get(p.batchId)||at()).add(_);o=o.insert(p.batchId,C)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,C=u0();A.forEach((x=>{if(!u.has(x)){const q=p0(n.get(x),s.get(x));q!==null&&C.set(x,q),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,C))}return le.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return De.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):le.resolve(fl());let p=uh,_=u;return f.next((y=>le.forEach(y,((A,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),u.get(A)?le.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,_,y,at()))).next((A=>({batchId:p,changes:l0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((s=>{let o=Xc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Xc();return this.indexManager.getCollectionParents(e,u).next((p=>le.forEach(p,(_=>{const y=(function(C,x){return new Nd(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((A=>{A.forEach(((C,x)=>{f=f.insert(C,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((_,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,di.newInvalidDocument(A)))}));let p=Xc();return f.forEach(((_,y)=>{const A=u.get(_);A!==void 0&&rh(A.mutation,y,cr.empty(),jt.now()),Md(n,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Cs(o.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DD(o.bundledQuery),readTime:Cs(o.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new en(De.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fl();return le.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const o=fl(),u=n.length+1,f=new De(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new en(((y,A)=>y-A));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let A=u.get(y.largestBatchId);A===null&&(A=fl(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=fl(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return le.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sD(n,s));let u=this.qr.get(n);u===void 0&&(u=at(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.Qr=new Ln($n.$r),this.Ur=new Ln($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $n(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $n(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new De(new Ut([])),s=new $n(n,e),o=new $n(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Ut([])),s=new $n(n,e),o=new $n(n,e+1);let u=at();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new $n(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ln($n.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rD(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new $n(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(f)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?wg:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $n(n,0),o=new $n(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ln(st);return n.forEach((o=>{const u=new $n(o,0),f=new $n(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;De.isDocumentKey(u)||(u=u.child(""));const f=new $n(new De(u),0);let p=new Ln(st);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),f),le.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(n.mutations,(o=>{const u=new $n(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $n(n,0),o=this.Zr.firstAfterOrEqual(s);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.ri=e,this.docs=(function(){return new en(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():di.newInvalidDocument(n))}getEntries(e,n){let s=ba();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():di.newInvalidDocument(o))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ba();const f=n.path,p=new De(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_2(g2(A),s)<=0||(o.has(A.key)||Md(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ke(9500)}ii(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new GD(this)}getSize(e){return le.resolve(this.size)}}class GD extends PD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.persistence=e,this.si=new El((n=>Ig(n)),Dg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=Su.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Su(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Id(0),this.li=!1,this.li=!0,this.hi=new HD,this.referenceDelegate=e(this),this.Pi=new $D(this),this.indexManager=new xD,this.remoteDocumentCache=(function(o){return new FD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ID(n),this.Ii=new zD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new qD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Te("MemoryPersistence","Starting transaction:",e);const o=new KD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class KD extends v2{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Lg,this.Vi=null}static mi(e){return new Pg(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const o=De.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _d{constructor(e,n){this.persistence=e,this.pi=new El((s=>b2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=LD(this,n)}static mi(e,n){return new _d(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?le.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,u.removeEntry(f,Fe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yf(e.data.value)),n}br(e,n,s){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=at(),o=at();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ug(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return w1()?8:E2(mi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new QD;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ou()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(ou()<=rt.DEBUG&&Te("QueryEngine","Query:",lu(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ou()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):le.resolve())}ys(e,n){if(GE(n))return le.resolve(null);let s=ws(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Kp(n,null,"F"),s=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=at(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.Ds(n,p);return this.Cs(n,y,f,_.readTime)?this.ys(e,Kp(n,null,"F")):this.vs(e,y,n,_)}))))})))))}ws(e,n,s,o){return GE(n)||o.isEqual(Fe.min())?le.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?le.resolve(null):(ou()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lu(n)),this.vs(e,f,n,p2(o,uh)).next((p=>p)))}))}Ds(e,n){let s=new Ln(a0(e));return n.forEach(((o,u)=>{Md(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ou()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",lu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ro.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="LocalStore",XD=3e8;class WD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new en(st),this.xs=new El((u=>Ig(u)),Dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JD(r,e,n,s){return new WD(r,e,n,s)}async function D0(r,e){const n=$e(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let _=at();for(const y of o){f.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of u){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function ZD(r,e){const n=$e(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const C=y.batch,x=C.keys();let q=le.resolve();return x.forEach((ne=>{q=q.next((()=>A.getEntry(_,ne))).next((oe=>{const X=y.docVersions.get(ne);wt(X!==null,48541),oe.version.compareTo(X)<0&&(C.applyToRemoteDocument(oe,y),oe.isValidDocument()&&(oe.setReadTime(y.commitVersion),A.addEntry(oe)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(_,C)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=at();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function x0(r){const e=$e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ex(r,e){const n=$e(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((A,C)=>{const x=o.get(C);if(!x)return;p.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,C))));let q=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?q=q.withResumeToken(ii.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(C,q),(function(oe,X,J){return oe.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=XD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(x,q,A)&&p.push(n.Pi.updateTargetData(u,q))}));let _=ba(),y=at();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),p.push(tx(u,f,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!s.isEqual(Fe.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((C=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(A)}return le.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.Ms=o,u)))}function tx(r,e,n){let s=at(),o=at();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ba();return n.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Fe.min())?(e.removeEntry(p,_.readTime),f=f.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),f=f.insert(p,_)):Te(jg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:f,qs:o}}))}function nx(r,e){const n=$e(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ix(r,e){const n=$e(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,le.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Eo(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jp(r,e,n){const s=$e(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Vu(f))throw f;Te(jg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rT(r,e,n){const s=$e(r);let o=Fe.min(),u=at();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,A){const C=$e(_),x=C.xs.get(A);return x!==void 0?le.resolve(C.Ms.get(x)):C.Pi.getTargetData(y,A)})(s,f,ws(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Fe.min(),n?u:at()))).next((p=>(rx(s,H2(e),p),{documents:p,Qs:u})))))}function rx(r,e,n){let s=r.Os.get(e)||Fe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class sT{constructor(){this.activeTargetIds=Q2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class oT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(aT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf=null;function Zp(){return Bf===null?Bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bf++,"0x"+Bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="RestConnection",ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Zp(),p=this.zo(e,n.toUriEncodedString());Te(Ip,`Sending RPC '${e}' ${f}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:y}=new URL(p),A=Iu(y);return this.Jo(e,p,_,s,A).then((C=>(Te(Ip,`Received RPC '${e}' ${f}: `,C),C)),(C=>{throw Eu(Ip,`RPC '${e}' ${f} failed with error: `,C,"url: ",p,"request:",s),C}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ou})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=ox[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class cx extends lx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Zp();return new Promise(((p,_)=>{const y=new Vb;y.setWithCredentials(!0),y.listenOnce(kb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qf.NO_ERROR:const C=y.getResponseJson();Te(hi,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(C)),p(C);break;case Qf.TIMEOUT:Te(hi,`RPC '${e}' ${f} timed out`),_(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const x=y.getStatus();if(Te(hi,`RPC '${e}' ${f} failed with status:`,x,"response text:",y.getResponseText()),x>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const ne=q?.error;if(ne&&ne.status&&ne.message){const oe=(function(J){const ae=J.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ae)>=0?ae:ce.UNKNOWN})(ne.status);_(new Ae(oe,ne.message))}else _(new Ae(ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Te(hi,`RPC '${e}' ${f} completed.`)}}));const A=JSON.stringify(o);Te(hi,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",A,s,15)}))}T_(e,n,s){const o=Zp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Ub(),p=Pb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const A=u.join("");Te(hi,`Creating RPC '${e}' stream ${o}: ${A}`,_);const C=f.createWebChannel(A,_);this.I_(C);let x=!1,q=!1;const ne=new ux({Yo:X=>{q?Te(hi,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(x||(Te(hi,`Opening RPC '${e}' stream ${o} transport.`),C.open(),x=!0),Te(hi,`RPC '${e}' stream ${o} sending:`,X),C.send(X))},Zo:()=>C.close()}),oe=(X,J,ae)=>{X.listen(J,(he=>{try{ae(he)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return oe(C,Yc.EventType.OPEN,(()=>{q||(Te(hi,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),oe(C,Yc.EventType.CLOSE,(()=>{q||(q=!0,Te(hi,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(C))})),oe(C,Yc.EventType.ERROR,(X=>{q||(q=!0,Eu(hi,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),ne.a_(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))})),oe(C,Yc.EventType.MESSAGE,(X=>{if(!q){const J=X.data[0];wt(!!J,16349);const ae=J,he=ae?.error||ae[0]?.error;if(he){Te(hi,`RPC '${e}' stream ${o} received error:`,he);const Be=he.status;let Ke=(function(D){const N=Cn[D];if(N!==void 0)return _0(N)})(Be),Ye=he.message;Ke===void 0&&(Ke=ce.INTERNAL,Ye="Unknown error status: "+Be+" with message "+he.message),q=!0,ne.a_(new Ae(Ke,Ye)),C.close()}else Te(hi,`RPC '${e}' stream ${o} received:`,J),ne.u_(J)}})),oe(p,Lb.STAT_EVENT,(X=>{X.stat===Bp.PROXY?Te(hi,`RPC '${e}' stream ${o} detected buffering proxy`):X.stat===Bp.NOPROXY&&Te(hi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(r){return new mD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="PersistentStream";class O0{constructor(e,n,s,o,u,f,p,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Ea(n.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hx extends O0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_D(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Fe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Fe.min():f.readTime?Cs(f.readTime):Fe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wp(this.serializer),n.addTarget=(function(u,f){let p;const _=f.target;if(p=$p(_)?{documents:ED(u,_)}:{query:TD(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=E0(u,f.resumeToken);const y=Qp(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Fe.min())>0){p.readTime=gd(u,f.snapshotVersion.toTimestamp());const y=Qp(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=AD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.q_(n)}}class fx extends O0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vD(e.writeResults,e.commitTime),s=Cs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>yD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{}class mx extends dx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Yp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ce.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Yp(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ae(ce.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class px{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ea(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class gx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Tl(this)&&(Te(yl,"Restarting streams for network reachability change."),await(async function(_){const y=$e(_);y.Ea.add(4),await Rh(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ud(y)})(this))}))})),this.Ra=new px(s,o)}}async function Ud(r){if(Tl(r))for(const e of r.da)await e(!0)}async function Rh(r){for(const e of r.da)await e(!1)}function M0(r,e){const n=$e(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qg(n)?Hg(n):ku(n).O_()&&Bg(n,e))}function zg(r,e){const n=$e(r),s=ku(n);n.Ia.delete(e),s.O_()&&V0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Tl(n)&&n.Ra.set("Unknown"))}function Bg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ku(r).Y_(e)}function V0(r,e){r.Va.Ue(e),ku(r).Z_(e)}function Hg(r){r.Va=new cD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ku(r).start(),r.Ra.ua()}function qg(r){return Tl(r)&&!ku(r).x_()&&r.Ia.size>0}function Tl(r){return $e(r).Ea.size===0}function k0(r){r.Va=void 0}async function _x(r){r.Ra.set("Online")}async function yx(r){r.Ia.forEach(((e,n)=>{Bg(r,e)}))}async function vx(r,e){k0(r),qg(r)?(r.Ra.ha(e),Hg(r)):r.Ra.set("Unknown")}async function Ex(r,e,n){if(r.Ra.set("Online"),e instanceof v0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){Te(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yd(r,s)}else if(e instanceof Jf?r.Va.Ze(e):e instanceof y0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Fe.min()))try{const s=await x0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=u.Ia.get(y);A&&u.Ia.set(y,A.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,y)=>{const A=u.Ia.get(_);if(!A)return;u.Ia.set(_,A.withResumeToken(ii.EMPTY_BYTE_STRING,A.snapshotVersion)),V0(u,_);const C=new Eo(A.target,_,y,A.sequenceNumber);Bg(u,C)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){Te(yl,"Failed to raise snapshot:",s),await yd(r,s)}}async function yd(r,e,n){if(!Vu(e))throw e;r.Ea.add(1),await Rh(r),r.Ra.set("Offline"),n||(n=()=>x0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Te(yl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ud(r)}))}function L0(r,e){return e().catch((n=>yd(r,n,e)))}async function jd(r){const e=$e(r),n=No(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wg;for(;Tx(e);)try{const o=await nx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,bx(e,o)}catch(o){await yd(e,o)}P0(e)&&U0(e)}function Tx(r){return Tl(r)&&r.Ta.length<10}function bx(r,e){r.Ta.push(e);const n=No(r);n.O_()&&n.X_&&n.ea(e.mutations)}function P0(r){return Tl(r)&&!No(r).x_()&&r.Ta.length>0}function U0(r){No(r).start()}async function Ax(r){No(r).ra()}async function Sx(r){const e=No(r);for(const n of r.Ta)e.ea(n.mutations)}async function wx(r,e,n){const s=r.Ta.shift(),o=Mg.from(s,e,n);await L0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jd(r)}async function Cx(r,e){e&&No(r).X_&&await(async function(s,o){if((function(f){return oD(f)&&f!==ce.ABORTED})(o.code)){const u=s.Ta.shift();No(s).B_(),await L0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jd(s)}})(r,e),P0(r)&&U0(r)}async function uT(r,e){const n=$e(r);n.asyncQueue.verifyOperationInProgress(),Te(yl,"RemoteStore received new credentials");const s=Tl(n);n.Ea.add(3),await Rh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ud(n)}async function Rx(r,e){const n=$e(r);e?(n.Ea.delete(2),await Ud(n)):e||(n.Ea.add(2),await Rh(n),n.Ra.set("Unknown"))}function ku(r){return r.ma||(r.ma=(function(n,s,o){const u=$e(n);return u.sa(),new hx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_x.bind(null,r),t_:yx.bind(null,r),r_:vx.bind(null,r),H_:Ex.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),qg(r)?Hg(r):r.Ra.set("Unknown")):(await r.ma.stop(),k0(r))}))),r.ma}function No(r){return r.fa||(r.fa=(function(n,s,o){const u=$e(n);return u.sa(),new fx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ax.bind(null,r),r_:Cx.bind(null,r),ta:Sx.bind(null,r),na:wx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await jd(r)):(await r.fa.stop(),r.Ta.length>0&&(Te(yl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new Fg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(r,e){if(Ea("AsyncQueue",`${e}: ${r}`),Vu(r))return new Ae(ce.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{static emptySet(e){return new gu(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||De.comparator(n.key,s.key):(n,s)=>De.comparator(n.key,s.key),this.keyedMap=Xc(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new gu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.ga=new en(De.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wu{constructor(e,n,s,o,u,f,p,_,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new wu(e,n,gu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Dx{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=$e(n),u=o.queries;o.queries=hT(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(s)}))})(this,new Ae(ce.ABORTED,"Firestore shutting down"))}}function hT(){return new El((r=>s0(r)),Od)}async function j0(r,e){const n=$e(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Ix,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Gg(f,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&$g(n)}async function z0(r,e){const n=$e(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xx(r,e){const n=$e(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&$g(n)}function Nx(r,e,n){const s=$e(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function $g(r){r.Ca.forEach((e=>{e.next()}))}var eg,fT;(fT=eg||(eg={})).Ma="default",fT.Cache="cache";class B0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.key=e}}class q0{constructor(e){this.key=e}}class Ox{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=a0(e),this.tu=new gu(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,C)=>{const x=o.get(A),q=Md(this.query,C)?C:null,ne=!!x&&this.mutatedKeys.has(x.key),oe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let X=!1;x&&q?x.data.isEqual(q.data)?ne!==oe&&(s.track({type:3,doc:q}),X=!0):this.su(x,q)||(s.track({type:2,doc:q}),X=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(p=!0)):!x&&q?(s.track({type:0,doc:q}),X=!0):x&&!q&&(s.track({type:1,doc:x}),X=!0,(_||y)&&(p=!0)),X&&(q?(f=f.add(q),u=oe?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((A,C)=>(function(q,ne){const oe=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:X})}};return oe(q)-oe(ne)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,f.length!==0||y?{snapshot:new wu(this.query,e.tu,u,f,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new q0(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new H0(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kg="SyncEngine";class Mx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Vx{constructor(e){this.key=e,this.hu=!1}}class kx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new El((p=>s0(p)),Od),this.Iu=new Map,this.Eu=new Set,this.du=new en(De.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=Su.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Lx(r,e,n=!0){const s=Y0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await F0(s,e,n,!0),o}async function Px(r,e){const n=Y0(r);await F0(n,e,!0,!1)}async function F0(r,e,n,s){const o=await ix(r.localStore,ws(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await Ux(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&M0(r.remoteStore,o),p}async function Ux(r,e,n,s,o){r.pu=(C,x,q)=>(async function(oe,X,J,ae){let he=X.view.ru(J);he.Cs&&(he=await rT(oe.localStore,X.query,!1).then((({documents:k})=>X.view.ru(k,he))));const Be=ae&&ae.targetChanges.get(X.targetId),Ke=ae&&ae.targetMismatches.get(X.targetId)!=null,Ye=X.view.applyChanges(he,oe.isPrimaryClient,Be,Ke);return mT(oe,X.targetId,Ye.au),Ye.snapshot})(r,C,x,q);const u=await rT(r.localStore,e,!0),f=new Ox(e,u.Qs),p=f.ru(u.documents),_=Ch.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,_);mT(r,n,y.au);const A=new Mx(e,n,f);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function jx(r,e,n){const s=$e(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Od(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zg(s.remoteStore,o.targetId),tg(s,o.targetId)})).catch(Mu)):(tg(s,o.targetId),await Jp(s.localStore,o.targetId,!0))}async function zx(r,e){const n=$e(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zg(n.remoteStore,s.targetId))}async function Bx(r,e,n){const s=Qx(r);try{const o=await(function(f,p){const _=$e(f),y=jt.now(),A=p.reduce(((q,ne)=>q.add(ne.key)),at());let C,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let ne=ba(),oe=at();return _.Ns.getEntries(q,A).next((X=>{ne=X,ne.forEach(((J,ae)=>{ae.isValidDocument()||(oe=oe.add(J))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,ne))).next((X=>{C=X;const J=[];for(const ae of p){const he=nD(ae,C.get(ae.key).overlayedDocument);he!=null&&J.push(new Lo(ae.key,he,Jb(he.value.mapValue),Wr.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,J,p)})).next((X=>{x=X;const J=X.applyToLocalDocumentSet(C,oe);return _.documentOverlayCache.saveOverlays(q,X.batchId,J)}))})).then((()=>({batchId:x.batchId,changes:l0(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,_){let y=f.Vu[f.currentUser.toKey()];y||(y=new en(st)),y=y.insert(p,_),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Ih(s,o.changes),await jd(s.remoteStore)}catch(o){const u=Gg(o,"Failed to persist write");n.reject(u)}}async function G0(r,e){const n=$e(r);try{const s=await ex(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?wt(f.hu,14607):o.removedDocuments.size>0&&(wt(f.hu,42227),f.hu=!1))})),await Ih(n,s,e)}catch(s){await Mu(s)}}function dT(r,e,n){const s=$e(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const _=$e(f);_.onlineState=p;let y=!1;_.queries.forEach(((A,C)=>{for(const x of C.Sa)x.va(p)&&(y=!0)})),y&&$g(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Hx(r,e,n){const s=$e(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new en(De.comparator);f=f.insert(u,di.newNoDocument(u,Fe.min()));const p=at().add(u),_=new Ld(Fe.min(),new Map,new en(st),f,p);await G0(s,_),s.du=s.du.remove(u),s.Au.delete(e),Qg(s)}else await Jp(s.localStore,e,!1).then((()=>tg(s,e,n))).catch(Mu)}async function qx(r,e){const n=$e(r),s=e.batch.batchId;try{const o=await ZD(n.localStore,e);K0(n,s,null),$0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ih(n,o)}catch(o){await Mu(o)}}async function Fx(r,e,n){const s=$e(r);try{const o=await(function(f,p){const _=$e(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((C=>(wt(C!==null,37113),A=C.keys(),_.mutationQueue.removeMutationBatch(y,C)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(s.localStore,e);K0(s,e,n),$0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ih(s,o)}catch(o){await Mu(o)}}function $0(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function K0(r,e,n){const s=$e(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function tg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Q0(r,s)}))}function Q0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(zg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Qg(r))}function mT(r,e,n){for(const s of n)s instanceof H0?(r.Ru.addReference(s.key,e),Gx(r,s)):s instanceof q0?(Te(Kg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Q0(r,s.key)):ke(19791,{wu:s})}function Gx(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(Te(Kg,"New document in limbo: "+n),r.Eu.add(s),Qg(r))}function Qg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new De(Ut.fromString(e)),s=r.fu.next();r.Au.set(s,new Vx(n)),r.du=r.du.insert(n,s),M0(r.remoteStore,new Eo(ws(xg(n.path)),s,"TargetPurposeLimboResolution",Id.ce))}}async function Ih(r,e,n){const s=$e(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{f.push(s.pu(_,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Ug.As(_.targetId,y);u.push(A)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(_,y){const A=$e(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>le.forEach(y,(x=>le.forEach(x.Es,(q=>A.persistence.referenceDelegate.addReference(C,x.targetId,q))).next((()=>le.forEach(x.ds,(q=>A.persistence.referenceDelegate.removeReference(C,x.targetId,q)))))))))}catch(C){if(!Vu(C))throw C;Te(jg,"Failed to update sequence numbers: "+C)}for(const C of y){const x=C.targetId;if(!C.fromCache){const q=A.Ms.get(x),ne=q.snapshotVersion,oe=q.withLastLimboFreeSnapshotVersion(ne);A.Ms=A.Ms.insert(x,oe)}}})(s.localStore,u))}async function $x(r,e){const n=$e(r);if(!n.currentUser.isEqual(e)){Te(Kg,"User change. New user:",e.toKey());const s=await D0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new Ae(ce.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ih(n,s.Ls)}}function Kx(r,e){const n=$e(r),s=n.Au.get(e);if(s&&s.hu)return at().add(s.key);{let o=at();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Y0(r){const e=$e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hx.bind(null,e),e.Pu.H_=xx.bind(null,e.eventManager),e.Pu.yu=Nx.bind(null,e.eventManager),e}function Qx(r){const e=$e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fx.bind(null,e),e}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JD(this.persistence,new YD,e.initialUser,this.serializer)}Cu(e){return new I0(Pg.mi,this.serializer)}Du(e){return new sx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class Yx extends vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof _d,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new I0((s=>_d.mi(s,n)),this.serializer)}}class ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$x.bind(null,this.syncEngine),await Rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dx})()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),s=(function(u){return new cx(u)})(e.databaseInfo);return(function(u,f,p,_){return new mx(u,f,p,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,p){return new gx(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>dT(this.syncEngine,n,0)),(function(){return oT.v()?new oT:new ax})())}createSyncEngine(e,n){return(function(o,u,f,p,_,y,A){const C=new kx(o,u,f,p,_,y);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=$e(n);Te(yl,"RemoteStore shutting down."),s.Ea.add(5),await Rh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="FirestoreClient";class Xx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fi.UNAUTHENTICATED,this.clientId=Ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Te(Oo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Te(Oo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xp(r,e){r.asyncQueue.verifyOperationInProgress(),Te(Oo,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await D0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function pT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Wx(r);Te(Oo,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>uT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>uT(e.remoteStore,o))),r._onlineComponents=e}async function Wx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Te(Oo,"Using user provided OfflineComponentProvider");try{await xp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await xp(r,new vd)}}else Te(Oo,"Using default OfflineComponentProvider"),await xp(r,new Yx(void 0));return r._offlineComponents}async function W0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Te(Oo,"Using user provided OnlineComponentProvider"),await pT(r,r._uninitializedComponentsProvider._online)):(Te(Oo,"Using default OnlineComponentProvider"),await pT(r,new ng))),r._onlineComponents}function Jx(r){return W0(r).then((e=>e.syncEngine))}async function J0(r){const e=await W0(r),n=e.eventManager;return n.onListen=Lx.bind(null,e.syncEngine),n.onUnlisten=jx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Px.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zx.bind(null,e.syncEngine),n}function Zx(r,e,n={}){const s=new ga;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,y){const A=new X0({next:x=>{A.Nu(),f.enqueueAndForget((()=>z0(u,C)));const q=x.docs.has(p);!q&&x.fromCache?y.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&x.fromCache&&_&&_.source==="server"?y.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new B0(xg(p.path),A,{includeMetadataChanges:!0,qa:!0});return j0(u,C)})(await J0(r),r.asyncQueue,e,n,s))),s.promise}function eN(r,e,n={}){const s=new ga;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,y){const A=new X0({next:x=>{A.Nu(),f.enqueueAndForget((()=>z0(u,C))),x.fromCache&&_.source==="server"?y.reject(new Ae(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new B0(p,A,{includeMetadataChanges:!0,qa:!0});return j0(u,C)})(await J0(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",_T=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=_T}else this.host=e.host,this.ssl=e.ssl??_T;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OD)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new r2;switch(s.type){case"firstParty":return new l2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gT.get(n);s&&(Te("ComponentProvider","Removing Datastore"),gT.delete(n),s.terminate())})(this),Promise.resolve()}}function tN(r,e,n,s={}){r=Ta(r,zd);const o=Iu(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&($T(`https://${p}`),KT("Firestore",!0)),u.host!==eA&&u.host!==p&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:s};if(!ml(_,f)&&(r._setSettings(_),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=fi.MOCK_USER;else{y=g1(s.mockUserToken,r._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new fi(C)}r._authCredentials=new s2(new zb(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bd(this.firestore,e,this._query)}}class kn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}toJSON(){return{type:kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sh(n,kn._jsonSchema))return new kn(e,s||null,new De(Ut.fromString(n.referencePath)))}}kn._jsonSchemaVersion="firestore/documentReference/1.0",kn._jsonSchema={type:Rn("string",kn._jsonSchemaVersion),referencePath:Rn("string")};class Co extends Bd{constructor(e,n,s){super(e,n,xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new De(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function tA(r,e,...n){if(r=pi(r),Bb("collection","path",e),r instanceof zd){const s=Ut.fromString(e,...n);return OE(s),new Co(r,null,s)}{if(!(r instanceof kn||r instanceof Co))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ut.fromString(e,...n));return OE(s),new Co(r.firestore,null,s)}}function Lu(r,e,...n){if(r=pi(r),arguments.length===1&&(e=Ag.newId()),Bb("doc","path",e),r instanceof zd){const s=Ut.fromString(e,...n);return NE(s),new kn(r,null,new De(s))}{if(!(r instanceof kn||r instanceof Co))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ut.fromString(e,...n));return NE(s),new kn(r.firestore,r instanceof Co?r.converter:null,new De(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N0(this,"async_queue_retry"),this._c=()=>{const s=Dp();s&&Te(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vu(e))throw e;Te(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ea("INTERNAL UNHANDLED ERROR: ",TT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Pu extends zd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function nN(r,e){const n=typeof r=="object"?r:WT(),s=typeof r=="string"?r:hd,o=dg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=m1("firestore");u&&tN(o,...u)}return o}function Yg(r){if(r._terminated)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iN(r),r._firestoreClient}function iN(r){const e=r._freezeSettings(),n=(function(o,u,f,p){return new w2(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Z0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Xx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(ii.fromBase64String(e))}catch(n){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dr(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sh(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:Rn("string",Dr._jsonSchemaVersion),bytes:Rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Sh(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:Rn("string",Rs._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sh(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Is(e.vectorValues);throw new Ae(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Rn("string",Is._jsonSchemaVersion),vectorValues:Rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/^__.*__$/;class sN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new wh(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:r})}}class Xg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&rN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pd(e)}Cc(e,n,s,o=!1){return new Xg({Ac:e,methodName:n,Dc:s,path:ni.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rA(r){const e=r._freezeSettings(),n=Pd(r._databaseId);return new aN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function oN(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Jg("Data must be an object, but it was:",f,s);const p=sA(s,f);let _,y;if(u.merge)_=new cr(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const C of u.mergeFields){const x=ig(e,C,n);if(!f.contains(x))throw new Ae(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);oA(A,x)||A.push(x)}_=new cr(A),y=f.fieldTransforms.filter((C=>_.covers(C.field)))}else _=null,y=f.fieldTransforms;return new sN(new $i(p),_,y)}class Fd extends qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}class Wg extends qd{_toFieldTransform(e){return new J2(e.path,new dh)}isEqual(e){return e instanceof Wg}}function lN(r,e,n,s){const o=r.Cc(1,e,n);Jg("Data must be an object, but it was:",o,s);const u=[],f=$i.empty();ko(s,((_,y)=>{const A=Zg(e,_,n);y=pi(y);const C=o.yc(A);if(y instanceof Fd)u.push(A);else{const x=Gd(y,C);x!=null&&(u.push(A),f.set(A,x))}}));const p=new cr(u);return new nA(f,p,o.fieldTransforms)}function uN(r,e,n,s,o,u){const f=r.Cc(1,e,n),p=[ig(e,s,n)],_=[o];if(u.length%2!=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(ig(e,u[x])),_.push(u[x+1]);const y=[],A=$i.empty();for(let x=p.length-1;x>=0;--x)if(!oA(y,p[x])){const q=p[x];let ne=_[x];ne=pi(ne);const oe=f.yc(q);if(ne instanceof Fd)y.push(q);else{const X=Gd(ne,oe);X!=null&&(y.push(q),A.set(q,X))}}const C=new cr(y);return new nA(A,C,f.fieldTransforms)}function Gd(r,e){if(aA(r=pi(r)))return Jg("Unsupported field value:",e,r),sA(r,e);if(r instanceof qd)return(function(s,o){if(!iA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let _=Gd(p,o.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=pi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Y2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=jt.fromDate(s);return{timestampValue:gd(o.serializer,u)}}if(s instanceof jt){const u=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gd(o.serializer,u)}}if(s instanceof Rs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dr)return{bytesValue:E0(o.serializer,s._byteString)};if(s instanceof kn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Is)return(function(f,p){return{mapValue:{fields:{[Xb]:{stringValue:Wb},[fd]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ng(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Sg(s)}`)})(r,e)}function sA(r,e){const n={};return Fb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(r,((s,o)=>{const u=Gd(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function aA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jt||r instanceof Rs||r instanceof Dr||r instanceof kn||r instanceof qd||r instanceof Is)}function Jg(r,e,n){if(!aA(n)||!Hb(n)){const s=Sg(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ig(r,e,n){if((e=pi(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return Zg(r,e);throw Ed("Field path arguments must be of type string or ",r,!1,void 0,n)}const cN=new RegExp("[~\\*/\\[\\]]");function Zg(r,e,n){if(e.search(cN)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hd(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ed(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${s}`),f&&(_+=` in document ${o}`),_+=")"),new Ae(ce.INVALID_ARGUMENT,p+r+_)}function oA(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hN extends lA{data(){return super.data()}}function uA(r,e){return typeof e=="string"?Zg(r,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ae(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dN{convertValue(e,n="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ko(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[fd].arrayValue?.values?.map((s=>pn(s.doubleValue)));return new Is(n)}convertGeoPoint(e){return new Rs(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=Io(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ut.fromString(e);wt(C0(s),9688,{name:e});const o=new hh(s.get(1),s.get(3)),u=new De(s.popFirst(5));return o.isEqual(n)||Ea(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends lA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",dl._jsonSchema={type:Rn("string",dl._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class Zf extends dl{data(e={}){return super.data(e)}}class _u{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Zf(this._firestore,this._userDataWriter,s.key,s,new Jc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const _=new Zf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Zf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),A=f.indexOf(p.doc.key)),{type:pN(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_u._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(r){r=Ta(r,kn);const e=Ta(r.firestore,Pu);return Zx(Yg(e),r._key).then((n=>vN(e,r,n)))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:Rn("string",_u._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class cA extends dN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function hA(r){r=Ta(r,Bd);const e=Ta(r.firestore,Pu),n=Yg(e),s=new cA(e);return fN(r._query),eN(n,r._query).then((o=>new _u(e,s,r,o)))}function gN(r,e,n,...s){r=Ta(r,kn);const o=Ta(r.firestore,Pu),u=rA(o);let f;return f=typeof(e=pi(e))=="string"||e instanceof Hd?uN(u,"updateDoc",r._key,e,n,s):lN(u,"updateDoc",r._key,e),t_(o,[f.toMutation(r._key,Wr.exists(!0))])}function _N(r){return t_(Ta(r.firestore,Pu),[new Og(r._key,Wr.none())])}function yN(r,e){const n=Ta(r.firestore,Pu),s=Lu(r),o=mN(r.converter,e);return t_(n,[oN(rA(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Wr.exists(!1))]).then((()=>s))}function t_(r,e){return(function(s,o){const u=new ga;return s.asyncQueue.enqueueAndForget((async()=>Bx(await Jx(s),o,u))),u.promise})(Yg(r),e)}function vN(r,e,n){const s=n.docs.get(e._key),o=new cA(r);return new dl(r,o,e._key,s,new Jc(n.hasPendingWrites,n.fromCache),e.converter)}function rg(){return new Wg("serverTimestamp")}(function(e,n=!0){(function(o){Ou=o})(Du),yu(new pl("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Pu(new a2(s.getProvider("auth-internal")),new u2(f,s.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(y.options.projectId,A)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ao(RE,IE,e),Ao(RE,IE,"esm2020")})();const EN={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},fA=XT(EN),dA=n2(fA),bl=nN(fA),mA=Z.createContext(),pA=()=>Z.useContext(mA);function TN({children:r}){const[e,n]=Z.useState(null),[s,o]=Z.useState(null),[u,f]=Z.useState(!0);return Z.useEffect(()=>{const p=GR(dA,async _=>{if(_){n(_);const y=await e_(Lu(bl,"users",_.uid));y.exists()?o(y.data()):o(null)}else n(null),o(null);f(!1)});return()=>p()},[]),O.jsx(mA.Provider,{value:{user:e,profile:s,loading:u},children:!u&&r})}function bN(){return O.jsxs("aside",{className:"sidebar",children:[O.jsx("h2",{className:"logo",children:"SalamatDoc"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx(ti,{to:"/admin/dashboard",className:({isActive:r})=>r?"active":"",children:"Dashboard"})}),O.jsx("li",{children:O.jsx(ti,{to:"/admin/users",className:({isActive:r})=>r?"active":"",children:"Manage Users"})}),O.jsx("li",{children:O.jsx(ti,{to:"/admin/reports",className:({isActive:r})=>r?"active":"",children:"Reports"})}),O.jsx("li",{children:O.jsx(ti,{to:"/admin/settings",className:({isActive:r})=>r?"active":"",children:"Settings"})}),O.jsx("li",{children:O.jsx(ti,{to:"/logout",className:({isActive:r})=>r?"active":"",children:"Log out"})})]})]})}function AN(){return O.jsxs("aside",{className:"sidebar",children:[O.jsx("h2",{className:"logo",children:"SalamatDoc"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx(ti,{to:"/doctor/dashboard",className:({isActive:r})=>r?"active":"",children:"Dashboard"})}),O.jsx("li",{children:O.jsx(ti,{to:"/doctor/patients",className:({isActive:r})=>r?"active":"",children:"Patients"})}),O.jsx("li",{children:O.jsx(ti,{to:"/doctor/appointments",className:({isActive:r})=>r?"active":"",children:"Appointments"})}),O.jsx("li",{children:O.jsx(ti,{to:"/doctor/profile",className:({isActive:r})=>r?"active":"",children:"Profile"})}),O.jsx("li",{children:O.jsx(ti,{to:"/logout",className:({isActive:r})=>r?"active":"",children:"Log out"})})]})]})}function SN(){return O.jsxs("aside",{className:"sidebar",children:[O.jsx("h2",{className:"logo",children:"SalamatDoc"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx(ti,{to:"/patient/dashboard",className:({isActive:r})=>r?"active":"",children:"Dashboard"})}),O.jsx("li",{children:O.jsx(ti,{to:"/patient/medicine",className:({isActive:r})=>r?"active":"",children:"Dailies – Medicine"})}),O.jsx("li",{children:O.jsx(ti,{to:"/patient/food",className:({isActive:r})=>r?"active":"",children:"Dailies – Food"})}),O.jsx("li",{children:O.jsx(ti,{to:"/patient/appointments",className:({isActive:r})=>r?"active":"",children:"Appointments"})}),O.jsx("li",{children:O.jsx(ti,{to:"/patient/profile",className:({isActive:r})=>r?"active":"",children:"Profile"})}),O.jsx("li",{children:O.jsx(ti,{to:"/logout",className:({isActive:r})=>r?"active":"",children:"Log out"})})]})]})}var ed={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wN=ed.exports,bT;function CN(){return bT||(bT=1,(function(r,e){(function(n,s){r.exports=s()})(wN,function(){const n=new Map,s={set(b,d,v){n.has(b)||n.set(b,new Map);const w=n.get(b);w.has(d)||w.size===0?w.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(b,d)=>n.has(b)&&n.get(b).get(d)||null,remove(b,d){if(!n.has(b))return;const v=n.get(b);v.delete(d),v.size===0&&n.delete(b)}},o="transitionend",u=b=>(b&&window.CSS&&window.CSS.escape&&(b=b.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),b),f=b=>b==null?`${b}`:Object.prototype.toString.call(b).match(/\s([a-z]+)/i)[1].toLowerCase(),p=b=>{b.dispatchEvent(new Event(o))},_=b=>!(!b||typeof b!="object")&&(b.jquery!==void 0&&(b=b[0]),b.nodeType!==void 0),y=b=>_(b)?b.jquery?b[0]:b:typeof b=="string"&&b.length>0?document.querySelector(u(b)):null,A=b=>{if(!_(b)||b.getClientRects().length===0)return!1;const d=getComputedStyle(b).getPropertyValue("visibility")==="visible",v=b.closest("details:not([open])");if(!v)return d;if(v!==b){const w=b.closest("summary");if(w&&w.parentNode!==v||w===null)return!1}return d},C=b=>!b||b.nodeType!==Node.ELEMENT_NODE||!!b.classList.contains("disabled")||(b.disabled!==void 0?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false"),x=b=>{if(!document.documentElement.attachShadow)return null;if(typeof b.getRootNode=="function"){const d=b.getRootNode();return d instanceof ShadowRoot?d:null}return b instanceof ShadowRoot?b:b.parentNode?x(b.parentNode):null},q=()=>{},ne=b=>{b.offsetHeight},oe=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,X=[],J=()=>document.documentElement.dir==="rtl",ae=b=>{var d;d=()=>{const v=oe();if(v){const w=b.NAME,U=v.fn[w];v.fn[w]=b.jQueryInterface,v.fn[w].Constructor=b,v.fn[w].noConflict=()=>(v.fn[w]=U,b.jQueryInterface)}},document.readyState==="loading"?(X.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of X)v()}),X.push(d)):d()},he=(b,d=[],v=b)=>typeof b=="function"?b.call(...d):v,Be=(b,d,v=!0)=>{if(!v)return void he(b);const w=(W=>{if(!W)return 0;let{transitionDuration:ue,transitionDelay:fe}=window.getComputedStyle(W);const ye=Number.parseFloat(ue),Ee=Number.parseFloat(fe);return ye||Ee?(ue=ue.split(",")[0],fe=fe.split(",")[0],1e3*(Number.parseFloat(ue)+Number.parseFloat(fe))):0})(d)+5;let U=!1;const z=({target:W})=>{W===d&&(U=!0,d.removeEventListener(o,z),he(b))};d.addEventListener(o,z),setTimeout(()=>{U||p(d)},w)},Ke=(b,d,v,w)=>{const U=b.length;let z=b.indexOf(d);return z===-1?!v&&w?b[U-1]:b[0]:(z+=v?1:-1,w&&(z=(z+U)%U),b[Math.max(0,Math.min(z,U-1))])},Ye=/[^.]*(?=\..*)\.|.*/,k=/\..*/,D=/::\d+$/,N={};let j=1;const L={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(b,d){return d&&`${d}::${j++}`||b.uidEvent||j++}function xt(b){const d=M(b);return b.uidEvent=d,N[d]=N[d]||{},N[d]}function tn(b,d,v=null){return Object.values(b).find(w=>w.callable===d&&w.delegationSelector===v)}function ee(b,d,v){const w=typeof d=="string",U=w?v:d||v;let z=dt(b);return H.has(z)||(z=b),[w,U,z]}function me(b,d,v,w,U){if(typeof d!="string"||!b)return;let[z,W,ue]=ee(d,v,w);d in L&&(W=(Ne=>function(Me){if(!Me.relatedTarget||Me.relatedTarget!==Me.delegateTarget&&!Me.delegateTarget.contains(Me.relatedTarget))return Ne.call(this,Me)})(W));const fe=xt(b),ye=fe[ue]||(fe[ue]={}),Ee=tn(ye,W,z?v:null);if(Ee)return void(Ee.oneOff=Ee.oneOff&&U);const _e=M(W,d.replace(Ye,"")),je=z?(function(xe,Ne,Me){return function Ie(_t){const bt=xe.querySelectorAll(Ne);for(let{target:Pe}=_t;Pe&&Pe!==this;Pe=Pe.parentNode)for(const Xe of bt)if(Xe===Pe)return re(_t,{delegateTarget:Pe}),Ie.oneOff&&I.off(xe,_t.type,Ne,Me),Me.apply(Pe,[_t])}})(b,v,W):(function(xe,Ne){return function Me(Ie){return re(Ie,{delegateTarget:xe}),Me.oneOff&&I.off(xe,Ie.type,Ne),Ne.apply(xe,[Ie])}})(b,W);je.delegationSelector=z?v:null,je.callable=W,je.oneOff=U,je.uidEvent=_e,ye[_e]=je,b.addEventListener(ue,je,z)}function we(b,d,v,w,U){const z=tn(d[v],w,U);z&&(b.removeEventListener(v,z,!!U),delete d[v][z.uidEvent])}function ot(b,d,v,w){const U=d[v]||{};for(const[z,W]of Object.entries(U))z.includes(w)&&we(b,d,v,W.callable,W.delegationSelector)}function dt(b){return b=b.replace(k,""),L[b]||b}const I={on(b,d,v,w){me(b,d,v,w,!1)},one(b,d,v,w){me(b,d,v,w,!0)},off(b,d,v,w){if(typeof d!="string"||!b)return;const[U,z,W]=ee(d,v,w),ue=W!==d,fe=xt(b),ye=fe[W]||{},Ee=d.startsWith(".");if(z===void 0){if(Ee)for(const _e of Object.keys(fe))ot(b,fe,_e,d.slice(1));for(const[_e,je]of Object.entries(ye)){const xe=_e.replace(D,"");ue&&!d.includes(xe)||we(b,fe,W,je.callable,je.delegationSelector)}}else{if(!Object.keys(ye).length)return;we(b,fe,W,z,U?v:null)}},trigger(b,d,v){if(typeof d!="string"||!b)return null;const w=oe();let U=null,z=!0,W=!0,ue=!1;d!==dt(d)&&w&&(U=w.Event(d,v),w(b).trigger(U),z=!U.isPropagationStopped(),W=!U.isImmediatePropagationStopped(),ue=U.isDefaultPrevented());const fe=re(new Event(d,{bubbles:z,cancelable:!0}),v);return ue&&fe.preventDefault(),W&&b.dispatchEvent(fe),fe.defaultPrevented&&U&&U.preventDefault(),fe}};function re(b,d={}){for(const[v,w]of Object.entries(d))try{b[v]=w}catch{Object.defineProperty(b,v,{configurable:!0,get:()=>w})}return b}function pe(b){if(b==="true")return!0;if(b==="false")return!1;if(b===Number(b).toString())return Number(b);if(b===""||b==="null")return null;if(typeof b!="string")return b;try{return JSON.parse(decodeURIComponent(b))}catch{return b}}function ve(b){return b.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Ce={setDataAttribute(b,d,v){b.setAttribute(`data-bs-${ve(d)}`,v)},removeDataAttribute(b,d){b.removeAttribute(`data-bs-${ve(d)}`)},getDataAttributes(b){if(!b)return{};const d={},v=Object.keys(b.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of v){let U=w.replace(/^bs/,"");U=U.charAt(0).toLowerCase()+U.slice(1),d[U]=pe(b.dataset[w])}return d},getDataAttribute:(b,d)=>pe(b.getAttribute(`data-bs-${ve(d)}`))};class Le{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const w=_(v)?Ce.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},..._(v)?Ce.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[w,U]of Object.entries(v)){const z=d[w],W=_(z)?"element":f(z);if(!new RegExp(U).test(W))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${W}" but expected type "${U}".`)}}}class Ue extends Le{constructor(d,v){super(),(d=y(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,w=!0){Be(d,v,w)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(y(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Kt=b=>{let d=b.getAttribute("data-bs-target");if(!d||d==="#"){let v=b.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>u(v)).join(","):null},ge={find:(b,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,b)),findOne:(b,d=document.documentElement)=>Element.prototype.querySelector.call(d,b),children:(b,d)=>[].concat(...b.children).filter(v=>v.matches(d)),parents(b,d){const v=[];let w=b.parentNode.closest(d);for(;w;)v.push(w),w=w.parentNode.closest(d);return v},prev(b,d){let v=b.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(b,d){let v=b.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(b){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,b).filter(v=>!C(v)&&A(v))},getSelectorFromElement(b){const d=Kt(b);return d&&ge.findOne(d)?d:null},getElementFromSelector(b){const d=Kt(b);return d?ge.findOne(d):null},getMultipleElementsFromSelector(b){const d=Kt(b);return d?ge.find(d):[]}},hr=(b,d="hide")=>{const v=`click.dismiss${b.EVENT_KEY}`,w=b.NAME;I.on(document,v,`[data-bs-dismiss="${w}"]`,function(U){if(["A","AREA"].includes(this.tagName)&&U.preventDefault(),C(this))return;const z=ge.getElementFromSelector(this)||this.closest(`.${w}`);b.getOrCreateInstance(z)[d]()})},Vs=".bs.alert",Sa=`close${Vs}`,wa=`closed${Vs}`;class ri extends Ue{static get NAME(){return"alert"}close(){if(I.trigger(this._element,Sa).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),I.trigger(this._element,wa),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=ri.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}hr(ri,"close"),ae(ri);const Ca='[data-bs-toggle="button"]';class Ki extends Ue{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Ki.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}I.on(document,"click.bs.button.data-api",Ca,b=>{b.preventDefault();const d=b.target.closest(Ca);Ki.getOrCreateInstance(d).toggle()}),ae(Ki);const fr=".bs.swipe",Po=`touchstart${fr}`,nn=`touchmove${fr}`,un=`touchend${fr}`,Zr=`pointerdown${fr}`,Uu=`pointerup${fr}`,Al={endCallback:null,leftCallback:null,rightCallback:null},Kn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class dr extends Le{constructor(d,v){super(),this._element=d,d&&dr.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Al}static get DefaultType(){return Kn}static get NAME(){return"swipe"}dispose(){I.off(this._element,fr)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),he(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&he(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(I.on(this._element,Zr,d=>this._start(d)),I.on(this._element,Uu,d=>this._end(d)),this._element.classList.add("pointer-event")):(I.on(this._element,Po,d=>this._start(d)),I.on(this._element,nn,d=>this._move(d)),I.on(this._element,un,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ci=".bs.carousel",Ra=".data-api",es="ArrowLeft",ju="ArrowRight",ts="next",xr="prev",Nr="left",si="right",In=`slide${Ci}`,ai=`slid${Ci}`,Qt=`keydown${Ci}`,Sl=`mouseenter${Ci}`,Ia=`mouseleave${Ci}`,wl=`dragstart${Ci}`,mr=`load${Ci}${Ra}`,ks=`click${Ci}${Ra}`,Yt="carousel",gi="active",Qi=".active",Ri=".carousel-item",zu=Qi+Ri,Cl={[es]:si,[ju]:Nr},pr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ls={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ns extends Ue{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Yt&&this.cycle()}static get Default(){return pr}static get DefaultType(){return Ls}static get NAME(){return"carousel"}next(){this._slide(ts)}nextWhenVisible(){!document.hidden&&A(this._element)&&this.next()}prev(){this._slide(xr)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?I.one(this._element,ai,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void I.one(this._element,ai,()=>this.to(d));const w=this._getItemIndex(this._getActive());if(w===d)return;const U=d>w?ts:xr;this._slide(U,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&I.on(this._element,Qt,d=>this._keydown(d)),this._config.pause==="hover"&&(I.on(this._element,Sl,()=>this.pause()),I.on(this._element,Ia,()=>this._maybeEnableCycle())),this._config.touch&&dr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ge.find(".carousel-item img",this._element))I.on(v,wl,w=>w.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Nr)),rightCallback:()=>this._slide(this._directionToOrder(si)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new dr(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=Cl[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ge.findOne(Qi,this._indicatorsElement);v.classList.remove(gi),v.removeAttribute("aria-current");const w=ge.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);w&&(w.classList.add(gi),w.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const w=this._getActive(),U=d===ts,z=v||Ke(this._getItems(),w,U,this._config.wrap);if(z===w)return;const W=this._getItemIndex(z),ue=_e=>I.trigger(this._element,_e,{relatedTarget:z,direction:this._orderToDirection(d),from:this._getItemIndex(w),to:W});if(ue(In).defaultPrevented||!w||!z)return;const fe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(W),this._activeElement=z;const ye=U?"carousel-item-start":"carousel-item-end",Ee=U?"carousel-item-next":"carousel-item-prev";z.classList.add(Ee),ne(z),w.classList.add(ye),z.classList.add(ye),this._queueCallback(()=>{z.classList.remove(ye,Ee),z.classList.add(gi),w.classList.remove(gi,Ee,ye),this._isSliding=!1,ue(ai)},w,this._isAnimated()),fe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ge.findOne(zu,this._element)}_getItems(){return ge.find(Ri,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return J()?d===Nr?xr:ts:d===Nr?ts:xr}_orderToDirection(d){return J()?d===xr?Nr:si:d===xr?si:Nr}static jQueryInterface(d){return this.each(function(){const v=ns.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}I.on(document,ks,"[data-bs-slide], [data-bs-slide-to]",function(b){const d=ge.getElementFromSelector(this);if(!d||!d.classList.contains(Yt))return;b.preventDefault();const v=ns.getOrCreateInstance(d),w=this.getAttribute("data-bs-slide-to");return w?(v.to(w),void v._maybeEnableCycle()):Ce.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),I.on(window,mr,()=>{const b=ge.find('[data-bs-ride="carousel"]');for(const d of b)ns.getOrCreateInstance(d)}),ae(ns);const Yi=".bs.collapse",Uo=`show${Yi}`,jo=`shown${Yi}`,Ps=`hide${Yi}`,Or=`hidden${Yi}`,Rl=`click${Yi}.data-api`,_i="show",Pn="collapse",Lt="collapsing",gn=`:scope .${Pn} .${Pn}`,Ii='[data-bs-toggle="collapse"]',Da={parent:null,toggle:!0},Bu={parent:"(null|element)",toggle:"boolean"};class Mr extends Ue{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const w=ge.find(Ii);for(const U of w){const z=ge.getSelectorFromElement(U),W=ge.find(z).filter(ue=>ue===this._element);z!==null&&W.length&&this._triggerArray.push(U)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Da}static get DefaultType(){return Bu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(U=>U!==this._element).map(U=>Mr.getOrCreateInstance(U,{toggle:!1}))),d.length&&d[0]._isTransitioning||I.trigger(this._element,Uo).defaultPrevented)return;for(const U of d)U.hide();const v=this._getDimension();this._element.classList.remove(Pn),this._element.classList.add(Lt),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Lt),this._element.classList.add(Pn,_i),this._element.style[v]="",I.trigger(this._element,jo)},this._element,!0),this._element.style[v]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||I.trigger(this._element,Ps).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,ne(this._element),this._element.classList.add(Lt),this._element.classList.remove(Pn,_i);for(const v of this._triggerArray){const w=ge.getElementFromSelector(v);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Lt),this._element.classList.add(Pn),I.trigger(this._element,Or)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(_i)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=y(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Ii);for(const v of d){const w=ge.getElementFromSelector(v);w&&this._addAriaAndCollapsedClass([v],this._isShown(w))}}_getFirstLevelChildren(d){const v=ge.find(gn,this._config.parent);return ge.find(d,this._config.parent).filter(w=>!v.includes(w))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const w of d)w.classList.toggle("collapsed",!v),w.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const w=Mr.getOrCreateInstance(this,v);if(typeof d=="string"){if(w[d]===void 0)throw new TypeError(`No method named "${d}"`);w[d]()}})}}I.on(document,Rl,Ii,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault();for(const d of ge.getMultipleElementsFromSelector(this))Mr.getOrCreateInstance(d,{toggle:!1}).toggle()}),ae(Mr);var _n="top",zt="bottom",yn="right",Mt="left",Qn="auto",vn=[_n,zt,yn,Mt],Un="start",Nt="end",xa="clippingParents",Us="viewport",Yn="popper",Xi="reference",js=vn.reduce(function(b,d){return b.concat([d+"-"+Un,d+"-"+Nt])},[]),zs=[].concat(vn,[Qn]).reduce(function(b,d){return b.concat([d,d+"-"+Un,d+"-"+Nt])},[]),Na="beforeRead",zo="read",Bs="afterRead",oi="beforeMain",Xt="main",cn="afterMain",Vr="beforeWrite",Oa="write",mt="afterWrite",is=[Na,zo,Bs,oi,Xt,cn,Vr,Oa,mt];function hn(b){return b?(b.nodeName||"").toLowerCase():null}function fn(b){if(b==null)return window;if(b.toString()!=="[object Window]"){var d=b.ownerDocument;return d&&d.defaultView||window}return b}function rn(b){return b instanceof fn(b).Element||b instanceof Element}function Dn(b){return b instanceof fn(b).HTMLElement||b instanceof HTMLElement}function Ma(b){return typeof ShadowRoot<"u"&&(b instanceof fn(b).ShadowRoot||b instanceof ShadowRoot)}const Hs={name:"applyStyles",enabled:!0,phase:"write",fn:function(b){var d=b.state;Object.keys(d.elements).forEach(function(v){var w=d.styles[v]||{},U=d.attributes[v]||{},z=d.elements[v];Dn(z)&&hn(z)&&(Object.assign(z.style,w),Object.keys(U).forEach(function(W){var ue=U[W];ue===!1?z.removeAttribute(W):z.setAttribute(W,ue===!0?"":ue)}))})},effect:function(b){var d=b.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(w){var U=d.elements[w],z=d.attributes[w]||{},W=Object.keys(d.styles.hasOwnProperty(w)?d.styles[w]:v[w]).reduce(function(ue,fe){return ue[fe]="",ue},{});Dn(U)&&hn(U)&&(Object.assign(U.style,W),Object.keys(z).forEach(function(ue){U.removeAttribute(ue)}))})}},requires:["computeStyles"]};function xn(b){return b.split("-")[0]}var gr=Math.max,Wi=Math.min,dn=Math.round;function Va(){var b=navigator.userAgentData;return b!=null&&b.brands&&Array.isArray(b.brands)?b.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function ka(){return!/^((?!chrome|android).)*safari/i.test(Va())}function _r(b,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var w=b.getBoundingClientRect(),U=1,z=1;d&&Dn(b)&&(U=b.offsetWidth>0&&dn(w.width)/b.offsetWidth||1,z=b.offsetHeight>0&&dn(w.height)/b.offsetHeight||1);var W=(rn(b)?fn(b):window).visualViewport,ue=!ka()&&v,fe=(w.left+(ue&&W?W.offsetLeft:0))/U,ye=(w.top+(ue&&W?W.offsetTop:0))/z,Ee=w.width/U,_e=w.height/z;return{width:Ee,height:_e,top:ye,right:fe+Ee,bottom:ye+_e,left:fe,x:fe,y:ye}}function rs(b){var d=_r(b),v=b.offsetWidth,w=b.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-w)<=1&&(w=d.height),{x:b.offsetLeft,y:b.offsetTop,width:v,height:w}}function Bo(b,d){var v=d.getRootNode&&d.getRootNode();if(b.contains(d))return!0;if(v&&Ma(v)){var w=d;do{if(w&&b.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function jn(b){return fn(b).getComputedStyle(b)}function La(b){return["table","td","th"].indexOf(hn(b))>=0}function En(b){return((rn(b)?b.ownerDocument:b.document)||window.document).documentElement}function ss(b){return hn(b)==="html"?b:b.assignedSlot||b.parentNode||(Ma(b)?b.host:null)||En(b)}function yi(b){return Dn(b)&&jn(b).position!=="fixed"?b.offsetParent:null}function Di(b){for(var d=fn(b),v=yi(b);v&&La(v)&&jn(v).position==="static";)v=yi(v);return v&&(hn(v)==="html"||hn(v)==="body"&&jn(v).position==="static")?d:v||(function(w){var U=/firefox/i.test(Va());if(/Trident/i.test(Va())&&Dn(w)&&jn(w).position==="fixed")return null;var z=ss(w);for(Ma(z)&&(z=z.host);Dn(z)&&["html","body"].indexOf(hn(z))<0;){var W=jn(z);if(W.transform!=="none"||W.perspective!=="none"||W.contain==="paint"||["transform","perspective"].indexOf(W.willChange)!==-1||U&&W.willChange==="filter"||U&&W.filter&&W.filter!=="none")return z;z=z.parentNode}return null})(b)||d}function xi(b){return["top","bottom"].indexOf(b)>=0?"x":"y"}function Ji(b,d,v){return gr(b,Wi(d,v))}function qs(b){return Object.assign({},{top:0,right:0,bottom:0,left:0},b)}function kr(b,d){return d.reduce(function(v,w){return v[w]=b,v},{})}const Ni={name:"arrow",enabled:!0,phase:"main",fn:function(b){var d,v=b.state,w=b.name,U=b.options,z=v.elements.arrow,W=v.modifiersData.popperOffsets,ue=xn(v.placement),fe=xi(ue),ye=[Mt,yn].indexOf(ue)>=0?"height":"width";if(z&&W){var Ee=(function(ut,lt){return qs(typeof(ut=typeof ut=="function"?ut(Object.assign({},lt.rects,{placement:lt.placement})):ut)!="number"?ut:kr(ut,vn))})(U.padding,v),_e=rs(z),je=fe==="y"?_n:Mt,xe=fe==="y"?zt:yn,Ne=v.rects.reference[ye]+v.rects.reference[fe]-W[fe]-v.rects.popper[ye],Me=W[fe]-v.rects.reference[fe],Ie=Di(z),_t=Ie?fe==="y"?Ie.clientHeight||0:Ie.clientWidth||0:0,bt=Ne/2-Me/2,Pe=Ee[je],Xe=_t-_e[ye]-Ee[xe],ze=_t/2-_e[ye]/2+bt,Je=Ji(Pe,ze,Xe),ht=fe;v.modifiersData[w]=((d={})[ht]=Je,d.centerOffset=Je-ze,d)}},effect:function(b){var d=b.state,v=b.options.element,w=v===void 0?"[data-popper-arrow]":v;w!=null&&(typeof w!="string"||(w=d.elements.popper.querySelector(w)))&&Bo(d.elements.popper,w)&&(d.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Nn(b){return b.split("-")[1]}var Fs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Et(b){var d,v=b.popper,w=b.popperRect,U=b.placement,z=b.variation,W=b.offsets,ue=b.position,fe=b.gpuAcceleration,ye=b.adaptive,Ee=b.roundOffsets,_e=b.isFixed,je=W.x,xe=je===void 0?0:je,Ne=W.y,Me=Ne===void 0?0:Ne,Ie=typeof Ee=="function"?Ee({x:xe,y:Me}):{x:xe,y:Me};xe=Ie.x,Me=Ie.y;var _t=W.hasOwnProperty("x"),bt=W.hasOwnProperty("y"),Pe=Mt,Xe=_n,ze=window;if(ye){var Je=Di(v),ht="clientHeight",ut="clientWidth";Je===fn(v)&&jn(Je=En(v)).position!=="static"&&ue==="absolute"&&(ht="scrollHeight",ut="scrollWidth"),(U===_n||(U===Mt||U===yn)&&z===Nt)&&(Xe=zt,Me-=(_e&&Je===ze&&ze.visualViewport?ze.visualViewport.height:Je[ht])-w.height,Me*=fe?1:-1),U!==Mt&&(U!==_n&&U!==zt||z!==Nt)||(Pe=yn,xe-=(_e&&Je===ze&&ze.visualViewport?ze.visualViewport.width:Je[ut])-w.width,xe*=fe?1:-1)}var lt,Bt=Object.assign({position:ue},ye&&Fs),li=Ee===!0?(function(qn,An){var Si=qn.x,ui=qn.y,Vt=An.devicePixelRatio||1;return{x:dn(Si*Vt)/Vt||0,y:dn(ui*Vt)/Vt||0}})({x:xe,y:Me},fn(v)):{x:xe,y:Me};return xe=li.x,Me=li.y,fe?Object.assign({},Bt,((lt={})[Xe]=bt?"0":"",lt[Pe]=_t?"0":"",lt.transform=(ze.devicePixelRatio||1)<=1?"translate("+xe+"px, "+Me+"px)":"translate3d("+xe+"px, "+Me+"px, 0)",lt)):Object.assign({},Bt,((d={})[Xe]=bt?Me+"px":"",d[Pe]=_t?xe+"px":"",d.transform="",d))}const Oi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(b){var d=b.state,v=b.options,w=v.gpuAcceleration,U=w===void 0||w,z=v.adaptive,W=z===void 0||z,ue=v.roundOffsets,fe=ue===void 0||ue,ye={placement:xn(d.placement),variation:Nn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:U,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Et(Object.assign({},ye,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:W,roundOffsets:fe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Et(Object.assign({},ye,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:fe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var as={passive:!0};const Lr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(b){var d=b.state,v=b.instance,w=b.options,U=w.scroll,z=U===void 0||U,W=w.resize,ue=W===void 0||W,fe=fn(d.elements.popper),ye=[].concat(d.scrollParents.reference,d.scrollParents.popper);return z&&ye.forEach(function(Ee){Ee.addEventListener("scroll",v.update,as)}),ue&&fe.addEventListener("resize",v.update,as),function(){z&&ye.forEach(function(Ee){Ee.removeEventListener("scroll",v.update,as)}),ue&&fe.removeEventListener("resize",v.update,as)}},data:{}};var Ho={left:"right",right:"left",bottom:"top",top:"bottom"};function yr(b){return b.replace(/left|right|bottom|top/g,function(d){return Ho[d]})}var Pr={start:"end",end:"start"};function Mi(b){return b.replace(/start|end/g,function(d){return Pr[d]})}function mn(b){var d=fn(b);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Zi(b){return _r(En(b)).left+mn(b).scrollLeft}function Vi(b){var d=jn(b),v=d.overflow,w=d.overflowX,U=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+U+w)}function Ur(b){return["html","body","#document"].indexOf(hn(b))>=0?b.ownerDocument.body:Dn(b)&&Vi(b)?b:Ur(ss(b))}function jr(b,d){var v;d===void 0&&(d=[]);var w=Ur(b),U=w===((v=b.ownerDocument)==null?void 0:v.body),z=fn(w),W=U?[z].concat(z.visualViewport||[],Vi(w)?w:[]):w,ue=d.concat(W);return U?ue:ue.concat(jr(ss(W)))}function vr(b){return Object.assign({},b,{left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height})}function Gs(b,d,v){return d===Us?vr((function(w,U){var z=fn(w),W=En(w),ue=z.visualViewport,fe=W.clientWidth,ye=W.clientHeight,Ee=0,_e=0;if(ue){fe=ue.width,ye=ue.height;var je=ka();(je||!je&&U==="fixed")&&(Ee=ue.offsetLeft,_e=ue.offsetTop)}return{width:fe,height:ye,x:Ee+Zi(w),y:_e}})(b,v)):rn(d)?(function(w,U){var z=_r(w,!1,U==="fixed");return z.top=z.top+w.clientTop,z.left=z.left+w.clientLeft,z.bottom=z.top+w.clientHeight,z.right=z.left+w.clientWidth,z.width=w.clientWidth,z.height=w.clientHeight,z.x=z.left,z.y=z.top,z})(d,v):vr((function(w){var U,z=En(w),W=mn(w),ue=(U=w.ownerDocument)==null?void 0:U.body,fe=gr(z.scrollWidth,z.clientWidth,ue?ue.scrollWidth:0,ue?ue.clientWidth:0),ye=gr(z.scrollHeight,z.clientHeight,ue?ue.scrollHeight:0,ue?ue.clientHeight:0),Ee=-W.scrollLeft+Zi(w),_e=-W.scrollTop;return jn(ue||z).direction==="rtl"&&(Ee+=gr(z.clientWidth,ue?ue.clientWidth:0)-fe),{width:fe,height:ye,x:Ee,y:_e}})(En(b)))}function er(b){var d,v=b.reference,w=b.element,U=b.placement,z=U?xn(U):null,W=U?Nn(U):null,ue=v.x+v.width/2-w.width/2,fe=v.y+v.height/2-w.height/2;switch(z){case _n:d={x:ue,y:v.y-w.height};break;case zt:d={x:ue,y:v.y+v.height};break;case yn:d={x:v.x+v.width,y:fe};break;case Mt:d={x:v.x-w.width,y:fe};break;default:d={x:v.x,y:v.y}}var ye=z?xi(z):null;if(ye!=null){var Ee=ye==="y"?"height":"width";switch(W){case Un:d[ye]=d[ye]-(v[Ee]/2-w[Ee]/2);break;case Nt:d[ye]=d[ye]+(v[Ee]/2-w[Ee]/2)}}return d}function tr(b,d){d===void 0&&(d={});var v=d,w=v.placement,U=w===void 0?b.placement:w,z=v.strategy,W=z===void 0?b.strategy:z,ue=v.boundary,fe=ue===void 0?xa:ue,ye=v.rootBoundary,Ee=ye===void 0?Us:ye,_e=v.elementContext,je=_e===void 0?Yn:_e,xe=v.altBoundary,Ne=xe!==void 0&&xe,Me=v.padding,Ie=Me===void 0?0:Me,_t=qs(typeof Ie!="number"?Ie:kr(Ie,vn)),bt=je===Yn?Xi:Yn,Pe=b.rects.popper,Xe=b.elements[Ne?bt:je],ze=(function(An,Si,ui,Vt){var Ht=Si==="clippingParents"?(function(At){var qt=jr(ss(At)),kt=["absolute","fixed"].indexOf(jn(At).position)>=0&&Dn(At)?Di(At):At;return rn(kt)?qt.filter(function(St){return rn(St)&&Bo(St,kt)&&hn(St)!=="body"}):[]})(An):[].concat(Si),Jt=[].concat(Ht,[ui]),wi=Jt[0],an=Jt.reduce(function(At,qt){var kt=Gs(An,qt,Vt);return At.top=gr(kt.top,At.top),At.right=Wi(kt.right,At.right),At.bottom=Wi(kt.bottom,At.bottom),At.left=gr(kt.left,At.left),At},Gs(An,wi,Vt));return an.width=an.right-an.left,an.height=an.bottom-an.top,an.x=an.left,an.y=an.top,an})(rn(Xe)?Xe:Xe.contextElement||En(b.elements.popper),fe,Ee,W),Je=_r(b.elements.reference),ht=er({reference:Je,element:Pe,placement:U}),ut=vr(Object.assign({},Pe,ht)),lt=je===Yn?ut:Je,Bt={top:ze.top-lt.top+_t.top,bottom:lt.bottom-ze.bottom+_t.bottom,left:ze.left-lt.left+_t.left,right:lt.right-ze.right+_t.right},li=b.modifiersData.offset;if(je===Yn&&li){var qn=li[U];Object.keys(Bt).forEach(function(An){var Si=[yn,zt].indexOf(An)>=0?1:-1,ui=[_n,zt].indexOf(An)>=0?"y":"x";Bt[An]+=qn[ui]*Si})}return Bt}function qo(b,d){d===void 0&&(d={});var v=d,w=v.placement,U=v.boundary,z=v.rootBoundary,W=v.padding,ue=v.flipVariations,fe=v.allowedAutoPlacements,ye=fe===void 0?zs:fe,Ee=Nn(w),_e=Ee?ue?js:js.filter(function(Ne){return Nn(Ne)===Ee}):vn,je=_e.filter(function(Ne){return ye.indexOf(Ne)>=0});je.length===0&&(je=_e);var xe=je.reduce(function(Ne,Me){return Ne[Me]=tr(b,{placement:Me,boundary:U,rootBoundary:z,padding:W})[xn(Me)],Ne},{});return Object.keys(xe).sort(function(Ne,Me){return xe[Ne]-xe[Me]})}const os={name:"flip",enabled:!0,phase:"main",fn:function(b){var d=b.state,v=b.options,w=b.name;if(!d.modifiersData[w]._skip){for(var U=v.mainAxis,z=U===void 0||U,W=v.altAxis,ue=W===void 0||W,fe=v.fallbackPlacements,ye=v.padding,Ee=v.boundary,_e=v.rootBoundary,je=v.altBoundary,xe=v.flipVariations,Ne=xe===void 0||xe,Me=v.allowedAutoPlacements,Ie=d.options.placement,_t=xn(Ie),bt=fe||(_t!==Ie&&Ne?(function(At){if(xn(At)===Qn)return[];var qt=yr(At);return[Mi(At),qt,Mi(qt)]})(Ie):[yr(Ie)]),Pe=[Ie].concat(bt).reduce(function(At,qt){return At.concat(xn(qt)===Qn?qo(d,{placement:qt,boundary:Ee,rootBoundary:_e,padding:ye,flipVariations:Ne,allowedAutoPlacements:Me}):qt)},[]),Xe=d.rects.reference,ze=d.rects.popper,Je=new Map,ht=!0,ut=Pe[0],lt=0;lt<Pe.length;lt++){var Bt=Pe[lt],li=xn(Bt),qn=Nn(Bt)===Un,An=[_n,zt].indexOf(li)>=0,Si=An?"width":"height",ui=tr(d,{placement:Bt,boundary:Ee,rootBoundary:_e,altBoundary:je,padding:ye}),Vt=An?qn?yn:Mt:qn?zt:_n;Xe[Si]>ze[Si]&&(Vt=yr(Vt));var Ht=yr(Vt),Jt=[];if(z&&Jt.push(ui[li]<=0),ue&&Jt.push(ui[Vt]<=0,ui[Ht]<=0),Jt.every(function(At){return At})){ut=Bt,ht=!1;break}Je.set(Bt,Jt)}if(ht)for(var wi=function(At){var qt=Pe.find(function(kt){var St=Je.get(kt);if(St)return St.slice(0,At).every(function(Zs){return Zs})});if(qt)return ut=qt,"break"},an=Ne?3:1;an>0&&wi(an)!=="break";an--);d.placement!==ut&&(d.modifiersData[w]._skip=!0,d.placement=ut,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Fo(b,d,v){return v===void 0&&(v={x:0,y:0}),{top:b.top-d.height-v.y,right:b.right-d.width+v.x,bottom:b.bottom-d.height+v.y,left:b.left-d.width-v.x}}function Go(b){return[_n,yn,zt,Mt].some(function(d){return b[d]>=0})}const ls={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(b){var d=b.state,v=b.name,w=d.rects.reference,U=d.rects.popper,z=d.modifiersData.preventOverflow,W=tr(d,{elementContext:"reference"}),ue=tr(d,{altBoundary:!0}),fe=Fo(W,w),ye=Fo(ue,U,z),Ee=Go(fe),_e=Go(ye);d.modifiersData[v]={referenceClippingOffsets:fe,popperEscapeOffsets:ye,isReferenceHidden:Ee,hasPopperEscaped:_e},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ee,"data-popper-escaped":_e})}},Pa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(b){var d=b.state,v=b.options,w=b.name,U=v.offset,z=U===void 0?[0,0]:U,W=zs.reduce(function(Ee,_e){return Ee[_e]=(function(je,xe,Ne){var Me=xn(je),Ie=[Mt,_n].indexOf(Me)>=0?-1:1,_t=typeof Ne=="function"?Ne(Object.assign({},xe,{placement:je})):Ne,bt=_t[0],Pe=_t[1];return bt=bt||0,Pe=(Pe||0)*Ie,[Mt,yn].indexOf(Me)>=0?{x:Pe,y:bt}:{x:bt,y:Pe}})(_e,d.rects,z),Ee},{}),ue=W[d.placement],fe=ue.x,ye=ue.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=fe,d.modifiersData.popperOffsets.y+=ye),d.modifiersData[w]=W}},Ua={name:"popperOffsets",enabled:!0,phase:"read",fn:function(b){var d=b.state,v=b.name;d.modifiersData[v]=er({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},$s={name:"preventOverflow",enabled:!0,phase:"main",fn:function(b){var d=b.state,v=b.options,w=b.name,U=v.mainAxis,z=U===void 0||U,W=v.altAxis,ue=W!==void 0&&W,fe=v.boundary,ye=v.rootBoundary,Ee=v.altBoundary,_e=v.padding,je=v.tether,xe=je===void 0||je,Ne=v.tetherOffset,Me=Ne===void 0?0:Ne,Ie=tr(d,{boundary:fe,rootBoundary:ye,padding:_e,altBoundary:Ee}),_t=xn(d.placement),bt=Nn(d.placement),Pe=!bt,Xe=xi(_t),ze=Xe==="x"?"y":"x",Je=d.modifiersData.popperOffsets,ht=d.rects.reference,ut=d.rects.popper,lt=typeof Me=="function"?Me(Object.assign({},d.rects,{placement:d.placement})):Me,Bt=typeof lt=="number"?{mainAxis:lt,altAxis:lt}:Object.assign({mainAxis:0,altAxis:0},lt),li=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,qn={x:0,y:0};if(Je){if(z){var An,Si=Xe==="y"?_n:Mt,ui=Xe==="y"?zt:yn,Vt=Xe==="y"?"height":"width",Ht=Je[Xe],Jt=Ht+Ie[Si],wi=Ht-Ie[ui],an=xe?-ut[Vt]/2:0,At=bt===Un?ht[Vt]:ut[Vt],qt=bt===Un?-ut[Vt]:-ht[Vt],kt=d.elements.arrow,St=xe&&kt?rs(kt):{width:0,height:0},Zs=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Cr=Zs[Si],qe=Zs[ui],ft=Ji(0,ht[Vt],St[Vt]),on=Pe?ht[Vt]/2-an-ft-Cr-Bt.mainAxis:At-ft-Cr-Bt.mainAxis,Bl=Pe?-ht[Vt]/2+an+ft+qe+Bt.mainAxis:qt+ft+qe+Bt.mainAxis,vs=d.elements.arrow&&Di(d.elements.arrow),ea=vs?Xe==="y"?vs.clientTop||0:vs.clientLeft||0:0,il=(An=li?.[Xe])!=null?An:0,rl=Ht+Bl-il,ta=Ji(xe?Wi(Jt,Ht+on-il-ea):Jt,Ht,xe?gr(wi,rl):wi);Je[Xe]=ta,qn[Xe]=ta-Ht}if(ue){var Yh,Ft=Xe==="x"?_n:Mt,yc=Xe==="x"?zt:yn,$r=Je[ze],sl=ze==="y"?"height":"width",vc=$r+Ie[Ft],Xh=$r-Ie[yc],al=[_n,Mt].indexOf(_t)!==-1,Hl=(Yh=li?.[ze])!=null?Yh:0,ql=al?vc:$r-ht[sl]-ut[sl]-Hl+Bt.altAxis,Fn=al?$r+ht[sl]+ut[sl]-Hl-Bt.altAxis:Xh,Gt=xe&&al?(function(Fl,ol,eo){var Gl=Ji(Fl,ol,eo);return Gl>eo?eo:Gl})(ql,$r,Fn):Ji(xe?ql:vc,$r,xe?Fn:Xh);Je[ze]=Gt,qn[ze]=Gt-$r}d.modifiersData[w]=qn}},requiresIfExists:["offset"]};function Il(b,d,v){v===void 0&&(v=!1);var w,U,z=Dn(d),W=Dn(d)&&(function(_e){var je=_e.getBoundingClientRect(),xe=dn(je.width)/_e.offsetWidth||1,Ne=dn(je.height)/_e.offsetHeight||1;return xe!==1||Ne!==1})(d),ue=En(d),fe=_r(b,W,v),ye={scrollLeft:0,scrollTop:0},Ee={x:0,y:0};return(z||!z&&!v)&&((hn(d)!=="body"||Vi(ue))&&(ye=(w=d)!==fn(w)&&Dn(w)?{scrollLeft:(U=w).scrollLeft,scrollTop:U.scrollTop}:mn(w)),Dn(d)?((Ee=_r(d,!0)).x+=d.clientLeft,Ee.y+=d.clientTop):ue&&(Ee.x=Zi(ue))),{x:fe.left+ye.scrollLeft-Ee.x,y:fe.top+ye.scrollTop-Ee.y,width:fe.width,height:fe.height}}function Dl(b){var d=new Map,v=new Set,w=[];function U(z){v.add(z.name),[].concat(z.requires||[],z.requiresIfExists||[]).forEach(function(W){if(!v.has(W)){var ue=d.get(W);ue&&U(ue)}}),w.push(z)}return b.forEach(function(z){d.set(z.name,z)}),b.forEach(function(z){v.has(z.name)||U(z)}),w}var nr={placement:"bottom",modifiers:[],strategy:"absolute"};function $o(){for(var b=arguments.length,d=new Array(b),v=0;v<b;v++)d[v]=arguments[v];return!d.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function Ks(b){b===void 0&&(b={});var d=b,v=d.defaultModifiers,w=v===void 0?[]:v,U=d.defaultOptions,z=U===void 0?nr:U;return function(W,ue,fe){fe===void 0&&(fe=z);var ye,Ee,_e={placement:"bottom",orderedModifiers:[],options:Object.assign({},nr,z),modifiersData:{},elements:{reference:W,popper:ue},attributes:{},styles:{}},je=[],xe=!1,Ne={state:_e,setOptions:function(Ie){var _t=typeof Ie=="function"?Ie(_e.options):Ie;Me(),_e.options=Object.assign({},z,_e.options,_t),_e.scrollParents={reference:rn(W)?jr(W):W.contextElement?jr(W.contextElement):[],popper:jr(ue)};var bt,Pe,Xe=(function(ze){var Je=Dl(ze);return is.reduce(function(ht,ut){return ht.concat(Je.filter(function(lt){return lt.phase===ut}))},[])})((bt=[].concat(w,_e.options.modifiers),Pe=bt.reduce(function(ze,Je){var ht=ze[Je.name];return ze[Je.name]=ht?Object.assign({},ht,Je,{options:Object.assign({},ht.options,Je.options),data:Object.assign({},ht.data,Je.data)}):Je,ze},{}),Object.keys(Pe).map(function(ze){return Pe[ze]})));return _e.orderedModifiers=Xe.filter(function(ze){return ze.enabled}),_e.orderedModifiers.forEach(function(ze){var Je=ze.name,ht=ze.options,ut=ht===void 0?{}:ht,lt=ze.effect;if(typeof lt=="function"){var Bt=lt({state:_e,name:Je,instance:Ne,options:ut});je.push(Bt||function(){})}}),Ne.update()},forceUpdate:function(){if(!xe){var Ie=_e.elements,_t=Ie.reference,bt=Ie.popper;if($o(_t,bt)){_e.rects={reference:Il(_t,Di(bt),_e.options.strategy==="fixed"),popper:rs(bt)},_e.reset=!1,_e.placement=_e.options.placement,_e.orderedModifiers.forEach(function(lt){return _e.modifiersData[lt.name]=Object.assign({},lt.data)});for(var Pe=0;Pe<_e.orderedModifiers.length;Pe++)if(_e.reset!==!0){var Xe=_e.orderedModifiers[Pe],ze=Xe.fn,Je=Xe.options,ht=Je===void 0?{}:Je,ut=Xe.name;typeof ze=="function"&&(_e=ze({state:_e,options:ht,name:ut,instance:Ne})||_e)}else _e.reset=!1,Pe=-1}}},update:(ye=function(){return new Promise(function(Ie){Ne.forceUpdate(),Ie(_e)})},function(){return Ee||(Ee=new Promise(function(Ie){Promise.resolve().then(function(){Ee=void 0,Ie(ye())})})),Ee}),destroy:function(){Me(),xe=!0}};if(!$o(W,ue))return Ne;function Me(){je.forEach(function(Ie){return Ie()}),je=[]}return Ne.setOptions(fe).then(function(Ie){!xe&&fe.onFirstUpdate&&fe.onFirstUpdate(Ie)}),Ne}}var xl=Ks(),Nl=Ks({defaultModifiers:[Lr,Ua,Oi,Hs]}),Er=Ks({defaultModifiers:[Lr,Ua,Oi,Hs,Pa,os,$s,Ni,ls]});const zn=Object.freeze(Object.defineProperty({__proto__:null,afterMain:cn,afterRead:Bs,afterWrite:mt,applyStyles:Hs,arrow:Ni,auto:Qn,basePlacements:vn,beforeMain:oi,beforeRead:Na,beforeWrite:Vr,bottom:zt,clippingParents:xa,computeStyles:Oi,createPopper:Er,createPopperBase:xl,createPopperLite:Nl,detectOverflow:tr,end:Nt,eventListeners:Lr,flip:os,hide:ls,left:Mt,main:Xt,modifierPhases:is,offset:Pa,placements:zs,popper:Yn,popperGenerator:Ks,popperOffsets:Ua,preventOverflow:$s,read:zo,reference:Xi,right:yn,start:Un,top:_n,variationPlacements:js,viewport:Us,write:Oa},Symbol.toStringTag,{value:"Module"})),Ko="dropdown",Tr=".bs.dropdown",ir=".data-api",c="ArrowUp",g="ArrowDown",T=`hide${Tr}`,R=`hidden${Tr}`,F=`show${Tr}`,Q=`shown${Tr}`,de=`click${Tr}${ir}`,He=`keydown${Tr}${ir}`,Wt=`keyup${Tr}${ir}`,Ze="show",pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ki=`${pt}.${Ze}`,vi=".dropdown-menu",rr=J()?"top-end":"top-start",sr=J()?"top-start":"top-end",Qs=J()?"bottom-end":"bottom-start",ja=J()?"bottom-start":"bottom-end",za=J()?"left-start":"right-start",$d=J()?"right-start":"left-start",Kd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Qd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Li extends Ue{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,vi)[0]||ge.prev(this._element,vi)[0]||ge.findOne(vi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Kd}static get DefaultType(){return Qd}static get NAME(){return Ko}toggle(){return this._isShown()?this.hide():this.show()}show(){if(C(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!I.trigger(this._element,F,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))I.on(v,"mouseover",q);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ze),this._element.classList.add(Ze),I.trigger(this._element,Q,d)}}hide(){if(C(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!I.trigger(this._element,T,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))I.off(v,"mouseover",q);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ze),this._element.classList.remove(Ze),this._element.setAttribute("aria-expanded","false"),Ce.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,R,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!_(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Ko.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(zn===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:_(this._config.reference)?d=y(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=Er(d,this._menu,v)}_isShown(){return this._menu.classList.contains(Ze)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return za;if(d.classList.contains("dropstart"))return $d;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?sr:rr:v?ja:Qs}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ce.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...he(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:v}){const w=ge.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(U=>A(U));w.length&&Ke(w,v,d===g,!w.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=Li.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ge.find(ki);for(const w of v){const U=Li.getInstance(w);if(!U||U._config.autoClose===!1)continue;const z=d.composedPath(),W=z.includes(U._menu);if(z.includes(U._element)||U._config.autoClose==="inside"&&!W||U._config.autoClose==="outside"&&W||U._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ue={relatedTarget:U._element};d.type==="click"&&(ue.clickEvent=d),U._completeHide(ue)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),w=d.key==="Escape",U=[c,g].includes(d.key);if(!U&&!w||v&&!w)return;d.preventDefault();const z=this.matches(pt)?this:ge.prev(this,pt)[0]||ge.next(this,pt)[0]||ge.findOne(pt,d.delegateTarget.parentNode),W=Li.getOrCreateInstance(z);if(U)return d.stopPropagation(),W.show(),void W._selectMenuItem(d);W._isShown()&&(d.stopPropagation(),W.hide(),z.focus())}}I.on(document,He,pt,Li.dataApiKeydownHandler),I.on(document,He,vi,Li.dataApiKeydownHandler),I.on(document,de,Li.clearMenus),I.on(document,Wt,Li.clearMenus),I.on(document,de,pt,function(b){b.preventDefault(),Li.getOrCreateInstance(this).toggle()}),ae(Li);const Hu="backdrop",Ba="show",Ha=`mousedown.bs.${Hu}`,Yd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ol={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qu extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Yd}static get DefaultType(){return Ol}static get NAME(){return Hu}show(d){if(!this._config.isVisible)return void he(d);this._append();const v=this._getElement();this._config.isAnimated&&ne(v),v.classList.add(Ba),this._emulateAnimation(()=>{he(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(Ba),this._emulateAnimation(()=>{this.dispose(),he(d)})):he(d)}dispose(){this._isAppended&&(I.off(this._element,Ha),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=y(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),I.on(d,Ha,()=>{he(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){Be(d,this._getElement(),this._config.isAnimated)}}const Qo=".bs.focustrap",Fu=`focusin${Qo}`,Gu=`keydown.tab${Qo}`,$u="backward",Dh={autofocus:!0,trapElement:null},xh={autofocus:"boolean",trapElement:"element"};class Nh extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Dh}static get DefaultType(){return xh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),I.off(document,Qo),I.on(document,Fu,d=>this._handleFocusin(d)),I.on(document,Gu,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,Qo))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const w=ge.focusableChildren(v);w.length===0?v.focus():this._lastTabNavDirection===$u?w[w.length-1].focus():w[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?$u:"forward")}}const Oh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mh=".sticky-top",Ml="padding-right",Vh="margin-right";class Xn{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ml,v=>v+d),this._setElementAttributes(Oh,Ml,v=>v+d),this._setElementAttributes(Mh,Vh,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ml),this._resetElementAttributes(Oh,Ml),this._resetElementAttributes(Mh,Vh)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,w){const U=this.getWidth();this._applyManipulationCallback(d,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+U)return;this._saveInitialAttribute(z,v);const W=window.getComputedStyle(z).getPropertyValue(v);z.style.setProperty(v,`${w(Number.parseFloat(W))}px`)})}_saveInitialAttribute(d,v){const w=d.style.getPropertyValue(v);w&&Ce.setDataAttribute(d,v,w)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,w=>{const U=Ce.getDataAttribute(w,v);U!==null?(Ce.removeDataAttribute(w,v),w.style.setProperty(v,U)):w.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(_(d))v(d);else for(const w of ge.find(d,this._element))v(w)}}const Bn=".bs.modal",kh=`hide${Bn}`,Lh=`hidePrevented${Bn}`,Ku=`hidden${Bn}`,Qu=`show${Bn}`,Yu=`shown${Bn}`,Xd=`resize${Bn}`,qa=`click.dismiss${Bn}`,Xu=`mousedown.dismiss${Bn}`,Yo=`keydown.dismiss${Bn}`,Wu=`click${Bn}.data-api`,Ju="modal-open",us="show",cs="modal-static",Zu={backdrop:!0,focus:!0,keyboard:!0},Ph={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ei extends Ue{constructor(d,v){super(d,v),this._dialog=ge.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xn,this._addEventListeners()}static get Default(){return Zu}static get DefaultType(){return Ph}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||I.trigger(this._element,Qu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ju),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(I.trigger(this._element,kh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(us),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){I.off(window,Bn),I.off(this._dialog,Bn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Nh({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ge.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),ne(this._element),this._element.classList.add(us),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,Yu,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){I.on(this._element,Yo,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),I.on(window,Xd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),I.on(this._element,Xu,d=>{I.one(this._element,qa,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ju),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,Ku)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,Lh).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(cs)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(cs),this._queueCallback(()=>{this._element.classList.remove(cs),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),w=v>0;if(w&&!d){const U=J()?"paddingLeft":"paddingRight";this._element.style[U]=`${v}px`}if(!w&&d){const U=J()?"paddingRight":"paddingLeft";this._element.style[U]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const w=Ei.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0)throw new TypeError(`No method named "${d}"`);w[d](v)}})}}I.on(document,Wu,'[data-bs-toggle="modal"]',function(b){const d=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),I.one(d,Qu,w=>{w.defaultPrevented||I.one(d,Ku,()=>{A(this)&&this.focus()})});const v=ge.findOne(".modal.show");v&&Ei.getInstance(v).hide(),Ei.getOrCreateInstance(d).toggle(this)}),hr(Ei),ae(Ei);const br=".bs.offcanvas",ec=".data-api",Uh=`load${br}${ec}`,jh="show",zh="showing",Bh="hiding",tc=".offcanvas.show",Hh=`show${br}`,nc=`shown${br}`,ar=`hide${br}`,Xo=`hidePrevented${br}`,Ti=`hidden${br}`,Fa=`resize${br}`,ic=`click${br}${ec}`,Vl=`keydown.dismiss${br}`,kl={backdrop:!0,keyboard:!0,scroll:!1},rc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wn extends Ue{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kl}static get DefaultType(){return rc}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||I.trigger(this._element,Hh,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Xn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(jh),this._element.classList.remove(zh),I.trigger(this._element,nc,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,ar).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Bh),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(jh,Bh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Xn().reset(),I.trigger(this._element,Ti)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new qu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():I.trigger(this._element,Xo)}:null})}_initializeFocusTrap(){return new Nh({trapElement:this._element})}_addEventListeners(){I.on(this._element,Vl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():I.trigger(this._element,Xo))})}static jQueryInterface(d){return this.each(function(){const v=Wn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}I.on(document,ic,'[data-bs-toggle="offcanvas"]',function(b){const d=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),C(this))return;I.one(d,Ti,()=>{A(this)&&this.focus()});const v=ge.findOne(tc);v&&v!==d&&Wn.getInstance(v).hide(),Wn.getOrCreateInstance(d).toggle(this)}),I.on(window,Uh,()=>{for(const b of ge.find(tc))Wn.getOrCreateInstance(b).show()}),I.on(window,Fa,()=>{for(const b of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(b).position!=="fixed"&&Wn.getOrCreateInstance(b).hide()}),hr(Wn),ae(Wn);const sc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ll=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ga=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Wd=(b,d)=>{const v=b.nodeName.toLowerCase();return d.includes(v)?!Ll.has(v)||!!Ga.test(b.nodeValue):d.filter(w=>w instanceof RegExp).some(w=>w.test(v))},bi={allowList:sc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ac={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},zr={entry:"(string|element|function|null)",selector:"(string|element)"};class qh extends Le{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return bi}static get DefaultType(){return ac}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[U,z]of Object.entries(this._config.content))this._setContent(d,z,U);const v=d.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&v.classList.add(...w.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,w]of Object.entries(d))super._typeCheckConfig({selector:v,entry:w},zr)}_setContent(d,v,w){const U=ge.findOne(w,d);U&&((v=this._resolvePossibleFunction(v))?_(v)?this._putElementInTemplate(y(v),U):this._config.html?U.innerHTML=this._maybeSanitize(v):U.textContent=v:U.remove())}_maybeSanitize(d){return this._config.sanitize?(function(v,w,U){if(!v.length)return v;if(U&&typeof U=="function")return U(v);const z=new window.DOMParser().parseFromString(v,"text/html"),W=[].concat(...z.body.querySelectorAll("*"));for(const ue of W){const fe=ue.nodeName.toLowerCase();if(!Object.keys(w).includes(fe)){ue.remove();continue}const ye=[].concat(...ue.attributes),Ee=[].concat(w["*"]||[],w[fe]||[]);for(const _e of ye)Wd(_e,Ee)||ue.removeAttribute(_e.nodeName)}return z.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return he(d,[void 0,this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const Pl=new Set(["sanitize","allowList","sanitizeFn"]),Br="fade",$a="show",Fh=".tooltip-inner",Ul=".modal",oc="hide.bs.modal",Hn="hover",hs="focus",fs="click",jl={AUTO:"auto",TOP:"top",RIGHT:J()?"left":"right",BOTTOM:"bottom",LEFT:J()?"right":"left"},Wo={allowList:sc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tn extends Ue{constructor(d,v){if(zn===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Wo}static get DefaultType(){return Pi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(Ul),oc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=I.trigger(this._element,this.constructor.eventName("show")),v=(x(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:U}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(U.append(w),I.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add($a),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))I.on(z,"mouseover",q);this._queueCallback(()=>{I.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!I.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove($a),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))I.off(d,"mouseover",q);this._activeTrigger[fs]=!1,this._activeTrigger[hs]=!1,this._activeTrigger[Hn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(Br,$a),v.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(U=>{do U+=Math.floor(1e6*Math.random());while(document.getElementById(U));return U})(this.constructor.NAME).toString();return v.setAttribute("id",w),this._isAnimated()&&v.classList.add(Br),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new qh({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Fh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Br)}_isShown(){return this.tip&&this.tip.classList.contains($a)}_createPopper(d){const v=he(this._config.placement,[this,d,this._element]),w=jl[v.toUpperCase()];return Er(this._element,d,this._getPopperConfig(w))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return he(d,[this._element,this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...v,...he(this._config.popperConfig,[void 0,v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")I.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>{const U=this._initializeOnDelegatedTarget(w);U._activeTrigger[fs]=!(U._isShown()&&U._activeTrigger[fs]),U.toggle()});else if(v!=="manual"){const w=v===Hn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),U=v===Hn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");I.on(this._element,w,this._config.selector,z=>{const W=this._initializeOnDelegatedTarget(z);W._activeTrigger[z.type==="focusin"?hs:Hn]=!0,W._enter()}),I.on(this._element,U,this._config.selector,z=>{const W=this._initializeOnDelegatedTarget(z);W._activeTrigger[z.type==="focusout"?hs:Hn]=W._element.contains(z.relatedTarget),W._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(Ul),oc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=Ce.getDataAttributes(this._element);for(const w of Object.keys(v))Pl.has(w)&&delete v[w];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:y(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,w]of Object.entries(this._config))this.constructor.Default[v]!==w&&(d[v]=w);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Tn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}ae(Tn);const ds=".popover-header",Ar=".popover-body",Sr={...Tn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Hr={...Tn.DefaultType,content:"(null|string|element|function)"};class Jo extends Tn{static get Default(){return Sr}static get DefaultType(){return Hr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ds]:this._getTitle(),[Ar]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=Jo.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}ae(Jo);const Zo=".bs.scrollspy",lc=`activate${Zo}`,uc=`click${Zo}`,On=`load${Zo}.data-api`,gt="active",We="[href]",qr=".nav-link",Ui=`${qr}, .nav-item > ${qr}, .list-group-item`,cc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ms={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ka extends Ue{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cc}static get DefaultType(){return ms}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=y(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(I.off(this._config.target,uc),I.on(this._config.target,uc,We,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const w=this._rootElement||window,U=v.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:U,behavior:"smooth"});w.scrollTop=U}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=W=>this._targetLinks.get(`#${W.target.id}`),w=W=>{this._previousScrollData.visibleEntryTop=W.target.offsetTop,this._process(v(W))},U=(this._rootElement||document.documentElement).scrollTop,z=U>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=U;for(const W of d){if(!W.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(W));continue}const ue=W.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&ue){if(w(W),!U)return}else z||ue||w(W)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ge.find(We,this._config.target);for(const v of d){if(!v.hash||C(v))continue;const w=ge.findOne(decodeURI(v.hash),this._element);A(w)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,w))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(gt),this._activateParents(d),I.trigger(this._element,lc,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ge.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(gt);else for(const v of ge.parents(d,".nav, .list-group"))for(const w of ge.prev(v,Ui))w.classList.add(gt)}_clearActiveClass(d){d.classList.remove(gt);const v=ge.find(`${We}.${gt}`,d);for(const w of v)w.classList.remove(gt)}static jQueryInterface(d){return this.each(function(){const v=Ka.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}I.on(window,On,()=>{for(const b of ge.find('[data-bs-spy="scroll"]'))Ka.getOrCreateInstance(b)}),ae(Ka);const ps=".bs.tab",Qa=`hide${ps}`,Ys=`hidden${ps}`,hc=`show${ps}`,el=`shown${ps}`,fc=`click${ps}`,Xs=`keydown${ps}`,Fr=`load${ps}`,gs="ArrowLeft",wr="ArrowRight",dc="ArrowUp",zl="ArrowDown",_s="Home",tl="End",Ai="active",bn="fade",Ya="show",mc=".dropdown-toggle",pc=`:not(${mc})`,Gh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gc=`.nav-link${pc}, .list-group-item${pc}, [role="tab"]${pc}, ${Gh}`,sn=`.${Ai}[data-bs-toggle="tab"], .${Ai}[data-bs-toggle="pill"], .${Ai}[data-bs-toggle="list"]`;class Gr extends Ue{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),I.on(this._element,Xs,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),w=v?I.trigger(v,Qa,{relatedTarget:d}):null;I.trigger(d,hc,{relatedTarget:v}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(Ai),this._activate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),I.trigger(d,el,{relatedTarget:v})):d.classList.add(Ya)},d,d.classList.contains(bn)))}_deactivate(d,v){d&&(d.classList.remove(Ai),d.blur(),this._deactivate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),I.trigger(d,Ys,{relatedTarget:v})):d.classList.remove(Ya)},d,d.classList.contains(bn)))}_keydown(d){if(![gs,wr,dc,zl,_s,tl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(U=>!C(U));let w;if([_s,tl].includes(d.key))w=v[d.key===_s?0:v.length-1];else{const U=[wr,zl].includes(d.key);w=Ke(v,d.target,U,!0)}w&&(w.focus({preventScroll:!0}),Gr.getOrCreateInstance(w).show())}_getChildren(){return ge.find(gc,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const w of v)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),w=this._getOuterElement(d);d.setAttribute("aria-selected",v),w!==d&&this._setAttributeIfNotExists(w,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ge.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const w=this._getOuterElement(d);if(!w.classList.contains("dropdown"))return;const U=(z,W)=>{const ue=ge.findOne(z,w);ue&&ue.classList.toggle(W,v)};U(mc,Ai),U(".dropdown-menu",Ya),w.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,w){d.hasAttribute(v)||d.setAttribute(v,w)}_elemIsActive(d){return d.classList.contains(Ai)}_getInnerElement(d){return d.matches(gc)?d:ge.findOne(gc,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=Gr.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}I.on(document,fc,Gh,function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),C(this)||Gr.getOrCreateInstance(this).show()}),I.on(window,Fr,()=>{for(const b of ge.find(sn))Gr.getOrCreateInstance(b)}),ae(Gr);const ji=".bs.toast",nl=`mouseover${ji}`,_c=`mouseout${ji}`,Xa=`focusin${ji}`,Wa=`focusout${ji}`,Jd=`hide${ji}`,$h=`hidden${ji}`,Zd=`show${ji}`,Kh=`shown${ji}`,ys="hide",Ja="show",Ws="showing",Qh={animation:"boolean",autohide:"boolean",delay:"number"},Za={animation:!0,autohide:!0,delay:5e3};class Js extends Ue{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Za}static get DefaultType(){return Qh}static get NAME(){return"toast"}show(){I.trigger(this._element,Zd).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ys),ne(this._element),this._element.classList.add(Ja,Ws),this._queueCallback(()=>{this._element.classList.remove(Ws),I.trigger(this._element,Kh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(I.trigger(this._element,Jd).defaultPrevented||(this._element.classList.add(Ws),this._queueCallback(()=>{this._element.classList.add(ys),this._element.classList.remove(Ws,Ja),I.trigger(this._element,$h)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ja),super.dispose()}isShown(){return this._element.classList.contains(Ja)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const w=d.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,nl,d=>this._onInteraction(d,!0)),I.on(this._element,_c,d=>this._onInteraction(d,!1)),I.on(this._element,Xa,d=>this._onInteraction(d,!0)),I.on(this._element,Wa,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=Js.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return hr(Js),ae(Js),{Alert:ri,Button:Ki,Carousel:ns,Collapse:Mr,Dropdown:Li,Modal:Ei,Offcanvas:Wn,Popover:Jo,ScrollSpy:Ka,Tab:Gr,Toast:Js,Tooltip:Tn}})})(ed)),ed.exports}CN();function RN(){return O.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:O.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[O.jsxs(hu,{className:"navbar-brand fw-bold fs-1",to:"/",children:[O.jsx("span",{className:"text-dark",children:"Salamat"}),O.jsx("span",{className:"text-white",children:"Doc"})]}),O.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:O.jsx("span",{className:"navbar-toggler-icon"})}),O.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:O.jsxs("ul",{className:"navbar-nav",children:[O.jsx("li",{className:"nav-item",children:O.jsx(hu,{className:"nav-link text-dark",to:"/login",children:"Login"})}),O.jsxs("li",{className:"nav-item dropdown",children:[O.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),O.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[O.jsx("li",{children:O.jsx(hu,{className:"dropdown-item",to:"/about",children:"About Us"})}),O.jsx("li",{children:O.jsx(hu,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function IN(){const[r,e]=Z.useState(!1),{user:n,profile:s,loading:o}=pA(),u=Mo();if(o)return O.jsx("div",{children:"Loading..."});const f=s?.role||null;let p=null;f==="admin"&&u.pathname.startsWith("/admin")?p=O.jsx(bN,{collapsed:r,setCollapsed:e}):f==="doctor"&&u.pathname.startsWith("/doctor")?p=O.jsx(AN,{collapsed:r,setCollapsed:e}):f==="patient"&&u.pathname.startsWith("/patient")&&(p=O.jsx(SN,{collapsed:r,setCollapsed:e}));const _=!p;return O.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[p&&O.jsx("div",{style:{width:r?"80px":"250px",transition:"width 0.3s ease"},children:p}),O.jsxs("div",{style:{flexGrow:1},children:[_&&O.jsx(RN,{}),O.jsx(Cw,{})]})]})}function DN(){return O.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-white",style:{backgroundImage:"url('../Home.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:O.jsxs("div",{className:"container bg-white text-dark rounded-4 shadow-lg p-5",style:{maxWidth:"700px"},children:[O.jsx("h1",{className:"fw-bold mb-4",children:"Accessible Online Health"}),O.jsx("p",{className:"lead",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective for all."}),O.jsx("p",{children:"With a future-oriented mindset, we don’t shy away from technology. This has allowed us to remotely connect you to our partnered doctors , ensuring you stay fit and healthy even in the comfort of your own home."}),O.jsx("hr",{}),O.jsx("p",{className:"mb-0",children:O.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})}function xN(){const r=OT(),[e,n]=Z.useState(""),s=async o=>{o.preventDefault();const u=o.target.email.value,f=o.target.password.value;try{const _=(await HR(dA,u,f)).user,y=Lu(bl,"users",_.uid),A=await e_(y);if(A.exists()){const C=A.data();switch(console.log("Profile:",C),localStorage.setItem("userProfile",JSON.stringify(C)),C.role){case"admin":r("/admin/dashboard");break;case"doctor":r("/doctor/dashboard");break;case"patient":r("/patient/dashboard");break;default:r("/dashboard")}}}catch(p){console.error("Login failed:",p.message),n("Invalid email or password")}};return O.jsx("div",{style:{backgroundImage:"url('../login.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:O.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:O.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:O.jsxs("div",{className:"card p-4 shadow-lg",style:{width:"22rem"},children:[O.jsx("h2",{className:"text-center mb-4",children:"Login"}),O.jsxs("form",{className:"mx-auto",onSubmit:s,children:[O.jsxs("div",{className:"mb-3 text-center",children:[O.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),O.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),O.jsxs("div",{className:"mb-3 text-center",children:[O.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),O.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&O.jsx("p",{className:"text-danger text-center",children:e}),O.jsx("div",{className:"d-flex justify-content-center",children:O.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),O.jsx("div",{className:"text-center mt-3",children:O.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password?"})})]})]})})})})}function NN(){return O.jsx("div",{style:{backgroundImage:"url('../Home.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:O.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",minHeight:"100vh"},children:O.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:O.jsxs("div",{className:"card p-4 shadow-lg",style:{maxWidth:"700px"},children:[O.jsx("h1",{className:"fw-bold mb-4",children:"Accessible Online Health"}),O.jsx("p",{className:"lead",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective for all."}),O.jsx("p",{children:"With a future-oriented mindset, we don’t shy away from technology. This has allowed us to remotely connect you to our partnered doctors , ensuring you stay fit and healthy even in the comfort of your own home."}),O.jsx("hr",{}),O.jsx("p",{className:"mb-0",children:O.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})})})}function ON(){return O.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-white",style:{backgroundImage:"url('../Contact.jpg')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:O.jsxs("div",{className:"container bg-white text-dark rounded-4 shadow-lg p-5",style:{maxWidth:"700px"},children:[O.jsx("h1",{className:"fw-bold mb-4",children:"Contact"}),O.jsx("p",{className:"fs-4",children:"Are you interested as a patient? Email us through SalamatDoc@applications.com to get the patient application process started. Through email, we’ll guide you however much you need throughout the process."}),O.jsx("p",{className:"fs-4",children:"Are you interested in becoming a SalamatDoc doctor? Email us through SalamatDoc@applications.com to begin. You will undergo an authentication and screening process for everyone’s safety, security, and health."}),O.jsx("hr",{}),O.jsx("p",{className:"",children:O.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})}const MN=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),gA=tA(bl,"users"),VN=()=>`USR-${MN()}`,kN=async r=>{try{const e=VN(),n={...r,token:e,createdAt:rg(),updatedAt:rg(),status:"active"},s=await yN(gA,n);return console.log("User added with ID:",s.id),{success:!0,id:s.id,token:e}}catch(e){throw console.error("Error adding user:",e),e}},LN=async()=>{try{const r=await hA(gA),e=[];return r.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(r){throw console.error("Error getting users:",r),r}},PN=async(r,e)=>{try{const n=Lu(bl,"users",r),s={...e,updatedAt:rg()};return await gN(n,s),console.log("User updated successfully"),{success:!0}}catch(n){throw console.error("Error updating user:",n),n}},UN=async r=>{try{const e=Lu(bl,"users",r);return await _N(e),console.log("User deleted successfully"),{success:!0}}catch(e){throw console.error("Error deleting user:",e),e}};function jN(){const[r,e]=Z.useState([]),[n,s]=Z.useState(!0),[o,u]=Z.useState(!1),[f,p]=Z.useState(null),[_,y]=Z.useState({name:"",email:"",role:"user",phone:"",address:""});Z.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0);const J=await LN();e(J)}catch(J){console.error("Error fetching users:",J),alert("Failed to fetch users")}finally{s(!1)}},C=J=>{const{name:ae,value:he}=J.target;y(Be=>({...Be,[ae]:he}))},x=async J=>{J.preventDefault();try{if(f)await PN(f.id,_),alert("User updated successfully!");else{const ae=await kN(_);alert(`User added successfully!
Token: ${ae.token}`)}y({name:"",email:"",role:"user",phone:"",address:""}),u(!1),p(null),A()}catch(ae){console.error("Error saving user:",ae),alert("Failed to save user")}},q=J=>{p(J),y({name:J.name||"",email:J.email||"",role:J.role||"user",phone:J.phone||"",address:J.address||""}),u(!0)},ne=async J=>{if(window.confirm("Are you sure you want to delete this user?"))try{await UN(J),alert("User deleted successfully!"),A()}catch(ae){console.error("Error deleting user:",ae),alert("Failed to delete user")}},oe=()=>{p(null),y({name:"",email:"",role:"user",phone:"",address:""}),u(!0)},X=()=>{u(!1),p(null)};return O.jsxs("main",{style:{padding:"20px",width:"100%",backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[O.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[O.jsx("h1",{children:"Admin Dashboard"}),O.jsx("button",{onClick:oe,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add New User"})]}),n?O.jsx("p",{children:"Loading users..."}):O.jsx("div",{style:{overflowX:"auto"},children:O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[O.jsx("thead",{children:O.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[O.jsx("th",{style:su,children:"Name"}),O.jsx("th",{style:su,children:"Email"}),O.jsx("th",{style:su,children:"Role"}),O.jsx("th",{style:su,children:"Token"}),O.jsx("th",{style:su,children:"Status"}),O.jsx("th",{style:su,children:"Actions"})]})}),O.jsx("tbody",{children:r.length===0?O.jsx("tr",{children:O.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):r.map(J=>O.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[O.jsx("td",{style:au,children:J.name}),O.jsx("td",{style:au,children:J.email}),O.jsx("td",{style:au,children:J.role}),O.jsx("td",{style:au,children:O.jsx("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px",fontSize:"12px"},children:J.token})}),O.jsx("td",{style:au,children:O.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:J.status==="active"?"#4CAF50":"#f44336",color:"white",fontSize:"12px"},children:J.status})}),O.jsxs("td",{style:au,children:[O.jsx("button",{onClick:()=>q(J),style:zN,children:"Edit"}),O.jsx("button",{onClick:()=>ne(J.id),style:BN,children:"Delete"})]})]},J.id))})]})})]}),o&&O.jsx("div",{style:HN,children:O.jsxs("div",{style:qN,children:[O.jsx("h2",{children:f?"Edit User":"Add New User"}),O.jsxs("form",{onSubmit:x,children:[O.jsxs("div",{style:Fc,children:[O.jsx("label",{style:Gc,children:"Name:"}),O.jsx("input",{type:"text",name:"name",value:_.name,onChange:C,required:!0,style:$c})]}),O.jsxs("div",{style:Fc,children:[O.jsx("label",{style:Gc,children:"Email:"}),O.jsx("input",{type:"email",name:"email",value:_.email,onChange:C,required:!0,style:$c})]}),O.jsxs("div",{style:Fc,children:[O.jsx("label",{style:Gc,children:"Role:"}),O.jsxs("select",{name:"role",value:_.role,onChange:C,style:$c,children:[O.jsx("option",{value:"user",children:"User"}),O.jsx("option",{value:"admin",children:"Admin"}),O.jsx("option",{value:"moderator",children:"Moderator"})]})]}),O.jsxs("div",{style:Fc,children:[O.jsx("label",{style:Gc,children:"Phone:"}),O.jsx("input",{type:"tel",name:"phone",value:_.phone,onChange:C,style:$c})]}),O.jsxs("div",{style:Fc,children:[O.jsx("label",{style:Gc,children:"Address:"}),O.jsx("textarea",{name:"address",value:_.address,onChange:C,style:{...$c,minHeight:"80px"}})]}),O.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[O.jsx("button",{type:"submit",style:FN,children:f?"Update":"Create"}),O.jsx("button",{type:"button",onClick:X,style:GN,children:"Cancel"})]})]})]})})]})}const su={padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},au={padding:"12px"},zN={padding:"6px 12px",marginRight:"8px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},BN={padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},HN={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},qN={backgroundColor:"white",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto"},Fc={marginBottom:"15px"},Gc={display:"block",marginBottom:"5px",fontWeight:"500"},$c={width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},FN={flex:1,padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},GN={flex:1,padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"};function $N(){const[r,e]=Z.useState([]),[n,s]=Z.useState(!0);Z.useEffect(()=>{o()},[]);const o=async()=>{try{const f=(await hA(tA(bl,"users"))).docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.role==="patient");e(f)}catch(u){console.error("Error fetching patients:",u)}finally{s(!1)}};return n?O.jsx("p",{className:"loading",children:"Loading dashboard..."}):O.jsxs("div",{className:"dashboard-container",children:[O.jsx("h1",{children:"Doctor Dashboard"}),O.jsxs("div",{className:"dashboard-grid",children:[O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"Patient Overview"}),O.jsxs("p",{children:["Active Patients: ",r.length]}),O.jsxs("p",{children:["Pending Checkups: ",Math.floor(r.length/4)]})]}),O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"Appointments"}),O.jsxs("ul",{children:[O.jsx("li",{children:"10:00 AM - John Doe"}),O.jsx("li",{children:"11:30 AM - Jane Smith"}),O.jsx("li",{children:"2:00 PM - Mark Johnson"})]})]}),O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"Recent Activity"}),O.jsxs("ul",{children:[O.jsx("li",{children:"Prescription sent to Mary"}),O.jsx("li",{children:"Updated records for Alex"})]})]})]}),O.jsx("div",{className:"dashboard-divider"}),O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"All Patients"}),O.jsx("ul",{children:r.map(u=>O.jsxs("li",{children:[u.name||u.email," — ",u.status||"Active"]},u.id))})]})]})}function KN(){const{user:r}=pA(),[e,n]=Z.useState(null),[s,o]=Z.useState(!0);Z.useEffect(()=>{r&&u()},[r]);const u=async()=>{try{const f=await e_(Lu(bl,"users",r.uid));f.exists()&&n(f.data())}catch(f){console.error("Error loading profile:",f)}finally{o(!1)}};return s?O.jsx("p",{className:"loading",children:"Loading dashboard..."}):O.jsxs("div",{className:"dashboard-container",children:[O.jsx("h1",{children:"Patient Dashboard"}),O.jsxs("div",{className:"dashboard-grid",children:[O.jsxs("div",{className:"dashboard-card",style:{textAlign:"center"},children:[O.jsxs("h2",{children:["Good Morning, ",e?.name||"User","!"]}),O.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"Notifications"}),O.jsxs("ul",{children:[O.jsx("li",{children:"Your morning medication is almost due"}),O.jsx("li",{children:"You missed your medicine yesterday"})]})]}),O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"Calendar"}),O.jsx("p",{children:"[Insert Calendar Component Here]"})]}),O.jsxs("div",{className:"dashboard-card",children:[O.jsx("h2",{children:"Checklist"}),O.jsxs("ul",{children:[O.jsx("li",{children:"Medicine"}),O.jsx("li",{children:"Food"})]})]})]})]})}function QN(){return O.jsx(TN,{children:O.jsx(Ww,{children:O.jsx(Iw,{children:O.jsxs(fa,{path:"/",element:O.jsx(IN,{}),children:[O.jsx(fa,{index:!0,element:O.jsx(DN,{})}),O.jsx(fa,{path:"login",element:O.jsx(xN,{})}),O.jsx(fa,{path:"about",element:O.jsx(NN,{})}),O.jsx(fa,{path:"contact",element:O.jsx(ON,{})}),O.jsx(fa,{path:"admin/dashboard",element:O.jsx(jN,{})}),O.jsx(fa,{path:"doctor/dashboard",element:O.jsx($N,{})}),O.jsx(fa,{path:"patient/dashboard",element:O.jsx(KN,{})})]})})})})}kS.createRoot(document.getElementById("root")).render(O.jsx(Z.StrictMode,{children:O.jsx(QN,{})}));
