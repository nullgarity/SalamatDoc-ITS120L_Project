(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function aI(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pg={exports:{}},bh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function oI(){if(qE)return bh;qE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return bh.Fragment=e,bh.jsx=t,bh.jsxs=t,bh}var FE;function lI(){return FE||(FE=1,pg.exports=oI()),pg.exports}var v=lI(),gg={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function cI(){if(HE)return Ze;HE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,z={};function B(D,ae,ve){this.props=D,this.context=ae,this.refs=z,this.updater=ve||Y}B.prototype.isReactComponent={},B.prototype.setState=function(D,ae){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ae,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=B.prototype;function te(D,ae,ve){this.props=D,this.context=ae,this.refs=z,this.updater=ve||Y}var ye=te.prototype=new $;ye.constructor=te,W(ye,B.prototype),ye.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(D,ae,ve){var Te=ve.ref;return{$$typeof:i,type:D,key:ae,ref:Te!==void 0?Te:null,props:ve}}function P(D,ae){return j(D.type,ae,D.props)}function L(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function H(D){var ae={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ve){return ae[ve]})}var R=/\/+/g;function fe(D,ae){return typeof D=="object"&&D!==null&&D.key!=null?H(""+D.key):ae.toString(36)}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(pe,pe):(D.status="pending",D.then(function(ae){D.status==="pending"&&(D.status="fulfilled",D.value=ae)},function(ae){D.status==="pending"&&(D.status="rejected",D.reason=ae)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function X(D,ae,ve,Te,Re){var Le=typeof D;(Le==="undefined"||Le==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Le){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case i:case e:Ve=!0;break;case E:return Ve=D._init,X(Ve(D._payload),ae,ve,Te,Re)}}if(Ve)return Re=Re(D),Ve=Te===""?"."+fe(D,0):Te,le(Re)?(ve="",Ve!=null&&(ve=Ve.replace(R,"$&/")+"/"),X(Re,ae,ve,"",function(Ci){return Ci})):Re!=null&&(L(Re)&&(Re=P(Re,ve+(Re.key==null||D&&D.key===Re.key?"":(""+Re.key).replace(R,"$&/")+"/")+Ve)),ae.push(Re)),1;Ve=0;var Pt=Te===""?".":Te+":";if(le(D))for(var be=0;be<D.length;be++)Te=D[be],Le=Pt+fe(Te,be),Ve+=X(Te,ae,ve,Le,Re);else if(be=M(D),typeof be=="function")for(D=be.call(D),be=0;!(Te=D.next()).done;)Te=Te.value,Le=Pt+fe(Te,be++),Ve+=X(Te,ae,ve,Le,Re);else if(Le==="object"){if(typeof D.then=="function")return X(Oe(D),ae,ve,Te,Re);throw ae=String(D),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(D,ae,ve){if(D==null)return D;var Te=[],Re=0;return X(D,Te,"","",function(Le){return ae.call(ve,Le,Re++)}),Te}function de(D){if(D._status===-1){var ae=D._result;ae=ae(),ae.then(function(ve){(D._status===0||D._status===-1)&&(D._status=1,D._result=ve)},function(ve){(D._status===0||D._status===-1)&&(D._status=2,D._result=ve)}),D._status===-1&&(D._status=0,D._result=ae)}if(D._status===1)return D._result.default;throw D._result}var xe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ke={map:re,forEach:function(D,ae,ve){re(D,function(){ae.apply(this,arguments)},ve)},count:function(D){var ae=0;return re(D,function(){ae++}),ae},toArray:function(D){return re(D,function(ae){return ae})||[]},only:function(D){if(!L(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ze.Activity=S,Ze.Children=ke,Ze.Component=B,Ze.Fragment=t,Ze.Profiler=o,Ze.PureComponent=te,Ze.StrictMode=s,Ze.Suspense=y,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},Ze.cache=function(D){return function(){return D.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(D,ae,ve){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Te=W({},D.props),Re=D.key;if(ae!=null)for(Le in ae.key!==void 0&&(Re=""+ae.key),ae)!O.call(ae,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ae.ref===void 0||(Te[Le]=ae[Le]);var Le=arguments.length-2;if(Le===1)Te.children=ve;else if(1<Le){for(var Ve=Array(Le),Pt=0;Pt<Le;Pt++)Ve[Pt]=arguments[Pt+2];Te.children=Ve}return j(D.type,Re,Te)},Ze.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ze.createElement=function(D,ae,ve){var Te,Re={},Le=null;if(ae!=null)for(Te in ae.key!==void 0&&(Le=""+ae.key),ae)O.call(ae,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Re[Te]=ae[Te]);var Ve=arguments.length-2;if(Ve===1)Re.children=ve;else if(1<Ve){for(var Pt=Array(Ve),be=0;be<Ve;be++)Pt[be]=arguments[be+2];Re.children=Pt}if(D&&D.defaultProps)for(Te in Ve=D.defaultProps,Ve)Re[Te]===void 0&&(Re[Te]=Ve[Te]);return j(D,Le,Re)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(D){return{$$typeof:p,render:D}},Ze.isValidElement=L,Ze.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:de}},Ze.memo=function(D,ae){return{$$typeof:g,type:D,compare:ae===void 0?null:ae}},Ze.startTransition=function(D){var ae=k.T,ve={};k.T=ve;try{var Te=D(),Re=k.S;Re!==null&&Re(ve,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(pe,xe)}catch(Le){xe(Le)}finally{ae!==null&&ve.types!==null&&(ae.types=ve.types),k.T=ae}},Ze.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ze.use=function(D){return k.H.use(D)},Ze.useActionState=function(D,ae,ve){return k.H.useActionState(D,ae,ve)},Ze.useCallback=function(D,ae){return k.H.useCallback(D,ae)},Ze.useContext=function(D){return k.H.useContext(D)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(D,ae){return k.H.useDeferredValue(D,ae)},Ze.useEffect=function(D,ae){return k.H.useEffect(D,ae)},Ze.useEffectEvent=function(D){return k.H.useEffectEvent(D)},Ze.useId=function(){return k.H.useId()},Ze.useImperativeHandle=function(D,ae,ve){return k.H.useImperativeHandle(D,ae,ve)},Ze.useInsertionEffect=function(D,ae){return k.H.useInsertionEffect(D,ae)},Ze.useLayoutEffect=function(D,ae){return k.H.useLayoutEffect(D,ae)},Ze.useMemo=function(D,ae){return k.H.useMemo(D,ae)},Ze.useOptimistic=function(D,ae){return k.H.useOptimistic(D,ae)},Ze.useReducer=function(D,ae,ve){return k.H.useReducer(D,ae,ve)},Ze.useRef=function(D){return k.H.useRef(D)},Ze.useState=function(D){return k.H.useState(D)},Ze.useSyncExternalStore=function(D,ae,ve){return k.H.useSyncExternalStore(D,ae,ve)},Ze.useTransition=function(){return k.H.useTransition()},Ze.version="19.2.0",Ze}var $E;function Uy(){return $E||($E=1,gg.exports=cI()),gg.exports}var V=Uy();const Gl=aI(V);var yg={exports:{}},Eh={},vg={exports:{}},_g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function uI(){return GE||(GE=1,(function(i){function e(X,re){var de=X.length;X.push(re);e:for(;0<de;){var xe=de-1>>>1,ke=X[xe];if(0<o(ke,re))X[xe]=re,X[de]=ke,de=xe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],de=X.pop();if(de!==re){X[0]=de;e:for(var xe=0,ke=X.length,D=ke>>>1;xe<D;){var ae=2*(xe+1)-1,ve=X[ae],Te=ae+1,Re=X[Te];if(0>o(ve,de))Te<ke&&0>o(Re,ve)?(X[xe]=Re,X[Te]=de,xe=Te):(X[xe]=ve,X[ae]=de,xe=ae);else if(Te<ke&&0>o(Re,de))X[xe]=Re,X[Te]=de,xe=Te;else break e}}return re}function o(X,re){var de=X.sortIndex-re.sortIndex;return de!==0?de:X.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();i.unstable_now=function(){return u.now()-p}}var y=[],g=[],E=1,S=null,I=3,M=!1,Y=!1,W=!1,z=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ye(X){for(var re=t(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=X)s(g),re.sortIndex=re.expirationTime,e(y,re);else break;re=t(g)}}function le(X){if(W=!1,ye(X),!Y)if(t(y)!==null)Y=!0,pe||(pe=!0,H());else{var re=t(g);re!==null&&Oe(le,re.startTime-X)}}var pe=!1,k=-1,O=5,j=-1;function P(){return z?!0:!(i.unstable_now()-j<O)}function L(){if(z=!1,pe){var X=i.unstable_now();j=X;var re=!0;try{e:{Y=!1,W&&(W=!1,$(k),k=-1),M=!0;var de=I;try{t:{for(ye(X),S=t(y);S!==null&&!(S.expirationTime>X&&P());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,I=S.priorityLevel;var ke=xe(S.expirationTime<=X);if(X=i.unstable_now(),typeof ke=="function"){S.callback=ke,ye(X),re=!0;break t}S===t(y)&&s(y),ye(X)}else s(y);S=t(y)}if(S!==null)re=!0;else{var D=t(g);D!==null&&Oe(le,D.startTime-X),re=!1}}break e}finally{S=null,I=de,M=!1}re=void 0}}finally{re?H():pe=!1}}}var H;if(typeof te=="function")H=function(){te(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,fe=R.port2;R.port1.onmessage=L,H=function(){fe.postMessage(null)}}else H=function(){B(L,0)};function Oe(X,re){k=B(function(){X(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(X){switch(I){case 1:case 2:case 3:var re=3;break;default:re=I}var de=I;I=re;try{return X()}finally{I=de}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=I;I=X;try{return re()}finally{I=de}},i.unstable_scheduleCallback=function(X,re,de){var xe=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,X={id:E++,callback:re,priorityLevel:X,startTime:de,expirationTime:ke,sortIndex:-1},de>xe?(X.sortIndex=de,e(g,X),t(y)===null&&X===t(g)&&(W?($(k),k=-1):W=!0,Oe(le,de-xe))):(X.sortIndex=ke,e(y,X),Y||M||(Y=!0,pe||(pe=!0,H()))),X},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(X){var re=I;return function(){var de=I;I=re;try{return X.apply(this,arguments)}finally{I=de}}}})(_g)),_g}var YE;function hI(){return YE||(YE=1,vg.exports=uI()),vg.exports}var bg={exports:{}},ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function fI(){if(KE)return ki;KE=1;var i=Uy();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ki.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,E)},ki.flushSync=function(y){var g=u.T,E=s.p;try{if(u.T=null,s.p=2,y)return y()}finally{u.T=g,s.p=E,s.d.f()}},ki.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},ki.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ki.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:M}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:I,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ki.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},ki.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ki.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},ki.requestFormReset=function(y){s.d.r(y)},ki.unstable_batchedUpdates=function(y,g){return y(g)},ki.useFormState=function(y,g,E){return u.H.useFormState(y,g,E)},ki.useFormStatus=function(){return u.H.useHostTransitionStatus()},ki.version="19.2.0",ki}var QE;function dI(){if(QE)return bg.exports;QE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bg.exports=fI(),bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function mI(){if(WE)return Eh;WE=1;var i=hI(),e=Uy(),t=dI();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function y(n){if(c(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return y(f),n;if(m===l)return y(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var w=!1,C=f.child;C;){if(C===a){w=!0,a=f,l=m;break}if(C===l){w=!0,l=f,a=m;break}C=C.sibling}if(!w){for(C=m.child;C;){if(C===a){w=!0,a=m,l=f;break}if(C===l){w=!0,l=m,a=f;break}C=C.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function E(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=E(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case B:return"Profiler";case z:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case j:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Y:return"Portal";case te:return n.displayName||"Context";case $:return(n._context.displayName||"Context")+".Consumer";case ye:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:fe(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return fe(n(r))}catch{}}return null}var Oe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],ke=-1;function D(n){return{current:n}}function ae(n){0>ke||(n.current=xe[ke],xe[ke]=null,ke--)}function ve(n,r){ke++,xe[ke]=n.current,n.current=r}var Te=D(null),Re=D(null),Le=D(null),Ve=D(null);function Pt(n,r){switch(ve(Le,r),ve(Re,n),ve(Te,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?hE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=hE(r),n=fE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Te),ve(Te,n)}function be(){ae(Te),ae(Re),ae(Le)}function Ci(n){n.memoizedState!==null&&ve(Ve,n);var r=Te.current,a=fE(r,n.type);r!==a&&(ve(Re,n),ve(Te,a))}function Er(n){Re.current===n&&(ae(Te),ae(Re)),Ve.current===n&&(ae(Ve),gh._currentValue=de)}var wr,Hr;function lt(n){if(wr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);wr=r&&r[1]||"",Hr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+n+Hr}var Ji=!1;function Qt(n,r){if(!n||Ji)return"";Ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ee=ie}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(ie){ee=ie}n.call(ue.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],C=m[1];if(w&&C){var U=w.split(`
`),Z=C.split(`
`);for(f=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(l===U.length||f===Z.length)for(l=U.length-1,f=Z.length-1;1<=l&&0<=f&&U[l]!==Z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(U[l]!==Z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||U[l]!==Z[f]){var oe=`
`+U[l].replace(" at new "," at ");return n.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",n.displayName)),oe}while(1<=l&&0<=f);break}}}finally{Ji=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?lt(a):""}function di(n,r){switch(n.tag){case 26:case 27:case 5:return lt(n.type);case 16:return lt("Lazy");case 13:return n.child!==r&&r!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Qt(n.type,!1);case 11:return Qt(n.type.render,!1);case 1:return Qt(n.type,!0);case 31:return lt("Activity");default:return""}}function Vs(n){try{var r="",a=null;do r+=di(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tn=Object.prototype.hasOwnProperty,mn=i.unstable_scheduleCallback,$r=i.unstable_cancelCallback,yl=i.unstable_shouldYield,_a=i.unstable_requestPaint,Yn=i.unstable_now,Zi=i.unstable_getCurrentPriorityLevel,Ii=i.unstable_ImmediatePriority,Us=i.unstable_UserBlockingPriority,Gr=i.unstable_NormalPriority,ba=i.unstable_LowPriority,Tr=i.unstable_IdlePriority,er=i.log,Sr=i.unstable_setDisableYieldValue,xn=null,_n=null;function ii(n){if(typeof er=="function"&&Sr(n),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(xn,n)}catch{}}var Wt=Math.clz32?Math.clz32:uo,Ea=Math.log,Yr=Math.LN2;function uo(n){return n>>>=0,n===0?32:31-(Ea(n)/Yr|0)|0}var Bi=256,ms=262144,Xt=4194304;function Rt(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function zt(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~m,l!==0?f=Rt(l):(w&=C,w!==0?f=Rt(w):a||(a=C&~n,a!==0&&(f=Rt(a))))):(C=l&~m,C!==0?f=Rt(C):w!==0?f=Rt(w):a||(a=l&~n,a!==0&&(f=Rt(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Kn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Lt(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var n=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),n}function tr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ar(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Cr(n,r,a,l,f,m){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,U=n.expirationTimes,Z=n.hiddenUpdates;for(a=w&~a;0<a;){var oe=31-Wt(a),ue=1<<oe;C[oe]=0,U[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var ie=ee[oe];ie!==null&&(ie.lane&=-536870913)}a&=~ue}l!==0&&xi(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(w&~r))}function xi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Wt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function ps(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Wt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Kr(n,r){var a=r&-r;return a=(a&42)!==0?1:Ir(a),(a&(n.suspendedLanes|r))!==0?0:a}function Ir(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zs(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:jE(n.type))}function pi(n,r){var a=re.p;try{return re.p=n,r()}finally{re.p=a}}var bn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+bn,En="__reactProps$"+bn,Di="__reactContainer$"+bn,Qe="__reactEvents$"+bn,qt="__reactListeners$"+bn,bt="__reactHandles$"+bn,Et="__reactResources$"+bn,ct="__reactMarker$"+bn;function sn(n){delete n[Bt],delete n[En],delete n[Qe],delete n[qt],delete n[bt]}function Ft(n){var r=n[Bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Di]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=_E(n);n!==null;){if(a=n[Bt])return a;n=_E(n)}return r}n=a,a=n.parentNode}return null}function Qn(n){if(n=n[Bt]||n[Di]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ln(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ri(n){var r=n[Et];return r||(r=n[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gt(n){n[ct]=!0}var ho=new Set,wa={};function gi(n,r){xr(n,r),xr(n+"Capture",r)}function xr(n,r){for(wa[n]=r,n=0;n<r.length;n++)ho.add(r[n])}var Ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sa={},fo={};function vl(n){return tn.call(fo,n)?!0:tn.call(Sa,n)?!1:Ta.test(n)?fo[n]=!0:(Sa[n]=!0,!1)}function Aa(n,r,a){if(vl(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Ni(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function pn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gs(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mo(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){a=""+w,m.call(this,w)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function wt(n){if(!n._valueTracker){var r=gs(n)?"checked":"value";n._valueTracker=mo(n,r,""+n[r])}}function Bs(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=gs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Nn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Rn=/[\n"\\]/g;function wn(n){return n.replace(Rn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wn(n,r,a,l,f,m,w,C){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Dn(r)):n.value!==""+Dn(r)&&(n.value=""+Dn(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?Ca(n,w,Dn(r)):a!=null?Ca(n,w,Dn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Dn(C):n.removeAttribute("name")}function po(n,r,a,l,f,m,w,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){wt(n);return}a=a!=null?""+Dn(a):"",r=r!=null?""+Dn(r):a,C||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),wt(n)}function Ca(n,r,a){r==="number"&&Nn(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xn(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Dn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Qr(n,r,a){if(r!=null&&(r=""+Dn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Dn(a):""}function Dr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Dn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),wt(n)}function On(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||go.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Wr(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&yo(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&yo(n,m,r[m])}function qs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(n){return si.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Vn(){}var Fs=null;function Fi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nr=null,ir=null;function Nr(n){var r=Qn(n);if(r&&(n=r.stateNode)){var a=n[En]||null;e:switch(n=r.stateNode,r.type){case"input":if(Wn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[En]||null;if(!f)throw Error(s(90));Wn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bs(l)}break e;case"textarea":Qr(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Xn(n,!!a.multiple,r,!1)}}}var Ia=!1;function ys(n,r,a){if(Ia)return n(r,a);Ia=!0;try{var l=n(r);return l}finally{if(Ia=!1,(nr!==null||ir!==null)&&(Jf(),nr&&(r=nr,n=ir,ir=nr=null,Nr(r),n)))for(r=0;r<n.length;r++)Nr(n[r])}}function rr(n,r){var a=n.stateNode;if(a===null)return null;var l=a[En]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(Jn)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){xa=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{xa=!1}var sr=null,Hs=null,vs=null;function bl(){if(vs)return vs;var n,r=Hs,a=r.length,l,f="value"in sr?sr.value:sr.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var w=a-n;for(l=1;l<=w&&r[a-l]===f[m-l];l++);return vs=f.slice(n,1<l?1-l:void 0)}function Xr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function _s(){return!0}function ar(){return!1}function kn(n){function r(a,l,f,m,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_s:ar,this.isPropagationStopped=ar,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),r}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=kn(Rr),bs=S({},Rr,{view:0,detail:0}),Es=kn(bs),Jr,Da,Or,kr=S({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Or&&(Or&&n.type==="mousemove"?(Jr=n.screenX-Or.screenX,Da=n.screenY-Or.screenY):Da=Jr=0,Or=n),Jr)},movementY:function(n){return"movementY"in n?n.movementY:Da}}),El=kn(kr),$s=S({},kr,{dataTransfer:0}),wl=kn($s),Tl=S({},bs,{relatedTarget:0}),Gs=kn(Tl),_o=S({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),bo=kn(_o),Na=S({},Rr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hc=kn(Na),fc=S({},Rr,{data:0}),Mr=kn(fc),Sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=dc[n])?!!r[n]:!1}function Zr(){return mc}var ai=S({},bs,{key:function(n){if(n.key){var r=Sl[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Xr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ra[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(n){return n.type==="keypress"?Xr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Al=kn(ai),es=S({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jr=kn(es),h=S({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),_=kn(h),T=S({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=kn(T),Q=S({},kr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=kn(Q),Ee=S({},Rr,{newState:0,oldState:0}),We=kn(Ee),gn=[9,13,27,32],st=Jn&&"CompositionEvent"in window,Tt=null;Jn&&"documentMode"in document&&(Tt=document.documentMode);var lr=Jn&&"TextEvent"in window&&!Tt,Hi=Jn&&(!st||Tt&&8<Tt&&11>=Tt),Pr=" ",Lr=!1;function Oa(n,r){switch(n){case"keyup":return gn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function Wm(n,r){switch(n){case"compositionend":return Eo(r);case"keypress":return r.which!==32?null:(Lr=!0,Pr);case"textInput":return n=r.data,n===Pr&&Lr?null:n;default:return null}}function Xm(n,r){if(wo)return n==="compositionend"||!st&&Oa(n,r)?(n=bl(),vs=Hs=sr=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Jm[n.type]:r==="textarea"}function Eu(n,r,a,l){nr?ir?ir.push(l):ir=[l]:nr=l,r=sd(r,"onChange"),0<r.length&&(a=new or("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var To=null,So=null;function Zm(n){sE(n,0)}function pc(n){var r=Ln(n);if(Bs(r))return n}function wu(n,r){if(n==="change")return r}var Cl=!1;if(Jn){var Tu;if(Jn){var Su="oninput"in document;if(!Su){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Su=typeof Au.oninput=="function"}Tu=Su}else Tu=!1;Cl=Tu&&(!document.documentMode||9<document.documentMode)}function pf(){To&&(To.detachEvent("onpropertychange",gf),So=To=null)}function gf(n){if(n.propertyName==="value"&&pc(So)){var r=[];Eu(r,So,n,Fi(n)),ys(Zm,r)}}function yf(n,r,a){n==="focusin"?(pf(),To=r,So=a,To.attachEvent("onpropertychange",gf)):n==="focusout"&&pf()}function vf(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pc(So)}function _f(n,r){if(n==="click")return pc(r)}function gc(n,r){if(n==="input"||n==="change")return pc(r)}function bf(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var yi=typeof Object.is=="function"?Object.is:bf;function oi(n,r){if(yi(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!tn.call(r,f)||!yi(n[f],r[f]))return!1}return!0}function Ef(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wf(n,r){var a=Ef(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ef(a)}}function Cu(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Cu(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Iu(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Nn(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Nn(n.document)}return r}function xu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var ep=Jn&&"documentMode"in document&&11>=document.documentMode,Ao=null,Du=null,Il=null,Nu=!1;function Ru(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nu||Ao==null||Ao!==Nn(l)||(l=Ao,"selectionStart"in l&&xu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&oi(Il,l)||(Il=l,l=sd(Du,"onSelect"),0<l.length&&(r=new or("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ao)))}function Ys(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ks={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Ou={},Tf={};Jn&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function $i(n){if(Ou[n])return Ou[n];if(!Ks[n])return n;var r=Ks[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Tf)return Ou[n]=r[a];return n}var ts=$i("animationend"),ku=$i("animationiteration"),Sf=$i("animationstart"),Af=$i("transitionrun"),Cf=$i("transitionstart"),If=$i("transitioncancel"),Mu=$i("transitionend"),xf=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function Vr(n,r){xf.set(n,r),gi(r,[n])}var xl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Gi=[],Co=0,Pu=0;function yc(){for(var n=Co,r=Pu=Co=0;r<n;){var a=Gi[r];Gi[r++]=null;var l=Gi[r];Gi[r++]=null;var f=Gi[r];Gi[r++]=null;var m=Gi[r];if(Gi[r++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}m!==0&&Vu(a,f,m)}}function vc(n,r,a,l){Gi[Co++]=n,Gi[Co++]=r,Gi[Co++]=a,Gi[Co++]=l,Pu|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Lu(n,r,a,l){return vc(n,r,a,l),_c(n)}function vi(n,r){return vc(n,null,null,r),_c(n)}function Vu(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Wt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function _c(n){if(50<ch)throw ch=0,Up=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Io={};function tp(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(n,r,a,l){return new tp(n,r,a,l)}function Uu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ws(n,r){var a=n.alternate;return a===null?(a=Yi(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Df(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,l,f,m){var w=0;if(l=n,typeof n=="function")Uu(n)&&(w=1);else if(typeof n=="string")w=K1(n,a,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case j:return n=Yi(31,a,r,f),n.elementType=j,n.lanes=m,n;case W:return Ts(a.children,f,m,r);case z:w=8,f|=24;break;case B:return n=Yi(12,a,r,f|2),n.elementType=B,n.lanes=m,n;case le:return n=Yi(13,a,r,f),n.elementType=le,n.lanes=m,n;case pe:return n=Yi(19,a,r,f),n.elementType=pe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:w=10;break e;case $:w=9;break e;case ye:w=11;break e;case k:w=14;break e;case O:w=16,l=null;break e}w=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Yi(w,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Ts(n,r,a,l){return n=Yi(7,n,l,r),n.lanes=a,n}function xo(n,r,a){return n=Yi(6,n,null,r),n.lanes=a,n}function Nf(n){var r=Yi(18,null,null,0);return r.stateNode=n,r}function Ec(n,r,a){return r=Yi(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var zu=new WeakMap;function li(n,r){if(typeof n=="object"&&n!==null){var a=zu.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Vs(r)},zu.set(n,r),r)}return{value:n,source:r,stack:Vs(r)}}var Qs=[],Ws=0,wc=null,Dl=0,ur=[],Un=0,Xs=null,ns=1,is="";function Ss(n,r){Qs[Ws++]=Dl,Qs[Ws++]=wc,wc=n,Dl=r}function Nl(n,r,a){ur[Un++]=ns,ur[Un++]=is,ur[Un++]=Xs,Xs=n;var l=ns;n=is;var f=32-Wt(l)-1;l&=~(1<<f),a+=1;var m=32-Wt(r)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,ns=1<<32-Wt(r)+f|a<<f|l,is=m+n}else ns=1<<m|a<<f|l,is=n}function Rl(n){n.return!==null&&(Ss(n,1),Nl(n,1,0))}function Bu(n){for(;n===wc;)wc=Qs[--Ws],Qs[Ws]=null,Dl=Qs[--Ws],Qs[Ws]=null;for(;n===Xs;)Xs=ur[--Un],ur[Un]=null,is=ur[--Un],ur[Un]=null,ns=ur[--Un],ur[Un]=null}function qu(n,r){ur[Un++]=ns,ur[Un++]=is,ur[Un++]=Xs,ns=r.id,is=r.overflow,Xs=n}var Zn=null,St=null,it=!1,As=null,hr=!1,Fu=Error(s(519));function Js(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(li(r,n)),Fu}function Do(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Bt]=n,r[En]=l,a){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(a=0;a<hh.length;a++)ot(hh[a],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":ot("invalid",r),po(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ot("invalid",r);break;case"textarea":ot("invalid",r),Dr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||cE(r.textContent,a)?(l.popover!=null&&(ot("beforetoggle",r),ot("toggle",r)),l.onScroll!=null&&ot("scroll",r),l.onScrollEnd!=null&&ot("scrollend",r),l.onClick!=null&&(r.onclick=Vn),r=!0):r=!1,r||Js(n,!0)}function Zs(n){for(Zn=n.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Zn=Zn.return}}function No(n){if(n!==Zn)return!1;if(!it)return Zs(n),it=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||eg(n.type,n.memoizedProps)),a=!a),a&&St&&Js(n),Zs(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));St=vE(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));St=vE(n)}else r===27?(r=St,Ho(n.type)?(n=sg,sg=null,St=n):St=r):St=Zn?as(n.stateNode.nextSibling):null;return!0}function ka(){St=Zn=null,it=!1}function Hu(){var n=As;return n!==null&&(gr===null?gr=n:gr.push.apply(gr,n),As=null),n}function Ol(n){As===null?As=[n]:As.push(n)}var $u=D(null),Ma=null,Cs=null;function ea(n,r,a){ve($u,r._currentValue),r._currentValue=a}function rs(n){n._currentValue=$u.current,ae($u)}function Gu(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Tc(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var w=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var U=0;U<r.length;U++)if(C.context===r[U]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),Gu(m.return,a,n),l||(w=null);break e}m=C.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Gu(w,a,n),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===n){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function ta(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=f.type;yi(f.pendingProps.value,w.value)||(n!==null?n.push(C):n=[C])}}else if(f===Ve.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(gh):n=[gh])}f=f.return}n!==null&&Tc(r,n,a,l),r.flags|=262144}function kl(n){for(n=n.firstContext;n!==null;){if(!yi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ki(n){Ma=n,Cs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function zn(n){return Yu(Ma,n)}function Ro(n,r){return Ma===null&&Ki(n),Yu(n,r)}function Yu(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Cs===null){if(n===null)throw Error(s(308));Cs=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Cs=Cs.next=r;return a}var Ku=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Rf=i.unstable_scheduleCallback,Qu=i.unstable_NormalPriority,Tn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Is(){return{controller:new Ku,data:new Map,refCount:0}}function fr(n){n.refCount--,n.refCount===0&&Rf(Qu,function(){n.controller.abort()})}var Ml=null,Wu=0,Oo=0,ko=null;function np(n,r){if(Ml===null){var a=Ml=[];Wu=0,Oo=$p(),ko={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wu++,r.then(Of,Of),r}function Of(){if(--Wu===0&&Ml!==null){ko!==null&&(ko.status="fulfilled");var n=Ml;Ml=null,Oo=0,ko=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function ip(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var kf=X.S;X.S=function(n,r){kb=Yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&np(n,r),kf!==null&&kf(n,r)};var na=D(null);function Mo(){var n=na.current;return n!==null?n:Yt.pooledCache}function ja(n,r){r===null?ve(na,na.current):ve(na,r.pool)}function Mf(){var n=Mo();return n===null?null:{parent:Tn._currentValue,pool:n}}var jo=Error(s(460)),Pa=Error(s(474)),A=Error(s(542)),d={then:function(){}};function b(n){return n=n.status,n==="fulfilled"||n==="rejected"}function x(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Vn,Vn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ge(n),n;default:if(typeof r.status=="string")r.then(Vn,Vn);else{if(n=Yt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ge(n),n}throw G=r,jo}}function F(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(G=a,jo):a}}var G=null;function se(){if(G===null)throw Error(s(459));var n=G;return G=null,n}function ge(n){if(n===jo||n===A)throw Error(s(483))}var _e=null,Se=0;function Ce(n){var r=Se;return Se+=1,_e===null&&(_e=[]),x(_e,n,r)}function we(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ye(n,r){throw r.$$typeof===I?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ue(n){function r(K,q){if(n){var J=K.deletions;J===null?(K.deletions=[q],K.flags|=16):J.push(q)}}function a(K,q){if(!n)return null;for(;q!==null;)r(K,q),q=q.sibling;return null}function l(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function f(K,q){return K=ws(K,q),K.index=0,K.sibling=null,K}function m(K,q,J){return K.index=J,n?(J=K.alternate,J!==null?(J=J.index,J<q?(K.flags|=67108866,q):J):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function w(K){return n&&K.alternate===null&&(K.flags|=67108866),K}function C(K,q,J,ce){return q===null||q.tag!==6?(q=xo(J,K.mode,ce),q.return=K,q):(q=f(q,J),q.return=K,q)}function U(K,q,J,ce){var Me=J.type;return Me===W?oe(K,q,J.props.children,ce,J.key):q!==null&&(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&F(Me)===q.type)?(q=f(q,J.props),we(q,J),q.return=K,q):(q=bc(J.type,J.key,J.props,null,K.mode,ce),we(q,J),q.return=K,q)}function Z(K,q,J,ce){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Ec(J,K.mode,ce),q.return=K,q):(q=f(q,J.children||[]),q.return=K,q)}function oe(K,q,J,ce,Me){return q===null||q.tag!==7?(q=Ts(J,K.mode,ce,Me),q.return=K,q):(q=f(q,J),q.return=K,q)}function ue(K,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=xo(""+q,K.mode,J),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return J=bc(q.type,q.key,q.props,null,K.mode,J),we(J,q),J.return=K,J;case Y:return q=Ec(q,K.mode,J),q.return=K,q;case O:return q=F(q),ue(K,q,J)}if(Oe(q)||H(q))return q=Ts(q,K.mode,J,null),q.return=K,q;if(typeof q.then=="function")return ue(K,Ce(q),J);if(q.$$typeof===te)return ue(K,Ro(K,q),J);Ye(K,q)}return null}function ee(K,q,J,ce){var Me=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Me!==null?null:C(K,q,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return J.key===Me?U(K,q,J,ce):null;case Y:return J.key===Me?Z(K,q,J,ce):null;case O:return J=F(J),ee(K,q,J,ce)}if(Oe(J)||H(J))return Me!==null?null:oe(K,q,J,ce,null);if(typeof J.then=="function")return ee(K,q,Ce(J),ce);if(J.$$typeof===te)return ee(K,q,Ro(K,J),ce);Ye(K,J)}return null}function ie(K,q,J,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(J)||null,C(q,K,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case M:return K=K.get(ce.key===null?J:ce.key)||null,U(q,K,ce,Me);case Y:return K=K.get(ce.key===null?J:ce.key)||null,Z(q,K,ce,Me);case O:return ce=F(ce),ie(K,q,J,ce,Me)}if(Oe(ce)||H(ce))return K=K.get(J)||null,oe(q,K,ce,Me,null);if(typeof ce.then=="function")return ie(K,q,J,Ce(ce),Me);if(ce.$$typeof===te)return ie(K,q,J,Ro(q,ce),Me);Ye(q,ce)}return null}function De(K,q,J,ce){for(var Me=null,Ct=null,Ne=q,tt=q=0,ht=null;Ne!==null&&tt<J.length;tt++){Ne.index>tt?(ht=Ne,Ne=null):ht=Ne.sibling;var It=ee(K,Ne,J[tt],ce);if(It===null){Ne===null&&(Ne=ht);break}n&&Ne&&It.alternate===null&&r(K,Ne),q=m(It,q,tt),Ct===null?Me=It:Ct.sibling=It,Ct=It,Ne=ht}if(tt===J.length)return a(K,Ne),it&&Ss(K,tt),Me;if(Ne===null){for(;tt<J.length;tt++)Ne=ue(K,J[tt],ce),Ne!==null&&(q=m(Ne,q,tt),Ct===null?Me=Ne:Ct.sibling=Ne,Ct=Ne);return it&&Ss(K,tt),Me}for(Ne=l(Ne);tt<J.length;tt++)ht=ie(Ne,K,tt,J[tt],ce),ht!==null&&(n&&ht.alternate!==null&&Ne.delete(ht.key===null?tt:ht.key),q=m(ht,q,tt),Ct===null?Me=ht:Ct.sibling=ht,Ct=ht);return n&&Ne.forEach(function(Qo){return r(K,Qo)}),it&&Ss(K,tt),Me}function Be(K,q,J,ce){if(J==null)throw Error(s(151));for(var Me=null,Ct=null,Ne=q,tt=q=0,ht=null,It=J.next();Ne!==null&&!It.done;tt++,It=J.next()){Ne.index>tt?(ht=Ne,Ne=null):ht=Ne.sibling;var Qo=ee(K,Ne,It.value,ce);if(Qo===null){Ne===null&&(Ne=ht);break}n&&Ne&&Qo.alternate===null&&r(K,Ne),q=m(Qo,q,tt),Ct===null?Me=Qo:Ct.sibling=Qo,Ct=Qo,Ne=ht}if(It.done)return a(K,Ne),it&&Ss(K,tt),Me;if(Ne===null){for(;!It.done;tt++,It=J.next())It=ue(K,It.value,ce),It!==null&&(q=m(It,q,tt),Ct===null?Me=It:Ct.sibling=It,Ct=It);return it&&Ss(K,tt),Me}for(Ne=l(Ne);!It.done;tt++,It=J.next())It=ie(Ne,K,tt,It.value,ce),It!==null&&(n&&It.alternate!==null&&Ne.delete(It.key===null?tt:It.key),q=m(It,q,tt),Ct===null?Me=It:Ct.sibling=It,Ct=It);return n&&Ne.forEach(function(sI){return r(K,sI)}),it&&Ss(K,tt),Me}function $t(K,q,J,ce){if(typeof J=="object"&&J!==null&&J.type===W&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case M:e:{for(var Me=J.key;q!==null;){if(q.key===Me){if(Me=J.type,Me===W){if(q.tag===7){a(K,q.sibling),ce=f(q,J.props.children),ce.return=K,K=ce;break e}}else if(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&F(Me)===q.type){a(K,q.sibling),ce=f(q,J.props),we(ce,J),ce.return=K,K=ce;break e}a(K,q);break}else r(K,q);q=q.sibling}J.type===W?(ce=Ts(J.props.children,K.mode,ce,J.key),ce.return=K,K=ce):(ce=bc(J.type,J.key,J.props,null,K.mode,ce),we(ce,J),ce.return=K,K=ce)}return w(K);case Y:e:{for(Me=J.key;q!==null;){if(q.key===Me)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){a(K,q.sibling),ce=f(q,J.children||[]),ce.return=K,K=ce;break e}else{a(K,q);break}else r(K,q);q=q.sibling}ce=Ec(J,K.mode,ce),ce.return=K,K=ce}return w(K);case O:return J=F(J),$t(K,q,J,ce)}if(Oe(J))return De(K,q,J,ce);if(H(J)){if(Me=H(J),typeof Me!="function")throw Error(s(150));return J=Me.call(J),Be(K,q,J,ce)}if(typeof J.then=="function")return $t(K,q,Ce(J),ce);if(J.$$typeof===te)return $t(K,q,Ro(K,J),ce);Ye(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(a(K,q.sibling),ce=f(q,J),ce.return=K,K=ce):(a(K,q),ce=xo(J,K.mode,ce),ce.return=K,K=ce),w(K)):a(K,q)}return function(K,q,J,ce){try{Se=0;var Me=$t(K,q,J,ce);return _e=null,Me}catch(Ne){if(Ne===jo||Ne===A)throw Ne;var Ct=Yi(29,Ne,null,K.mode);return Ct.lanes=ce,Ct.return=K,Ct}finally{}}}var ze=Ue(!0),Fe=Ue(!1),Pe=!1;function At(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ge(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function nt(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Nt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=_c(n),Vu(n,null,a),r}return vc(n,l,r,a),_c(n)}function Ke(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ps(n,a)}}function rt(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var vt=!1;function gt(){if(vt){var n=ko;if(n!==null)throw n}}function pt(n,r,a,l){vt=!1;var f=n.updateQueue;Pe=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var U=C,Z=U.next;U.next=null,w===null?m=Z:w.next=Z,w=U;var oe=n.alternate;oe!==null&&(oe=oe.updateQueue,C=oe.lastBaseUpdate,C!==w&&(C===null?oe.firstBaseUpdate=Z:C.next=Z,oe.lastBaseUpdate=U))}if(m!==null){var ue=f.baseState;w=0,oe=Z=U=null,C=m;do{var ee=C.lane&-536870913,ie=ee!==C.lane;if(ie?(ut&ee)===ee:(l&ee)===ee){ee!==0&&ee===Oo&&(vt=!0),oe!==null&&(oe=oe.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var De=n,Be=C;ee=r;var $t=a;switch(Be.tag){case 1:if(De=Be.payload,typeof De=="function"){ue=De.call($t,ue,ee);break e}ue=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,ee=typeof De=="function"?De.call($t,ue,ee):De,ee==null)break e;ue=S({},ue,ee);break e;case 2:Pe=!0}}ee=C.callback,ee!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},oe===null?(Z=oe=ie,U=ue):oe=oe.next=ie,w|=ee;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);oe===null&&(U=ue),f.baseState=U,f.firstBaseUpdate=Z,f.lastBaseUpdate=oe,m===null&&(f.shared.lanes=0),Uo|=w,n.lanes=w,n.memoizedState=ue}}function an(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ri(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)an(a[n],r)}var ci=D(null),Bn=D(0);function Qi(n,r){n=Ya,ve(Bn,n),ve(ci,r),Ya=n|r.baseLanes}function Oi(){ve(Bn,Ya),ve(ci,ci.current)}function Jt(){Ya=Bn.current,ae(ci),ae(Bn)}var on=D(null),yn=null;function Wi(n){var r=n.alternate;ve(Mt,Mt.current&1),ve(on,n),yn===null&&(r===null||ci.current!==null||r.memoizedState!==null)&&(yn=n)}function Sn(n){ve(Mt,Mt.current),ve(on,n),yn===null&&(yn=n)}function kt(n){n.tag===22?(ve(Mt,Mt.current),ve(on,n),yn===null&&(yn=n)):ln()}function ln(){ve(Mt,Mt.current),ve(on,on.current)}function Zt(n){ae(on),yn===n&&(yn=null),ae(Mt)}var Mt=D(0);function La(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ig(a)||rg(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ss=0,Xe=null,_t=null,An=null,Sc=!1,ia=!1,Va=!1,jl=0,Pl=0,Ua=null,jf=0;function cn(){throw Error(s(321))}function Xu(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!yi(n[a],r[a]))return!1;return!0}function xs(n,r,a,l,f,m){return ss=m,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?H_:mp,Va=!1,m=a(l,f),Va=!1,ia&&(m=Ju(r,a,l,f)),Ll(n),m}function Ll(n){X.H=eh;var r=_t!==null&&_t.next!==null;if(ss=0,An=_t=Xe=null,Sc=!1,Pl=0,Ua=null,r)throw Error(s(300));n===null||qn||(n=n.dependencies,n!==null&&kl(n)&&(qn=!0))}function Ju(n,r,a,l){Xe=n;var f=0;do{if(ia&&(Ua=null),Pl=0,ia=!1,25<=f)throw Error(s(301));if(f+=1,An=_t=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=$_,m=r(a,l)}while(ia);return m}function Pf(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?Ul(r):r,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(Xe.flags|=1024),r}function Vl(){var n=jl!==0;return jl=0,n}function Ac(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Cc(n){if(Sc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Sc=!1}ss=0,An=_t=Xe=null,ia=!1,Pl=jl=0,Ua=null}function ui(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Xe.memoizedState=An=n:An=An.next=n,An}function un(){if(_t===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var r=An===null?Xe.memoizedState:An.next;if(r!==null)An=r,_t=n;else{if(n===null)throw Xe.alternate===null?Error(s(467)):Error(s(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},An===null?Xe.memoizedState=An=n:An=An.next=n}return An}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(n){var r=Pl;return Pl+=1,Ua===null&&(Ua=[]),n=x(Ua,n,r),r=Xe,(An===null?r.memoizedState:An.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?H_:mp),n}function Po(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ul(n);if(n.$$typeof===te)return zn(n)}throw Error(s(438,String(n)))}function xc(n){var r=null,a=Xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ic(),Xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function za(n,r){return typeof r=="function"?r(n):r}function Lf(n){var r=un();return rp(r,_t,n)}function rp(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var C=w=null,U=null,Z=r,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ut&ue)===ue:(ss&ue)===ue){var ee=Z.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Oo&&(oe=!0);else if((ss&ee)===ee){Z=Z.next,ee===Oo&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(C=U=ue,w=m):U=U.next=ue,Xe.lanes|=ee,Uo|=ee;ue=Z.action,Va&&a(m,ue),m=Z.hasEagerState?Z.eagerState:a(m,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(C=U=ee,w=m):U=U.next=ee,Xe.lanes|=ue,Uo|=ue;Z=Z.next}while(Z!==null&&Z!==r);if(U===null?w=m:U.next=C,!yi(m,n.memoizedState)&&(qn=!0,oe&&(a=ko,a!==null)))throw a;n.memoizedState=m,n.baseState=w,n.baseQueue=U,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function sp(n){var r=un(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=n(m,w.action),w=w.next;while(w!==f);yi(m,r.memoizedState)||(qn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function u_(n,r,a){var l=Xe,f=un(),m=it;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!yi((_t||f).memoizedState,a);if(w&&(f.memoizedState=a,qn=!0),f=f.queue,lp(d_.bind(null,l,f,n),[n]),f.getSnapshot!==r||w||An!==null&&An.memoizedState.tag&1){if(l.flags|=2048,Dc(9,{destroy:void 0},f_.bind(null,l,f,a,r),null),Yt===null)throw Error(s(349));m||(ss&127)!==0||h_(l,r,a)}return a}function h_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Xe.updateQueue,r===null?(r=Ic(),Xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function f_(n,r,a,l){r.value=a,r.getSnapshot=l,m_(r)&&p_(n)}function d_(n,r,a){return a(function(){m_(r)&&p_(n)})}function m_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!yi(n,a)}catch{return!0}}function p_(n){var r=vi(n,2);r!==null&&yr(r,n,2)}function ap(n){var r=ui();if(typeof n=="function"){var a=n;if(n=a(),Va){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:n},r}function g_(n,r,a,l){return n.baseState=a,rp(n,_t,typeof l=="function"?l:za)}function XC(n,r,a,l,f){if(zf(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,y_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function y_(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=X.T,w={};X.T=w;try{var C=a(f,l),U=X.S;U!==null&&U(w,C),v_(n,r,C)}catch(Z){op(n,r,Z)}finally{m!==null&&w.types!==null&&(m.types=w.types),X.T=m}}else try{m=a(f,l),v_(n,r,m)}catch(Z){op(n,r,Z)}}function v_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){__(n,r,l)},function(l){return op(n,r,l)}):__(n,r,a)}function __(n,r,a){r.status="fulfilled",r.value=a,b_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,y_(n,a)))}function op(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,b_(r),r=r.next;while(r!==l)}n.action=null}function b_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function E_(n,r){return r}function w_(n,r){if(it){var a=Yt.formState;if(a!==null){e:{var l=Xe;if(it){if(St){t:{for(var f=St,m=hr;f.nodeType!==8;){if(!m){f=null;break t}if(f=as(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=as(f.nextSibling),l=f.data==="F!";break e}}Js(l)}l=!1}l&&(r=a[0])}}return a=ui(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:r},a.queue=l,a=B_.bind(null,Xe,l),l.dispatch=a,l=ap(!1),m=dp.bind(null,Xe,!1,l.queue),l=ui(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=XC.bind(null,Xe,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function T_(n){var r=un();return S_(r,_t,n)}function S_(n,r,a){if(r=rp(n,r,E_)[0],n=Lf(za)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ul(r)}catch(w){throw w===jo?A:w}else l=r;r=un();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Xe.flags|=2048,Dc(9,{destroy:void 0},JC.bind(null,f,a),null)),[l,m,n]}function JC(n,r){n.action=r}function A_(n){var r=un(),a=_t;if(a!==null)return S_(r,a,n);un(),r=r.memoizedState,a=un();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Dc(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Xe.updateQueue,r===null&&(r=Ic(),Xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function C_(){return un().memoizedState}function Vf(n,r,a,l){var f=ui();Xe.flags|=n,f.memoizedState=Dc(1|r,{destroy:void 0},a,l===void 0?null:l)}function Uf(n,r,a,l){var f=un();l=l===void 0?null:l;var m=f.memoizedState.inst;_t!==null&&l!==null&&Xu(l,_t.memoizedState.deps)?f.memoizedState=Dc(r,m,a,l):(Xe.flags|=n,f.memoizedState=Dc(1|r,m,a,l))}function I_(n,r){Vf(8390656,8,n,r)}function lp(n,r){Uf(2048,8,n,r)}function ZC(n){Xe.flags|=4;var r=Xe.updateQueue;if(r===null)r=Ic(),Xe.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function x_(n){var r=un().memoizedState;return ZC({ref:r,nextImpl:n}),function(){if((Nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function D_(n,r){return Uf(4,2,n,r)}function N_(n,r){return Uf(4,4,n,r)}function R_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function O_(n,r,a){a=a!=null?a.concat([n]):null,Uf(4,4,R_.bind(null,r,n),a)}function cp(){}function k_(n,r){var a=un();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xu(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function M_(n,r){var a=un();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xu(r,l[1]))return l[0];if(l=n(),Va){ii(!0);try{n()}finally{ii(!1)}}return a.memoizedState=[l,r],l}function up(n,r,a){return a===void 0||(ss&1073741824)!==0&&(ut&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=jb(),Xe.lanes|=n,Uo|=n,a)}function j_(n,r,a,l){return yi(a,r)?a:ci.current!==null?(n=up(n,a,l),yi(n,r)||(qn=!0),n):(ss&42)===0||(ss&1073741824)!==0&&(ut&261930)===0?(qn=!0,n.memoizedState=a):(n=jb(),Xe.lanes|=n,Uo|=n,r)}function P_(n,r,a,l,f){var m=re.p;re.p=m!==0&&8>m?m:8;var w=X.T,C={};X.T=C,dp(n,!1,r,a);try{var U=f(),Z=X.S;if(Z!==null&&Z(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=ip(U,l);Zu(n,r,oe,Br(n))}else Zu(n,r,l,Br(n))}catch(ue){Zu(n,r,{then:function(){},status:"rejected",reason:ue},Br())}finally{re.p=m,w!==null&&C.types!==null&&(w.types=C.types),X.T=w}}function e1(){}function hp(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=L_(n).queue;P_(n,f,r,de,a===null?e1:function(){return V_(n),a(l)})}function L_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function V_(n){var r=L_(n);r.next===null&&(r=n.alternate.memoizedState),Zu(n,r.next.queue,{},Br())}function fp(){return zn(gh)}function U_(){return un().memoizedState}function z_(){return un().memoizedState}function t1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Br();n=Ge(a);var l=nt(r,n,a);l!==null&&(yr(l,r,a),Ke(l,r,a)),r={cache:Is()},n.payload=r;return}r=r.return}}function n1(n,r,a){var l=Br();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zf(n)?q_(r,a):(a=Lu(n,r,a,l),a!==null&&(yr(a,n,l),F_(a,r,l)))}function B_(n,r,a){var l=Br();Zu(n,r,a,l)}function Zu(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zf(n))q_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,C=m(w,a);if(f.hasEagerState=!0,f.eagerState=C,yi(C,w))return vc(n,r,f,0),Yt===null&&yc(),!1}catch{}finally{}if(a=Lu(n,r,f,l),a!==null)return yr(a,n,l),F_(a,r,l),!0}return!1}function dp(n,r,a,l){if(l={lane:2,revertLane:$p(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zf(n)){if(r)throw Error(s(479))}else r=Lu(n,a,l,2),r!==null&&yr(r,n,2)}function zf(n){var r=n.alternate;return n===Xe||r!==null&&r===Xe}function q_(n,r){ia=Sc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function F_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ps(n,a)}}var eh={readContext:zn,use:Po,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};eh.useEffectEvent=cn;var H_={readContext:zn,use:Po,useCallback:function(n,r){return ui().memoizedState=[n,r===void 0?null:r],n},useContext:zn,useEffect:I_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Vf(4194308,4,R_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Vf(4194308,4,n,r)},useInsertionEffect:function(n,r){Vf(4,2,n,r)},useMemo:function(n,r){var a=ui();r=r===void 0?null:r;var l=n();if(Va){ii(!0);try{n()}finally{ii(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=ui();if(a!==void 0){var f=a(r);if(Va){ii(!0);try{a(r)}finally{ii(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=n1.bind(null,Xe,n),[l.memoizedState,n]},useRef:function(n){var r=ui();return n={current:n},r.memoizedState=n},useState:function(n){n=ap(n);var r=n.queue,a=B_.bind(null,Xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:cp,useDeferredValue:function(n,r){var a=ui();return up(a,n,r)},useTransition:function(){var n=ap(!1);return n=P_.bind(null,Xe,n.queue,!0,!1),ui().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Xe,f=ui();if(it){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Yt===null)throw Error(s(349));(ut&127)!==0||h_(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,I_(d_.bind(null,l,m,n),[n]),l.flags|=2048,Dc(9,{destroy:void 0},f_.bind(null,l,m,a,r),null),a},useId:function(){var n=ui(),r=Yt.identifierPrefix;if(it){var a=is,l=ns;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=jl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=jf++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:fp,useFormState:w_,useActionState:w_,useOptimistic:function(n){var r=ui();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=dp.bind(null,Xe,!0,a),a.dispatch=r,[n,r]},useMemoCache:xc,useCacheRefresh:function(){return ui().memoizedState=t1.bind(null,Xe)},useEffectEvent:function(n){var r=ui(),a={impl:n};return r.memoizedState=a,function(){if((Nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},mp={readContext:zn,use:Po,useCallback:k_,useContext:zn,useEffect:lp,useImperativeHandle:O_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:M_,useReducer:Lf,useRef:C_,useState:function(){return Lf(za)},useDebugValue:cp,useDeferredValue:function(n,r){var a=un();return j_(a,_t.memoizedState,n,r)},useTransition:function(){var n=Lf(za)[0],r=un().memoizedState;return[typeof n=="boolean"?n:Ul(n),r]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:fp,useFormState:T_,useActionState:T_,useOptimistic:function(n,r){var a=un();return g_(a,_t,n,r)},useMemoCache:xc,useCacheRefresh:z_};mp.useEffectEvent=x_;var $_={readContext:zn,use:Po,useCallback:k_,useContext:zn,useEffect:lp,useImperativeHandle:O_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:M_,useReducer:sp,useRef:C_,useState:function(){return sp(za)},useDebugValue:cp,useDeferredValue:function(n,r){var a=un();return _t===null?up(a,n,r):j_(a,_t.memoizedState,n,r)},useTransition:function(){var n=sp(za)[0],r=un().memoizedState;return[typeof n=="boolean"?n:Ul(n),r]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:fp,useFormState:A_,useActionState:A_,useOptimistic:function(n,r){var a=un();return _t!==null?g_(a,_t,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:xc,useCacheRefresh:z_};$_.useEffectEvent=x_;function pp(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var gp={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Br(),f=Ge(l);f.payload=r,a!=null&&(f.callback=a),r=nt(n,f,l),r!==null&&(yr(r,n,l),Ke(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Br(),f=Ge(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=nt(n,f,l),r!==null&&(yr(r,n,l),Ke(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Br(),l=Ge(a);l.tag=2,r!=null&&(l.callback=r),r=nt(n,l,a),r!==null&&(yr(r,n,a),Ke(r,n,a))}};function G_(n,r,a,l,f,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!oi(a,l)||!oi(f,m):!0}function Y_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&gp.enqueueReplaceState(r,r.state,null)}function zl(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=S({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function K_(n){xl(n)}function Q_(n){console.error(n)}function W_(n){xl(n)}function Bf(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function X_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yp(n,r,a){return a=Ge(a),a.tag=3,a.payload={element:null},a.callback=function(){Bf(n,r)},a}function J_(n){return n=Ge(n),n.tag=3,n}function Z_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){X_(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){X_(r,a,l),typeof f!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function i1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ta(r,a,f,!0),a=on.current,a!==null){switch(a.tag){case 31:case 13:return yn===null?Zf():a.alternate===null&&Cn===0&&(Cn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qp(n,l,f)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qp(n,l,f)),!1}throw Error(s(435,a.tag))}return qp(n,l,f),Zf(),!1}if(it)return r=on.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Fu&&(n=Error(s(422),{cause:l}),Ol(li(n,a)))):(l!==Fu&&(r=Error(s(423),{cause:l}),Ol(li(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=li(l,a),f=yp(n.stateNode,l,f),rt(n,f),Cn!==4&&(Cn=2)),!1;var m=Error(s(520),{cause:l});if(m=li(m,a),lh===null?lh=[m]:lh.push(m),Cn!==4&&(Cn=2),r===null)return!0;l=li(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=yp(a.stateNode,l,n),rt(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zo===null||!zo.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=J_(f),Z_(f,n,a,l),rt(a,f),!1}a=a.return}while(a!==null);return!1}var vp=Error(s(461)),qn=!1;function _i(n,r,a,l){r.child=n===null?Fe(r,null,a,l):ze(r,n.child,a,l)}function eb(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var C in l)C!=="ref"&&(w[C]=l[C])}else w=l;return Ki(r),l=xs(n,r,a,w,m,f),C=Vl(),n!==null&&!qn?(Ac(n,r,f),Ba(n,r,f)):(it&&C&&Rl(r),r.flags|=1,_i(n,r,l,f),r.child)}function tb(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Uu(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,nb(n,r,m,l,f)):(n=bc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Cp(n,f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:oi,a(w,l)&&n.ref===r.ref)return Ba(n,r,f)}return r.flags|=1,n=ws(m,l),n.ref=r.ref,n.return=r,r.child=n}function nb(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(oi(m,l)&&n.ref===r.ref)if(qn=!1,r.pendingProps=l=m,Cp(n,f))(n.flags&131072)!==0&&(qn=!0);else return r.lanes=n.lanes,Ba(n,r,f)}return _p(n,r,a,l,f)}function ib(n,r,a,l){var f=l.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return rb(n,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ja(r,m!==null?m.cachePool:null),m!==null?Qi(r,m):Oi(),kt(r);else return l=r.lanes=536870912,rb(n,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(ja(r,m.cachePool),Qi(r,m),ln(),r.memoizedState=null):(n!==null&&ja(r,null),Oi(),ln());return _i(n,r,f,a),r.child}function th(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function rb(n,r,a,l,f){var m=Mo();return m=m===null?null:{parent:Tn._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},n!==null&&ja(r,null),Oi(),kt(r),n!==null&&ta(n,r,l,!0),r.childLanes=f,null}function qf(n,r){return r=Hf({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function sb(n,r,a){return ze(r,n.child,null,a),n=qf(r,r.pendingProps),n.flags|=2,Zt(r),r.memoizedState=null,n}function r1(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(it){if(l.mode==="hidden")return n=qf(r,l),r.lanes=536870912,th(null,n);if(Sn(r),(n=St)?(n=yE(n,hr),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Xs!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},a=Nf(n),a.return=r,r.child=a,Zn=r,St=null)):n=null,n===null)throw Js(r);return r.lanes=536870912,null}return qf(r,l)}var m=n.memoizedState;if(m!==null){var w=m.dehydrated;if(Sn(r),f)if(r.flags&256)r.flags&=-257,r=sb(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(qn||ta(n,r,a,!1),f=(a&n.childLanes)!==0,qn||f){if(l=Yt,l!==null&&(w=Kr(l,a),w!==0&&w!==m.retryLane))throw m.retryLane=w,vi(n,w),yr(l,n,w),vp;Zf(),r=sb(n,r,a)}else n=m.treeContext,St=as(w.nextSibling),Zn=r,it=!0,As=null,hr=!1,n!==null&&qu(r,n),r=qf(r,l),r.flags|=4096;return r}return n=ws(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ff(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function _p(n,r,a,l,f){return Ki(r),a=xs(n,r,a,l,void 0,f),l=Vl(),n!==null&&!qn?(Ac(n,r,f),Ba(n,r,f)):(it&&l&&Rl(r),r.flags|=1,_i(n,r,a,f),r.child)}function ab(n,r,a,l,f,m){return Ki(r),r.updateQueue=null,a=Ju(r,l,a,f),Ll(n),l=Vl(),n!==null&&!qn?(Ac(n,r,m),Ba(n,r,m)):(it&&l&&Rl(r),r.flags|=1,_i(n,r,a,m),r.child)}function ob(n,r,a,l,f){if(Ki(r),r.stateNode===null){var m=Io,w=a.contextType;typeof w=="object"&&w!==null&&(m=zn(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=gp,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},At(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?zn(w):Io,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(pp(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&gp.enqueueReplaceState(m,m.state,null),pt(r,l,m,f),gt(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var C=r.memoizedProps,U=zl(a,C);m.props=U;var Z=m.context,oe=a.contextType;w=Io,typeof oe=="object"&&oe!==null&&(w=zn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||Z!==w)&&Y_(r,m,l,w),Pe=!1;var ee=r.memoizedState;m.state=ee,pt(r,l,m,f),gt(),Z=r.memoizedState,C||ee!==Z||Pe?(typeof ue=="function"&&(pp(r,a,ue,l),Z=r.memoizedState),(U=Pe||G_(r,a,U,l,ee,Z,w))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=Z),m.props=l,m.state=Z,m.context=w,l=U):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Ot(n,r),w=r.memoizedProps,oe=zl(a,w),m.props=oe,ue=r.pendingProps,ee=m.context,Z=a.contextType,U=Io,typeof Z=="object"&&Z!==null&&(U=zn(Z)),C=a.getDerivedStateFromProps,(Z=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ue||ee!==U)&&Y_(r,m,l,U),Pe=!1,ee=r.memoizedState,m.state=ee,pt(r,l,m,f),gt();var ie=r.memoizedState;w!==ue||ee!==ie||Pe||n!==null&&n.dependencies!==null&&kl(n.dependencies)?(typeof C=="function"&&(pp(r,a,C,l),ie=r.memoizedState),(oe=Pe||G_(r,a,oe,l,ee,ie,U)||n!==null&&n.dependencies!==null&&kl(n.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ie,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ie,U)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),m.props=l,m.state=ie,m.context=U,l=oe):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&ee===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Ff(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=ze(r,n.child,null,f),r.child=ze(r,null,a,f)):_i(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Ba(n,r,f),n}function lb(n,r,a,l){return ka(),r.flags|=256,_i(n,r,a,l),r.child}var bp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ep(n){return{baseLanes:n,cachePool:Mf()}}function wp(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=zr),n}function cb(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(it){if(f?Wi(r):ln(),(n=St)?(n=yE(n,hr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Xs!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},a=Nf(n),a.return=r,r.child=a,Zn=r,St=null)):n=null,n===null)throw Js(r);return rg(n)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(ln(),f=r.mode,C=Hf({mode:"hidden",children:C},f),l=Ts(l,f,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=Ep(a),l.childLanes=wp(n,w,a),r.memoizedState=bp,th(null,l)):(Wi(r),Tp(r,C))}var U=n.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(m)r.flags&256?(Wi(r),r.flags&=-257,r=Sp(n,r,a)):r.memoizedState!==null?(ln(),r.child=n.child,r.flags|=128,r=null):(ln(),C=l.fallback,f=r.mode,l=Hf({mode:"visible",children:l.children},f),C=Ts(C,f,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,ze(r,n.child,null,a),l=r.child,l.memoizedState=Ep(a),l.childLanes=wp(n,w,a),r.memoizedState=bp,r=th(null,l));else if(Wi(r),rg(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Z=w.dgst;w=Z,l=Error(s(419)),l.stack="",l.digest=w,Ol({value:l,source:null,stack:null}),r=Sp(n,r,a)}else if(qn||ta(n,r,a,!1),w=(a&n.childLanes)!==0,qn||w){if(w=Yt,w!==null&&(l=Kr(w,a),l!==0&&l!==U.retryLane))throw U.retryLane=l,vi(n,l),yr(w,n,l),vp;ig(C)||Zf(),r=Sp(n,r,a)}else ig(C)?(r.flags|=192,r.child=n.child,r=null):(n=U.treeContext,St=as(C.nextSibling),Zn=r,it=!0,As=null,hr=!1,n!==null&&qu(r,n),r=Tp(r,l.children),r.flags|=4096);return r}return f?(ln(),C=l.fallback,f=r.mode,U=n.child,Z=U.sibling,l=ws(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,Z!==null?C=ws(Z,C):(C=Ts(C,f,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,th(null,l),l=r.child,C=n.child.memoizedState,C===null?C=Ep(a):(f=C.cachePool,f!==null?(U=Tn._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=Mf(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=wp(n,w,a),r.memoizedState=bp,th(n.child,l)):(Wi(r),a=n.child,n=a.sibling,a=ws(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=a,r.memoizedState=null,a)}function Tp(n,r){return r=Hf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Hf(n,r){return n=Yi(22,n,null,r),n.lanes=0,n}function Sp(n,r,a){return ze(r,n.child,null,a),n=Tp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function ub(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Gu(n.return,r,a)}function Ap(n,r,a,l,f,m){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=f,w.treeForkCount=m)}function hb(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var w=Mt.current,C=(w&2)!==0;if(C?(w=w&1|2,r.flags|=128):w&=1,ve(Mt,w),_i(n,r,l,a),l=it?Dl:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ub(n,a,r);else if(n.tag===19)ub(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&La(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ap(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&La(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ap(r,!0,a,null,m,l);break;case"together":Ap(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ba(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Uo|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(ta(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ws(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ws(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Cp(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&kl(n)))}function s1(n,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),ea(r,Tn,n.memoizedState.cache),ka();break;case 27:case 5:Ci(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:ea(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sn(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?cb(n,r,a):(Wi(r),n=Ba(n,r,a),n!==null?n.sibling:null);Wi(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ta(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return hb(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ve(Mt,Mt.current),l)break;return null;case 22:return r.lanes=0,ib(n,r,a,r.pendingProps);case 24:ea(r,Tn,n.memoizedState.cache)}return Ba(n,r,a)}function fb(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)qn=!0;else{if(!Cp(n,a)&&(r.flags&128)===0)return qn=!1,s1(n,r,a);qn=(n.flags&131072)!==0}else qn=!1,it&&(r.flags&1048576)!==0&&Nl(r,Dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=F(r.elementType),r.type=n,typeof n=="function")Uu(n)?(l=zl(n,l),r.tag=1,r=ob(null,r,n,l,a)):(r.tag=0,r=_p(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===ye){r.tag=11,r=eb(null,r,n,l,a);break e}else if(f===k){r.tag=14,r=tb(null,r,n,l,a);break e}}throw r=fe(n)||n,Error(s(306,r,""))}}return r;case 0:return _p(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=zl(l,r.pendingProps),ob(n,r,l,f,a);case 3:e:{if(Pt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Ot(n,r),pt(r,l,null,a);var w=r.memoizedState;if(l=w.cache,ea(r,Tn,l),l!==m.cache&&Tc(r,[Tn],a,!0),gt(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=lb(n,r,l,a);break e}else if(l!==f){f=li(Error(s(424)),r),Ol(f),r=lb(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(St=as(n.firstChild),Zn=r,it=!0,As=null,hr=!0,a=Fe(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ka(),l===f){r=Ba(n,r,a);break e}_i(n,r,l,a)}r=r.child}return r;case 26:return Ff(n,r),n===null?(a=TE(r.type,null,r.pendingProps,null))?r.memoizedState=a:it||(a=r.type,n=r.pendingProps,l=ad(Le.current).createElement(a),l[Bt]=r,l[En]=n,bi(l,a,n),Gt(l),r.stateNode=l):r.memoizedState=TE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ci(r),n===null&&it&&(l=r.stateNode=bE(r.type,r.pendingProps,Le.current),Zn=r,hr=!0,f=St,Ho(r.type)?(sg=f,St=as(l.firstChild)):St=f),_i(n,r,r.pendingProps.children,a),Ff(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&it&&((f=l=St)&&(l=j1(l,r.type,r.pendingProps,hr),l!==null?(r.stateNode=l,Zn=r,St=as(l.firstChild),hr=!1,f=!0):f=!1),f||Js(r)),Ci(r),f=r.type,m=r.pendingProps,w=n!==null?n.memoizedProps:null,l=m.children,eg(f,m)?l=null:w!==null&&eg(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=xs(n,r,Pf,null,null,a),gh._currentValue=f),Ff(n,r),_i(n,r,l,a),r.child;case 6:return n===null&&it&&((n=a=St)&&(a=P1(a,r.pendingProps,hr),a!==null?(r.stateNode=a,Zn=r,St=null,n=!0):n=!1),n||Js(r)),null;case 13:return cb(n,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ze(r,null,l,a):_i(n,r,l,a),r.child;case 11:return eb(n,r,r.type,r.pendingProps,a);case 7:return _i(n,r,r.pendingProps,a),r.child;case 8:return _i(n,r,r.pendingProps.children,a),r.child;case 12:return _i(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ea(r,r.type,l.value),_i(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ki(r),f=zn(f),l=l(f),r.flags|=1,_i(n,r,l,a),r.child;case 14:return tb(n,r,r.type,r.pendingProps,a);case 15:return nb(n,r,r.type,r.pendingProps,a);case 19:return hb(n,r,a);case 31:return r1(n,r,a);case 22:return ib(n,r,a,r.pendingProps);case 24:return Ki(r),l=zn(Tn),n===null?(f=Mo(),f===null&&(f=Yt,m=Is(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},At(r),ea(r,Tn,f)):((n.lanes&a)!==0&&(Ot(n,r),pt(r,null,null,a),gt()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ea(r,Tn,l)):(l=m.cache,ea(r,Tn,l),l!==f.cache&&Tc(r,[Tn],a,!0))),_i(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qa(n){n.flags|=4}function Ip(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Ub())n.flags|=8192;else throw G=d,Pa}else n.flags&=-16777217}function db(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!xE(r))if(Ub())n.flags|=8192;else throw G=d,Pa}function $f(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?mi():536870912,n.lanes|=r,kc|=r)}function nh(n,r){if(!it)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function nn(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function a1(n,r,a){var l=r.pendingProps;switch(Bu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(r),null;case 1:return nn(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rs(Tn),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(No(r)?qa(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hu())),nn(r),null;case 26:var f=r.type,m=r.memoizedState;return n===null?(qa(r),m!==null?(nn(r),db(r,m)):(nn(r),Ip(r,f,null,l,a))):m?m!==n.memoizedState?(qa(r),nn(r),db(r,m)):(nn(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&qa(r),nn(r),Ip(r,f,n,l,a)),null;case 27:if(Er(r),a=Le.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&qa(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nn(r),null}n=Te.current,No(r)?Do(r):(n=bE(f,l,a),r.stateNode=n,qa(r))}return nn(r),null;case 5:if(Er(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&qa(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nn(r),null}if(m=Te.current,No(r))Do(r);else{var w=ad(Le.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(f,{is:l.is}):w.createElement(f)}}m[Bt]=r,m[En]=l;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=m;e:switch(bi(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qa(r)}}return nn(r),Ip(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&qa(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Le.current,No(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=Zn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cE(n.nodeValue,a)),n||Js(r,!0)}else n=ad(n).createTextNode(l),n[Bt]=r,r.stateNode=n}return nn(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=No(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Bt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nn(r),n=!1}else a=Hu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Zt(r),r):(Zt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nn(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=No(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nn(r),f=!1}else f=Hu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Zt(r),r):(Zt(r),null)}return Zt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),$f(r,r.updateQueue),nn(r),null);case 4:return be(),n===null&&Qp(r.stateNode.containerInfo),nn(r),null;case 10:return rs(r.type),nn(r),null;case 19:if(ae(Mt),l=r.memoizedState,l===null)return nn(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)nh(l,!1);else{if(Cn!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=La(n),m!==null){for(r.flags|=128,nh(l,!1),n=m.updateQueue,r.updateQueue=n,$f(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Df(a,n),a=a.sibling;return ve(Mt,Mt.current&1|2),it&&Ss(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&Yn()>Wf&&(r.flags|=128,f=!0,nh(l,!1),r.lanes=4194304)}else{if(!f)if(n=La(m),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,$f(r,n),nh(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!it)return nn(r),null}else 2*Yn()-l.renderingStartTime>Wf&&a!==536870912&&(r.flags|=128,f=!0,nh(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(n=l.last,n!==null?n.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Yn(),n.sibling=null,a=Mt.current,ve(Mt,f?a&1|2:a&1),it&&Ss(r,l.treeForkCount),n):(nn(r),null);case 22:case 23:return Zt(r),Jt(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nn(r),r.subtreeFlags&6&&(r.flags|=8192)):nn(r),a=r.updateQueue,a!==null&&$f(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ae(na),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rs(Tn),nn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function o1(n,r){switch(Bu(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return rs(Tn),be(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Er(r),null;case 31:if(r.memoizedState!==null){if(Zt(r),r.alternate===null)throw Error(s(340));ka()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Zt(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ka()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(Mt),null;case 4:return be(),null;case 10:return rs(r.type),null;case 22:case 23:return Zt(r),Jt(),n!==null&&ae(na),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return rs(Tn),null;case 25:return null;default:return null}}function mb(n,r){switch(Bu(r),r.tag){case 3:rs(Tn),be();break;case 26:case 27:case 5:Er(r);break;case 4:be();break;case 31:r.memoizedState!==null&&Zt(r);break;case 13:Zt(r);break;case 19:ae(Mt);break;case 10:rs(r.type);break;case 22:case 23:Zt(r),Jt(),n!==null&&ae(na);break;case 24:rs(Tn)}}function ih(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==f)}}catch(C){Ut(r,r.return,C)}}function Lo(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var w=l.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,f=r;var U=a,Z=C;try{Z()}catch(oe){Ut(f,U,oe)}}}l=l.next}while(l!==m)}}catch(oe){Ut(r,r.return,oe)}}function pb(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ri(r,a)}catch(l){Ut(n,n.return,l)}}}function gb(n,r,a){a.props=zl(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ut(n,r,l)}}function rh(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ut(n,r,f)}}function ra(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ut(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ut(n,r,f)}else a.current=null}function yb(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ut(n,n.return,f)}}function xp(n,r,a){try{var l=n.stateNode;D1(l,n.type,a,r),l[En]=r}catch(f){Ut(n,n.return,f)}}function vb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ho(n.type)||n.tag===4}function Dp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ho(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Np(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vn));else if(l!==4&&(l===27&&Ho(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Np(n,r,a),n=n.sibling;n!==null;)Np(n,r,a),n=n.sibling}function Gf(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Ho(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Gf(n,r,a),n=n.sibling;n!==null;)Gf(n,r,a),n=n.sibling}function _b(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);bi(r,l,a),r[Bt]=n,r[En]=a}catch(m){Ut(n,n.return,m)}}var Fa=!1,Fn=!1,Rp=!1,bb=typeof WeakSet=="function"?WeakSet:Set,hi=null;function l1(n,r){if(n=n.containerInfo,Jp=dd,n=Iu(n),xu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,C=-1,U=-1,Z=0,oe=0,ue=n,ee=null;t:for(;;){for(var ie;ue!==a||f!==0&&ue.nodeType!==3||(C=w+f),ue!==m||l!==0&&ue.nodeType!==3||(U=w+l),ue.nodeType===3&&(w+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ee=ue,ue=ie;for(;;){if(ue===n)break t;if(ee===a&&++Z===f&&(C=w),ee===m&&++oe===l&&(U=w),(ie=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ie}a=C===-1||U===-1?null:{start:C,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zp={focusedElem:n,selectionRange:a},dd=!1,hi=r;hi!==null;)if(r=hi,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,hi=n;else for(;hi!==null;){switch(r=hi,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var De=zl(a.type,f);n=l.getSnapshotBeforeUpdate(De,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Be){Ut(a,a.return,Be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)ng(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ng(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,hi=n;break}hi=r.return}}function Eb(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$a(n,a),l&4&&ih(5,a);break;case 1:if($a(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){Ut(a,a.return,w)}else{var f=zl(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Ut(a,a.return,w)}}l&64&&pb(a),l&512&&rh(a,a.return);break;case 3:if($a(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ri(n,r)}catch(w){Ut(a,a.return,w)}}break;case 27:r===null&&l&4&&_b(a);case 26:case 5:$a(n,a),r===null&&l&4&&yb(a),l&512&&rh(a,a.return);break;case 12:$a(n,a);break;case 31:$a(n,a),l&4&&Sb(n,a);break;case 13:$a(n,a),l&4&&Ab(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=y1.bind(null,a),L1(n,a))));break;case 22:if(l=a.memoizedState!==null||Fa,!l){r=r!==null&&r.memoizedState!==null||Fn,f=Fa;var m=Fn;Fa=l,(Fn=r)&&!m?Ga(n,a,(a.subtreeFlags&8772)!==0):$a(n,a),Fa=f,Fn=m}break;case 30:break;default:$a(n,a)}}function wb(n){var r=n.alternate;r!==null&&(n.alternate=null,wb(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&sn(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var hn=null,dr=!1;function Ha(n,r,a){for(a=a.child;a!==null;)Tb(n,r,a),a=a.sibling}function Tb(n,r,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Fn||ra(a,r),Ha(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fn||ra(a,r);var l=hn,f=dr;Ho(a.type)&&(hn=a.stateNode,dr=!1),Ha(n,r,a),dh(a.stateNode),hn=l,dr=f;break;case 5:Fn||ra(a,r);case 6:if(l=hn,f=dr,hn=null,Ha(n,r,a),hn=l,dr=f,hn!==null)if(dr)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(a.stateNode)}catch(m){Ut(a,r,m)}else try{hn.removeChild(a.stateNode)}catch(m){Ut(a,r,m)}break;case 18:hn!==null&&(dr?(n=hn,pE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Bc(n)):pE(hn,a.stateNode));break;case 4:l=hn,f=dr,hn=a.stateNode.containerInfo,dr=!0,Ha(n,r,a),hn=l,dr=f;break;case 0:case 11:case 14:case 15:Lo(2,a,r),Fn||Lo(4,a,r),Ha(n,r,a);break;case 1:Fn||(ra(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gb(a,r,l)),Ha(n,r,a);break;case 21:Ha(n,r,a);break;case 22:Fn=(l=Fn)||a.memoizedState!==null,Ha(n,r,a),Fn=l;break;default:Ha(n,r,a)}}function Sb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Bc(n)}catch(a){Ut(r,r.return,a)}}}function Ab(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bc(n)}catch(a){Ut(r,r.return,a)}}function c1(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new bb),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new bb),r;default:throw Error(s(435,n.tag))}}function Yf(n,r){var a=c1(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=v1.bind(null,n,l);l.then(f,f)}})}function mr(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,w=r,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(Ho(C.type)){hn=C.stateNode,dr=!1;break e}break;case 5:hn=C.stateNode,dr=!1;break e;case 3:case 4:hn=C.stateNode.containerInfo,dr=!0;break e}C=C.return}if(hn===null)throw Error(s(160));Tb(m,w,f),hn=null,dr=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Cb(r,n),r=r.sibling}var Ds=null;function Cb(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:mr(r,n),pr(n),l&4&&(Lo(3,n,n.return),ih(3,n),Lo(5,n,n.return));break;case 1:mr(r,n),pr(n),l&512&&(Fn||a===null||ra(a,a.return)),l&64&&Fa&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ds;if(mr(r,n),pr(n),l&512&&(Fn||a===null||ra(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ct]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),bi(m,l,a),m[Bt]=n,Gt(m),l=m;break e;case"link":var w=CE("link","href",f).get(l+(a.href||""));if(w){for(var C=0;C<w.length;C++)if(m=w[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(C,1);break t}}m=f.createElement(l),bi(m,l,a),f.head.appendChild(m);break;case"meta":if(w=CE("meta","content",f).get(l+(a.content||""))){for(C=0;C<w.length;C++)if(m=w[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(C,1);break t}}m=f.createElement(l),bi(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Bt]=n,Gt(m),l=m}n.stateNode=l}else IE(f,n.type,n.stateNode);else n.stateNode=AE(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?IE(f,n.type,n.stateNode):AE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&xp(n,n.memoizedProps,a.memoizedProps)}break;case 27:mr(r,n),pr(n),l&512&&(Fn||a===null||ra(a,a.return)),a!==null&&l&4&&xp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(mr(r,n),pr(n),l&512&&(Fn||a===null||ra(a,a.return)),n.flags&32){f=n.stateNode;try{On(f,"")}catch(De){Ut(n,n.return,De)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,xp(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Rp=!0);break;case 6:if(mr(r,n),pr(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(De){Ut(n,n.return,De)}}break;case 3:if(cd=null,f=Ds,Ds=od(r.containerInfo),mr(r,n),Ds=f,pr(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bc(r.containerInfo)}catch(De){Ut(n,n.return,De)}Rp&&(Rp=!1,Ib(n));break;case 4:l=Ds,Ds=od(n.stateNode.containerInfo),mr(r,n),pr(n),Ds=l;break;case 12:mr(r,n),pr(n);break;case 31:mr(r,n),pr(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yf(n,l)));break;case 13:mr(r,n),pr(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qf=Yn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yf(n,l)));break;case 22:f=n.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,Z=Fa,oe=Fn;if(Fa=Z||f,Fn=oe||U,mr(r,n),Fn=oe,Fa=Z,pr(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||U||Fa||Fn||Bl(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){U=a=r;try{if(m=U.stateNode,f)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=U.stateNode;var ue=U.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(De){Ut(U,U.return,De)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(De){Ut(U,U.return,De)}}}else if(r.tag===18){if(a===null){U=r;try{var ie=U.stateNode;f?gE(ie,!0):gE(U.stateNode,!1)}catch(De){Ut(U,U.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yf(n,a))));break;case 19:mr(r,n),pr(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yf(n,l)));break;case 30:break;case 21:break;default:mr(r,n),pr(n)}}function pr(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(vb(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Dp(n);Gf(n,m,f);break;case 5:var w=a.stateNode;a.flags&32&&(On(w,""),a.flags&=-33);var C=Dp(n);Gf(n,C,w);break;case 3:case 4:var U=a.stateNode.containerInfo,Z=Dp(n);Np(n,Z,U);break;default:throw Error(s(161))}}catch(oe){Ut(n,n.return,oe)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ib(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Ib(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function $a(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Eb(n,r.alternate,r),r=r.sibling}function Bl(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Lo(4,r,r.return),Bl(r);break;case 1:ra(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&gb(r,r.return,a),Bl(r);break;case 27:dh(r.stateNode);case 26:case 5:ra(r,r.return),Bl(r);break;case 22:r.memoizedState===null&&Bl(r);break;case 30:Bl(r);break;default:Bl(r)}n=n.sibling}}function Ga(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:Ga(f,m,a),ih(4,m);break;case 1:if(Ga(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){Ut(l,l.return,Z)}if(l=m,f=l.updateQueue,f!==null){var C=l.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)an(U[f],C)}catch(Z){Ut(l,l.return,Z)}}a&&w&64&&pb(m),rh(m,m.return);break;case 27:_b(m);case 26:case 5:Ga(f,m,a),a&&l===null&&w&4&&yb(m),rh(m,m.return);break;case 12:Ga(f,m,a);break;case 31:Ga(f,m,a),a&&w&4&&Sb(f,m);break;case 13:Ga(f,m,a),a&&w&4&&Ab(f,m);break;case 22:m.memoizedState===null&&Ga(f,m,a),rh(m,m.return);break;case 30:break;default:Ga(f,m,a)}r=r.sibling}}function Op(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&fr(a))}function kp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&fr(n))}function Ns(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xb(n,r,a,l),r=r.sibling}function xb(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(n,r,a,l),f&2048&&ih(9,r);break;case 1:Ns(n,r,a,l);break;case 3:Ns(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&fr(n)));break;case 12:if(f&2048){Ns(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,w=m.id,C=m.onPostCommit;typeof C=="function"&&C(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Ut(r,r.return,U)}}else Ns(n,r,a,l);break;case 31:Ns(n,r,a,l);break;case 13:Ns(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Ns(n,r,a,l):sh(n,r):m._visibility&2?Ns(n,r,a,l):(m._visibility|=2,Nc(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Op(w,r);break;case 24:Ns(n,r,a,l),f&2048&&kp(r.alternate,r);break;default:Ns(n,r,a,l)}}function Nc(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,w=r,C=a,U=l,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Nc(m,w,C,U,f),ih(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?Nc(m,w,C,U,f):sh(m,w):(oe._visibility|=2,Nc(m,w,C,U,f)),f&&Z&2048&&Op(w.alternate,w);break;case 24:Nc(m,w,C,U,f),f&&Z&2048&&kp(w.alternate,w);break;default:Nc(m,w,C,U,f)}r=r.sibling}}function sh(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:sh(a,l),f&2048&&Op(l.alternate,l);break;case 24:sh(a,l),f&2048&&kp(l.alternate,l);break;default:sh(a,l)}r=r.sibling}}var ah=8192;function Rc(n,r,a){if(n.subtreeFlags&ah)for(n=n.child;n!==null;)Db(n,r,a),n=n.sibling}function Db(n,r,a){switch(n.tag){case 26:Rc(n,r,a),n.flags&ah&&n.memoizedState!==null&&Q1(a,Ds,n.memoizedState,n.memoizedProps);break;case 5:Rc(n,r,a);break;case 3:case 4:var l=Ds;Ds=od(n.stateNode.containerInfo),Rc(n,r,a),Ds=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=ah,ah=16777216,Rc(n,r,a),ah=l):Rc(n,r,a));break;default:Rc(n,r,a)}}function Nb(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function oh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];hi=l,Ob(l,n)}Nb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rb(n),n=n.sibling}function Rb(n){switch(n.tag){case 0:case 11:case 15:oh(n),n.flags&2048&&Lo(9,n,n.return);break;case 3:oh(n);break;case 12:oh(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Kf(n)):oh(n);break;default:oh(n)}}function Kf(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];hi=l,Ob(l,n)}Nb(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Lo(8,r,r.return),Kf(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Kf(r));break;default:Kf(r)}n=n.sibling}}function Ob(n,r){for(;hi!==null;){var a=hi;switch(a.tag){case 0:case 11:case 15:Lo(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,hi=l;else e:for(a=n;hi!==null;){l=hi;var f=l.sibling,m=l.return;if(wb(l),l===a){hi=null;break e}if(f!==null){f.return=m,hi=f;break e}hi=m}}}var u1={getCacheForType:function(n){var r=zn(Tn),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return zn(Tn).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Yt=null,at=null,ut=0,Vt=0,Ur=null,Vo=!1,Oc=!1,Mp=!1,Ya=0,Cn=0,Uo=0,ql=0,jp=0,zr=0,kc=0,lh=null,gr=null,Pp=!1,Qf=0,kb=0,Wf=1/0,Xf=null,zo=null,ei=0,Bo=null,Mc=null,Ka=0,Lp=0,Vp=null,Mb=null,ch=0,Up=null;function Br(){return(Nt&2)!==0&&ut!==0?ut&-ut:X.T!==null?$p():zs()}function jb(){if(zr===0)if((ut&536870912)===0||it){var n=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),zr=n}else zr=536870912;return n=on.current,n!==null&&(n.flags|=32),zr}function yr(n,r,a){(n===Yt&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)&&(jc(n,0),qo(n,ut,zr,!1)),Ar(n,a),((Nt&2)===0||n!==Yt)&&(n===Yt&&((Nt&2)===0&&(ql|=a),Cn===4&&qo(n,ut,zr,!1)),sa(n))}function Pb(n,r,a){if((Nt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Kn(n,r),f=l?m1(n,r):Bp(n,r,!0),m=l;do{if(f===0){Oc&&!l&&qo(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!f1(a)){f=Bp(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var C=n;f=lh;var U=C.current.memoizedState.isDehydrated;if(U&&(jc(C,w).flags|=256),w=Bp(C,w,!1),w!==2){if(Mp&&!U){C.errorRecoveryDisabledLanes|=m,ql|=m,f=4;break e}m=gr,gr=f,m!==null&&(gr===null?gr=m:gr.push.apply(gr,m))}f=w}if(m=!1,f!==2)continue}}if(f===1){jc(n,0),qo(n,r,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qo(l,r,zr,!Vo);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Qf+300-Yn(),10<f)){if(qo(l,r,zr,!Vo),zt(l,0,!0)!==0)break e;Ka=r,l.timeoutHandle=dE(Lb.bind(null,l,a,gr,Xf,Pp,r,zr,ql,kc,Vo,m,"Throttled",-0,0),f);break e}Lb(l,a,gr,Xf,Pp,r,zr,ql,kc,Vo,m,null,-0,0)}}break}while(!0);sa(n)}function Lb(n,r,a,l,f,m,w,C,U,Z,oe,ue,ee,ie){if(n.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},Db(r,m,ue);var De=(m&62914560)===m?Qf-Yn():(m&4194048)===m?kb-Yn():0;if(De=W1(ue,De),De!==null){Ka=m,n.cancelPendingCommit=De($b.bind(null,n,r,m,a,l,f,w,C,U,oe,ue,null,ee,ie)),qo(n,m,w,!Z);return}}$b(n,r,m,a,l,f,w,C,U)}function f1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!yi(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qo(n,r,a,l){r&=~jp,r&=~ql,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-Wt(f),w=1<<m;l[m]=-1,f&=~w}a!==0&&xi(n,a,r)}function Jf(){return(Nt&6)===0?(uh(0),!1):!0}function zp(){if(at!==null){if(Vt===0)var n=at.return;else n=at,Cs=Ma=null,Cc(n),_e=null,Se=0,n=at;for(;n!==null;)mb(n.alternate,n),n=n.return;at=null}}function jc(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,O1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ka=0,zp(),Yt=n,at=a=ws(n.current,null),ut=r,Vt=0,Ur=null,Vo=!1,Oc=Kn(n,r),Mp=!1,kc=zr=jp=ql=Uo=Cn=0,gr=lh=null,Pp=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Wt(l),m=1<<f;r|=n[f],l&=~m}return Ya=r,yc(),a}function Vb(n,r){Xe=null,X.H=eh,r===jo||r===A?(r=se(),Vt=3):r===Pa?(r=se(),Vt=4):Vt=r===vp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ur=r,at===null&&(Cn=1,Bf(n,li(r,n.current)))}function Ub(){var n=on.current;return n===null?!0:(ut&4194048)===ut?yn===null:(ut&62914560)===ut||(ut&536870912)!==0?n===yn:!1}function zb(){var n=X.H;return X.H=eh,n===null?eh:n}function Bb(){var n=X.A;return X.A=u1,n}function Zf(){Cn=4,Vo||(ut&4194048)!==ut&&on.current!==null||(Oc=!0),(Uo&134217727)===0&&(ql&134217727)===0||Yt===null||qo(Yt,ut,zr,!1)}function Bp(n,r,a){var l=Nt;Nt|=2;var f=zb(),m=Bb();(Yt!==n||ut!==r)&&(Xf=null,jc(n,r)),r=!1;var w=Cn;e:do try{if(Vt!==0&&at!==null){var C=at,U=Ur;switch(Vt){case 8:zp(),w=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(r=!0);var Z=Vt;if(Vt=0,Ur=null,Pc(n,C,U,Z),a&&Oc){w=0;break e}break;default:Z=Vt,Vt=0,Ur=null,Pc(n,C,U,Z)}}d1(),w=Cn;break}catch(oe){Vb(n,oe)}while(!0);return r&&n.shellSuspendCounter++,Cs=Ma=null,Nt=l,X.H=f,X.A=m,at===null&&(Yt=null,ut=0,yc()),w}function d1(){for(;at!==null;)qb(at)}function m1(n,r){var a=Nt;Nt|=2;var l=zb(),f=Bb();Yt!==n||ut!==r?(Xf=null,Wf=Yn()+500,jc(n,r)):Oc=Kn(n,r);e:do try{if(Vt!==0&&at!==null){r=at;var m=Ur;t:switch(Vt){case 1:Vt=0,Ur=null,Pc(n,r,m,1);break;case 2:case 9:if(b(m)){Vt=0,Ur=null,Fb(r);break}r=function(){Vt!==2&&Vt!==9||Yt!==n||(Vt=7),sa(n)},m.then(r,r);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:b(m)?(Vt=0,Ur=null,Fb(r)):(Vt=0,Ur=null,Pc(n,r,m,7));break;case 5:var w=null;switch(at.tag){case 26:w=at.memoizedState;case 5:case 27:var C=at;if(w?xE(w):C.stateNode.complete){Vt=0,Ur=null;var U=C.sibling;if(U!==null)at=U;else{var Z=C.return;Z!==null?(at=Z,ed(Z)):at=null}break t}}Vt=0,Ur=null,Pc(n,r,m,5);break;case 6:Vt=0,Ur=null,Pc(n,r,m,6);break;case 8:zp(),Cn=6;break e;default:throw Error(s(462))}}p1();break}catch(oe){Vb(n,oe)}while(!0);return Cs=Ma=null,X.H=l,X.A=f,Nt=a,at!==null?0:(Yt=null,ut=0,yc(),Cn)}function p1(){for(;at!==null&&!yl();)qb(at)}function qb(n){var r=fb(n.alternate,n,Ya);n.memoizedProps=n.pendingProps,r===null?ed(n):at=r}function Fb(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=ab(a,r,r.pendingProps,r.type,void 0,ut);break;case 11:r=ab(a,r,r.pendingProps,r.type.render,r.ref,ut);break;case 5:Cc(r);default:mb(a,r),r=at=Df(r,Ya),r=fb(a,r,Ya)}n.memoizedProps=n.pendingProps,r===null?ed(n):at=r}function Pc(n,r,a,l){Cs=Ma=null,Cc(r),_e=null,Se=0;var f=r.return;try{if(i1(n,f,r,a,ut)){Cn=1,Bf(n,li(a,n.current)),at=null;return}}catch(m){if(f!==null)throw at=f,m;Cn=1,Bf(n,li(a,n.current)),at=null;return}r.flags&32768?(it||l===1?n=!0:Oc||(ut&536870912)!==0?n=!1:(Vo=n=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hb(r,n)):ed(r)}function ed(n){var r=n;do{if((r.flags&32768)!==0){Hb(r,Vo);return}n=r.return;var a=a1(r.alternate,r,Ya);if(a!==null){at=a;return}if(r=r.sibling,r!==null){at=r;return}at=r=n}while(r!==null);Cn===0&&(Cn=5)}function Hb(n,r){do{var a=o1(n.alternate,n);if(a!==null){a.flags&=32767,at=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){at=n;return}at=n=a}while(n!==null);Cn=6,at=null}function $b(n,r,a,l,f,m,w,C,U){n.cancelPendingCommit=null;do td();while(ei!==0);if((Nt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Pu,Cr(n,a,m,w,C,U),n===Yt&&(at=Yt=null,ut=0),Mc=r,Bo=n,Ka=a,Lp=m,Vp=f,Mb=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,_1(Gr,function(){return Wb(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,w=Nt,Nt|=4;try{l1(n,r,a)}finally{Nt=w,re.p=f,X.T=l}}ei=1,Gb(),Yb(),Kb()}}function Gb(){if(ei===1){ei=0;var n=Bo,r=Mc,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Nt;Nt|=4;try{Cb(r,n);var m=Zp,w=Iu(n.containerInfo),C=m.focusedElem,U=m.selectionRange;if(w!==C&&C&&C.ownerDocument&&Cu(C.ownerDocument.documentElement,C)){if(U!==null&&xu(C)){var Z=U.start,oe=U.end;if(oe===void 0&&(oe=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(oe,C.value.length);else{var ue=C.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),De=C.textContent.length,Be=Math.min(U.start,De),$t=U.end===void 0?Be:Math.min(U.end,De);!ie.extend&&Be>$t&&(w=$t,$t=Be,Be=w);var K=wf(C,Be),q=wf(C,$t);if(K&&q&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var J=ue.createRange();J.setStart(K.node,K.offset),ie.removeAllRanges(),Be>$t?(ie.addRange(J),ie.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),ie.addRange(J))}}}}for(ue=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var ce=ue[C];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}dd=!!Jp,Zp=Jp=null}finally{Nt=f,re.p=l,X.T=a}}n.current=r,ei=2}}function Yb(){if(ei===2){ei=0;var n=Bo,r=Mc,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Nt;Nt|=4;try{Eb(n,r.alternate,r)}finally{Nt=f,re.p=l,X.T=a}}ei=3}}function Kb(){if(ei===4||ei===3){ei=0,_a();var n=Bo,r=Mc,a=Ka,l=Mb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ei=5:(ei=0,Mc=Bo=null,Qb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(zo=null),qi(a),r=r.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(xn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=re.p,re.p=2,X.T=null;try{for(var m=n.onRecoverableError,w=0;w<l.length;w++){var C=l[w];m(C.value,{componentStack:C.stack})}}finally{X.T=r,re.p=f}}(Ka&3)!==0&&td(),sa(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Up?ch++:(ch=0,Up=n):ch=0,uh(0)}}function Qb(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,fr(r)))}function td(){return Gb(),Yb(),Kb(),Wb()}function Wb(){if(ei!==5)return!1;var n=Bo,r=Lp;Lp=0;var a=qi(Ka),l=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=Vp,Vp=null;var m=Bo,w=Ka;if(ei=0,Mc=Bo=null,Ka=0,(Nt&6)!==0)throw Error(s(331));var C=Nt;if(Nt|=4,Rb(m.current),xb(m,m.current,w,a),Nt=C,uh(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(xn,m)}catch{}return!0}finally{re.p=f,X.T=l,Qb(n,r)}}function Xb(n,r,a){r=li(a,r),r=yp(n.stateNode,r,2),n=nt(n,r,2),n!==null&&(Ar(n,2),sa(n))}function Ut(n,r,a){if(n.tag===3)Xb(n,n,a);else for(;r!==null;){if(r.tag===3){Xb(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zo===null||!zo.has(l))){n=li(a,n),a=J_(2),l=nt(r,a,2),l!==null&&(Z_(a,l,r,n),Ar(l,2),sa(l));break}}r=r.return}}function qp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new h1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Mp=!0,f.add(a),n=g1.bind(null,n,r,a),r.then(n,n))}function g1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Yt===n&&(ut&a)===a&&(Cn===4||Cn===3&&(ut&62914560)===ut&&300>Yn()-Qf?(Nt&2)===0&&jc(n,0):jp|=a,kc===ut&&(kc=0)),sa(n)}function Jb(n,r){r===0&&(r=mi()),n=vi(n,r),n!==null&&(Ar(n,r),sa(n))}function y1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Jb(n,a)}function v1(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Jb(n,a)}function _1(n,r){return mn(n,r)}var nd=null,Lc=null,Fp=!1,id=!1,Hp=!1,Fo=0;function sa(n){n!==Lc&&n.next===null&&(Lc===null?nd=Lc=n:Lc=Lc.next=n),id=!0,Fp||(Fp=!0,E1())}function uh(n,r){if(!Hp&&id){Hp=!0;do for(var a=!1,l=nd;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var w=l.suspendedLanes,C=l.pingedLanes;m=(1<<31-Wt(42|n)+1)-1,m&=f&~(w&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,nE(l,m))}else m=ut,m=zt(l,l===Yt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Kn(l,m)||(a=!0,nE(l,m));l=l.next}while(a);Hp=!1}}function b1(){Zb()}function Zb(){id=Fp=!1;var n=0;Fo!==0&&R1()&&(n=Fo);for(var r=Yn(),a=null,l=nd;l!==null;){var f=l.next,m=eE(l,r);m===0?(l.next=null,a===null?nd=f:a.next=f,f===null&&(Lc=a)):(a=l,(n!==0||(m&3)!==0)&&(id=!0)),l=f}ei!==0&&ei!==5||uh(n),Fo!==0&&(Fo=0)}function eE(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var w=31-Wt(m),C=1<<w,U=f[w];U===-1?((C&a)===0||(C&l)!==0)&&(f[w]=Lt(C,r)):U<=r&&(n.expiredLanes|=C),m&=~C}if(r=Yt,a=ut,a=zt(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&$r(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Kn(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&$r(l),qi(a)){case 2:case 8:a=Us;break;case 32:a=Gr;break;case 268435456:a=Tr;break;default:a=Gr}return l=tE.bind(null,n),a=mn(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&$r(l),n.callbackPriority=2,n.callbackNode=null,2}function tE(n,r){if(ei!==0&&ei!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(td()&&n.callbackNode!==a)return null;var l=ut;return l=zt(n,n===Yt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Pb(n,l,r),eE(n,Yn()),n.callbackNode!=null&&n.callbackNode===a?tE.bind(null,n):null)}function nE(n,r){if(td())return null;Pb(n,r,!0)}function E1(){k1(function(){(Nt&6)!==0?mn(Ii,b1):Zb()})}function $p(){if(Fo===0){var n=Oo;n===0&&(n=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Fo=n}return Fo}function iE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vo(""+n)}function rE(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function w1(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=iE((f[En]||null).action),w=l.submitter;w&&(r=(r=w[En]||null)?iE(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var C=new or("action","action",null,l,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fo!==0){var U=w?rE(f,w):new FormData(f);hp(a,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(C.preventDefault(),U=w?rE(f,w):new FormData(f),hp(a,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var Gp=0;Gp<ju.length;Gp++){var Yp=ju[Gp],T1=Yp.toLowerCase(),S1=Yp[0].toUpperCase()+Yp.slice(1);Vr(T1,"on"+S1)}Vr(ts,"onAnimationEnd"),Vr(ku,"onAnimationIteration"),Vr(Sf,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Af,"onTransitionRun"),Vr(Cf,"onTransitionStart"),Vr(If,"onTransitionCancel"),Vr(Mu,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function sE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var C=l[w],U=C.instance,Z=C.currentTarget;if(C=C.listener,U!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=Z;try{m(f)}catch(oe){xl(oe)}f.currentTarget=null,m=U}else for(w=0;w<l.length;w++){if(C=l[w],U=C.instance,Z=C.currentTarget,C=C.listener,U!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=Z;try{m(f)}catch(oe){xl(oe)}f.currentTarget=null,m=U}}}}function ot(n,r){var a=r[Qe];a===void 0&&(a=r[Qe]=new Set);var l=n+"__bubble";a.has(l)||(aE(r,n,2,!1),a.add(l))}function Kp(n,r,a){var l=0;r&&(l|=4),aE(a,n,l,r)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Qp(n){if(!n[rd]){n[rd]=!0,ho.forEach(function(a){a!=="selectionchange"&&(A1.has(a)||Kp(a,!1,n),Kp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[rd]||(r[rd]=!0,Kp("selectionchange",!1,r))}}function aE(n,r,a,l){switch(jE(r)){case 2:var f=Z1;break;case 8:f=eI;break;default:f=ug}a=f.bind(null,r,a,n),f=void 0,!xa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Wp(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var C=l.stateNode.containerInfo;if(C===f)break;if(w===4)for(w=l.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;C!==null;){if(w=Ft(C),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){l=m=w;continue e}C=C.parentNode}}l=l.return}ys(function(){var Z=m,oe=Fi(a),ue=[];e:{var ee=xf.get(n);if(ee!==void 0){var ie=or,De=n;switch(n){case"keypress":if(Xr(a)===0)break e;case"keydown":case"keyup":ie=Al;break;case"focusin":De="focus",ie=Gs;break;case"focusout":De="blur",ie=Gs;break;case"beforeblur":case"afterblur":ie=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_;break;case ts:case ku:case Sf:ie=bo;break;case Mu:ie=N;break;case"scroll":case"scrollend":ie=Es;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=jr;break;case"toggle":case"beforetoggle":ie=We}var Be=(r&4)!==0,$t=!Be&&(n==="scroll"||n==="scrollend"),K=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var q=Z,J;q!==null;){var ce=q;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||K===null||(ce=rr(q,K),ce!=null&&Be.push(fh(q,ce,J))),$t)break;q=q.return}0<Be.length&&(ee=new ie(ee,De,null,a,oe),ue.push({event:ee,listeners:Be}))}}if((r&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",ee&&a!==Fs&&(De=a.relatedTarget||a.fromElement)&&(Ft(De)||De[Di]))break e;if((ie||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(De=a.relatedTarget||a.toElement,ie=Z,De=De?Ft(De):null,De!==null&&($t=c(De),Be=De.tag,De!==$t||Be!==5&&Be!==27&&Be!==6)&&(De=null)):(ie=null,De=Z),ie!==De)){if(Be=El,ce="onMouseLeave",K="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Be=jr,ce="onPointerLeave",K="onPointerEnter",q="pointer"),$t=ie==null?ee:Ln(ie),J=De==null?ee:Ln(De),ee=new Be(ce,q+"leave",ie,a,oe),ee.target=$t,ee.relatedTarget=J,ce=null,Ft(oe)===Z&&(Be=new Be(K,q+"enter",De,a,oe),Be.target=J,Be.relatedTarget=$t,ce=Be),$t=ce,ie&&De)t:{for(Be=C1,K=ie,q=De,J=0,ce=K;ce;ce=Be(ce))J++;ce=0;for(var Me=q;Me;Me=Be(Me))ce++;for(;0<J-ce;)K=Be(K),J--;for(;0<ce-J;)q=Be(q),ce--;for(;J--;){if(K===q||q!==null&&K===q.alternate){Be=K;break t}K=Be(K),q=Be(q)}Be=null}else Be=null;ie!==null&&oE(ue,ee,ie,Be,!1),De!==null&&$t!==null&&oE(ue,$t,De,Be,!0)}}e:{if(ee=Z?Ln(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Ct=wu;else if(cr(ee))if(Cl)Ct=gc;else{Ct=vf;var Ne=yf}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&qs(Z.elementType)&&(Ct=wu):Ct=_f;if(Ct&&(Ct=Ct(n,Z))){Eu(ue,Ct,a,oe);break e}Ne&&Ne(n,ee,Z),n==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ca(ee,"number",ee.value)}switch(Ne=Z?Ln(Z):window,n){case"focusin":(cr(Ne)||Ne.contentEditable==="true")&&(Ao=Ne,Du=Z,Il=null);break;case"focusout":Il=Du=Ao=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,Ru(ue,a,oe);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":Ru(ue,a,oe)}var tt;if(st)e:{switch(n){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else wo?Oa(n,a)&&(ht="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(Hi&&a.locale!=="ko"&&(wo||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&wo&&(tt=bl()):(sr=oe,Hs="value"in sr?sr.value:sr.textContent,wo=!0)),Ne=sd(Z,ht),0<Ne.length&&(ht=new Mr(ht,n,null,a,oe),ue.push({event:ht,listeners:Ne}),tt?ht.data=tt:(tt=Eo(a),tt!==null&&(ht.data=tt)))),(tt=lr?Wm(n,a):Xm(n,a))&&(ht=sd(Z,"onBeforeInput"),0<ht.length&&(Ne=new Mr("onBeforeInput","beforeinput",null,a,oe),ue.push({event:Ne,listeners:ht}),Ne.data=tt)),w1(ue,n,Z,a,oe)}sE(ue,r)})}function fh(n,r,a){return{instance:n,listener:r,currentTarget:a}}function sd(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=rr(n,a),f!=null&&l.unshift(fh(n,f,m)),f=rr(n,r),f!=null&&l.push(fh(n,f,m))),n.tag===3)return l;n=n.return}return[]}function C1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function oE(n,r,a,l,f){for(var m=r._reactName,w=[];a!==null&&a!==l;){var C=a,U=C.alternate,Z=C.stateNode;if(C=C.tag,U!==null&&U===l)break;C!==5&&C!==26&&C!==27||Z===null||(U=Z,f?(Z=rr(a,m),Z!=null&&w.unshift(fh(a,Z,U))):f||(Z=rr(a,m),Z!=null&&w.push(fh(a,Z,U)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var I1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function lE(n){return(typeof n=="string"?n:""+n).replace(I1,`
`).replace(x1,"")}function cE(n,r){return r=lE(r),lE(n)===r}function Ht(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(n,""+l);break;case"className":Ni(n,"class",l);break;case"tabIndex":Ni(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(n,a,l);break;case"style":Wr(n,l,m);break;case"data":if(r!=="object"){Ni(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=vo(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ht(n,r,"name",f.name,f,null),Ht(n,r,"formEncType",f.formEncType,f,null),Ht(n,r,"formMethod",f.formMethod,f,null),Ht(n,r,"formTarget",f.formTarget,f,null)):(Ht(n,r,"encType",f.encType,f,null),Ht(n,r,"method",f.method,f,null),Ht(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=vo(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Vn);break;case"onScroll":l!=null&&ot("scroll",n);break;case"onScrollEnd":l!=null&&ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=vo(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ot("beforetoggle",n),ot("toggle",n),Aa(n,"popover",l);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_l.get(a)||a,Aa(n,a,l))}}function Xp(n,r,a,l,f,m){switch(a){case"style":Wr(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?On(n,l):(typeof l=="number"||typeof l=="bigint")&&On(n,""+l);break;case"onScroll":l!=null&&ot("scroll",n);break;case"onScrollEnd":l!=null&&ot("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[En]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Aa(n,a,l)}}}function bi(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",n),ot("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(n,r,m,w,a,null)}}f&&Ht(n,r,"srcSet",a.srcSet,a,null),l&&Ht(n,r,"src",a.src,a,null);return;case"input":ot("invalid",n);var C=m=w=f=null,U=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var oe=a[l];if(oe!=null)switch(l){case"name":f=oe;break;case"type":w=oe;break;case"checked":U=oe;break;case"defaultChecked":Z=oe;break;case"value":m=oe;break;case"defaultValue":C=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:Ht(n,r,l,oe,a,null)}}po(n,m,C,U,Z,w,f,!1);return;case"select":ot("invalid",n),l=w=m=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":w=C;break;case"multiple":l=C;default:Ht(n,r,f,C,a,null)}r=m,a=w,n.multiple=!!l,r!=null?Xn(n,!!l,r,!1):a!=null&&Xn(n,!!l,a,!0);return;case"textarea":ot("invalid",n),m=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(C=a[w],C!=null))switch(w){case"value":l=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ht(n,r,w,C,a,null)}Dr(n,l,f,m);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(n,r,U,l,a,null)}return;case"dialog":ot("beforetoggle",n),ot("toggle",n),ot("cancel",n),ot("close",n);break;case"iframe":case"object":ot("load",n);break;case"video":case"audio":for(l=0;l<hh.length;l++)ot(hh[l],n);break;case"image":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"embed":case"source":case"link":ot("error",n),ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(n,r,Z,l,a,null)}return;default:if(qs(r)){for(oe in a)a.hasOwnProperty(oe)&&(l=a[oe],l!==void 0&&Xp(n,r,oe,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ht(n,r,C,l,a,null))}function D1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,w=null,C=null,U=null,Z=null,oe=null;for(ie in a){var ue=a[ie];if(a.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=ue;default:l.hasOwnProperty(ie)||Ht(n,r,ie,null,l,ue)}}for(var ee in l){var ie=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(ie!=null||ue!=null))switch(ee){case"type":m=ie;break;case"name":f=ie;break;case"checked":Z=ie;break;case"defaultChecked":oe=ie;break;case"value":w=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==ue&&Ht(n,r,ee,ie,l,ue)}}Wn(n,w,C,U,Z,oe,m,f);return;case"select":ie=w=C=ee=null;for(m in a)if(U=a[m],a.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":ie=U;default:l.hasOwnProperty(m)||Ht(n,r,m,null,l,U)}for(f in l)if(m=l[f],U=a[f],l.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":ee=m;break;case"defaultValue":C=m;break;case"multiple":w=m;default:m!==U&&Ht(n,r,f,m,l,U)}r=C,a=w,l=ie,ee!=null?Xn(n,!!a,ee,!1):!!l!=!!a&&(r!=null?Xn(n,!!a,r,!0):Xn(n,!!a,a?[]:"",!1));return;case"textarea":ie=ee=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(n,r,C,null,l,f)}for(w in l)if(f=l[w],m=a[w],l.hasOwnProperty(w)&&(f!=null||m!=null))switch(w){case"value":ee=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ht(n,r,w,f,l,m)}Qr(n,ee,ie);return;case"option":for(var De in a)if(ee=a[De],a.hasOwnProperty(De)&&ee!=null&&!l.hasOwnProperty(De))switch(De){case"selected":n.selected=!1;break;default:Ht(n,r,De,null,l,ee)}for(U in l)if(ee=l[U],ie=a[U],l.hasOwnProperty(U)&&ee!==ie&&(ee!=null||ie!=null))switch(U){case"selected":n.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ht(n,r,U,ee,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)ee=a[Be],a.hasOwnProperty(Be)&&ee!=null&&!l.hasOwnProperty(Be)&&Ht(n,r,Be,null,l,ee);for(Z in l)if(ee=l[Z],ie=a[Z],l.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:Ht(n,r,Z,ee,l,ie)}return;default:if(qs(r)){for(var $t in a)ee=a[$t],a.hasOwnProperty($t)&&ee!==void 0&&!l.hasOwnProperty($t)&&Xp(n,r,$t,void 0,l,ee);for(oe in l)ee=l[oe],ie=a[oe],!l.hasOwnProperty(oe)||ee===ie||ee===void 0&&ie===void 0||Xp(n,r,oe,ee,l,ie);return}}for(var K in a)ee=a[K],a.hasOwnProperty(K)&&ee!=null&&!l.hasOwnProperty(K)&&Ht(n,r,K,null,l,ee);for(ue in l)ee=l[ue],ie=a[ue],!l.hasOwnProperty(ue)||ee===ie||ee==null&&ie==null||Ht(n,r,ue,ee,l,ie)}function uE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,w=f.initiatorType,C=f.duration;if(m&&C&&uE(w)){for(w=0,C=f.responseEnd,l+=1;l<a.length;l++){var U=a[l],Z=U.startTime;if(Z>C)break;var oe=U.transferSize,ue=U.initiatorType;oe&&uE(ue)&&(U=U.responseEnd,w+=oe*(U<C?1:(C-Z)/(U-Z)))}if(--l,r+=8*(m+w)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Jp=null,Zp=null;function ad(n){return n.nodeType===9?n:n.ownerDocument}function hE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function eg(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tg=null;function R1(){var n=window.event;return n&&n.type==="popstate"?n===tg?!1:(tg=n,!0):(tg=null,!1)}var dE=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,mE=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof mE<"u"?function(n){return mE.resolve(null).then(n).catch(M1)}:dE;function M1(n){setTimeout(function(){throw n})}function Ho(n){return n==="head"}function pE(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Bc(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")dh(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,dh(a);for(var m=a.firstChild;m;){var w=m.nextSibling,C=m.nodeName;m[ct]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=w}}else a==="body"&&dh(n.ownerDocument.body);a=f}while(a);Bc(r)}function gE(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function ng(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ng(a),sn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function j1(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ct])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=as(n.nextSibling),n===null)break}return null}function P1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=as(n.nextSibling),n===null))return null;return n}function yE(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=as(n.nextSibling),n===null))return null;return n}function ig(n){return n.data==="$?"||n.data==="$~"}function rg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function L1(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function as(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var sg=null;function vE(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return as(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function _E(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function bE(n,r,a){switch(r=ad(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function dh(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);sn(n)}var os=new Map,EE=new Set;function od(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qa=re.d;re.d={f:V1,r:U1,D:z1,C:B1,L:q1,m:F1,X:$1,S:H1,M:G1};function V1(){var n=Qa.f(),r=Jf();return n||r}function U1(n){var r=Qn(n);r!==null&&r.tag===5&&r.type==="form"?V_(r):Qa.r(n)}var Vc=typeof document>"u"?null:document;function wE(n,r,a){var l=Vc;if(l&&typeof r=="string"&&r){var f=wn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),EE.has(f)||(EE.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),bi(r,"link",n),Gt(r),l.head.appendChild(r)))}}function z1(n){Qa.D(n),wE("dns-prefetch",n,null)}function B1(n,r){Qa.C(n,r),wE("preconnect",n,r)}function q1(n,r,a){Qa.L(n,r,a);var l=Vc;if(l&&n&&r){var f='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+wn(a.imageSizes)+'"]')):f+='[href="'+wn(n)+'"]';var m=f;switch(r){case"style":m=Uc(n);break;case"script":m=zc(n)}os.has(m)||(n=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),os.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(mh(m))||r==="script"&&l.querySelector(ph(m))||(r=l.createElement("link"),bi(r,"link",n),Gt(r),l.head.appendChild(r)))}}function F1(n,r){Qa.m(n,r);var a=Vc;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zc(n)}if(!os.has(m)&&(n=S({rel:"modulepreload",href:n},r),os.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ph(m)))return}l=a.createElement("link"),bi(l,"link",n),Gt(l),a.head.appendChild(l)}}}function H1(n,r,a){Qa.S(n,r,a);var l=Vc;if(l&&n){var f=ri(l).hoistableStyles,m=Uc(n);r=r||"default";var w=f.get(m);if(!w){var C={loading:0,preload:null};if(w=l.querySelector(mh(m)))C.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},a),(a=os.get(m))&&ag(n,a);var U=w=l.createElement("link");Gt(U),bi(U,"link",n),U._p=new Promise(function(Z,oe){U.onload=Z,U.onerror=oe}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ld(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:C},f.set(m,w)}}}function $1(n,r){Qa.X(n,r);var a=Vc;if(a&&n){var l=ri(a).hoistableScripts,f=zc(n),m=l.get(f);m||(m=a.querySelector(ph(f)),m||(n=S({src:n,async:!0},r),(r=os.get(f))&&og(n,r),m=a.createElement("script"),Gt(m),bi(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function G1(n,r){Qa.M(n,r);var a=Vc;if(a&&n){var l=ri(a).hoistableScripts,f=zc(n),m=l.get(f);m||(m=a.querySelector(ph(f)),m||(n=S({src:n,async:!0,type:"module"},r),(r=os.get(f))&&og(n,r),m=a.createElement("script"),Gt(m),bi(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function TE(n,r,a,l){var f=(f=Le.current)?od(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Uc(a.href),a=ri(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Uc(a.href);var m=ri(f).hoistableStyles,w=m.get(n);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,w),(m=f.querySelector(mh(n)))&&!m._p&&(w.instance=m,w.state.loading=5),os.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},os.set(n,a),m||Y1(f,n,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zc(a),a=ri(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Uc(n){return'href="'+wn(n)+'"'}function mh(n){return'link[rel="stylesheet"]['+n+"]"}function SE(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function Y1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),bi(r,"link",a),Gt(r),n.head.appendChild(r))}function zc(n){return'[src="'+wn(n)+'"]'}function ph(n){return"script[async]"+n}function AE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+wn(a.href)+'"]');if(l)return r.instance=l,Gt(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Gt(l),bi(l,"style",f),ld(l,a.precedence,n),r.instance=l;case"stylesheet":f=Uc(a.href);var m=n.querySelector(mh(f));if(m)return r.state.loading|=4,r.instance=m,Gt(m),m;l=SE(a),(f=os.get(f))&&ag(l,f),m=(n.ownerDocument||n).createElement("link"),Gt(m);var w=m;return w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),bi(m,"link",l),r.state.loading|=4,ld(m,a.precedence,n),r.instance=m;case"script":return m=zc(a.src),(f=n.querySelector(ph(m)))?(r.instance=f,Gt(f),f):(l=a,(f=os.get(m))&&(l=S({},a),og(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Gt(f),bi(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ld(l,a.precedence,n));return r.instance}function ld(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,w=0;w<l.length;w++){var C=l[w];if(C.dataset.precedence===r)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function ag(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function og(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var cd=null;function CE(n,r,a){if(cd===null){var l=new Map,f=cd=new Map;f.set(a,l)}else f=cd,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[ct]||m[Bt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=n+w;var C=l.get(w);C?C.push(m):l.set(w,[m])}}return l}function IE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function K1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function xE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Q1(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Uc(l.href),m=r.querySelector(mh(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=ud.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=m,Gt(m);return}m=r.ownerDocument||r,l=SE(l),(f=os.get(f))&&ag(l,f),m=m.createElement("link"),Gt(m);var w=m;w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),bi(m,"link",l),a.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=ud.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var lg=0;function W1(n,r){return n.stylesheets&&n.count===0&&fd(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&fd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&lg===0&&(lg=62500*N1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>lg?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hd=null;function fd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hd=new Map,r.forEach(X1,n),hd=null,ud.call(n))}function X1(n,r){if(!(r.state.loading&4)){var a=hd.get(n);if(a)var l=a.get(null);else{a=new Map,hd.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var w=f[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=r.instance,w=f.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,f),a.set(w,f),this.count++,l=ud.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var gh={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function J1(n,r,a,l,f,m,w,C,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function DE(n,r,a,l,f,m,w,C,U,Z,oe,ue){return n=new J1(n,r,a,w,U,Z,oe,ue,C),r=1,m===!0&&(r|=24),m=Yi(3,null,null,r),n.current=m,m.stateNode=n,r=Is(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},At(m),n}function NE(n){return n?(n=Io,n):Io}function RE(n,r,a,l,f,m){f=NE(f),l.context===null?l.context=f:l.pendingContext=f,l=Ge(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=nt(n,l,r),a!==null&&(yr(a,n,r),Ke(a,n,r))}function OE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function cg(n,r){OE(n,r),(n=n.alternate)&&OE(n,r)}function kE(n){if(n.tag===13||n.tag===31){var r=vi(n,67108864);r!==null&&yr(r,n,67108864),cg(n,67108864)}}function ME(n){if(n.tag===13||n.tag===31){var r=Br();r=Ir(r);var a=vi(n,r);a!==null&&yr(a,n,r),cg(n,r)}}var dd=!0;function Z1(n,r,a,l){var f=X.T;X.T=null;var m=re.p;try{re.p=2,ug(n,r,a,l)}finally{re.p=m,X.T=f}}function eI(n,r,a,l){var f=X.T;X.T=null;var m=re.p;try{re.p=8,ug(n,r,a,l)}finally{re.p=m,X.T=f}}function ug(n,r,a,l){if(dd){var f=hg(l);if(f===null)Wp(n,r,l,md,a),PE(n,l);else if(nI(f,n,r,a,l))l.stopPropagation();else if(PE(n,l),r&4&&-1<tI.indexOf(n)){for(;f!==null;){var m=Qn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Rt(m.pendingLanes);if(w!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var U=1<<31-Wt(w);C.entanglements[1]|=U,w&=~U}sa(m),(Nt&6)===0&&(Wf=Yn()+500,uh(0))}}break;case 31:case 13:C=vi(m,2),C!==null&&yr(C,m,2),Jf(),cg(m,2)}if(m=hg(l),m===null&&Wp(n,r,l,md,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Wp(n,r,l,null,a)}}function hg(n){return n=Fi(n),fg(n)}var md=null;function fg(n){if(md=null,n=Ft(n),n!==null){var r=c(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=u(r),n!==null)return n;n=null}else if(a===31){if(n=p(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return md=n,null}function jE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zi()){case Ii:return 2;case Us:return 8;case Gr:case ba:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var dg=!1,$o=null,Go=null,Yo=null,yh=new Map,vh=new Map,Ko=[],tI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PE(n,r){switch(n){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":yh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(r.pointerId)}}function _h(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Qn(r),r!==null&&kE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function nI(n,r,a,l,f){switch(r){case"focusin":return $o=_h($o,n,r,a,l,f),!0;case"dragenter":return Go=_h(Go,n,r,a,l,f),!0;case"mouseover":return Yo=_h(Yo,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return yh.set(m,_h(yh.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,vh.set(m,_h(vh.get(m)||null,n,r,a,l,f)),!0}return!1}function LE(n){var r=Ft(n.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){n.blockedOn=r,pi(n.priority,function(){ME(a)});return}}else if(r===31){if(r=p(a),r!==null){n.blockedOn=r,pi(n.priority,function(){ME(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=hg(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Fs=l,a.target.dispatchEvent(l),Fs=null}else return r=Qn(a),r!==null&&kE(r),n.blockedOn=a,!1;r.shift()}return!0}function VE(n,r,a){pd(n)&&a.delete(r)}function iI(){dg=!1,$o!==null&&pd($o)&&($o=null),Go!==null&&pd(Go)&&(Go=null),Yo!==null&&pd(Yo)&&(Yo=null),yh.forEach(VE),vh.forEach(VE)}function gd(n,r){n.blockedOn===r&&(n.blockedOn=null,dg||(dg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iI)))}var yd=null;function UE(n){yd!==n&&(yd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yd===n&&(yd=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(fg(l||a)===null)continue;break}var m=Qn(a);m!==null&&(n.splice(r,3),r-=3,hp(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Bc(n){function r(U){return gd(U,n)}$o!==null&&gd($o,n),Go!==null&&gd(Go,n),Yo!==null&&gd(Yo,n),yh.forEach(r),vh.forEach(r);for(var a=0;a<Ko.length;a++){var l=Ko[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ko.length&&(a=Ko[0],a.blockedOn===null);)LE(a),a.blockedOn===null&&Ko.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=f[En]||null;if(typeof m=="function")w||UE(a);else if(w){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,w=m[En]||null)C=w.formAction;else if(fg(f)!==null)continue}else C=w.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),UE(a)}}}function zE(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function mg(n){this._internalRoot=n}vd.prototype.render=mg.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Br();RE(a,l,n,r,null,null)},vd.prototype.unmount=mg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;RE(n.current,2,null,n,null,null),Jf(),r[Di]=null}};function vd(n){this._internalRoot=n}vd.prototype.unstable_scheduleHydration=function(n){if(n){var r=zs();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Ko.length&&r!==0&&r<Ko[a].priority;a++);Ko.splice(a,0,n),a===0&&LE(n)}};var BE=e.version;if(BE!=="19.2.0")throw Error(s(527,BE,"19.2.0"));re.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var rI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{xn=_d.inject(rI),_n=_d}catch{}}return Eh.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=K_,m=Q_,w=W_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=DE(n,1,!1,null,null,a,l,null,f,m,w,zE),n[Di]=r.current,Qp(n),new mg(r)},Eh.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=K_,w=Q_,C=W_,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),r=DE(n,1,!0,r,a??null,l,f,U,m,w,C,zE),r.context=NE(null),a=r.current,l=Br(),l=Ir(l),f=Ge(l),f.callback=null,nt(a,f,l),a=l,r.current.lanes=a,Ar(r,a),sa(r),n[Di]=r.current,Qp(n),new vd(r)},Eh.version="19.2.0",Eh}var XE;function pI(){if(XE)return yg.exports;XE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),yg.exports=mI(),yg.exports}var gI=pI();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function yI(i={}){function e(s,o){let{pathname:c,search:u,hash:p}=s.location;return Qg("",{pathname:c,search:u,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ph(o)}return _I(e,t,null,i)}function fn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ks(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substring(2,10)}function ZE(i,e){return{usr:i.state,key:i.key,idx:e}}function Qg(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?lu(e):e,state:t,key:e&&e.key||s||vI()}}function Ph({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function lu(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function _I(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,p="POP",y=null,g=E();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function E(){return(u.state||{idx:null}).idx}function S(){p="POP";let z=E(),B=z==null?null:z-g;g=z,y&&y({action:p,location:W.location,delta:B})}function I(z,B){p="PUSH";let $=Qg(W.location,z,B);g=E()+1;let te=ZE($,g),ye=W.createHref($);try{u.pushState(te,"",ye)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ye)}c&&y&&y({action:p,location:W.location,delta:1})}function M(z,B){p="REPLACE";let $=Qg(W.location,z,B);g=E();let te=ZE($,g),ye=W.createHref($);u.replaceState(te,"",ye),c&&y&&y({action:p,location:W.location,delta:0})}function Y(z){return bI(z)}let W={get action(){return p},get location(){return i(o,u)},listen(z){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(JE,S),y=z,()=>{o.removeEventListener(JE,S),y=null}},createHref(z){return e(o,z)},createURL:Y,encodeLocation(z){let B=Y(z);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:I,replace:M,go(z){return u.go(z)}};return W}function bI(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),fn(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ph(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function d0(i,e,t="/"){return EI(i,e,t,!1)}function EI(i,e,t,s){let o=typeof e=="string"?lu(e):e,c=no(o.pathname||"/",t);if(c==null)return null;let u=m0(i);wI(u);let p=null;for(let y=0;p==null&&y<u.length;++y){let g=kI(c);p=RI(u[y],g,s)}return p}function m0(i,e=[],t=[],s="",o=!1){let c=(u,p,y=o,g)=>{let E={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;fn(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Za([s,E.relativePath]),I=t.concat(E);u.children&&u.children.length>0&&(fn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),m0(u.children,e,I,S,y)),!(u.path==null&&!u.index)&&e.push({path:S,score:DI(S,u.index),routesMeta:I})};return i.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))c(u,p);else for(let y of p0(u.path))c(u,p,!0,y)}),e}function p0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=p0(s.join("/")),p=[];return p.push(...u.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...u),p.map(y=>i.startsWith("/")&&y===""?"/":y)}function wI(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:NI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var TI=/^:[\w-]+$/,SI=3,AI=2,CI=1,II=10,xI=-2,ew=i=>i==="*";function DI(i,e){let t=i.split("/"),s=t.length;return t.some(ew)&&(s+=xI),e&&(s+=AI),t.filter(o=>!ew(o)).reduce((o,c)=>o+(TI.test(c)?SI:c===""?CI:II),s)}function NI(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function RI(i,e,t=!1){let{routesMeta:s}=i,o={},c="/",u=[];for(let p=0;p<s.length;++p){let y=s[p],g=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=Fd({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),I=y.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=Fd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:Za([c,S.pathname]),pathnameBase:LI(Za([c,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(c=Za([c,S.pathnameBase]))}return u}function Fd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=OI(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},I)=>{if(E==="*"){let Y=p[I]||"";u=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const M=p[I];return S&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:i}}function OI(i,e=!1,t=!0){ks(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kI(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ks(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function no(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function MI(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?lu(i):i;return{pathname:t?t.startsWith("/")?t:jI(t,e):e,search:VI(s),hash:UI(o)}}function jI(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Eg(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PI(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zy(i){let e=PI(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function By(i,e,t,s=!1){let o;typeof i=="string"?o=lu(i):(o={...i},fn(!o.pathname||!o.pathname.includes("?"),Eg("?","pathname","search",o)),fn(!o.pathname||!o.pathname.includes("#"),Eg("#","pathname","hash",o)),fn(!o.search||!o.search.includes("#"),Eg("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,p;if(u==null)p=t;else{let S=e.length-1;if(!s&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}p=S>=0?e[S]:"/"}let y=MI(o,p),g=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Za=i=>i.join("/").replace(/\/\/+/g,"/"),LI=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,UI=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function zI(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var g0=["POST","PUT","PATCH","DELETE"];new Set(g0);var BI=["GET",...g0];new Set(BI);var cu=V.createContext(null);cu.displayName="DataRouter";var dm=V.createContext(null);dm.displayName="DataRouterState";V.createContext(!1);var y0=V.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var qI=V.createContext(new Map);qI.displayName="Fetchers";var FI=V.createContext(null);FI.displayName="Await";var Ls=V.createContext(null);Ls.displayName="Navigation";var Xh=V.createContext(null);Xh.displayName="Location";var ds=V.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var qy=V.createContext(null);qy.displayName="RouteError";function HI(i,{relative:e}={}){fn(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=V.useContext(Ls),{hash:o,pathname:c,search:u}=Jh(i,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:Za([t,c])),s.createHref({pathname:p,search:u,hash:o})}function uu(){return V.useContext(Xh)!=null}function oo(){return fn(uu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Xh).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _0(i){V.useContext(Ls).static||V.useLayoutEffect(i)}function nc(){let{isDataRoute:i}=V.useContext(ds);return i?sx():$I()}function $I(){fn(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(cu),{basename:e,navigator:t}=V.useContext(Ls),{matches:s}=V.useContext(ds),{pathname:o}=oo(),c=JSON.stringify(zy(s)),u=V.useRef(!1);return _0(()=>{u.current=!0}),V.useCallback((y,g={})=>{if(ks(u.current,v0),!u.current)return;if(typeof y=="number"){t.go(y);return}let E=By(y,JSON.parse(c),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Za([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,c,o,i])}var GI=V.createContext(null);function YI(i){let e=V.useContext(ds).outlet;return V.useMemo(()=>e&&V.createElement(GI.Provider,{value:i},e),[e,i])}function Fy(){let{matches:i}=V.useContext(ds),e=i[i.length-1];return e?e.params:{}}function Jh(i,{relative:e}={}){let{matches:t}=V.useContext(ds),{pathname:s}=oo(),o=JSON.stringify(zy(t));return V.useMemo(()=>By(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function KI(i,e){return b0(i,e)}function b0(i,e,t,s,o){fn(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Ls),{matches:u}=V.useContext(ds),p=u[u.length-1],y=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let $=S&&S.path||"";E0(g,!S||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let I=oo(),M;if(e){let $=typeof e=="string"?lu(e):e;fn(E==="/"||$.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),M=$}else M=I;let Y=M.pathname||"/",W=Y;if(E!=="/"){let $=E.replace(/^\//,"").split("/");W="/"+Y.replace(/^\//,"").split("/").slice($.length).join("/")}let z=d0(i,{pathname:W});ks(S||z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ks(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=ZI(z&&z.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:Za([E,c.encodeLocation?c.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:Za([E,c.encodeLocation?c.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,t,s,o);return e&&B?V.createElement(Xh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},B):B}function QI(){let i=rx(),e=zI(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,u)}var WI=V.createElement(QI,null),XI=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?V.createElement(ds.Provider,{value:this.props.routeContext},V.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JI({routeContext:i,match:e,children:t}){let s=V.useContext(cu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ds.Provider,{value:i},t)}function ZI(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let c=i,u=t?.errors;if(u!=null){let g=c.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);fn(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let p=!1,y=-1;if(t)for(let g=0;g<c.length;g++){let E=c[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=g),E.route.id){let{loaderData:S,errors:I}=t,M=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||M){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((g,E,S)=>{let I,M=!1,Y=null,W=null;t&&(I=u&&E.route.id?u[E.route.id]:void 0,Y=E.route.errorElement||WI,p&&(y<0&&S===0?(E0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,W=null):y===S&&(M=!0,W=E.route.hydrateFallbackElement||null)));let z=e.concat(c.slice(0,S+1)),B=()=>{let $;return I?$=Y:M?$=W:E.route.Component?$=V.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=g,V.createElement(JI,{match:E,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:$})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?V.createElement(XI,{location:t.location,revalidation:t.revalidation,component:Y,error:I,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):B()},null)}function Hy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(i){let e=V.useContext(cu);return fn(e,Hy(i)),e}function tx(i){let e=V.useContext(dm);return fn(e,Hy(i)),e}function nx(i){let e=V.useContext(ds);return fn(e,Hy(i)),e}function $y(i){let e=nx(i),t=e.matches[e.matches.length-1];return fn(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function ix(){return $y("useRouteId")}function rx(){let i=V.useContext(qy),e=tx("useRouteError"),t=$y("useRouteError");return i!==void 0?i:e.errors?.[t]}function sx(){let{router:i}=ex("useNavigate"),e=$y("useNavigate"),t=V.useRef(!1);return _0(()=>{t.current=!0}),V.useCallback(async(o,c={})=>{ks(t.current,v0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var tw={};function E0(i,e,t){!e&&!tw[i]&&(tw[i]=!0,ks(!1,t))}V.memo(ax);function ax({routes:i,future:e,state:t,unstable_onError:s}){return b0(i,void 0,t,s,e)}function nw({to:i,replace:e,state:t,relative:s}){fn(uu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Ls);ks(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(ds),{pathname:u}=oo(),p=nc(),y=By(i,zy(c),u,s==="path"),g=JSON.stringify(y);return V.useEffect(()=>{p(JSON.parse(g),{replace:e,state:t,relative:s})},[p,g,s,e,t]),null}function ox(i){return YI(i.context)}function ti(i){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lx({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){fn(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=lu(t));let{pathname:y="/",search:g="",hash:E="",state:S=null,key:I="default"}=t,M=V.useMemo(()=>{let Y=no(y,u);return Y==null?null:{location:{pathname:Y,search:g,hash:E,state:S,key:I},navigationType:s}},[u,y,g,E,S,I,s]);return ks(M!=null,`<Router basename="${u}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:V.createElement(Ls.Provider,{value:p},V.createElement(Xh.Provider,{children:e,value:M}))}function cx({children:i,location:e}){return KI(Wg(i),e)}function Wg(i,e=[]){let t=[];return V.Children.forEach(i,(s,o)=>{if(!V.isValidElement(s))return;let c=[...e,o];if(s.type===V.Fragment){t.push.apply(t,Wg(s.props.children,c));return}fn(s.type===ti,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Wg(s.props.children,c)),t.push(u)}),t}var Dd="get",Nd="application/x-www-form-urlencoded";function mm(i){return i!=null&&typeof i.tagName=="string"}function ux(i){return mm(i)&&i.tagName.toLowerCase()==="button"}function hx(i){return mm(i)&&i.tagName.toLowerCase()==="form"}function fx(i){return mm(i)&&i.tagName.toLowerCase()==="input"}function dx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mx(i,e){return i.button===0&&(!e||e==="_self")&&!dx(i)}var bd=null;function px(){if(bd===null)try{new FormData(document.createElement("form"),0),bd=!1}catch{bd=!0}return bd}var gx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(i){return i!=null&&!gx.has(i)?(ks(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):i}function yx(i,e){let t,s,o,c,u;if(hx(i)){let p=i.getAttribute("action");s=p?no(p,e):null,t=i.getAttribute("method")||Dd,o=wg(i.getAttribute("enctype"))||Nd,c=new FormData(i)}else if(ux(i)||fx(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||p.getAttribute("action");if(s=y?no(y,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||Dd,o=wg(i.getAttribute("formenctype"))||wg(p.getAttribute("enctype"))||Nd,c=new FormData(p,i),!px()){let{name:g,type:E,value:S}=i;if(E==="image"){let I=g?`${g}.`:"";c.append(`${I}x`,"0"),c.append(`${I}y`,"0")}else g&&c.append(g,S)}}else{if(mm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,s=null,o=Nd,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gy(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vx(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&no(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function _x(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ex(i,e,t){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await _x(c,t);return u.links?u.links():[]}return[]}));return Ax(s.flat(1).filter(bx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function iw(i,e,t,s,o,c){let u=(y,g)=>t[g]?y.route.id!==t[g].route.id:!0,p=(y,g)=>t[g].pathname!==y.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,g)=>u(y,g)||p(y,g)):c==="data"?e.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(u(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function wx(i,e,{includeHydrateFallback:t}={}){return Tx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Tx(i){return[...new Set(i)]}function Sx(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function Ax(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(Sx(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function w0(){let i=V.useContext(cu);return Gy(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Cx(){let i=V.useContext(dm);return Gy(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yy=V.createContext(void 0);Yy.displayName="FrameworkContext";function T0(){let i=V.useContext(Yy);return Gy(i,"You must render this element inside a <HydratedRouter> element"),i}function Ix(i,e){let t=V.useContext(Yy),[s,o]=V.useState(!1),[c,u]=V.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,I=V.useRef(null);V.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let W=B=>{B.forEach($=>{u($.isIntersecting)})},z=new IntersectionObserver(W,{threshold:.5});return I.current&&z.observe(I.current),()=>{z.disconnect()}}},[i]),V.useEffect(()=>{if(s){let W=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(W)}}},[s]);let M=()=>{o(!0)},Y=()=>{o(!1),u(!1)};return t?i!=="intent"?[c,I,{}]:[c,I,{onFocus:wh(p,M),onBlur:wh(y,Y),onMouseEnter:wh(g,M),onMouseLeave:wh(E,Y),onTouchStart:wh(S,M)}]:[!1,I,{}]}function wh(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function xx({page:i,...e}){let{router:t}=w0(),s=V.useMemo(()=>d0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?V.createElement(Nx,{page:i,matches:s,...e}):null}function Dx(i){let{manifest:e,routeModules:t}=T0(),[s,o]=V.useState([]);return V.useEffect(()=>{let c=!1;return Ex(i,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,t]),s}function Nx({page:i,matches:e,...t}){let s=oo(),{manifest:o,routeModules:c}=T0(),{basename:u}=w0(),{loaderData:p,matches:y}=Cx(),g=V.useMemo(()=>iw(i,e,y,o,s,"data"),[i,e,y,o,s]),E=V.useMemo(()=>iw(i,e,y,o,s,"assets"),[i,e,y,o,s]),S=V.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Y=new Set,W=!1;if(e.forEach(B=>{let $=o.routes[B.route.id];!$||!$.hasLoader||(!g.some(te=>te.route.id===B.route.id)&&B.route.id in p&&c[B.route.id]?.shouldRevalidate||$.hasClientLoader?W=!0:Y.add(B.route.id))}),Y.size===0)return[];let z=vx(i,u,"data");return W&&Y.size>0&&z.searchParams.set("_routes",e.filter(B=>Y.has(B.route.id)).map(B=>B.route.id).join(",")),[z.pathname+z.search]},[u,p,s,o,g,e,i,c]),I=V.useMemo(()=>wx(E,o),[E,o]),M=Dx(E);return V.createElement(V.Fragment,null,S.map(Y=>V.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...t})),I.map(Y=>V.createElement("link",{key:Y,rel:"modulepreload",href:Y,...t})),M.map(({key:Y,link:W})=>V.createElement("link",{key:Y,nonce:t.nonce,...W})))}function Rx(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var S0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S0&&(window.__reactRouterVersion="7.9.4")}catch{}function Ox({basename:i,children:e,window:t}){let s=V.useRef();s.current==null&&(s.current=yI({window:t,v5Compat:!0}));let o=s.current,[c,u]=V.useState({action:o.action,location:o.location}),p=V.useCallback(y=>{V.startTransition(()=>u(y))},[u]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.createElement(lx,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=V.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:p,target:y,to:g,preventScrollReset:E,viewTransition:S,...I},M){let{basename:Y}=V.useContext(Ls),W=typeof g=="string"&&A0.test(g),z,B=!1;if(typeof g=="string"&&W&&(z=g,S0))try{let j=new URL(window.location.href),P=g.startsWith("//")?new URL(j.protocol+g):new URL(g),L=no(P.pathname,Y);P.origin===j.origin&&L!=null?g=L+P.search+P.hash:B=!0}catch{ks(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=HI(g,{relative:o}),[te,ye,le]=Ix(s,I),pe=jx(g,{replace:u,state:p,target:y,preventScrollReset:E,relative:o,viewTransition:S});function k(j){e&&e(j),j.defaultPrevented||pe(j)}let O=V.createElement("a",{...I,...le,href:z||$,onClick:B||c?e:k,ref:Rx(M,ye),target:y,"data-discover":!W&&t==="render"?"true":void 0});return te&&!W?V.createElement(V.Fragment,null,O,V.createElement(xx,{page:$})):O});Gc.displayName="Link";var ls=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:p,children:y,...g},E){let S=Jh(u,{relative:g.relative}),I=oo(),M=V.useContext(dm),{navigator:Y,basename:W}=V.useContext(Ls),z=M!=null&&zx(S)&&p===!0,B=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,$=I.pathname,te=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||($=$.toLowerCase(),te=te?te.toLowerCase():null,B=B.toLowerCase()),te&&W&&(te=no(te,W)||te);const ye=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let le=$===B||!o&&$.startsWith(B)&&$.charAt(ye)==="/",pe=te!=null&&(te===B||!o&&te.startsWith(B)&&te.charAt(B.length)==="/"),k={isActive:le,isPending:pe,isTransitioning:z},O=le?e:void 0,j;typeof s=="function"?j=s(k):j=[s,le?"active":null,pe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(k):c;return V.createElement(Gc,{...g,"aria-current":O,className:j,ref:E,style:P,to:u,viewTransition:p},typeof y=="function"?y(k):y)});ls.displayName="NavLink";var kx=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:u=Dd,action:p,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:S,...I},M)=>{let Y=Vx(),W=Ux(p,{relative:g}),z=u.toLowerCase()==="get"?"get":"post",B=typeof p=="string"&&A0.test(p),$=te=>{if(y&&y(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,le=ye?.getAttribute("formmethod")||u;Y(ye||te.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:c,relative:g,preventScrollReset:E,viewTransition:S})};return V.createElement("form",{ref:M,method:z,action:W,onSubmit:s?y:$,...I,"data-discover":!B&&i==="render"?"true":void 0})});kx.displayName="Form";function Mx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(i){let e=V.useContext(cu);return fn(e,Mx(i)),e}function jx(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let p=nc(),y=oo(),g=Jh(i,{relative:c});return V.useCallback(E=>{if(mx(E,e)){E.preventDefault();let S=t!==void 0?t:Ph(y)===Ph(g);p(i,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[y,p,g,t,s,e,i,o,c,u])}var Px=0,Lx=()=>`__${String(++Px)}__`;function Vx(){let{router:i}=C0("useSubmit"),{basename:e}=V.useContext(Ls),t=ix();return V.useCallback(async(s,o={})=>{let{action:c,method:u,encType:p,formData:y,body:g}=yx(s,e);if(o.navigate===!1){let E=o.fetcherKey||Lx();await i.fetch(E,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||u,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||u,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Ux(i,{relative:e}={}){let{basename:t}=V.useContext(Ls),s=V.useContext(ds);fn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Jh(i||".",{relative:e})},u=oo();if(i==null){c.search=u.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Za([t,c.pathname])),Ph(c)}function zx(i,{relative:e}={}){let t=V.useContext(y0);fn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),o=Jh(i,{relative:e});if(!t.isTransitioning)return!1;let c=no(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=no(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Fd(o.pathname,u)!=null||Fd(o.pathname,c)!=null}const Bx=()=>{};var rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qx=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],u=i[t++],p=i[t++],y=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[t++],u=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,p=u?i[o+1]:0,y=o+2<i.length,g=y?i[o+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let I=(p&15)<<2|g>>6,M=g&63;y||(M=64,u||(I=64)),s.push(t[E],t[S],t[I],t[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(I0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||p==null||g==null||S==null)throw new Fx;const I=c<<2|p>>4;if(s.push(I),g!==64){const M=p<<4&240|g>>2;if(s.push(M),S!==64){const Y=g<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(i){const e=I0(i);return x0.encodeByteArray(e,!0)},Hd=function(i){return Hx(i).replace(/\./g,"")},D0=function(i){try{return x0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=()=>$x().__FIREBASE_DEFAULTS__,Yx=()=>{if(typeof process>"u"||typeof rw>"u")return;const i=rw.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Kx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&D0(i[1]);return e&&JSON.parse(e)},pm=()=>{try{return Bx()||Gx()||Yx()||Kx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},N0=i=>pm()?.emulatorHosts?.[i],Qx=i=>{const e=N0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},R0=()=>pm()?.config,O0=i=>pm()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Hd(JSON.stringify(t)),Hd(JSON.stringify(u)),""].join(".")}const Nh={};function Jx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Nh))Nh[e]?i.emulator.push(e):i.prod.push(e);return i}function Zx(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let sw=!1;function M0(i,e){if(typeof window>"u"||typeof document>"u"||!hu(window.location.host)||Nh[i]===e||Nh[i]||sw)return;Nh[i]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",c=Jx().prod.length>0;function u(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,M){I.setAttribute("width","24"),I.setAttribute("id",M),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{sw=!0,u()},I}function E(I,M){I.setAttribute("id",M),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=Zx(s),M=t("text"),Y=document.getElementById(M)||document.createElement("span"),W=t("learnmore"),z=document.getElementById(W)||document.createElement("a"),B=t("preprendIcon"),$=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const te=I.element;p(te),E(z,W);const ye=g();y($,B),te.append($,Y,z,ye),document.body.appendChild(te)}c?(Y.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())}function tD(){const i=pm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iD(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sD(){const i=Li();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function aD(){return!tD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j0(){try{return typeof indexedDB=="object"}catch{return!1}}function P0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function oD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="FirebaseError";class va extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=lD,Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?cD(c,s):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new va(o,p,s)}}function cD(i,e){return i.replace(uD,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uD=/\{\$([^}]+)}/g;function hD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wl(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(aw(c)&&aw(u)){if(!Wl(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function aw(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Th(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Sh(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function fD(i,e){const t=new dD(i,e);return t.subscribe.bind(t)}class dD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");mD(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Tg),o.error===void 0&&(o.error=Tg),o.complete===void 0&&(o.complete=Tg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mD(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(i){return i&&i._delegate?i._delegate:i}class fs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Wx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yD(e))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fl){return this.instances.has(e)}getOptions(e=Fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gD(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fl){return this.component?this.component.multipleInstances?e:Fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gD(i){return i===Fl?void 0:i}function yD(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ft||(ft={}));const _D={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},bD=ft.INFO,ED={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},wD=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ED[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=bD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_D[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const TD=(i,e)=>e.some(t=>i instanceof t);let ow,lw;function SD(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AD(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Xg=new WeakMap,V0=new WeakMap,Sg=new WeakMap,Qy=new WeakMap;function CD(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{t(eo(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&L0.set(t,i)}).catch(()=>{}),Qy.set(e,i),e}function ID(i){if(Xg.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Xg.set(i,e)}let Jg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Xg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||V0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eo(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function xD(i){Jg=i(Jg)}function DD(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Ag(this),e,...t);return V0.set(s,e.sort?e.sort():[e]),eo(s)}:AD().includes(i)?function(...e){return i.apply(Ag(this),e),eo(L0.get(this))}:function(...e){return eo(i.apply(Ag(this),e))}}function ND(i){return typeof i=="function"?DD(i):(i instanceof IDBTransaction&&ID(i),TD(i,SD())?new Proxy(i,Jg):i)}function eo(i){if(i instanceof IDBRequest)return CD(i);if(Sg.has(i))return Sg.get(i);const e=ND(i);return e!==i&&(Sg.set(i,e),Qy.set(e,i)),e}const Ag=i=>Qy.get(i);function gm(i,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),p=eo(u);return s&&u.addEventListener("upgradeneeded",y=>{s(eo(u.result),y.oldVersion,y.newVersion,eo(u.transaction),y)}),t&&u.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}function Cg(i,{blocked:e}={}){const t=indexedDB.deleteDatabase(i);return e&&t.addEventListener("blocked",s=>e(s.oldVersion,s)),eo(t).then(()=>{})}const RD=["get","getKey","getAll","getAllKeys","count"],OD=["put","add","delete","clear"],Ig=new Map;function cw(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=OD.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RD.includes(t)))return;const c=async function(u,...p){const y=this.transaction(u,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&y.done]))[0]};return Ig.set(e,c),c}xD(i=>({...i,get:(e,t,s)=>cw(e,t)||i.get(e,t,s),has:(e,t)=>!!cw(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MD(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function MD(i){return i.getComponent()?.type==="VERSION"}const Zg="@firebase/app",uw="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Ky("@firebase/app"),jD="@firebase/app-compat",PD="@firebase/analytics-compat",LD="@firebase/analytics",VD="@firebase/app-check-compat",UD="@firebase/app-check",zD="@firebase/auth",BD="@firebase/auth-compat",qD="@firebase/database",FD="@firebase/data-connect",HD="@firebase/database-compat",$D="@firebase/functions",GD="@firebase/functions-compat",YD="@firebase/installations",KD="@firebase/installations-compat",QD="@firebase/messaging",WD="@firebase/messaging-compat",XD="@firebase/performance",JD="@firebase/performance-compat",ZD="@firebase/remote-config",eN="@firebase/remote-config-compat",tN="@firebase/storage",nN="@firebase/storage-compat",iN="@firebase/firestore",rN="@firebase/ai",sN="@firebase/firestore-compat",aN="firebase",oN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",lN={[Zg]:"fire-core",[jD]:"fire-core-compat",[LD]:"fire-analytics",[PD]:"fire-analytics-compat",[UD]:"fire-app-check",[VD]:"fire-app-check-compat",[zD]:"fire-auth",[BD]:"fire-auth-compat",[qD]:"fire-rtdb",[FD]:"fire-data-connect",[HD]:"fire-rtdb-compat",[$D]:"fire-fn",[GD]:"fire-fn-compat",[YD]:"fire-iid",[KD]:"fire-iid-compat",[QD]:"fire-fcm",[WD]:"fire-fcm-compat",[XD]:"fire-perf",[JD]:"fire-perf-compat",[ZD]:"fire-rc",[eN]:"fire-rc-compat",[tN]:"fire-gcs",[nN]:"fire-gcs-compat",[iN]:"fire-fst",[sN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,cN=new Map,ty=new Map;function hw(i,e){try{i.container.addComponent(e)}catch(t){io.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ms(i){const e=i.name;if(ty.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,i);for(const t of Lh.values())hw(t,i);for(const t of cN.values())hw(t,i);return!0}function fu(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function cs(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new ic("app","Firebase",uN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=oN;function U0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:ey,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw nl.create("bad-app-name",{appName:String(o)});if(t||(t=R0()),!t)throw nl.create("no-options");const c=Lh.get(o);if(c){if(Wl(t,c.options)&&Wl(s,c.config))return c;throw nl.create("duplicate-app",{appName:o})}const u=new vD(o);for(const y of ty.values())u.addComponent(y);const p=new hN(t,s,u);return Lh.set(o,p),p}function ym(i=ey){const e=Lh.get(i);if(!e&&i===ey&&R0())return U0();if(!e)throw nl.create("no-app",{appName:i});return e}function fN(){return Array.from(Lh.values())}function br(i,e,t){let s=lN[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(u.join(" "));return}Ms(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebase-heartbeat-database",mN=1,Vh="firebase-heartbeat-store";let xg=null;function z0(){return xg||(xg=gm(dN,mN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vh)}catch(t){console.warn(t)}}}}).catch(i=>{throw nl.create("idb-open",{originalErrorMessage:i.message})})),xg}async function pN(i){try{const t=(await z0()).transaction(Vh),s=await t.objectStore(Vh).get(B0(i));return await t.done,s}catch(e){if(e instanceof va)io.warn(e.message);else{const t=nl.create("idb-get",{originalErrorMessage:e?.message});io.warn(t.message)}}}async function fw(i,e){try{const s=(await z0()).transaction(Vh,"readwrite");await s.objectStore(Vh).put(e,B0(i)),await s.done}catch(t){if(t instanceof va)io.warn(t.message);else{const s=nl.create("idb-set",{originalErrorMessage:t?.message});io.warn(s.message)}}}function B0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=1024,yN=30;class vN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>yN){const o=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){io.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dw(),{heartbeatsToSend:t,unsentEntries:s}=_N(this._heartbeatsCache.heartbeats),o=Hd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return io.warn(e),""}}}function dw(){return new Date().toISOString().substring(0,10)}function _N(i,e=gN){const t=[];let s=i.slice();for(const o of i){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),mw(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),mw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class bN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j0()?P0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mw(i){return Hd(JSON.stringify({version:2,heartbeats:i})).length}function EN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(i){Ms(new fs("platform-logger",e=>new kD(e),"PRIVATE")),Ms(new fs("heartbeat",e=>new vN(e),"PRIVATE")),br(Zg,uw,i),br(Zg,uw,"esm2020"),br("fire-js","")}wN("");var TN="firebase",SN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(TN,SN,"app");function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AN=q0,F0=new ic("auth","Firebase",q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Ky("@firebase/auth");function CN(i,...e){$d.logLevel<=ft.WARN&&$d.warn(`Auth (${du}): ${i}`,...e)}function Rd(i,...e){$d.logLevel<=ft.ERROR&&$d.error(`Auth (${du}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(i,...e){throw Wy(i,...e)}function la(i,...e){return Wy(i,...e)}function H0(i,e,t){const s={...AN(),[e]:t};return new ic("auth","Firebase",s).create(e,{appName:i.name})}function il(i){return H0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return F0.create(i,...e)}function He(i,e,...t){if(!i)throw Wy(e,...t)}function Xa(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rd(e),new Error(e)}function ro(i,e){i||Xa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){return typeof self<"u"&&self.location?.href||""}function IN(){return pw()==="http:"||pw()==="https:"}function pw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IN()||iD()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,ro(t>e,"Short delay should be less than long delay!"),this.isMobile=eD()||rD()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(i,e){ro(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ON=new ef(3e4,6e4);function rc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function lo(i,e,t,s,o={}){return G0(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const p=Zh({key:i.config.apiKey,...u}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:y,...c};return nD()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&hu(i.emulatorConfig.host)&&(g.credentials="include"),$0.fetch()(await Y0(i,i.config.apiHost,t,p),g)})}async function G0(i,e,t){i._canInitEmulator=!1;const s={...NN,...e};try{const o=new MN(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Ed(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(i,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw Ed(i,"email-already-in-use",u);if(y==="USER_DISABLED")throw Ed(i,"user-disabled",u);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw H0(i,E,g);js(i,E)}}catch(o){if(o instanceof va)throw o;js(i,"network-request-failed",{message:String(o)})}}async function vm(i,e,t,s,o={}){const c=await lo(i,e,t,s,o);return"mfaPendingCredential"in c&&js(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Y0(i,e,t,s){const o=`${e}${t}?${s}`,c=i,u=c.config.emulator?Xy(i.config,o):`${i.config.apiScheme}://${o}`;return RN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function kN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(la(this.auth,"network-request-failed")),ON.get())})}}function Ed(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=la(i,e,s);return o.customData._tokenResponse=t,o}function gw(i){return i!==void 0&&i.enterprise!==void 0}class jN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PN(i,e){return lo(i,"GET","/v2/recaptchaConfig",rc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(i,e){return lo(i,"POST","/v1/accounts:delete",e)}async function Gd(i,e){return lo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VN(i,e=!1){const t=In(i),s=await t.getIdToken(e),o=Jy(s);He(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:Rh(Dg(o.auth_time)),issuedAtTime:Rh(Dg(o.iat)),expirationTime:Rh(Dg(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dg(i){return Number(i)*1e3}function Jy(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=D0(t);return o?JSON.parse(o):(Rd("Failed to decode base64 JWT payload"),null)}catch(o){return Rd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yw(i){const e=Jy(i);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof va&&UN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(i){const e=i.auth,t=await i.getIdToken(),s=await eu(i,Gd(e,{idToken:t}));He(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?K0(o.providerUserInfo):[],u=qN(i.providerData,c),p=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!u?.length,g=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new iy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function BN(i){const e=In(i);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function K0(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(i,e){const t=await G0(i,{},async()=>{const s=Zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await Y0(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return i.emulatorConfig&&hu(i.emulatorConfig.host)&&(y.credentials="include"),$0.fetch()(u,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HN(i,e){return lo(i,"POST","/v2/accounts:revokeToken",rc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await FN(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new Wc;return s&&(He(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(He(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return Xa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(i,e){He(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Rs{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new zN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await eu(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VN(this,e)}reload(){return BN(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Yd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(il(this.auth));const e=await this.getIdToken();return await eu(this,LN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,y=t._redirectEventId??void 0,g=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:M,providerData:Y,stsTokenManager:W}=t;He(S&&W,e,"internal-error");const z=Wc.fromJSON(this.name,W);He(typeof S=="string",e,"internal-error"),Wo(s,e.name),Wo(o,e.name),He(typeof I=="boolean",e,"internal-error"),He(typeof M=="boolean",e,"internal-error"),Wo(c,e.name),Wo(u,e.name),Wo(p,e.name),Wo(y,e.name),Wo(g,e.name),Wo(E,e.name);const B=new Rs({uid:S,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:M,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:g,lastLoginAt:E});return Y&&Array.isArray(Y)&&(B.providerData=Y.map($=>({...$}))),y&&(B._redirectEventId=y),B}static async _fromIdTokenResponse(e,t,s=!1){const o=new Wc;o.updateFromServerResponse(t);const c=new Rs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yd(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];He(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?K0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,p=new Wc;p.updateFromIdToken(s);const y=new Rs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new iy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Ja(i){ro(i instanceof Function,"Expected a class definition");let e=vw.get(i);return e?(ro(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vw.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Q0.type="NONE";const _w=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(i,e,t){return`firebase:${i}:${e}:${t}`}class Xc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,c),this.fullPersistenceKey=Od("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gd(this.auth,{idToken:e}).catch(()=>{});return t?Rs._fromGetAccountInfoResponse(this.auth,t,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Xc(Ja(_w),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ja(_w);const u=Od(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const E=await g._get(u);if(E){let S;if(typeof E=="string"){const I=await Gd(e,{idToken:E}).catch(()=>{});if(!I)break;S=await Rs._fromGetAccountInfoResponse(e,I,E)}else S=Rs._fromJSON(e,E);g!==c&&(p=S),c=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Xc(c,e,s):(c=y[0],p&&await c._set(u,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Xc(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tS(e))return"Blackberry";if(nS(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||J0(e))&&!e.includes("edge/"))return"Chrome";if(eS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function W0(i=Li()){return/firefox\//i.test(i)}function X0(i=Li()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J0(i=Li()){return/crios\//i.test(i)}function Z0(i=Li()){return/iemobile/i.test(i)}function eS(i=Li()){return/android/i.test(i)}function tS(i=Li()){return/blackberry/i.test(i)}function nS(i=Li()){return/webos/i.test(i)}function Zy(i=Li()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function $N(i=Li()){return Zy(i)&&!!window.navigator?.standalone}function GN(){return sD()&&document.documentMode===10}function iS(i=Li()){return Zy(i)||eS(i)||nS(i)||tS(i)||/windows phone/i.test(i)||Z0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(i,e=[]){let t;switch(i){case"Browser":t=bw(Li());break;case"Worker":t=`${bw(Li())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${du}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,p)=>{try{const y=e(c);u(y)}catch(y){p(y)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(i,e={}){return lo(i,"GET","/v2/passwordPolicy",rc(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=6;class WN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ew(this),this.idTokenSubscription=new Ew(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ja(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gd(this,{idToken:e}),s=await Rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(il(this));const t=e?In(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(il(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(il(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KN(this),t=new WN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ja(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Xc.create(this,[Ja(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,o);return()=>{u=!0,y()}}else{const y=e.addObserver(t);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mu(i){return In(i)}class Ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=fD(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JN(i){_m=i}function sS(i){return _m.loadJS(i)}function ZN(){return _m.recaptchaEnterpriseScript}function eR(){return _m.gapiScript}function tR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class nR{constructor(){this.enterprise=new iR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rR="recaptcha-enterprise",aS="NO_RECAPTCHA";class sR{constructor(e){this.type=rR,this.auth=mu(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{PN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new jN(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(y=>{p(y)})})}function o(c,u,p){const y=window.grecaptcha;gw(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(aS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nR().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(p=>{if(!t&&gw(window.grecaptcha))o(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=ZN();y.length!==0&&(y+=p),sS(y).then(()=>{o(p,c,u)}).catch(g=>{u(g)})}}).catch(p=>{u(p)})})}}async function ww(i,e,t,s=!1,o=!1){const c=new sR(i);let u;if(o)u=aS;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Tw(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ww(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ww(i,e,t,t==="getOobCode");return s(i,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(i,e){const t=fu(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Wl(c,e??{}))return o;js(o,"already-initialized")}return t.initialize({options:e})}function oR(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ja);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function lR(i,e,t){const s=mu(i);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=oS(e),{host:u,port:p}=cR(e),y=p===null?"":`:${p}`,g={url:`${c}//${u}${y}/`},E=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(Wl(g,s.config.emulator)&&Wl(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,hu(u)?(k0(`${c}//${u}${y}`),M0("Auth",!0)):uR()}function oS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function cR(i){const e=oS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Sw(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:Sw(u)}}}function Sw(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uR(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xa("not implemented")}_getIdTokenResponse(e){return Xa("not implemented")}_linkToIdToken(e,t){return Xa("not implemented")}_getReauthenticationResolver(e){return Xa("not implemented")}}async function hR(i,e){return lo(i,"POST","/v1/accounts:update",e)}async function fR(i,e){return lo(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(i,e){return vm(i,"POST","/v1/accounts:signInWithPassword",rc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(i,e){return vm(i,"POST","/v1/accounts:signInWithEmailLink",rc(i,e))}async function pR(i,e){return vm(i,"POST","/v1/accounts:signInWithEmailLink",rc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends ev{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Uh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Uh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tw(e,t,"signInWithPassword",dR);case"emailLink":return mR(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tw(e,s,"signUpPassword",fR);case"emailLink":return pR(e,{idToken:t,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(i,e){return vm(i,"POST","/v1/accounts:signInWithIdp",rc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="http://localhost";class Xl extends ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):js("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new Xl(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Jc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Jc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jc(e,t)}buildRequest(){const e={requestUri:gR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vR(i){const e=Th(Sh(i)).link,t=e?Th(Sh(e)).deep_link_id:null,s=Th(Sh(i)).deep_link_id;return(s?Th(Sh(s)).link:null)||s||t||e||i}class tv{constructor(e){const t=Th(Sh(e)),s=t.apiKey??null,o=t.oobCode??null,c=yR(t.mode??null);He(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=vR(e);try{return new tv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,t){return Uh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=tv.parseLink(t);return He(s,"argument-error"),Uh._fromEmailAndCode(e,s.code,s.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends lS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends tf{constructor(){super("facebook.com")}static credential(e){return Xl._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xl._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Jo.credential(t,s)}catch{return null}}}Jo.GOOGLE_SIGN_IN_METHOD="google.com";Jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends tf{constructor(){super("github.com")}static credential(e){return Xl._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.GITHUB_SIGN_IN_METHOD="github.com";Zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends tf{constructor(){super("twitter.com")}static credential(e,t){return Xl._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return el.credential(t,s)}catch{return null}}}el.TWITTER_SIGN_IN_METHOD="twitter.com";el.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Rs._fromIdTokenResponse(e,s,o),u=Aw(s);return new tu({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Aw(s);return new tu({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Aw(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends va{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Kd(e,t,s,o)}}function cS(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(i,c,e,s):c})}async function _R(i,e,t=!1){const s=await eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return tu._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(i,e,t=!1){const{auth:s}=i;if(cs(s.app))return Promise.reject(il(s));const o="reauthenticate";try{const c=await eu(i,cS(s,o,e,i),t);He(c.idToken,s,"internal-error");const u=Jy(c.idToken);He(u,s,"internal-error");const{sub:p}=u;return He(i.uid===p,s,"user-mismatch"),tu._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&js(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(i,e,t=!1){if(cs(i.app))return Promise.reject(il(i));const s="signIn",o=await cS(i,s,e),c=await tu._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(c.user),c}async function bR(i,e){return hS(mu(i),e)}async function ER(i,e){return uS(In(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i){const e=mu(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TR(i,e,t){return cs(i.app)?Promise.reject(il(i)):bR(In(i),sc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&wR(i),s})}function SR(i,e){return AR(In(i),null,e)}async function AR(i,e,t){const{auth:s}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};t&&(c.password=t);const u=await eu(i,hR(s,c));await i._updateTokensIfNecessary(u,!0)}function CR(i,e,t,s){return In(i).onIdTokenChanged(e,t,s)}function IR(i,e,t){return In(i).beforeAuthStateChanged(e,t)}function xR(i,e,t,s){return In(i).onAuthStateChanged(e,t,s)}function nv(i){return In(i).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1e3,NR=10;class dS extends fS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,y)=>{this.notifyListeners(u,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);GN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dS.type="LOCAL";const RR=dS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends fS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mS.type="SESSION";const pS=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new bm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(u).map(async g=>g(t.origin,c)),y=await OR(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,y)=>{const g=iv("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(I.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}function MR(i){ca().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}async function jR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PR(){return navigator?.serviceWorker?.controller||null}function LR(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebaseLocalStorageDb",VR=1,Wd="firebaseLocalStorage",vS="fbase_key";class nf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Em(i,e){return i.transaction([Wd],e?"readwrite":"readonly").objectStore(Wd)}function UR(){const i=indexedDB.deleteDatabase(yS);return new nf(i).toPromise()}function ry(){const i=indexedDB.open(yS,VR);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Wd,{keyPath:vS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Wd)?e(s):(s.close(),await UR(),e(await ry()))})})}async function Cw(i,e,t){const s=Em(i,!0).put({[vS]:e,value:t});return new nf(s).toPromise()}async function zR(i,e){const t=Em(i,!1).get(e),s=await new nf(t).toPromise();return s===void 0?null:s.value}function Iw(i,e){const t=Em(i,!0).delete(e);return new nf(t).toPromise()}const BR=800,qR=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>qR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(LR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new kR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await Cw(e,Qd,"1"),await Iw(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>zR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Em(o,!1).getAll();return new nf(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const FR=_S;new ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i,e){return e?Ja(e):(He(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $R(i){return hS(i.auth,new rv(i),i.bypassAuthState)}function GR(i){const{auth:e,user:t}=i;return He(t,e,"internal-error"),uS(t,new rv(i),i.bypassAuthState)}async function YR(i){const{auth:e,user:t}=i;return He(t,e,"internal-error"),_R(t,new rv(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return YR;case"reauthViaPopup":case"reauthViaRedirect":return GR;default:js(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new ef(2e3,1e4);class Yc extends bS{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Yc.currentPopupAction&&Yc.currentPopupAction.cancel(),Yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KR.get())};e()}}Yc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="pendingRedirect",kd=new Map;class WR extends bS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=kd.get(this.auth._key());if(!e){try{const s=await XR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XR(i,e){const t=eO(e),s=ZR(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function JR(i,e){kd.set(i._key(),e)}function ZR(i){return Ja(i._redirectPersistence)}function eO(i){return Od(QR,i.config.apiKey,i.name)}async function tO(i,e,t=!1){if(cs(i.app))return Promise.reject(il(i));const s=mu(i),o=HR(s,e),u=await new WR(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=600*1e3;class iO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ES(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(la(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nO&&this.cachedEventUids.clear(),this.cachedEventUids.has(xw(e))}saveEventToCache(e){this.cachedEventUids.add(xw(e)),this.lastProcessedEventTime=Date.now()}}function xw(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ES({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function rO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(i,e={}){return lo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oO=/^https?/;async function lO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sO(i);for(const t of e)try{if(cO(t))return}catch{}js(i,"unauthorized-domain")}function cO(i){const e=ny(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!oO.test(t))return!1;if(aO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new ef(3e4,6e4);function Dw(){const i=ca().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function hO(i){return new Promise((e,t)=>{function s(){Dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dw(),t(la(i,"network-request-failed"))},timeout:uO.get()})}if(ca().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ca().gapi?.load)s();else{const o=tR("iframefcb");return ca()[o]=()=>{gapi.load?s():t(la(i,"network-request-failed"))},sS(`${eR()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Md=null,e})}let Md=null;function fO(i){return Md=Md||hO(i),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ef(5e3,15e3),mO="__/auth/iframe",pO="emulator/auth/iframe",gO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(i){const e=i.config;He(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Xy(e,pO):`https://${i.config.authDomain}/${mO}`,s={apiKey:e.apiKey,appName:i.name,v:du},o=yO.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Zh(s).slice(1)}`}async function _O(i){const e=await fO(i),t=ca().gapi;return He(t,i,"internal-error"),e.open({where:document.body,url:vO(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gO,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=la(i,"network-request-failed"),p=ca().setTimeout(()=>{c(u)},dO.get());function y(){ca().clearTimeout(p),o(s)}s.ping(y).then(y,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EO=500,wO=600,TO="_blank",SO="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AO(i,e,t,s=EO,o=wO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...bO,width:s.toString(),height:o.toString(),top:c,left:u},g=Li().toLowerCase();t&&(p=J0(g)?TO:t),W0(g)&&(e=e||SO,y.scrollbars="yes");const E=Object.entries(y).reduce((I,[M,Y])=>`${I}${M}=${Y},`,"");if($N(g)&&p!=="_self")return CO(e||"",p),new Nw(null);const S=window.open(e||"",p,E);He(S,i,"popup-blocked");try{S.focus()}catch{}return new Nw(S)}function CO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__/auth/handler",xO="emulator/auth/handler",DO=encodeURIComponent("fac");async function Rw(i,e,t,s,o,c){He(i.config.authDomain,i,"auth-domain-config-required"),He(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:du,eventId:o};if(e instanceof lS){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",hD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))u[E]=S}if(e instanceof tf){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const p=u;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await i._getAppCheckToken(),g=y?`#${DO}=${encodeURIComponent(y)}`:"";return`${NO(i)}?${Zh(p).slice(1)}${g}`}function NO({config:i}){return i.emulator?Xy(i,xO):`https://${i.authDomain}/${IO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class RO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=tO,this._overrideRedirectResult=JR}async _openPopup(e,t,s,o){ro(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Rw(e,t,s,ny(),o);return AO(e,c,iv())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Rw(e,t,s,ny(),o);return MR(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ro(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await _O(e),s=new iO(e);return t.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ng,{type:Ng},o=>{const c=o?.[0]?.[Ng];c!==void 0&&t(!!c),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iS()||X0()||Zy()}}const OO=RO;var Ow="@firebase/auth",kw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jO(i){Ms(new fs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:u,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(i)},g=new XN(s,o,c,y);return oR(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ms(new fs("auth-internal",e=>{const t=mu(e.getProvider("auth").getImmediate());return(s=>new kO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(Ow,kw,MO(i)),br(Ow,kw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=300,LO=O0("authIdTokenMaxAge")||PO;let Mw=null;const VO=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>LO)return;const o=t?.token;Mw!==o&&(Mw=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wS(i=ym()){const e=fu(i,"auth");if(e.isInitialized())return e.getImmediate();const t=aR(i,{popupRedirectResolver:OO,persistence:[FR,RR,pS]}),s=O0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=VO(c.toString());IR(t,u,()=>u(t.currentUser)),CR(t,p=>u(p))}}const o=N0("auth");return o&&lR(t,`http://${o}`),t}function UO(){return document.getElementsByTagName("head")?.[0]??document}JN({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=la("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",UO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jO("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rl,TS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function j(){}j.prototype=O.prototype,k.F=O.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(P,L,H){for(var R=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)R[fe-2]=arguments[fe];return O.prototype[L].apply(P,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,O,j){j||(j=0);const P=Array(16);if(typeof O=="string")for(var L=0;L<16;++L)P[L]=O.charCodeAt(j++)|O.charCodeAt(j++)<<8|O.charCodeAt(j++)<<16|O.charCodeAt(j++)<<24;else for(L=0;L<16;++L)P[L]=O[j++]|O[j++]<<8|O[j++]<<16|O[j++]<<24;O=k.g[0],j=k.g[1],L=k.g[2];let H=k.g[3],R;R=O+(H^j&(L^H))+P[0]+3614090360&4294967295,O=j+(R<<7&4294967295|R>>>25),R=H+(L^O&(j^L))+P[1]+3905402710&4294967295,H=O+(R<<12&4294967295|R>>>20),R=L+(j^H&(O^j))+P[2]+606105819&4294967295,L=H+(R<<17&4294967295|R>>>15),R=j+(O^L&(H^O))+P[3]+3250441966&4294967295,j=L+(R<<22&4294967295|R>>>10),R=O+(H^j&(L^H))+P[4]+4118548399&4294967295,O=j+(R<<7&4294967295|R>>>25),R=H+(L^O&(j^L))+P[5]+1200080426&4294967295,H=O+(R<<12&4294967295|R>>>20),R=L+(j^H&(O^j))+P[6]+2821735955&4294967295,L=H+(R<<17&4294967295|R>>>15),R=j+(O^L&(H^O))+P[7]+4249261313&4294967295,j=L+(R<<22&4294967295|R>>>10),R=O+(H^j&(L^H))+P[8]+1770035416&4294967295,O=j+(R<<7&4294967295|R>>>25),R=H+(L^O&(j^L))+P[9]+2336552879&4294967295,H=O+(R<<12&4294967295|R>>>20),R=L+(j^H&(O^j))+P[10]+4294925233&4294967295,L=H+(R<<17&4294967295|R>>>15),R=j+(O^L&(H^O))+P[11]+2304563134&4294967295,j=L+(R<<22&4294967295|R>>>10),R=O+(H^j&(L^H))+P[12]+1804603682&4294967295,O=j+(R<<7&4294967295|R>>>25),R=H+(L^O&(j^L))+P[13]+4254626195&4294967295,H=O+(R<<12&4294967295|R>>>20),R=L+(j^H&(O^j))+P[14]+2792965006&4294967295,L=H+(R<<17&4294967295|R>>>15),R=j+(O^L&(H^O))+P[15]+1236535329&4294967295,j=L+(R<<22&4294967295|R>>>10),R=O+(L^H&(j^L))+P[1]+4129170786&4294967295,O=j+(R<<5&4294967295|R>>>27),R=H+(j^L&(O^j))+P[6]+3225465664&4294967295,H=O+(R<<9&4294967295|R>>>23),R=L+(O^j&(H^O))+P[11]+643717713&4294967295,L=H+(R<<14&4294967295|R>>>18),R=j+(H^O&(L^H))+P[0]+3921069994&4294967295,j=L+(R<<20&4294967295|R>>>12),R=O+(L^H&(j^L))+P[5]+3593408605&4294967295,O=j+(R<<5&4294967295|R>>>27),R=H+(j^L&(O^j))+P[10]+38016083&4294967295,H=O+(R<<9&4294967295|R>>>23),R=L+(O^j&(H^O))+P[15]+3634488961&4294967295,L=H+(R<<14&4294967295|R>>>18),R=j+(H^O&(L^H))+P[4]+3889429448&4294967295,j=L+(R<<20&4294967295|R>>>12),R=O+(L^H&(j^L))+P[9]+568446438&4294967295,O=j+(R<<5&4294967295|R>>>27),R=H+(j^L&(O^j))+P[14]+3275163606&4294967295,H=O+(R<<9&4294967295|R>>>23),R=L+(O^j&(H^O))+P[3]+4107603335&4294967295,L=H+(R<<14&4294967295|R>>>18),R=j+(H^O&(L^H))+P[8]+1163531501&4294967295,j=L+(R<<20&4294967295|R>>>12),R=O+(L^H&(j^L))+P[13]+2850285829&4294967295,O=j+(R<<5&4294967295|R>>>27),R=H+(j^L&(O^j))+P[2]+4243563512&4294967295,H=O+(R<<9&4294967295|R>>>23),R=L+(O^j&(H^O))+P[7]+1735328473&4294967295,L=H+(R<<14&4294967295|R>>>18),R=j+(H^O&(L^H))+P[12]+2368359562&4294967295,j=L+(R<<20&4294967295|R>>>12),R=O+(j^L^H)+P[5]+4294588738&4294967295,O=j+(R<<4&4294967295|R>>>28),R=H+(O^j^L)+P[8]+2272392833&4294967295,H=O+(R<<11&4294967295|R>>>21),R=L+(H^O^j)+P[11]+1839030562&4294967295,L=H+(R<<16&4294967295|R>>>16),R=j+(L^H^O)+P[14]+4259657740&4294967295,j=L+(R<<23&4294967295|R>>>9),R=O+(j^L^H)+P[1]+2763975236&4294967295,O=j+(R<<4&4294967295|R>>>28),R=H+(O^j^L)+P[4]+1272893353&4294967295,H=O+(R<<11&4294967295|R>>>21),R=L+(H^O^j)+P[7]+4139469664&4294967295,L=H+(R<<16&4294967295|R>>>16),R=j+(L^H^O)+P[10]+3200236656&4294967295,j=L+(R<<23&4294967295|R>>>9),R=O+(j^L^H)+P[13]+681279174&4294967295,O=j+(R<<4&4294967295|R>>>28),R=H+(O^j^L)+P[0]+3936430074&4294967295,H=O+(R<<11&4294967295|R>>>21),R=L+(H^O^j)+P[3]+3572445317&4294967295,L=H+(R<<16&4294967295|R>>>16),R=j+(L^H^O)+P[6]+76029189&4294967295,j=L+(R<<23&4294967295|R>>>9),R=O+(j^L^H)+P[9]+3654602809&4294967295,O=j+(R<<4&4294967295|R>>>28),R=H+(O^j^L)+P[12]+3873151461&4294967295,H=O+(R<<11&4294967295|R>>>21),R=L+(H^O^j)+P[15]+530742520&4294967295,L=H+(R<<16&4294967295|R>>>16),R=j+(L^H^O)+P[2]+3299628645&4294967295,j=L+(R<<23&4294967295|R>>>9),R=O+(L^(j|~H))+P[0]+4096336452&4294967295,O=j+(R<<6&4294967295|R>>>26),R=H+(j^(O|~L))+P[7]+1126891415&4294967295,H=O+(R<<10&4294967295|R>>>22),R=L+(O^(H|~j))+P[14]+2878612391&4294967295,L=H+(R<<15&4294967295|R>>>17),R=j+(H^(L|~O))+P[5]+4237533241&4294967295,j=L+(R<<21&4294967295|R>>>11),R=O+(L^(j|~H))+P[12]+1700485571&4294967295,O=j+(R<<6&4294967295|R>>>26),R=H+(j^(O|~L))+P[3]+2399980690&4294967295,H=O+(R<<10&4294967295|R>>>22),R=L+(O^(H|~j))+P[10]+4293915773&4294967295,L=H+(R<<15&4294967295|R>>>17),R=j+(H^(L|~O))+P[1]+2240044497&4294967295,j=L+(R<<21&4294967295|R>>>11),R=O+(L^(j|~H))+P[8]+1873313359&4294967295,O=j+(R<<6&4294967295|R>>>26),R=H+(j^(O|~L))+P[15]+4264355552&4294967295,H=O+(R<<10&4294967295|R>>>22),R=L+(O^(H|~j))+P[6]+2734768916&4294967295,L=H+(R<<15&4294967295|R>>>17),R=j+(H^(L|~O))+P[13]+1309151649&4294967295,j=L+(R<<21&4294967295|R>>>11),R=O+(L^(j|~H))+P[4]+4149444226&4294967295,O=j+(R<<6&4294967295|R>>>26),R=H+(j^(O|~L))+P[11]+3174756917&4294967295,H=O+(R<<10&4294967295|R>>>22),R=L+(O^(H|~j))+P[2]+718787259&4294967295,L=H+(R<<15&4294967295|R>>>17),R=j+(H^(L|~O))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+H&4294967295}s.prototype.v=function(k,O){O===void 0&&(O=k.length);const j=O-this.blockSize,P=this.C;let L=this.h,H=0;for(;H<O;){if(L==0)for(;H<=j;)o(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<O;)if(P[L++]=k.charCodeAt(H++),L==this.blockSize){o(this,P),L=0;break}}else for(;H<O;)if(P[L++]=k[H++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=O},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)k[O++]=this.g[j]>>>P&255;return k};function c(k,O){var j=p;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=O(k)}function u(k,O){this.h=O;const j=[];let P=!0;for(let L=k.length-1;L>=0;L--){const H=k[L]|0;P&&H==O||(j[L]=H,P=!1)}this.g=j}var p={};function y(k){return-128<=k&&k<128?c(k,function(O){return new u([O|0],O<0?-1:0)}):new u([k|0],k<0?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return S;if(k<0)return z(g(-k));const O=[];let j=1;for(let P=0;k>=j;P++)O[P]=k/j|0,j*=4294967296;return new u(O,0)}function E(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return z(E(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=g(Math.pow(O,8));let P=S;for(let H=0;H<k.length;H+=8){var L=Math.min(8,k.length-H);const R=parseInt(k.substring(H,H+L),O);L<8?(L=g(Math.pow(O,L)),P=P.j(L).add(g(R))):(P=P.j(j),P=P.add(g(R)))}return P}var S=y(0),I=y(1),M=y(16777216);i=u.prototype,i.m=function(){if(W(this))return-z(this).m();let k=0,O=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);k+=(P>=0?P:4294967296+P)*O,O*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(W(this))return"-"+z(this).toString(k);const O=g(Math.pow(k,6));var j=this;let P="";for(;;){const L=ye(j,O).g;j=B(j,L.j(O));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=L,Y(j))return H+P;for(;H.length<6;)H="0"+H;P=H+P}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function W(k){return k.h==-1}i.l=function(k){return k=B(this,k),W(k)?-1:Y(k)?0:1};function z(k){const O=k.g.length,j=[];for(let P=0;P<O;P++)j[P]=~k.g[P];return new u(j,~k.h).add(I)}i.abs=function(){return W(this)?z(this):this},i.add=function(k){const O=Math.max(this.g.length,k.g.length),j=[];let P=0;for(let L=0;L<=O;L++){let H=P+(this.i(L)&65535)+(k.i(L)&65535),R=(H>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);P=R>>>16,H&=65535,R&=65535,j[L]=R<<16|H}return new u(j,j[j.length-1]&-2147483648?-1:0)};function B(k,O){return k.add(z(O))}i.j=function(k){if(Y(this)||Y(k))return S;if(W(this))return W(k)?z(this).j(z(k)):z(z(this).j(k));if(W(k))return z(this.j(z(k)));if(this.l(M)<0&&k.l(M)<0)return g(this.m()*k.m());const O=this.g.length+k.g.length,j=[];for(var P=0;P<2*O;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<k.g.length;L++){const H=this.i(P)>>>16,R=this.i(P)&65535,fe=k.i(L)>>>16,Oe=k.i(L)&65535;j[2*P+2*L]+=R*Oe,$(j,2*P+2*L),j[2*P+2*L+1]+=H*Oe,$(j,2*P+2*L+1),j[2*P+2*L+1]+=R*fe,$(j,2*P+2*L+1),j[2*P+2*L+2]+=H*fe,$(j,2*P+2*L+2)}for(k=0;k<O;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=O;k<2*O;k++)j[k]=0;return new u(j,0)};function $(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function te(k,O){this.g=k,this.h=O}function ye(k,O){if(Y(O))throw Error("division by zero");if(Y(k))return new te(S,S);if(W(k))return O=ye(z(k),O),new te(z(O.g),z(O.h));if(W(O))return O=ye(k,z(O)),new te(z(O.g),O.h);if(k.g.length>30){if(W(k)||W(O))throw Error("slowDivide_ only works with positive integers.");for(var j=I,P=O;P.l(k)<=0;)j=le(j),P=le(P);var L=pe(j,1),H=pe(P,1);for(P=pe(P,2),j=pe(j,2);!Y(P);){var R=H.add(P);R.l(k)<=0&&(L=L.add(j),H=R),P=pe(P,1),j=pe(j,1)}return O=B(k,L.j(O)),new te(L,O)}for(L=S;k.l(O)>=0;){for(j=Math.max(1,Math.floor(k.m()/O.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),H=g(j),R=H.j(O);W(R)||R.l(k)>0;)j-=P,H=g(j),R=H.j(O);Y(H)&&(H=I),L=L.add(H),k=B(k,R)}return new te(L,k)}i.B=function(k){return ye(this,k).h},i.and=function(k){const O=Math.max(this.g.length,k.g.length),j=[];for(let P=0;P<O;P++)j[P]=this.i(P)&k.i(P);return new u(j,this.h&k.h)},i.or=function(k){const O=Math.max(this.g.length,k.g.length),j=[];for(let P=0;P<O;P++)j[P]=this.i(P)|k.i(P);return new u(j,this.h|k.h)},i.xor=function(k){const O=Math.max(this.g.length,k.g.length),j=[];for(let P=0;P<O;P++)j[P]=this.i(P)^k.i(P);return new u(j,this.h^k.h)};function le(k){const O=k.g.length+1,j=[];for(let P=0;P<O;P++)j[P]=k.i(P)<<1|k.i(P-1)>>>31;return new u(j,k.h)}function pe(k,O){const j=O>>5;O%=32;const P=k.g.length-j,L=[];for(let H=0;H<P;H++)L[H]=O>0?k.i(H+j)>>>O|k.i(H+j+1)<<32-O:k.i(H+j);return new u(L,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=E,rl=u}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SS,Ah,AS,jd,sy,CS,IS,xS;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wd=="object"&&wd];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function o(h,_){if(_)e:{var T=s;h=h.split(".");for(var N=0;N<h.length-1;N++){var Q=h[N];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],N=T[h],_=_(N),_!=N&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&T.push([N,_[N]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=y,g.apply(null,arguments)}function E(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function S(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(N,Q,ne){for(var Ee=Array(arguments.length-2),We=2;We<arguments.length;We++)Ee[We-2]=arguments[We];return _.prototype[Q].apply(N,Ee)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const _=h.length;if(_>0){const T=Array(_);for(let N=0;N<_;N++)T[N]=h[N];return T}return[]}function Y(h,_){for(let N=1;N<arguments.length;N++){const Q=arguments[N];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const ne=Q.length||0;h.length=T+ne;for(let Ee=0;Ee<ne;Ee++)h[T+Ee]=Q[Ee]}else h.push(Q)}}class W{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(h){u.setTimeout(()=>{throw h},0)}function B(){var h=k;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,T){const N=te.get();N.set(_,T),this.h?this.h.next=N:this.g=N,this.h=N}}var te=new W(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,k=new $,O=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(j)}};function j(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){z(T)}var _=te;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}pe=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function fe(h,_){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}S(fe,L),fe.prototype.init=function(h,_){const T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(h,_,T,N,Q){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!N,this.ha=Q,this.key=++X,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h,_,T){for(const N in h)_.call(T,h[N],N,h)}function ke(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function D(h){const _={};for(const T in h)_[T]=h[T];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(h,_){let T,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(T in N)h[T]=N[T];for(let ne=0;ne<ae.length;ne++)T=ae[ne],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,_,T,N,Q){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const Ee=Le(h,_,N,Q);return Ee>-1?(_=h[Ee],T||(_.fa=!1)):(_=new re(_,this.src,ne,!!N,Q),_.fa=T,h.push(_)),_};function Re(h,_){const T=_.type;if(T in h.g){var N=h.g[T],Q=Array.prototype.indexOf.call(N,_,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(N,Q,1),ne&&(de(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Le(h,_,T,N){for(let Q=0;Q<h.length;++Q){const ne=h[Q];if(!ne.da&&ne.listener==_&&ne.capture==!!T&&ne.ha==N)return Q}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Pt={};function be(h,_,T,N,Q){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)be(h,_[ne],T,N,Q);return null}return T=Vs(T),h&&h[Oe]?h.J(_,T,p(N)?!!N.capture:!1,Q):Ci(h,_,T,!1,N,Q)}function Ci(h,_,T,N,Q,ne){if(!_)throw Error("Invalid event type");const Ee=p(Q)?!!Q.capture:!!Q;let We=Qt(h);if(We||(h[Ve]=We=new Te(h)),T=We.add(_,T,N,Ee,ne),T.proxy)return T;if(N=Er(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)H||(Q=Ee),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),N,Q);else if(h.attachEvent)h.attachEvent(lt(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Er(){function h(T){return _.call(h.src,h.listener,T)}const _=Ji;return h}function wr(h,_,T,N,Q){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)wr(h,_[ne],T,N,Q);else N=p(N)?!!N.capture:!!N,T=Vs(T),h&&h[Oe]?(h=h.i,ne=String(_).toString(),ne in h.g&&(_=h.g[ne],T=Le(_,T,N,Q),T>-1&&(de(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Qt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Le(_,T,N,Q)),(T=h>-1?_[h]:null)&&Hr(T))}function Hr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Oe])Re(_.i,h);else{var T=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(T,N,h.capture):_.detachEvent?_.detachEvent(lt(T),N):_.addListener&&_.removeListener&&_.removeListener(N),(T=Qt(_))?(Re(T,h),T.h==0&&(T.src=null,_[Ve]=null)):de(h)}}}function lt(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function Ji(h,_){if(h.da)h=!0;else{_=new fe(_,this);const T=h.listener,N=h.ha||h.src;h.fa&&Hr(h),h=T.call(N,_)}return h}function Qt(h){return h=h[Ve],h instanceof Te?h:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vs(h){return typeof h=="function"?h:(h[di]||(h[di]=function(_){return h.handleEvent(_)}),h[di])}function tn(){P.call(this),this.i=new Te(this),this.M=this,this.G=null}S(tn,P),tn.prototype[Oe]=!0,tn.prototype.removeEventListener=function(h,_,T,N){wr(this,h,_,T,N)};function mn(h,_){var T,N=h.G;if(N)for(T=[];N;N=N.G)T.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new L(_,h);else if(_ instanceof L)_.target=_.target||h;else{var Q=_;_=new L(N,h),ve(_,Q)}Q=!0;let ne,Ee;if(T)for(Ee=T.length-1;Ee>=0;Ee--)ne=_.g=T[Ee],Q=$r(ne,N,!0,_)&&Q;if(ne=_.g=h,Q=$r(ne,N,!0,_)&&Q,Q=$r(ne,N,!1,_)&&Q,T)for(Ee=0;Ee<T.length;Ee++)ne=_.g=T[Ee],Q=$r(ne,N,!1,_)&&Q}tn.prototype.N=function(){if(tn.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let N=0;N<T.length;N++)de(T[N]);delete h.g[_],h.h--}}this.G=null},tn.prototype.J=function(h,_,T,N){return this.i.add(String(h),_,!1,T,N)},tn.prototype.K=function(h,_,T,N){return this.i.add(String(h),_,!0,T,N)};function $r(h,_,T,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let ne=0;ne<_.length;++ne){const Ee=_[ne];if(Ee&&!Ee.da&&Ee.capture==T){const We=Ee.listener,gn=Ee.ha||Ee.src;Ee.fa&&Re(h.i,Ee),Q=We.call(gn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function yl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function _a(h){h.g=yl(()=>{h.g=null,h.i&&(h.i=!1,_a(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Yn extends P{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(h){P.call(this),this.h=h,this.g={}}S(Zi,P);var Ii=[];function Us(h){xe(h.g,function(_,T){this.g.hasOwnProperty(T)&&Hr(_)},h),h.g={}}Zi.prototype.N=function(){Zi.Z.N.call(this),Us(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=u.JSON.stringify,ba=u.JSON.parse,Tr=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function er(){}function Sr(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _n(){L.call(this,"d")}S(_n,L);function ii(){L.call(this,"c")}S(ii,L);var Wt={},Ea=null;function Yr(){return Ea=Ea||new tn}Wt.Ia="serverreachability";function uo(h){L.call(this,Wt.Ia,h)}S(uo,L);function Bi(h){const _=Yr();mn(_,new uo(_))}Wt.STAT_EVENT="statevent";function ms(h,_){L.call(this,Wt.STAT_EVENT,h),this.stat=_}S(ms,L);function Xt(h){const _=Yr();mn(_,new ms(_,h))}Wt.Ja="timingevent";function Rt(h,_){L.call(this,Wt.Ja,h),this.size=_}S(Rt,L);function zt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Lt(h,_,T,N,Q,ne){h.info(function(){if(h.g)if(ne){var Ee="",We=ne.split("&");for(let st=0;st<We.length;st++){var gn=We[st].split("=");if(gn.length>1){const Tt=gn[0];gn=gn[1];const lr=Tt.split("_");Ee=lr.length>=2&&lr[1]=="type"?Ee+(Tt+"="+gn+"&"):Ee+(Tt+"=redacted&")}}}else Ee=null;else Ee=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+_+`
`+T+`
`+Ee})}function mi(h,_,T,N,Q,ne,Ee){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+_+`
`+T+`
`+ne+" "+Ee})}function tr(h,_,T,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Cr(h,T)+(N?" "+N:"")})}function Ar(h,_){h.info(function(){return"TIMEOUT: "+_})}Kn.prototype.info=function(){};function Cr(h,_){if(!h.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var T=ne[h];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var Q=N[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let Ee=1;Ee<N.length;Ee++)N[Ee]=""}}}}return Gr(ne)}catch{return _}}var xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ps={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kr;function Ir(){}S(Ir,er),Ir.prototype.g=function(){return new XMLHttpRequest},Kr=new Ir;function qi(h){return encodeURIComponent(String(h))}function zs(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function pi(h,_,T,N){this.j=h,this.i=_,this.l=T,this.S=N||1,this.V=new Zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Bt={},En={};function Di(h,_,T){h.M=1,h.A=Bs(pn(_)),h.u=T,h.R=!0,Qe(h,null)}function Qe(h,_){h.F=Date.now(),ct(h),h.B=pn(h.A);var T=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),qs(T.i,"t",N),h.C=0,T=h.j.L,h.h=new bn,h.g=dc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Yn(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,N=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ii[0]=Q.toString()),Q=Ii);for(let ne=0;ne<Q.length;ne++){const Ee=be(T,Q[ne],N||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Bi(),Lt(h.i,h.v,h.B,h.l,h.S,h.u)}pi.prototype.ba=function(h){h=h.target;const _=this.O;_&&ar(h)==3?_.j():this.Y(h)},pi.prototype.Y=function(h){try{if(h==this.g)e:{const We=ar(this.g),gn=this.g.ya(),st=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||kn(this.g)))){this.K||We!=4||gn==7||(gn==8||st<=0?Bi(3):Bi(2)),Ft(this);var _=this.g.ca();this.X=_;var T=qt(this);if(this.o=_==200,mi(this.i,this.v,this.B,this.l,this.S,We,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,Q=this.g;if((N=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var ne=N;break t}}ne=null}if(h=ne)tr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,h);else{this.o=!1,this.m=3,Xt(12),Ln(this),Qn(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=Et(this,T),Tt==En){We==4&&(this.m=4,Xt(14),h=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Bt){this.m=4,Xt(15),tr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else tr(this.i,this.l,Tt,null),ri(this,Tt);if(bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||T.length!=0||this.h.h||(this.m=1,Xt(16),h=!1),this.o=this.o&&h,!h)tr(this.i,this.l,T,"[Invalid Chunked Response]"),Ln(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),_o(Ee),Ee.P=!0,Xt(11))}}else tr(this.i,this.l,T,null),ri(this,T);We==4&&Ln(this),this.o&&!this.K&&(We==4?hc(this.j,this):(this.o=!1,ct(this)))}else Rr(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Ln(this),Qn(this)}}}catch{}finally{}};function qt(h){if(!bt(h))return h.g.la();const _=kn(h.g);if(_==="")return"";let T="";const N=_.length,Q=ar(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),Qn(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<N;ne++)h.h.h=!0,T+=h.h.i.decode(_[ne],{stream:!(Q&&ne==N-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function bt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Et(h,_){var T=h.C,N=_.indexOf(`
`,T);return N==-1?En:(T=Number(_.substring(T,N)),isNaN(T)?Bt:(N+=1,N+T>_.length?En:(_=_.slice(N,N+T),h.C=N+T,_)))}pi.prototype.cancel=function(){this.K=!0,Ln(this)};function ct(h){h.T=Date.now()+h.H,sn(h,h.H)}function sn(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zt(g(h.aa,h),_)}function Ft(h){h.D&&(u.clearTimeout(h.D),h.D=null)}pi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(Bi(),Xt(17)),Ln(this),this.m=2,Qn(this)):sn(this,this.T-h)};function Qn(h){h.j.I==0||h.K||hc(h.j,h)}function Ln(h){Ft(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Us(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ri(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||xr(T.h,h))){if(!h.L&&xr(T.h,h)&&T.I==3){try{var N=T.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Na(T),Jr(T);else break e;Gs(T),Xt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=zt(g(T.Va,T),6e3));gi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Mr(T,11)}else if((h.L||T.g==h)&&Na(T),!R(_))for(Q=T.Ba.g.parse(_),_=0;_<Q.length;_++){let st=Q[_];const Tt=st[0];if(!(Tt<=T.K))if(T.K=Tt,st=st[1],T.I==2)if(st[0]=="c"){T.M=st[1],T.ba=st[2];const lr=st[3];lr!=null&&(T.ka=lr,T.j.info("VER="+T.ka));const Hi=st[4];Hi!=null&&(T.za=Hi,T.j.info("SVER="+T.za));const Pr=st[5];Pr!=null&&typeof Pr=="number"&&Pr>0&&(N=1.5*Pr,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Lr=h.g;if(Lr){const Oa=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var ne=N.h;ne.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ta(ne,ne.h),ne.h=null))}if(N.G){const Eo=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(N.wa=Eo,wt(N.J,N.G,Eo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var Ee=h;if(N.na=Ra(N,N.L?N.ba:null,N.W),Ee.L){Sa(N.h,Ee);var We=Ee,gn=N.O;gn&&(We.H=gn),We.D&&(Ft(We),ct(We)),N.g=Ee}else Tl(N);T.i.length>0&&Or(T)}else st[0]!="stop"&&st[0]!="close"||Mr(T,7);else T.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Mr(T,7):Es(T):st[0]!="noop"&&T.l&&T.l.qa(st),T.A=0)}}Bi(4)}catch{}}var Gt=class{constructor(h,_){this.g=h,this.map=_}};function ho(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gi(h){return h.h?1:h.g?h.g.size:0}function xr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ta(h,_){h.g?h.g.add(_):h.h=_}function Sa(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ho.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return M(h.i)}var vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const N=h[T].indexOf("=");let Q,ne=null;N>=0?(Q=h[T].substring(0,N),ne=h[T].substring(N+1)):Q=h[T],_(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Ni?(this.l=h.l,Dn(this,h.j),this.o=h.o,this.g=h.g,gs(this,h.u),this.h=h.h,mo(this,_l(h.i)),this.m=h.m):h&&(_=String(h).match(vl))?(this.l=!1,Dn(this,_[1]||"",!0),this.o=Nn(_[2]||""),this.g=Nn(_[3]||"",!0),gs(this,_[4]),this.h=Nn(_[5]||"",!0),mo(this,_[6]||"",!0),this.m=Nn(_[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}Ni.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Rn(_,Wn,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Rn(_,Wn,!0),"@"),h.push(qi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Rn(T,T.charAt(0)=="/"?Ca:po,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Rn(T,Qr)),h.join("")},Ni.prototype.resolve=function(h){const _=pn(this);let T=!!h.j;T?Dn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var N=h.h;if(T)gs(_,h.u);else if(T=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(N=_.h.slice(0,Q+1)+N)}if(Q=N,Q==".."||Q==".")N="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){N=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let Ee=0;Ee<Q.length;){const We=Q[Ee++];We=="."?N&&Ee==Q.length&&ne.push(""):We==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),N&&Ee==Q.length&&ne.push("")):(ne.push(We),N=!0)}N=ne.join("/")}else N=Q}return T?_.h=N:T=h.i.toString()!=="",T?mo(_,_l(h.i)):T=!!h.m,T&&(_.m=h.m),_};function pn(h){return new Ni(h)}function Dn(h,_,T){h.j=T?Nn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function gs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function mo(h,_,T){_ instanceof Dr?(h.i=_,vo(h.i,h.l)):(T||(_=Rn(_,Xn)),h.i=new Dr(_,h.l))}function wt(h,_,T){h.i.set(_,T)}function Bs(h){return wt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Nn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Rn(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,wn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Wn=/[#\/\?@]/g,po=/[#\?:]/g,Ca=/[#\?]/g,Xn=/[#\?@]/g,Qr=/#/g;function Dr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function On(h){h.g||(h.g=new Map,h.h=0,h.i&&Aa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=Dr.prototype,i.add=function(h,_){On(this),this.i=null,h=si(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function go(h,_){On(h),_=si(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function yo(h,_){return On(h),_=si(h,_),h.g.has(_)}i.forEach=function(h,_){On(this),this.g.forEach(function(T,N){T.forEach(function(Q){h.call(_,Q,N,this)},this)},this)};function Wr(h,_){On(h);let T=[];if(typeof _=="string")yo(h,_)&&(T=T.concat(h.g.get(si(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}i.set=function(h,_){return On(this),this.i=null,h=si(this,h),yo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=Wr(this,h),h.length>0?String(h[0]):_):_};function qs(h,_,T){go(h,_),T.length>0&&(h.i=null,h.g.set(si(h,_),M(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var T=_[N];const Q=qi(T);T=Wr(this,T);for(let ne=0;ne<T.length;ne++){let Ee=Q;T[ne]!==""&&(Ee+="="+qi(T[ne])),h.push(Ee)}}return this.i=h.join("&")};function _l(h){const _=new Dr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function si(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function vo(h,_){_&&!h.j&&(On(h),h.i=null,h.g.forEach(function(T,N){const Q=N.toLowerCase();N!=Q&&(go(this,N),qs(this,Q,T))},h)),h.j=_}function Vn(h,_){const T=new Kn;if(u.Image){const N=new Image;N.onload=E(Fi,T,"TestLoadImage: loaded",!0,_,N),N.onerror=E(Fi,T,"TestLoadImage: error",!1,_,N),N.onabort=E(Fi,T,"TestLoadImage: abort",!1,_,N),N.ontimeout=E(Fi,T,"TestLoadImage: timeout",!1,_,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function Fs(h,_){const T=new Kn,N=new AbortController,Q=setTimeout(()=>{N.abort(),Fi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Fi(T,"TestPingServer: ok",!0,_):Fi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Fi(T,"TestPingServer: error",!1,_)})}function Fi(h,_,T,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(T)}catch{}}function nr(){this.g=new Tr}function ir(h){this.i=h.Sb||null,this.h=h.ab||!1}S(ir,er),ir.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(h,_){tn.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,tn),i=Nr.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,rr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ys(this):rr(this),this.readyState==3&&Ia(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,ys(this))},i.Na=function(h){this.g&&(this.response=h,ys(this))},i.ga=function(){this.g&&ys(this)};function ys(h){h.readyState=4,h.l=null,h.j=null,h.B=null,rr(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let _="";return xe(h,function(T,N){_+=N,_+=":",_+=T,_+=`\r
`}),_}function xa(h,_,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Jn(T),typeof h=="string"?T!=null&&qi(T):wt(h,_,T))}function Dt(h){tn.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Dt,tn);var sr=/^https?$/i,Hs=["POST","PUT"];i=Dt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kr.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){vs(this,ne);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)T.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())T.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Hs,_,void 0)>=0)||N||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Ee]of T)this.g.setRequestHeader(ne,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){vs(this,ne)}};function vs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,bl(h),_s(h)}function bl(h){h.A||(h.A=!0,mn(h,"complete"),mn(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,mn(this,"complete"),mn(this,"abort"),_s(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),Dt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},i.Xa=function(){Xr(this)};function Xr(h){if(h.h&&typeof c<"u"){if(h.v&&ar(h)==4)setTimeout(h.Ca.bind(h),0);else if(mn(h,"readystatechange"),ar(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var N;if(N=ne===0){let Ee=String(h.D).match(vl)[1]||null;!Ee&&u.self&&u.self.location&&(Ee=u.self.location.protocol.slice(0,-1)),N=!sr.test(Ee?Ee.toLowerCase():"")}T=N}if(T)mn(h,"complete"),mn(h,"success");else{h.o=6;try{var Q=ar(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",bl(h)}}finally{_s(h)}}}}function _s(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||mn(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ba(_)}};function kn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rr(h){const _={};h=(h.g&&ar(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(R(h[N]))continue;var T=zs(h[N]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=_[Q]||[];_[Q]=ne,ne.push(T)}ke(_,function(N){return N.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function bs(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=or("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=or("baseRetryDelayMs",5e3,h),this.Za=or("retryDelaySeedMs",1e4,h),this.Ta=or("forwardChannelMaxRetries",2,h),this.va=or("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ho(h&&h.concurrentRequestLimit),this.Ba=new nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=bs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,T,N){Xt(0),this.W=h,this.H=_||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=Ra(this,null,this.W),Or(this)};function Es(h){if(Da(h),h.I==3){var _=h.V++,T=pn(h.J);if(wt(T,"SID",h.M),wt(T,"RID",_),wt(T,"TYPE","terminate"),$s(h,T),_=new pi(h,h.j,_),_.M=2,_.A=Bs(pn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=dc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ct(_)}Sl(h)}function Jr(h){h.g&&(_o(h),h.g.cancel(),h.g=null)}function Da(h){Jr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Or(h){if(!wa(h.h)&&!h.m){h.m=!0;var _=h.Ea;le||O(),pe||(le(),pe=!0),k.add(_,h),h.D=0}}function kr(h,_){return gi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zt(g(h.Ea,h,_),fc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new pi(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=D(ne),ve(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=wl(this,Q,_),T=pn(this.J),wt(T,"RID",h),wt(T,"CVER",22),this.G&&wt(T,"X-HTTP-Session-Id",this.G),$s(this,T),ne&&(this.R?_="headers="+qi(Jn(ne))+"&"+_:this.u&&xa(T,this.u,ne)),Ta(this.h,Q),this.Ra&&wt(T,"TYPE","init"),this.S?(wt(T,"$req",_),wt(T,"SID","null"),Q.U=!0,Di(Q,T,null)):Di(Q,T,_),this.I=2}}else this.I==3&&(h?El(this,h):this.i.length==0||wa(this.h)||El(this))};function El(h,_){var T;_?T=_.l:T=h.V++;const N=pn(h.J);wt(N,"SID",h.M),wt(N,"RID",T),wt(N,"AID",h.K),$s(h,N),h.u&&h.o&&xa(N,h.u,h.o),T=new pi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=wl(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ta(h.h,T),Di(T,N,_)}function $s(h,_){h.H&&xe(h.H,function(T,N){wt(_,N,T)}),h.l&&xe({},function(T,N){wt(_,N,T)})}function wl(h,_,T){T=Math.min(h.i.length,T);const N=h.l?g(h.l.Ka,h.l,h):null;e:{var Q=h.i;let We=-1;for(;;){const gn=["count="+T];We==-1?T>0?(We=Q[0].g,gn.push("ofs="+We)):We=0:gn.push("ofs="+We);let st=!0;for(let Tt=0;Tt<T;Tt++){var ne=Q[Tt].g;const lr=Q[Tt].map;if(ne-=We,ne<0)We=Math.max(0,Q[Tt].g-100),st=!1;else try{ne="req"+ne+"_"||"";try{var Ee=lr instanceof Map?lr:Object.entries(lr);for(const[Hi,Pr]of Ee){let Lr=Pr;p(Pr)&&(Lr=Gr(Pr)),gn.push(ne+Hi+"="+encodeURIComponent(Lr))}}catch(Hi){throw gn.push(ne+"type="+encodeURIComponent("_badmap")),Hi}}catch{N&&N(lr)}}if(st){Ee=gn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,T),_.G=h,Ee}function Tl(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;le||O(),pe||(le(),pe=!0),k.add(_,h),h.A=0}}function Gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zt(g(h.Da,h),fc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,bo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zt(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Jr(this),bo(this))};function _o(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function bo(h){h.g=new pi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=pn(h.na);wt(_,"RID","rpc"),wt(_,"SID",h.M),wt(_,"AID",h.K),wt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&wt(_,"TO",h.ia),wt(_,"TYPE","xmlhttp"),$s(h,_),h.u&&h.o&&xa(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Bs(pn(_)),T.u=null,T.R=!0,Qe(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Jr(this),Gs(this),Xt(19))};function Na(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function hc(h,_){var T=null;if(h.g==_){Na(h),_o(h),h.g=null;var N=2}else if(xr(h.h,_))T=_.G,Sa(h.h,_),N=1;else return;if(h.I!=0){if(_.o)if(N==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Q=h.D;N=Yr(),mn(N,new Rt(N,T)),Or(h)}else Tl(h);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(N==1&&kr(h,_)||N==2&&Gs(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),Q){case 1:Mr(h,5);break;case 4:Mr(h,10);break;case 3:Mr(h,6);break;default:Mr(h,2)}}}function fc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Mr(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),N=h.Ua;const Q=!N;N=new Ni(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Dn(N,"https"),Bs(N),Q?Vn(N.toString(),T):Fs(N.toString(),T)}else Xt(2);h.I=0,h.l&&h.l.pa(_),Sl(h),Da(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Sl(h){if(h.I=0,h.ja=[],h.l){const _=fo(h.h);(_.length!=0||h.i.length!=0)&&(Y(h.ja,_),Y(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Ra(h,_,T){var N=T instanceof Ni?pn(T):new Ni(T);if(N.g!="")_&&(N.g=_+"."+N.g),gs(N,N.u);else{var Q=u.location;N=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new Ni(null);N&&Dn(ne,N),_&&(ne.g=_),Q&&gs(ne,Q),T&&(ne.h=T),N=ne}return T=h.G,_=h.wa,T&&_&&wt(N,T,_),wt(N,"VER",h.ka),$s(h,N),N}function dc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Dt(new ir({ab:T})):new Dt(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}i=mc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Zr(){}Zr.prototype.g=function(h,_){return new ai(h,_)};function ai(h,_){tn.call(this),this.g=new bs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!R(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new jr(this)}S(ai,tn),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){Es(this.g)},ai.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Gr(h),h=T);_.i.push(new Gt(_.Ya++,h)),_.I==3&&Or(_)},ai.prototype.N=function(){this.g.l=null,delete this.j,Es(this.g),delete this.g,ai.Z.N.call(this)};function Al(h){_n.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}S(Al,_n);function es(){ii.call(this),this.status=1}S(es,ii);function jr(h){this.g=h}S(jr,mc),jr.prototype.ra=function(){mn(this.g,"a")},jr.prototype.qa=function(h){mn(this.g,new Al(h))},jr.prototype.pa=function(h){mn(this.g,new es)},jr.prototype.oa=function(){mn(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,xS=function(){return new Zr},IS=function(){return Yr()},CS=Wt,sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,jd=xi,ps.COMPLETE="complete",AS=ps,Sr.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",tn.prototype.listen=tn.prototype.J,Ah=Sr,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,SS=Dt}).apply(typeof wd<"u"?wd:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",Lw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Ky("@firebase/firestore");function qc(){return Jl.logLevel}function Ie(i,...e){if(Jl.logLevel<=ft.DEBUG){const t=e.map(sv);Jl.debug(`Firestore (${pu}): ${i}`,...t)}}function so(i,...e){if(Jl.logLevel<=ft.ERROR){const t=e.map(sv);Jl.error(`Firestore (${pu}): ${i}`,...t)}}function nu(i,...e){if(Jl.logLevel<=ft.WARN){const t=e.map(sv);Jl.warn(`Firestore (${pu}): ${i}`,...t)}}function sv(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,DS(i,s,t)}function DS(i,e,t){let s=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw so(s),new Error(s)}function jt(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||DS(e,o,s)}function et(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends va{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ji.UNAUTHENTICATED)))}shutdown(){}}class BO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class qO{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let c=new to;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new to,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new to)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new NS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new ji(e)}}class FO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new FO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ji.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $O{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(jt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Vw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GO(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function dt(i,e){return i<e?-1:i>e?1:0}function ay(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Rg(o)===Rg(c)?dt(o,c):Rg(o)?1:-1}return dt(i.length,e.length)}const YO=55296,KO=57343;function Rg(i){const e=i.charCodeAt(0);return e>=YO&&e<=KO}function iu(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__name__";class oa{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=oa.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return dt(e.length,t.length)}static compareSegments(e,t){const s=oa.isNumericId(e),o=oa.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?oa.extractNumericId(e).compare(oa.extractNumericId(t)):ay(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rl.fromString(e.substring(4,e.length-2))}}class en extends oa{construct(e,t,s){return new en(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new en(t)}static emptyPath(){return new en([])}}const QO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends oa{construct(e,t,s){return new Ti(e,t,s)}static isValidIdentifier(e){return QO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uw}static keyField(){return new Ti([Uw])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(s+=p,o++):(c(),o++)}if(c(),u)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(en.fromString(e))}static fromName(e){return new je(en.fromString(e).popFirst(5))}static empty(){return new je(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new en(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(i,e,t){if(!t)throw new Ae(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function WO(i,e,t,s){if(e===!0&&s===!0)throw new Ae(he.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function zw(i){if(!je.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Bw(i){if(je.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function OS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":$e(12329,{type:typeof i})}function hs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wm(i);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,e){const t={typeString:i};return e&&(t.value=e),t}function rf(i,e){if(!OS(i))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Ae(he.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Fw=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Fw);return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qw)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fw}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rf(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Gn("string",xt._jsonSchemaVersion),seconds:Gn("number"),nanoseconds:Gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new xt(0,0))}static max(){return new Je(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=-1;function XO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Je.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new al(o,je.empty(),e)}function JO(i){return new al(i.readTime,i.key,zh)}class al{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new al(Je.min(),je.empty(),zh)}static max(){return new al(Je.max(),je.empty(),zh)}}function ZO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(i.documentKey,e.documentKey),t!==0?t:dt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==e2)throw i;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):me.reject(t)}static resolve(e){return new me(((t,s)=>{t(e)}))}static reject(e){return new me(((t,s)=>{s(e)}))}static waitFor(e){return new me(((t,s)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&t()}),(y=>s(y)))})),u=!0,c===o&&t()}))}static or(e){let t=me.resolve(!1);for(const s of e)t=t.next((o=>o?me.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new me(((s,o)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const g=y;t(e[g]).next((E=>{u[g]=E,++p,p===c&&s(u)}),(E=>o(E)))}}))}static doWhile(e,t){return new me(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function n2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=-1;function Sm(i){return i==null}function Xd(i){return i===0&&1/i==-1/0}function i2(i){return typeof i=="number"&&Number.isInteger(i)&&!Xd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="";function r2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Hw(e)),e=s2(i.get(t),e);return Hw(e)}function s2(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case kS:t+="";break;default:t+=c}}return t}function Hw(i){return i+kS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function dl(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function MS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.comparator=e,this.root=t||wi.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??wi.RED,this.left=o??wi.EMPTY,this.right=c??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new wi(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return wi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new ni(Ti.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iu(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jS("Invalid base64 string: "+c):c}})(e);return new Ai(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const a2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(i){if(jt(!!i,39018),typeof i=="string"){let e=0;const t=a2.exec(i);if(jt(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mn(i.seconds),nanos:Mn(i.nanos)}}function Mn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ll(i){return typeof i=="string"?Ai.fromBase64String(i):Ai.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="server_timestamp",LS="__type__",VS="__previous_value__",US="__local_write_time__";function lv(i){return(i?.mapValue?.fields||{})[LS]?.stringValue===PS}function Am(i){const e=i.mapValue.fields[VS];return lv(e)?Am(e):e}function Bh(i){const e=ol(i.mapValue.fields[US].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,s,o,c,u,p,y,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Jd="(default)";class qh{constructor(e,t){this.projectId=e,this.database=t||Jd}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__type__",l2="__max__",Sd={mapValue:{}},BS="__vector__",Zd="value";function cl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lv(i)?4:u2(i)?9007199254740991:c2(i)?10:11:$e(28295,{value:i})}function ma(i,e){if(i===e)return!0;const t=cl(i);if(t!==cl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Bh(i).isEqual(Bh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=ol(o.timestampValue),p=ol(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ll(o.bytesValue).isEqual(ll(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Mn(o.geoPointValue.latitude)===Mn(c.geoPointValue.latitude)&&Mn(o.geoPointValue.longitude)===Mn(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Mn(o.integerValue)===Mn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Mn(o.doubleValue),p=Mn(c.doubleValue);return u===p?Xd(u)===Xd(p):isNaN(u)&&isNaN(p)}return!1})(i,e);case 9:return iu(i.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if($w(u)!==$w(p))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(p[y]===void 0||!ma(u[y],p[y])))return!1;return!0})(i,e);default:return $e(52216,{left:i})}}function Fh(i,e){return(i.values||[]).find((t=>ma(t,e)))!==void 0}function ru(i,e){if(i===e)return 0;const t=cl(i),s=cl(e);if(t!==s)return dt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return dt(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=Mn(c.integerValue||c.doubleValue),y=Mn(u.integerValue||u.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(i,e);case 3:return Yw(i.timestampValue,e.timestampValue);case 4:return Yw(Bh(i),Bh(e));case 5:return ay(i.stringValue,e.stringValue);case 6:return(function(c,u){const p=ll(c),y=ll(u);return p.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),y=u.split("/");for(let g=0;g<p.length&&g<y.length;g++){const E=dt(p[g],y[g]);if(E!==0)return E}return dt(p.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=dt(Mn(c.latitude),Mn(u.latitude));return p!==0?p:dt(Mn(c.longitude),Mn(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Kw(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},y=u.fields||{},g=p[Zd]?.arrayValue,E=y[Zd]?.arrayValue,S=dt(g?.values?.length||0,E?.values?.length||0);return S!==0?S:Kw(g,E)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Sd.mapValue&&u===Sd.mapValue)return 0;if(c===Sd.mapValue)return 1;if(u===Sd.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),g=u.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const I=ay(y[S],E[S]);if(I!==0)return I;const M=ru(p[y[S]],g[E[S]]);if(M!==0)return M}return dt(y.length,E.length)})(i.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function Yw(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return dt(i,e);const t=ol(i),s=ol(e),o=dt(t.seconds,s.seconds);return o!==0?o:dt(t.nanos,s.nanos)}function Kw(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=ru(t[o],s[o]);if(c)return c}return dt(t.length,s.length)}function su(i){return oy(i)}function oy(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ol(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ll(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return je.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=oy(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${oy(t.fields[u])}`;return o+"}"})(i.mapValue):$e(61005,{value:i})}function Pd(i){switch(cl(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(i);return e?16+Pd(e):16;case 5:return 2*i.stringValue.length;case 6:return ll(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Pd(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return dl(s.fields,((c,u)=>{o+=c.length+Pd(u)})),o})(i.mapValue);default:throw $e(13486,{value:i})}}function Qw(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ly(i){return!!i&&"integerValue"in i}function cv(i){return!!i&&"arrayValue"in i}function Ww(i){return!!i&&"nullValue"in i}function Xw(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ld(i){return!!i&&"mapValue"in i}function c2(i){return(i?.mapValue?.fields||{})[zS]?.stringValue===BS}function Oh(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return dl(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Oh(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oh(i.arrayValue.values[t]);return e}return{...i}}function u2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===l2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=Ti.emptyPath(),s={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,s,o),s={},o=[],t=p.popLast()}u?s[p.lastSegment()]=Oh(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ld(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){dl(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new _r(Oh(this.value))}}function qS(i){const e=[];return dl(i.fields,((t,s)=>{const o=new Ti([t]);if(Ld(s)){const c=qS(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,s,o,c,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Pi(e,0,Je.min(),Je.min(),Je.min(),_r.empty(),0)}static newFoundDocument(e,t,s,o){return new Pi(e,1,t,Je.min(),s,o,0)}static newNoDocument(e,t){return new Pi(e,2,t,Je.min(),Je.min(),_r.empty(),0)}static newUnknownDocument(e,t){return new Pi(e,3,t,Je.min(),Je.min(),_r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.position=e,this.inclusive=t}}function Jw(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=je.comparator(je.fromName(u.referenceValue),t.key):s=ru(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zw(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ma(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t="asc"){this.field=e,this.dir=t}}function h2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class $n extends FS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new d2(e,t,s):t==="array-contains"?new g2(e,s):t==="in"?new y2(e,s):t==="not-in"?new v2(e,s):t==="array-contains-any"?new _2(e,s):new $n(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new m2(e,s):new p2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ru(t,this.value)):t!==null&&cl(this.value)===cl(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends FS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ps(e,t)}matches(e){return HS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HS(i){return i.op==="and"}function $S(i){return f2(i)&&HS(i)}function f2(i){for(const e of i.filters)if(e instanceof Ps)return!1;return!0}function cy(i){if(i instanceof $n)return i.field.canonicalString()+i.op.toString()+su(i.value);if($S(i))return i.filters.map((e=>cy(e))).join(",");{const e=i.filters.map((t=>cy(t))).join(",");return`${i.op}(${e})`}}function GS(i,e){return i instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.field.isEqual(o.field)&&ma(s.value,o.value)})(i,e):i instanceof Ps?(function(s,o){return o instanceof Ps&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,p)=>c&&GS(u,o.filters[p])),!0):!1})(i,e):void $e(19439)}function YS(i){return i instanceof $n?(function(t){return`${t.field.canonicalString()} ${t.op} ${su(t.value)}`})(i):i instanceof Ps?(function(t){return t.op.toString()+" {"+t.getFilters().map(YS).join(" ,")+"}"})(i):"Filter"}class d2 extends $n{constructor(e,t,s){super(e,t,s),this.key=je.fromName(s.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class m2 extends $n{constructor(e,t){super(e,"in",t),this.keys=KS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class p2 extends $n{constructor(e,t){super(e,"not-in",t),this.keys=KS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function KS(i,e){return(e.arrayValue?.values||[]).map((t=>je.fromName(t.referenceValue)))}class g2 extends $n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cv(t)&&Fh(t.arrayValue,this.value)}}class y2 extends $n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fh(this.value.arrayValue,t)}}class v2 extends $n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fh(this.value.arrayValue,t)}}class _2 extends $n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Fh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t=null,s=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function eT(i,e=null,t=[],s=[],o=null,c=null,u=null){return new b2(i,e,t,s,o,c,u)}function uv(i){const e=et(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>cy(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Sm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>su(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>su(s))).join(",")),e.Te=t}return e.Te}function hv(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!h2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!GS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Zw(i.startAt,e.startAt)&&Zw(i.endAt,e.endAt)}function uy(i){return je.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t=null,s=[],o=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function E2(i,e,t,s,o,c,u,p){return new sf(i,e,t,s,o,c,u,p)}function Cm(i){return new sf(i)}function tT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function QS(i){return i.collectionGroup!==null}function kh(i){const e=et(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new ni(Ti.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new tm(c,s))})),t.has(Ti.keyField().canonicalString())||e.Ie.push(new tm(Ti.keyField(),s))}return e.Ie}function ua(i){const e=et(i);return e.Ee||(e.Ee=w2(e,kh(i))),e.Ee}function w2(i,e){if(i.limitType==="F")return eT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new tm(o.field,c)}));const t=i.endAt?new em(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new em(i.startAt.position,i.startAt.inclusive):null;return eT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function hy(i,e){const t=i.filters.concat([e]);return new sf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function fy(i,e,t){return new sf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Im(i,e){return hv(ua(i),ua(e))&&i.limitType===e.limitType}function WS(i){return`${uv(ua(i))}|lt:${i.limitType}`}function Fc(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>YS(o))).join(", ")}]`),Sm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>su(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>su(o))).join(",")),`Target(${s})`})(ua(i))}; limitType=${i.limitType})`}function xm(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):je.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of kh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,p,y){const g=Jw(u,p,y);return u.inclusive?g<=0:g<0})(s.startAt,kh(s),o)||s.endAt&&!(function(u,p,y){const g=Jw(u,p,y);return u.inclusive?g>=0:g>0})(s.endAt,kh(s),o))})(i,e)}function T2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function XS(i){return(e,t)=>{let s=!1;for(const o of kh(i)){const c=S2(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function S2(i,e,t){const s=i.field.isKeyField()?je.comparator(e.key,t.key):(function(c,u,p){const y=u.data.field(c),g=p.data.field(c);return y!==null&&g!==null?ru(y,g):$e(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new vn(je.comparator);function ao(){return A2}const JS=new vn(je.comparator);function Ch(...i){let e=JS;for(const t of i)e=e.insert(t.key,t);return e}function ZS(i){let e=JS;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Hl(){return Mh()}function eA(){return Mh()}function Mh(){return new ac((i=>i.toString()),((i,e)=>i.isEqual(e)))}const C2=new vn(je.comparator),I2=new ni(je.comparator);function mt(...i){let e=I2;for(const t of i)e=e.add(t);return e}const x2=new ni(dt);function D2(){return x2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function tA(i){return{integerValue:""+i}}function N2(i,e){return i2(e)?tA(e):fv(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this._=void 0}}function R2(i,e,t){return i instanceof Hh?(function(o,c){const u={fields:{[LS]:{stringValue:PS},[US]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lv(c)&&(c=Am(c)),c&&(u.fields[VS]=c),{mapValue:u}})(t,e):i instanceof $h?iA(i,e):i instanceof Gh?rA(i,e):(function(o,c){const u=nA(o,c),p=nT(u)+nT(o.Ae);return ly(u)&&ly(o.Ae)?tA(p):fv(o.serializer,p)})(i,e)}function O2(i,e,t){return i instanceof $h?iA(i,e):i instanceof Gh?rA(i,e):t}function nA(i,e){return i instanceof nm?(function(s){return ly(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Hh extends Dm{}class $h extends Dm{constructor(e){super(),this.elements=e}}function iA(i,e){const t=sA(e);for(const s of i.elements)t.some((o=>ma(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Gh extends Dm{constructor(e){super(),this.elements=e}}function rA(i,e){let t=sA(e);for(const s of i.elements)t=t.filter((o=>!ma(o,s)));return{arrayValue:{values:t}}}class nm extends Dm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function nT(i){return Mn(i.integerValue||i.doubleValue)}function sA(i){return cv(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t){this.field=e,this.transform=t}}function M2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof $h&&o instanceof $h||s instanceof Gh&&o instanceof Gh?iu(s.elements,o.elements,ma):s instanceof nm&&o instanceof nm?ma(s.Ae,o.Ae):s instanceof Hh&&o instanceof Hh})(i.transform,e.transform)}class j2{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Nm{}function aA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dv(i.key,Os.none()):new af(i.key,i.data,Os.none());{const t=i.data,s=_r.empty();let o=new ni(Ti.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new ml(i.key,s,new Fr(o.toArray()),Os.none())}}function P2(i,e,t){i instanceof af?(function(o,c,u){const p=o.value.clone(),y=rT(o.fieldTransforms,c,u.transformResults);p.setAll(y),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,t):i instanceof ml?(function(o,c,u){if(!Vd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=rT(o.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(oA(o)),y.setAll(p),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(i,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function jh(i,e,t,s){return i instanceof af?(function(c,u,p,y){if(!Vd(c.precondition,u))return p;const g=c.value.clone(),E=sT(c.fieldTransforms,y,u);return g.setAll(E),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof ml?(function(c,u,p,y){if(!Vd(c.precondition,u))return p;const g=sT(c.fieldTransforms,y,u),E=u.data;return E.setAll(oA(c)),E.setAll(g),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(i,e,t,s):(function(c,u,p){return Vd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(i,e,t)}function L2(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=nA(s.transform,o||null);c!=null&&(t===null&&(t=_r.empty()),t.set(s.field,c))}return t||null}function iT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&iu(s,o,((c,u)=>M2(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class af extends Nm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ml extends Nm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function rT(i,e,t){const s=new Map;jt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const c=i[o],u=c.transform,p=e.data.field(c.field);s.set(c.field,O2(u,p,t[o]))}return s}function sT(i,e,t){const s=new Map;for(const o of i){const c=o.transform,u=t.data.field(o.field);s.set(o.field,R2(c,u,e))}return s}class dv extends Nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V2 extends Nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&P2(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=jh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=jh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=eA();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=t.has(o.key)?null:p;const y=aA(u,p);y!==null&&s.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(Je.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mt())}isEqual(e){return this.batchId===e.batchId&&iu(this.mutations,e.mutations,((t,s)=>iT(t,s)))&&iu(this.baseMutations,e.baseMutations,((t,s)=>iT(t,s)))}}class mv{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return C2})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new mv(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,yt;function q2(i){switch(i){case he.OK:return $e(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return $e(15467,{code:i})}}function lA(i){if(i===void 0)return so("GRPC error has no .code"),he.UNKNOWN;switch(i){case Hn.OK:return he.OK;case Hn.CANCELLED:return he.CANCELLED;case Hn.UNKNOWN:return he.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return he.INTERNAL;case Hn.UNAVAILABLE:return he.UNAVAILABLE;case Hn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Hn.NOT_FOUND:return he.NOT_FOUND;case Hn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Hn.ABORTED:return he.ABORTED;case Hn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Hn.DATA_LOSS:return he.DATA_LOSS;default:return $e(39323,{code:i})}}(yt=Hn||(Hn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new rl([4294967295,4294967295],0);function aT(i){const e=F2().encode(i),t=new TS;return t.update(e),new Uint8Array(t.digest())}function oT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rl([t,s],0),new rl([o,c],0)]}class pv{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ih(`Invalid padding: ${t}`);if(s<0)throw new Ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ih(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=rl.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(rl.fromNumber(s)));return o.compare(H2)===1&&(o=new rl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=aT(e),[s,o]=oT(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new pv(c,o,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=aT(e),[s,o]=oT(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Rm(Je.min(),o,new vn(dt),ao(),mt())}}class of{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new of(s,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class cA{constructor(e,t){this.targetId=e,this.Ce=t}}class uA{constructor(e,t,s=Ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class lT{constructor(){this.ve=0,this.Fe=cT(),this.Me=Ai.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),t=mt(),s=mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:$e(38017,{changeType:c})}})),new of(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=cT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ao(),this.Je=Ad(),this.He=Ad(),this.Ye=new vn(dt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(uy(c))if(s===0){const u=new je(c.path);this.et(t,u,Pi.newNoDocument(u,Je.min()))}else jt(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),y=p?this.ct(p,e,u):1;if(y!==0){this.it(t);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,p;try{u=ll(s).toUint8Array()}catch(y){if(y instanceof jS)return nu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new pv(u,o,c)}catch(y){return nu(y instanceof Ih?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&uy(p.target)){const y=new je(p.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Pi.newNoDocument(y,e))}c.Be&&(t.set(u,c.ke()),c.qe())}}));let s=mt();this.He.forEach(((c,u)=>{let p=!0;u.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Rm(e,t,this.Ye,this.je,s);return this.je=ao(),this.Je=Ad(),this.He=Ad(),this.Ye=new vn(dt),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new lT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ni(dt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ni(dt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ad(){return new vn(je.comparator)}function cT(){return new vn(je.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class Q2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dy(i,e){return i.useProto3Json||Sm(e)?e:{value:e}}function im(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function W2(i,e){return im(i,e.toTimestamp())}function ha(i){return jt(!!i,49232),Je.fromTimestamp((function(t){const s=ol(t);return new xt(s.seconds,s.nanos)})(i))}function gv(i,e){return my(i,e).canonicalString()}function my(i,e){const t=(function(o){return new en(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function fA(i){const e=en.fromString(i);return jt(yA(e),10190,{key:e.toString()}),e}function py(i,e){return gv(i.databaseId,e.path)}function Og(i,e){const t=fA(e);if(t.get(1)!==i.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new je(mA(t))}function dA(i,e){return gv(i.databaseId,e)}function X2(i){const e=fA(i);return e.length===4?en.emptyPath():mA(e)}function gy(i){return new en(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mA(i){return jt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function uT(i,e,t){return{name:py(i,e),fields:t.value.mapValue.fields}}function J2(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:$e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(jt(E===void 0||typeof E=="string",58123),Ai.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ai.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(g){const E=g.code===void 0?he.UNKNOWN:lA(g.code);return new Ae(E,g.message||"")})(u);t=new uA(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Og(i,s.document.name),c=ha(s.document.updateTime),u=s.document.createTime?ha(s.document.createTime):Je.min(),p=new _r({mapValue:{fields:s.document.fields}}),y=Pi.newFoundDocument(o,c,u,p),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Ud(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Og(i,s.document),c=s.readTime?ha(s.readTime):Je.min(),u=Pi.newNoDocument(o,c),p=s.removedTargetIds||[];t=new Ud([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Og(i,s.document),c=s.removedTargetIds||[];t=new Ud([],c,o,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new B2(o,c),p=s.targetId;t=new cA(p,u)}}return t}function Z2(i,e){let t;if(e instanceof af)t={update:uT(i,e.key,e.value)};else if(e instanceof dv)t={delete:py(i,e.key)};else if(e instanceof ml)t={update:uT(i,e.key,e.data),updateMask:lk(e.fieldMask)};else{if(!(e instanceof V2))return $e(16599,{Vt:e.type});t={verify:py(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const p=u.transform;if(p instanceof Hh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $h)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nm)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw $e(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:W2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:$e(27497)})(i,e.precondition)),t}function ek(i,e){return i&&i.length>0?(jt(e!==void 0,14353),i.map((t=>(function(o,c){let u=o.updateTime?ha(o.updateTime):ha(c);return u.isEqual(Je.min())&&(u=ha(c)),new j2(u,o.transformResults||[])})(t,e)))):[]}function tk(i,e){return{documents:[dA(i,e.path)]}}function nk(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dA(i,o);const c=(function(g){if(g.length!==0)return gA(Ps.create(g,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((E=>(function(I){return{field:Hc(I.field),direction:sk(I.dir)}})(E)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=dy(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function ik(i){let e=X2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];t.where&&(c=(function(S){const I=pA(S);return I instanceof Ps&&$S(I)?I.getFilters():[I]})(t.where));let u=[];t.orderBy&&(u=(function(S){return S.map((I=>(function(Y){return new tm($c(Y.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(I)))})(t.orderBy));let p=null;t.limit&&(p=(function(S){let I;return I=typeof S=="object"?S.value:S,Sm(I)?null:I})(t.limit));let y=null;t.startAt&&(y=(function(S){const I=!!S.before,M=S.values||[];return new em(M,I)})(t.startAt));let g=null;return t.endAt&&(g=(function(S){const I=!S.before,M=S.values||[];return new em(M,I)})(t.endAt)),E2(e,o,u,c,p,"F",y,g)}function rk(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=$c(t.unaryFilter.field);return $n.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$c(t.unaryFilter.field);return $n.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$c(t.unaryFilter.field);return $n.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$c(t.unaryFilter.field);return $n.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(i):i.fieldFilter!==void 0?(function(t){return $n.create($c(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Ps.create(t.compositeFilter.filters.map((s=>pA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(i):$e(30097,{filter:i})}function sk(i){return G2[i]}function ak(i){return Y2[i]}function ok(i){return K2[i]}function Hc(i){return{fieldPath:i.canonicalString()}}function $c(i){return Ti.fromServerFormat(i.fieldPath)}function gA(i){return i instanceof $n?(function(t){if(t.op==="=="){if(Xw(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NAN"}};if(Ww(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xw(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NAN"}};if(Ww(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(t.field),op:ak(t.op),value:t.value}}})(i):i instanceof Ps?(function(t){const s=t.getFilters().map((o=>gA(o)));return s.length===1?s[0]:{compositeFilter:{op:ok(t.op),filters:s}}})(i):$e(54877,{filter:i})}function lk(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function yA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,s,o,c=Je.min(),u=Je.min(),p=Ai.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.yt=e}}function uk(i){const e=ik({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.Cn=new fk}addToCollectionParentIndex(e,t){return this.Cn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(al.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(al.min())}updateCollectionGroup(e,t,s){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class fk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new ni(en.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ni(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(vA,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new au(0)}static cr(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="LruGarbageCollector",dk=1048576;function dT([i,e],[t,s]){const o=dt(i,t);return o===0?dt(e,s):o}class mk{constructor(e){this.Ir=e,this.buffer=new ni(dT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();dT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(fT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yu(t)?Ie(fT,"Ignoring IndexedDB error during garbage collection: ",t):await gu(t)}await this.Vr(3e5)}))}}class gk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return me.resolve(Tm.ce);const s=new mk(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(hT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,u,p,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,t)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),qc()<=ft.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function yk(i,e){return new gk(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.changes=new ac((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?me.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&jh(s.mutation,o,Fr.empty(),xt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,mt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=mt()){const o=Hl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let u=Ch();return c.forEach(((p,y)=>{u=u.insert(p,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=Hl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,mt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,o){let c=ao();const u=Mh(),p=(function(){return Mh()})();return t.forEach(((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ml)?c=c.insert(g.key,g):E!==void 0?(u.set(g.key,E.mutation.getFieldMask()),jh(E.mutation,g,E.mutation.getFieldMask(),xt.now())):u.set(g.key,Fr.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,E)=>u.set(g,E))),t.forEach(((g,E)=>p.set(g,new _k(E,u.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Mh();let o=new vn(((u,p)=>u-p)),c=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((y=>{const g=t.get(y);if(g===null)return;let E=s.get(y)||Fr.empty();E=p.applyToLocalView(g,E),s.set(y,E);const S=(o.get(p.batchId)||mt()).add(y);o=o.insert(p.batchId,S)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,E=y.value,S=eA();E.forEach((I=>{if(!c.has(I)){const M=aA(t.get(I),s.get(I));M!==null&&S.set(I,M),c=c.add(I)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,S))}return me.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):me.resolve(Hl());let p=zh,y=c;return u.next((g=>me.forEach(g,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?me.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{y=y.insert(E,I)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,mt()))).next((E=>({batchId:p,changes:ZS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next((s=>{let o=Ch();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=Ch();return this.indexManager.getCollectionParents(e,c).next((p=>me.forEach(p,(y=>{const g=(function(S,I){return new sf(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((S,I)=>{u=u.insert(S,I)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((u=>{c.forEach(((y,g)=>{const E=g.getKey();u.get(E)===null&&(u=u.insert(E,Pi.newInvalidDocument(E)))}));let p=Ch();return u.forEach(((y,g)=>{const E=c.get(y);E!==void 0&&jh(E.mutation,g,Fr.empty(),xt.now()),xm(t,g)&&(p=p.insert(y,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return me.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ha(o.createTime)}})(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:uk(o.bundledQuery),readTime:ha(o.readTime)}})(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.overlays=new vn(je.comparator),this.qr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hl();return me.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),me.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),me.resolve()}getOverlaysForCollection(e,t,s){const o=Hl(),c=t.length+1,u=new je(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return me.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new vn(((g,E)=>g-E));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=c.get(g.largestBatchId);E===null&&(E=Hl(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Hl(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>p.set(g,E))),!(p.size()>=o)););return me.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new z2(t,s));let c=this.qr.get(t);c===void 0&&(c=mt(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.sessionToken=Ai.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Qr=new ni(fi.$r),this.Ur=new ni(fi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new fi(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new fi(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new je(new en([])),s=new fi(t,e),o=new fi(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new je(new en([])),s=new fi(t,e),o=new fi(t,e+1);let c=mt();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new fi(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class fi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return je.comparator(e.key,t.key)||dt(e.Yr,t.Yr)}static Kr(e,t){return dt(e.Yr,t.Yr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ni(fi.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new U2(c,t,s,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new fi(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?ov:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new fi(t,0),o=new fi(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const p=this.Xr(u.Yr);c.push(p)})),me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ni(dt);return t.forEach((o=>{const c=new fi(o,0),u=new fi(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(p=>{s=s.add(p.Yr)}))})),me.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;je.isDocumentKey(c)||(c=c.child(""));const u=new fi(new je(c),0);let p=new ni(dt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Yr)),!0)}),u),me.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){jt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return me.forEach(t.mutations,(o=>{const c=new fi(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new fi(t,0),o=this.Zr.firstAfterOrEqual(s);return me.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.ri=e,this.docs=(function(){return new vn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return me.resolve(s?s.document.mutableCopy():Pi.newInvalidDocument(t))}getEntries(e,t){let s=ao();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Pi.newInvalidDocument(o))})),me.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=ao();const u=t.path,p=new je(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||ZO(JO(E),s)<=0||(o.has(E.key)||xm(t,E))&&(c=c.insert(E.key,E.mutableCopy()))}return me.resolve(c)}getAllFromCollectionGroup(e,t,s,o){$e(9500)}ii(e,t){return me.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Ck(this)}getSize(e){return me.resolve(this.size)}}class Ck extends vk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),me.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.persistence=e,this.si=new ac((t=>uv(t)),hv),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new yv,this.targetCount=0,this.ai=au.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),me.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new au(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Pr(t),me.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),me.waitFor(c).next((()=>o))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return me.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),me.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return me.resolve(s)}containsKey(e,t){return me.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.ui={},this.overlays={},this.ci=new Tm(0),this.li=!1,this.li=!0,this.hi=new Tk,this.referenceDelegate=e(this),this.Pi=new Ik(this),this.indexManager=new hk,this.remoteDocumentCache=(function(o){return new Ak(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ck(t),this.Ii=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Sk(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Ie("MemoryPersistence","Starting transaction:",e);const o=new xk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return me.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class xk extends t2{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Ri=new yv,this.Vi=null}static mi(e){return new vv(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),me.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(s=>{const o=je.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return me.or([()=>me.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class rm{constructor(e,t){this.persistence=e,this.pi=new ac((s=>r2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yk(this,t)}static mi(e,t){return new rm(e,t)}Ei(){}di(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return me.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?me.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((p=>{p||(s++,c.removeEntry(u,Je.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pd(e.data.value)),t}br(e,t,s){return me.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return me.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=mt(),o=mt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _v(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aD()?8:n2(Li())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new Dk;return this.Ss(e,t,u).next((p=>{if(c.result=p,this.Vs)return this.bs(e,t,u,p.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(qc()<=ft.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",Fc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(qc()<=ft.DEBUG&&Ie("QueryEngine","Query:",Fc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qc()<=ft.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",Fc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(t))):me.resolve())}ys(e,t){if(tT(t))return me.resolve(null);let s=ua(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=fy(t,null,"F"),s=ua(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=mt(...c);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.Ds(t,p);return this.Cs(t,g,u,y.readTime)?this.ys(e,fy(t,null,"F")):this.vs(e,g,t,y)}))))})))))}ws(e,t,s,o){return tT(t)||o.isEqual(Je.min())?me.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(t,c);return this.Cs(t,u,s,o)?me.resolve(null):(qc()<=ft.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fc(t)),this.vs(e,u,t,XO(o,zh)).next((p=>p)))}))}Ds(e,t){let s=new ni(XS(e));return t.forEach(((o,c)=>{xm(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return qc()<=ft.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",Fc(t)),this.ps.getDocumentsMatchingQuery(e,t,al.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LocalStore",Rk=3e8;class Ok{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vn(dt),this.xs=new ac((c=>uv(c)),hv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function kk(i,e,t,s){return new Ok(i,e,t,s)}async function bA(i,e){const t=et(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],p=[];let y=mt();for(const g of o){u.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of c){p.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:p})))}))}))}function Mk(i,e){const t=et(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,E){const S=g.batch,I=S.keys();let M=me.resolve();return I.forEach((Y=>{M=M.next((()=>E.getEntry(y,Y))).next((W=>{const z=g.docVersions.get(Y);jt(z!==null,48541),W.version.compareTo(z)<0&&(S.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=mt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function EA(i){const e=et(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jk(i,e){const t=et(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const I=o.get(S);if(!I)return;p.push(t.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(c,E.addedDocuments,S))));let M=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Ai.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),(function(W,z,B){return W.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Rk?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(I,M,E)&&p.push(t.Pi.updateTargetData(c,M))}));let y=ao(),g=mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(Pk(c,u,e.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!s.isEqual(Je.min())){const E=t.Pi.getLastRemoteSnapshotVersion(c).next((S=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return me.waitFor(p).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(t.Ms=o,c)))}function Pk(i,e,t){let s=mt(),o=mt();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=ao();return t.forEach(((p,y)=>{const g=c.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Je.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Ie(bv,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:u,qs:o}}))}function Lk(i,e){const t=et(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ov),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Vk(i,e){const t=et(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,me.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new tl(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function yy(i,e,t){const s=et(i),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!yu(u))throw u;Ie(bv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function mT(i,e,t){const s=et(i);let o=Je.min(),c=mt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,g,E){const S=et(y),I=S.xs.get(E);return I!==void 0?me.resolve(S.Ms.get(I)):S.Pi.getTargetData(g,E)})(s,u,ua(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Je.min(),t?c:mt()))).next((p=>(Uk(s,T2(e),p),{documents:p,Qs:c})))))}function Uk(i,e,t){let s=i.Os.get(e)||Je.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class pT{constructor(){this.activeTargetIds=D2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zk{constructor(){this.Mo=new pT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="ConnectivityMonitor";class yT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie(gT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie(gT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function vy(){return Cd===null?Cd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="RestConnection",qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Jd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const u=vy(),p=this.zo(e,t.toUriEncodedString());Ie(kg,`Sending RPC '${e}' ${u}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:g}=new URL(p),E=hu(g);return this.Jo(e,p,y,s,E).then((S=>(Ie(kg,`Received RPC '${e}' ${u}: `,S),S)),(S=>{throw nu(kg,`RPC '${e}' ${u} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,t,s,o,c,u){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=qk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="WebChannelConnection";class $k extends Fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const u=vy();return new Promise(((p,y)=>{const g=new SS;g.setWithCredentials(!0),g.listenOnce(AS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jd.NO_ERROR:const S=g.getResponseJson();Ie(Mi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),p(S);break;case jd.TIMEOUT:Ie(Mi,`RPC '${e}' ${u} timed out`),y(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const I=g.getStatus();if(Ie(Mi,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const Y=M?.error;if(Y&&Y.status&&Y.message){const W=(function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf($)>=0?$:he.UNKNOWN})(Y.status);y(new Ae(W,Y.message))}else y(new Ae(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ie(Mi,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);Ie(Mi,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=vy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=xS(),p=IS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const E=c.join("");Ie(Mi,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=u.createWebChannel(E,y);this.I_(S);let I=!1,M=!1;const Y=new Hk({Yo:z=>{M?Ie(Mi,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(I||(Ie(Mi,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),Ie(Mi,`RPC '${e}' stream ${o} sending:`,z),S.send(z))},Zo:()=>S.close()}),W=(z,B,$)=>{z.listen(B,(te=>{try{$(te)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return W(S,Ah.EventType.OPEN,(()=>{M||(Ie(Mi,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),W(S,Ah.EventType.CLOSE,(()=>{M||(M=!0,Ie(Mi,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),W(S,Ah.EventType.ERROR,(z=>{M||(M=!0,nu(Mi,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),Y.a_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),W(S,Ah.EventType.MESSAGE,(z=>{if(!M){const B=z.data[0];jt(!!B,16349);const $=B,te=$?.error||$[0]?.error;if(te){Ie(Mi,`RPC '${e}' stream ${o} received error:`,te);const ye=te.status;let le=(function(O){const j=Hn[O];if(j!==void 0)return lA(j)})(ye),pe=te.message;le===void 0&&(le=he.INTERNAL,pe="Unknown error status: "+ye+" with message "+te.message),M=!0,Y.a_(new Ae(le,pe)),S.close()}else Ie(Mi,`RPC '${e}' stream ${o} received:`,B),Y.u_(B)}})),W(p,CS.STAT_EVENT,(z=>{z.stat===sy.PROXY?Ie(Mi,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===sy.NOPROXY&&Ie(Mi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(i){return new Q2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class TA{constructor(e,t,s,o,c,u,p,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ie(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ie(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gk extends TA{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=J2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Je.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Je.min():u.readTime?ha(u.readTime):Je.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=gy(this.serializer),t.addTarget=(function(c,u){let p;const y=u.target;if(p=uy(y)?{documents:tk(c,y)}:{query:nk(c,y).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=hA(c,u.resumeToken);const g=dy(c,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(Je.min())>0){p.readTime=im(c,u.snapshotVersion.toTimestamp());const g=dy(c,u.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=rk(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=gy(this.serializer),t.removeTarget=e,this.q_(t)}}class Yk extends TA{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ek(e.writeResults,e.commitTime),s=ha(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Z2(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{}class Qk extends Kk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,my(t,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(he.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,my(t,s),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(so(t),this.aa=!1):Ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class Xk{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{oc(this)&&(Ie(Zl,"Restarting streams for network reachability change."),await(async function(y){const g=et(y);g.Ea.add(4),await lf(g),g.Ra.set("Unknown"),g.Ea.delete(4),await km(g)})(this))}))})),this.Ra=new Wk(s,o)}}async function km(i){if(oc(i))for(const e of i.da)await e(!0)}async function lf(i){for(const e of i.da)await e(!1)}function SA(i,e){const t=et(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Sv(t)?Tv(t):vu(t).O_()&&wv(t,e))}function Ev(i,e){const t=et(i),s=vu(t);t.Ia.delete(e),s.O_()&&AA(t,e),t.Ia.size===0&&(s.O_()?s.L_():oc(t)&&t.Ra.set("Unknown"))}function wv(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vu(i).Y_(e)}function AA(i,e){i.Va.Ue(e),vu(i).Z_(e)}function Tv(i){i.Va=new $2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),vu(i).start(),i.Ra.ua()}function Sv(i){return oc(i)&&!vu(i).x_()&&i.Ia.size>0}function oc(i){return et(i).Ea.size===0}function CA(i){i.Va=void 0}async function Jk(i){i.Ra.set("Online")}async function Zk(i){i.Ia.forEach(((e,t)=>{wv(i,e)}))}async function eM(i,e){CA(i),Sv(i)?(i.Ra.ha(e),Tv(i)):i.Ra.set("Unknown")}async function tM(i,e,t){if(i.Ra.set("Online"),e instanceof uA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){Ie(Zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sm(i,s)}else if(e instanceof Ud?i.Va.Ze(e):e instanceof cA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Je.min()))try{const s=await EA(i.localStore);t.compareTo(s)>=0&&await(function(c,u){const p=c.Va.Tt(u);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(y.resumeToken,u))}})),p.targetMismatches.forEach(((y,g)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ai.EMPTY_BYTE_STRING,E.snapshotVersion)),AA(c,y);const S=new tl(E.target,y,g,E.sequenceNumber);wv(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(s){Ie(Zl,"Failed to raise snapshot:",s),await sm(i,s)}}async function sm(i,e,t){if(!yu(e))throw e;i.Ea.add(1),await lf(i),i.Ra.set("Offline"),t||(t=()=>EA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Ie(Zl,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await km(i)}))}function IA(i,e){return e().catch((t=>sm(i,t,e)))}async function Mm(i){const e=et(i),t=ul(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ov;for(;nM(e);)try{const o=await Lk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,iM(e,o)}catch(o){await sm(e,o)}xA(e)&&DA(e)}function nM(i){return oc(i)&&i.Ta.length<10}function iM(i,e){i.Ta.push(e);const t=ul(i);t.O_()&&t.X_&&t.ea(e.mutations)}function xA(i){return oc(i)&&!ul(i).x_()&&i.Ta.length>0}function DA(i){ul(i).start()}async function rM(i){ul(i).ra()}async function sM(i){const e=ul(i);for(const t of i.Ta)e.ea(t.mutations)}async function aM(i,e,t){const s=i.Ta.shift(),o=mv.from(s,e,t);await IA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Mm(i)}async function oM(i,e){e&&ul(i).X_&&await(async function(s,o){if((function(u){return q2(u)&&u!==he.ABORTED})(o.code)){const c=s.Ta.shift();ul(s).B_(),await IA(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Mm(s)}})(i,e),xA(i)&&DA(i)}async function _T(i,e){const t=et(i);t.asyncQueue.verifyOperationInProgress(),Ie(Zl,"RemoteStore received new credentials");const s=oc(t);t.Ea.add(3),await lf(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await km(t)}async function lM(i,e){const t=et(i);e?(t.Ea.delete(2),await km(t)):e||(t.Ea.add(2),await lf(t),t.Ra.set("Unknown"))}function vu(i){return i.ma||(i.ma=(function(t,s,o){const c=et(t);return c.sa(),new Gk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Jk.bind(null,i),t_:Zk.bind(null,i),r_:eM.bind(null,i),H_:tM.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Sv(i)?Tv(i):i.Ra.set("Unknown")):(await i.ma.stop(),CA(i))}))),i.ma}function ul(i){return i.fa||(i.fa=(function(t,s,o){const c=et(t);return c.sa(),new Yk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:rM.bind(null,i),r_:oM.bind(null,i),ta:sM.bind(null,i),na:aM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Mm(i)):(await i.fa.stop(),i.Ta.length>0&&(Ie(Zl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,p=new Av(e,t,u,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(i,e){if(so("AsyncQueue",`${e}: ${i}`),yu(i))return new Ae(he.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||je.comparator(t.key,s.key):(t,s)=>je.comparator(t.key,s.key),this.keyedMap=Ch(),this.sortedSet=new vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.ga=new vn(je.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ou{constructor(e,t,s,o,c,u,p,y,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new ou(e,t,Zc.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uM{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=et(t),c=o.queries;o.queries=ET(),c.forEach(((u,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function ET(){return new ac((i=>WS(i)),Im)}async function Iv(i,e){const t=et(i);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new cM,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Cv(u,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Dv(t)}async function xv(i,e){const t=et(i),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function hM(i,e){const t=et(i);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const p of u.Sa)p.Fa(o)&&(s=!0);u.wa=o}}s&&Dv(t)}function fM(i,e,t){const s=et(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function Dv(i){i.Ca.forEach((e=>{e.next()}))}var _y,wT;(wT=_y||(_y={})).Ma="default",wT.Cache="cache";class Nv{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ou(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.key=e}}class RA{constructor(e){this.key=e}}class dM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=XS(e),this.tu=new Zc(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new bT,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const I=o.get(E),M=xm(this.query,S)?S:null,Y=!!I&&this.mutatedKeys.has(I.key),W=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let z=!1;I&&M?I.data.isEqual(M.data)?Y!==W&&(s.track({type:3,doc:M}),z=!0):this.su(I,M)||(s.track({type:2,doc:M}),z=!0,(y&&this.eu(M,y)>0||g&&this.eu(M,g)<0)&&(p=!0)):!I&&M?(s.track({type:0,doc:M}),z=!0):I&&!M&&(s.track({type:1,doc:I}),z=!0,(y||g)&&(p=!0)),z&&(M?(u=u.add(M),c=W?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:u,iu:s,Cs:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,S)=>(function(M,Y){const W=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:z})}};return W(M)-W(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,u.length!==0||g?{snapshot:new ou(this.query,e.tu,c,u,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new RA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new NA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=mt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ou.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rv="SyncEngine";class mM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class pM{constructor(e){this.key=e,this.hu=!1}}class gM{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ac((p=>WS(p)),Im),this.Iu=new Map,this.Eu=new Set,this.du=new vn(je.comparator),this.Au=new Map,this.Ru=new yv,this.Vu={},this.mu=new Map,this.fu=au.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yM(i,e,t=!0){const s=LA(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await OA(s,e,t,!0),o}async function vM(i,e){const t=LA(i);await OA(t,e,!0,!1)}async function OA(i,e,t,s){const o=await Vk(i.localStore,ua(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await _M(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&SA(i.remoteStore,o),p}async function _M(i,e,t,s,o){i.pu=(S,I,M)=>(async function(W,z,B,$){let te=z.view.ru(B);te.Cs&&(te=await mT(W.localStore,z.query,!1).then((({documents:k})=>z.view.ru(k,te))));const ye=$&&$.targetChanges.get(z.targetId),le=$&&$.targetMismatches.get(z.targetId)!=null,pe=z.view.applyChanges(te,W.isPrimaryClient,ye,le);return ST(W,z.targetId,pe.au),pe.snapshot})(i,S,I,M);const c=await mT(i.localStore,e,!0),u=new dM(e,c.Qs),p=u.ru(c.documents),y=of.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=u.applyChanges(p,i.isPrimaryClient,y);ST(i,t,g.au);const E=new mM(e,t,u);return i.Tu.set(e,E),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function bM(i,e,t){const s=et(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Im(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ev(s.remoteStore,o.targetId),by(s,o.targetId)})).catch(gu)):(by(s,o.targetId),await yy(s.localStore,o.targetId,!0))}async function EM(i,e){const t=et(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ev(t.remoteStore,s.targetId))}async function wM(i,e,t){const s=DM(i);try{const o=await(function(u,p){const y=et(u),g=xt.now(),E=p.reduce(((M,Y)=>M.add(Y.key)),mt());let S,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let Y=ao(),W=mt();return y.Ns.getEntries(M,E).next((z=>{Y=z,Y.forEach(((B,$)=>{$.isValidDocument()||(W=W.add(B))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,Y))).next((z=>{S=z;const B=[];for(const $ of p){const te=L2($,S.get($.key).overlayedDocument);te!=null&&B.push(new ml($.key,te,qS(te.value.mapValue),Os.exists(!0)))}return y.mutationQueue.addMutationBatch(M,g,B,p)})).next((z=>{I=z;const B=z.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(M,z.batchId,B)}))})).then((()=>({batchId:I.batchId,changes:ZS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,p,y){let g=u.Vu[u.currentUser.toKey()];g||(g=new vn(dt)),g=g.insert(p,y),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,t),await cf(s,o.changes),await Mm(s.remoteStore)}catch(o){const c=Cv(o,"Failed to persist write");t.reject(c)}}async function kA(i,e){const t=et(i);try{const s=await jk(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Au.get(c);u&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?jt(u.hu,14607):o.removedDocuments.size>0&&(jt(u.hu,42227),u.hu=!1))})),await cf(t,s,e)}catch(s){await gu(s)}}function TT(i,e,t){const s=et(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const y=et(u);y.onlineState=p;let g=!1;y.queries.forEach(((E,S)=>{for(const I of S.Sa)I.va(p)&&(g=!0)})),g&&Dv(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TM(i,e,t){const s=et(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new vn(je.comparator);u=u.insert(c,Pi.newNoDocument(c,Je.min()));const p=mt().add(c),y=new Rm(Je.min(),new Map,new vn(dt),u,p);await kA(s,y),s.du=s.du.remove(c),s.Au.delete(e),Ov(s)}else await yy(s.localStore,e,!1).then((()=>by(s,e,t))).catch(gu)}async function SM(i,e){const t=et(i),s=e.batch.batchId;try{const o=await Mk(t.localStore,e);jA(t,s,null),MA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await cf(t,o)}catch(o){await gu(o)}}async function AM(i,e,t){const s=et(i);try{const o=await(function(u,p){const y=et(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,p).next((S=>(jt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);jA(s,e,t),MA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await cf(s,o)}catch(o){await gu(o)}}function MA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function jA(i,e,t){const s=et(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function by(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||PA(i,s)}))}function PA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ev(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Ov(i))}function ST(i,e,t){for(const s of t)s instanceof NA?(i.Ru.addReference(s.key,e),CM(i,s)):s instanceof RA?(Ie(Rv,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||PA(i,s.key)):$e(19791,{wu:s})}function CM(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(Ie(Rv,"New document in limbo: "+t),i.Eu.add(s),Ov(i))}function Ov(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new je(en.fromString(e)),s=i.fu.next();i.Au.set(s,new pM(t)),i.du=i.du.insert(t,s),SA(i.remoteStore,new tl(ua(Cm(t.path)),s,"TargetPurposeLimboResolution",Tm.ce))}}async function cf(i,e,t){const s=et(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{u.push(s.pu(y,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const E=g?!g.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=_v.As(y.targetId,g);c.push(E)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(y,g){const E=et(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>me.forEach(g,(I=>me.forEach(I.Es,(M=>E.persistence.referenceDelegate.addReference(S,I.targetId,M))).next((()=>me.forEach(I.ds,(M=>E.persistence.referenceDelegate.removeReference(S,I.targetId,M)))))))))}catch(S){if(!yu(S))throw S;Ie(bv,"Failed to update sequence numbers: "+S)}for(const S of g){const I=S.targetId;if(!S.fromCache){const M=E.Ms.get(I),Y=M.snapshotVersion,W=M.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(I,W)}}})(s.localStore,c))}async function IM(i,e){const t=et(i);if(!t.currentUser.isEqual(e)){Ie(Rv,"User change. New user:",e.toKey());const s=await bA(t.localStore,e);t.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new Ae(he.CANCELLED,u))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cf(t,s.Ls)}}function xM(i,e){const t=et(i),s=t.Au.get(e);if(s&&s.hu)return mt().add(s.key);{let o=mt();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function LA(i){const e=et(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TM.bind(null,e),e.Pu.H_=hM.bind(null,e.eventManager),e.Pu.yu=fM.bind(null,e.eventManager),e}function DM(i){const e=et(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AM.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kk(this.persistence,new Nk,e.initialUser,this.serializer)}Cu(e){return new _A(vv.mi,this.serializer)}Du(e){return new zk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class NM extends am{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){jt(this.persistence.referenceDelegate instanceof rm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pk(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new _A((s=>rm.mi(s,t)),this.serializer)}}class Ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uM})()}createDatastore(e){const t=Om(e.databaseInfo.databaseId),s=(function(c){return new $k(c)})(e.databaseInfo);return(function(c,u,p,y){return new Qk(c,u,p,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,u,p){return new Xk(s,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>TT(this.syncEngine,t,0)),(function(){return yT.v()?new yT:new Bk})())}createSyncEngine(e,t){return(function(o,c,u,p,y,g,E){const S=new gM(o,c,u,p,y,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=et(t);Ie(Zl,"RemoteStore shutting down."),s.Ea.add(5),await lf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ey.provider={build:()=>new Ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class RM{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ji.UNAUTHENTICATED,this.clientId=av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{Ie(hl,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Ie(hl,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Cv(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jg(i,e){i.asyncQueue.verifyOperationInProgress(),Ie(hl,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function AT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await OM(i);Ie(hl,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>_T(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>_T(e.remoteStore,o))),i._onlineComponents=e}async function OM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ie(hl,"Using user provided OfflineComponentProvider");try{await jg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;nu("Error using user provided cache. Falling back to memory cache: "+t),await jg(i,new am)}}else Ie(hl,"Using default OfflineComponentProvider"),await jg(i,new NM(void 0));return i._offlineComponents}async function VA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ie(hl,"Using user provided OnlineComponentProvider"),await AT(i,i._uninitializedComponentsProvider._online)):(Ie(hl,"Using default OnlineComponentProvider"),await AT(i,new Ey))),i._onlineComponents}function kM(i){return VA(i).then((e=>e.syncEngine))}async function om(i){const e=await VA(i),t=e.eventManager;return t.onListen=yM.bind(null,e.syncEngine),t.onUnlisten=bM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EM.bind(null,e.syncEngine),t}function MM(i,e,t={}){const s=new to;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,y,g){const E=new kv({next:I=>{E.Nu(),u.enqueueAndForget((()=>xv(c,S)));const M=I.docs.has(p);!M&&I.fromCache?g.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&y&&y.source==="server"?g.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),S=new Nv(Cm(p.path),E,{includeMetadataChanges:!0,qa:!0});return Iv(c,S)})(await om(i),i.asyncQueue,e,t,s))),s.promise}function jM(i,e,t={}){const s=new to;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,y,g){const E=new kv({next:I=>{E.Nu(),u.enqueueAndForget((()=>xv(c,S))),I.fromCache&&y.source==="server"?g.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),S=new Nv(p,E,{includeMetadataChanges:!0,qa:!0});return Iv(c,S)})(await om(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firestore.googleapis.com",IT=!0;class xT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zA,this.ssl=IT}else this.host=e.host,this.ssl=e.ssl??IT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dk)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zO;switch(s.type){case"firstParty":return new HO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=CT.get(t);s&&(Ie("ComponentProvider","Removing Datastore"),CT.delete(t),s.terminate())})(this),Promise.resolve()}}function PM(i,e,t,s={}){i=hs(i,jm);const o=hu(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(k0(`https://${p}`),M0("Firestore",!0)),c.host!==zA&&c.host!==p&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:s};if(!Wl(y,u)&&(i._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=ji.MOCK_USER;else{g=Xx(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ji(S)}i._authCredentials=new BO(new NS(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lc(this.firestore,e,this._query)}}class jn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(rf(t,jn._jsonSchema))return new jn(e,s||null,new je(en.fromString(t.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:Gn("string",jn._jsonSchemaVersion),referencePath:Gn("string")};class sl extends lc{constructor(e,t,s){super(e,t,Cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new je(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function rn(i,e,...t){if(i=In(i),RS("collection","path",e),i instanceof jm){const s=en.fromString(e,...t);return Bw(s),new sl(i,null,s)}{if(!(i instanceof jn||i instanceof sl))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(en.fromString(e,...t));return Bw(s),new sl(i.firestore,null,s)}}function Kt(i,e,...t){if(i=In(i),arguments.length===1&&(e=av.newId()),RS("doc","path",e),i instanceof jm){const s=en.fromString(e,...t);return zw(s),new jn(i,null,new je(s))}{if(!(i instanceof jn||i instanceof sl))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(en.fromString(e,...t));return zw(s),new jn(i.firestore,i instanceof sl?i.converter:null,new je(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wA(this,"async_queue_retry"),this._c=()=>{const s=Mg();s&&Ie(DT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new to;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yu(e))throw e;Ie(DT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,so("INTERNAL UNHANDLED ERROR: ",RT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Av.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:RT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function RT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class fl extends jm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new NT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function LM(i,e){const t=typeof i=="object"?i:ym(),s=typeof i=="string"?i:Jd,o=fu(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Qx("firestore");c&&PM(o,...c)}return o}function Pm(i){if(i._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VM(i),i._firestoreClient}function VM(i){const e=i._freezeSettings(),t=(function(o,c,u,p){return new o2(o,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,UA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new RM(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(Ai.fromBase64String(e))}catch(t){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new us(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rf(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:Gn("string",us._jsonSchemaVersion),bytes:Gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fa._jsonSchemaVersion}}static fromJSON(e){if(rf(e,fa._jsonSchema))return new fa(e.latitude,e.longitude)}}fa._jsonSchemaVersion="firestore/geoPoint/1.0",fa._jsonSchema={type:Gn("string",fa._jsonSchemaVersion),latitude:Gn("number"),longitude:Gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rf(e,da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new da(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}da._jsonSchemaVersion="firestore/vectorValue/1.0",da._jsonSchema={type:Gn("string",da._jsonSchemaVersion),vectorValues:Gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^__.*__$/;class zM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new af(e,this.data,t,this.fieldTransforms)}}class BA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:i})}}class Mv{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qA(this.Ac)&&UM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Om(e)}Cc(e,t,s,o=!1){return new Mv({Ac:e,methodName:t,Dc:s,path:Ti.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jv(i){const e=i._freezeSettings(),t=Om(i._databaseId);return new BM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function qM(i,e,t,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,t,o);Lv("Data must be an object, but it was:",u,s);const p=FA(s,u);let y,g;if(c.merge)y=new Fr(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const I=wy(e,S,t);if(!u.contains(I))throw new Ae(he.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);$A(E,I)||E.push(I)}y=new Fr(E),g=u.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=u.fieldTransforms;return new zM(new _r(p),y,g)}class Um extends Vm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Um}}class Pv extends Vm{_toFieldTransform(e){return new k2(e.path,new Hh)}isEqual(e){return e instanceof Pv}}function FM(i,e,t,s){const o=i.Cc(1,e,t);Lv("Data must be an object, but it was:",o,s);const c=[],u=_r.empty();dl(s,((y,g)=>{const E=Vv(e,y,t);g=In(g);const S=o.yc(E);if(g instanceof Um)c.push(E);else{const I=uf(g,S);I!=null&&(c.push(E),u.set(E,I))}}));const p=new Fr(c);return new BA(u,p,o.fieldTransforms)}function HM(i,e,t,s,o,c){const u=i.Cc(1,e,t),p=[wy(e,s,t)],y=[o];if(c.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)p.push(wy(e,c[I])),y.push(c[I+1]);const g=[],E=_r.empty();for(let I=p.length-1;I>=0;--I)if(!$A(g,p[I])){const M=p[I];let Y=y[I];Y=In(Y);const W=u.yc(M);if(Y instanceof Um)g.push(M);else{const z=uf(Y,W);z!=null&&(g.push(M),E.set(M,z))}}const S=new Fr(g);return new BA(E,S,u.fieldTransforms)}function $M(i,e,t,s=!1){return uf(t,i.Cc(s?4:3,e))}function uf(i,e){if(HA(i=In(i)))return Lv("Unsupported field value:",e,i),FA(i,e);if(i instanceof Vm)return(function(s,o){if(!qA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const p of s){let y=uf(p,o.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=In(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=xt.fromDate(s);return{timestampValue:im(o.serializer,c)}}if(s instanceof xt){const c=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:im(o.serializer,c)}}if(s instanceof fa)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof us)return{bytesValue:hA(o.serializer,s._byteString)};if(s instanceof jn){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:gv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof da)return(function(u,p){return{mapValue:{fields:{[zS]:{stringValue:BS},[Zd]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return fv(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wm(s)}`)})(i,e)}function FA(i,e){const t={};return MS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(i,((s,o)=>{const c=uf(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function HA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof fa||i instanceof us||i instanceof jn||i instanceof Vm||i instanceof da)}function Lv(i,e,t){if(!HA(t)||!OS(t)){const s=wm(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function wy(i,e,t){if((e=In(e))instanceof Lm)return e._internalPath;if(typeof e=="string")return Vv(i,e);throw lm("Field path arguments must be of type string or ",i,!1,void 0,t)}const GM=new RegExp("[~\\*/\\[\\]]");function Vv(i,e,t){if(e.search(GM)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Lm(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function lm(i,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${s}`),u&&(y+=` in document ${o}`),y+=")"),new Ae(he.INVALID_ARGUMENT,p+i+y)}function $A(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YM extends GA{data(){return super.data()}}function Uv(i,e){return typeof e=="string"?Vv(i,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zv{}class KM extends zv{}function Vi(i,e,...t){let s=[];e instanceof zv&&s.push(e),s=s.concat(t),(function(c){const u=c.filter((y=>y instanceof Bv)).length,p=c.filter((y=>y instanceof zm)).length;if(u>1||u>0&&p>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class zm extends KM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new zm(e,t,s)}_apply(e){const t=this._parse(e);return KA(e._query,t),new lc(e.firestore,e.converter,hy(e._query,t))}_parse(e){const t=jv(e.firestore);return(function(c,u,p,y,g,E,S){let I;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){MT(S,E);const Y=[];for(const W of S)Y.push(kT(y,c,W));I={arrayValue:{values:Y}}}else I=kT(y,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||MT(S,E),I=$M(p,u,S,E==="in"||E==="not-in");return $n.create(g,E,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ui(i,e,t){const s=e,o=Uv("where",i);return zm._create(o,s,t)}class Bv extends zv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bv(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ps.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const p=c.getFlattenedFilters();for(const y of p)KA(u,y),u=hy(u,y)})(e._query,t),new lc(e.firestore,e.converter,hy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kT(i,e,t){if(typeof(t=In(t))=="string"){if(t==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QS(e)&&t.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(en.fromString(t));if(!je.isDocumentKey(s))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qw(i,new je(s))}if(t instanceof jn)return Qw(i,t._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(t)}.`)}function MT(i,e){if(!Array.isArray(i)||i.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KA(i,e){const t=(function(o,c){for(const u of o)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QM{convertValue(e,t="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return dl(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Zd].arrayValue?.values?.map((s=>Mn(s.doubleValue)));return new da(t)}convertGeoPoint(e){return new fa(Mn(e.latitude),Mn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Am(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Bh(e));default:return null}}convertTimestamp(e){const t=ol(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=en.fromString(e);jt(yA(s),9688,{name:e});const o=new qh(s.get(1),s.get(3)),c=new je(s.popFirst(5));return o.isEqual(t)||so(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends GA{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Uv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:Gn("string",Yl._jsonSchemaVersion),bundleSource:Gn("string","DocumentSnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class zd extends Yl{data(e={}){return super.data(e)}}class Kl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new zd(this._firestore,this._userDataWriter,s.key,s,new xh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const y=new zd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new zd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),E=u.indexOf(p.doc.key)),{type:XM(p.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=av.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(i){i=hs(i,jn);const e=hs(i.firestore,fl);return MM(Pm(e),i._key).then((t=>WA(e,i,t)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:Gn("string",Kl._jsonSchemaVersion),bundleSource:Gn("string","QuerySnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class qv extends QM{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Pn(i){i=hs(i,lc);const e=hs(i.firestore,fl),t=Pm(e),s=new qv(e);return YA(i._query),jM(t,i._query).then((o=>new Kl(e,s,i,o)))}function ga(i,e,t,...s){i=hs(i,jn);const o=hs(i.firestore,fl),c=jv(o);let u;return u=typeof(e=In(e))=="string"||e instanceof Lm?HM(c,"updateDoc",i._key,e,t,s):FM(c,"updateDoc",i._key,e),Hv(o,[u.toMutation(i._key,Os.exists(!0))])}function QA(i){return Hv(hs(i.firestore,fl),[new dv(i._key,Os.none())])}function Fv(i,e){const t=hs(i.firestore,fl),s=Kt(i),o=WM(i.converter,e);return Hv(t,[qM(jv(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Os.exists(!1))]).then((()=>s))}function JM(i,...e){i=In(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(OT(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,u,p;if(i instanceof jn)u=hs(i.firestore,fl),p=Cm(i._key.path),c={next:y=>{e[s]&&e[s](WA(u,i,y))},error:e[s+1],complete:e[s+2]};else{const y=hs(i,lc);u=hs(y.firestore,fl),p=y._query;const g=new qv(u);c={next:E=>{e[s]&&e[s](new Kl(u,g,y,E))},error:e[s+1],complete:e[s+2]},YA(i._query)}return(function(g,E,S,I){const M=new kv(I),Y=new Nv(E,M,S);return g.asyncQueue.enqueueAndForget((async()=>Iv(await om(g),Y))),()=>{M.Nu(),g.asyncQueue.enqueueAndForget((async()=>xv(await om(g),Y)))}})(Pm(u),p,o,c)}function Hv(i,e){return(function(s,o){const c=new to;return s.asyncQueue.enqueueAndForget((async()=>wM(await kM(s),o,c))),c.promise})(Pm(i),e)}function WA(i,e,t){const s=t.docs.get(e._key),o=new qv(i);return new Yl(i,o,e._key,s,new xh(t.hasPendingWrites,t.fromCache),e.converter)}function Ty(){return new Pv("serverTimestamp")}(function(e,t=!0){(function(o){pu=o})(du),Ms(new fs("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),p=new fl(new qO(s.getProvider("auth-internal")),new $O(u,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(g.options.projectId,E)})(u,o),u);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),br(Pw,Lw,e),br(Pw,Lw,"esm2020")})();const XA="@firebase/installations",$v="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e4,ZA=`w:${$v}`,eC="FIS_v2",ZM="https://firebaseinstallations.googleapis.com/v1",ej=3600*1e3,tj="installations",nj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ec=new ic(tj,nj,ij);function tC(i){return i instanceof va&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC({projectId:i}){return`${ZM}/projects/${i}/installations`}function iC(i){return{token:i.token,requestStatus:2,expiresIn:sj(i.expiresIn),creationTime:Date.now()}}async function rC(i,e){const s=(await e.json()).error;return ec.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function sC({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function rj(i,{refreshToken:e}){const t=sC(i);return t.append("Authorization",aj(e)),t}async function aC(i){const e=await i();return e.status>=500&&e.status<600?i():e}function sj(i){return Number(i.replace("s","000"))}function aj(i){return`${eC} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=nC(i),o=sC(i),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const u={fid:t,authVersion:eC,appId:i.appId,sdkVersion:ZA},p={method:"POST",headers:o,body:JSON.stringify(u)},y=await aC(()=>fetch(s,p));if(y.ok){const g=await y.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:iC(g.authToken)}}else throw await rC("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=/^[cdef][\w-]{21}$/,Sy="";function uj(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=hj(i);return cj.test(t)?t:Sy}catch{return Sy}}function hj(i){return lj(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Map;function cC(i,e){const t=Bm(i);uC(t,e),fj(t,e)}function uC(i,e){const t=lC.get(i);if(t)for(const s of t)s(e)}function fj(i,e){const t=dj();t&&t.postMessage({key:i,fid:e}),mj()}let $l=null;function dj(){return!$l&&"BroadcastChannel"in self&&($l=new BroadcastChannel("[Firebase] FID Change"),$l.onmessage=i=>{uC(i.data.key,i.data.fid)}),$l}function mj(){lC.size===0&&$l&&($l.close(),$l=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="firebase-installations-database",gj=1,tc="firebase-installations-store";let Pg=null;function Gv(){return Pg||(Pg=gm(pj,gj,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(tc)}}})),Pg}async function cm(i,e){const t=Bm(i),o=(await Gv()).transaction(tc,"readwrite"),c=o.objectStore(tc),u=await c.get(t);return await c.put(e,t),await o.done,(!u||u.fid!==e.fid)&&cC(i,e.fid),e}async function hC(i){const e=Bm(i),s=(await Gv()).transaction(tc,"readwrite");await s.objectStore(tc).delete(e),await s.done}async function qm(i,e){const t=Bm(i),o=(await Gv()).transaction(tc,"readwrite"),c=o.objectStore(tc),u=await c.get(t),p=e(u);return p===void 0?await c.delete(t):await c.put(p,t),await o.done,p&&(!u||u.fid!==p.fid)&&cC(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(i){let e;const t=await qm(i.appConfig,s=>{const o=yj(s),c=vj(i,o);return e=c.registrationPromise,c.installationEntry});return t.fid===Sy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function yj(i){const e=i||{fid:uj(),registrationStatus:0};return fC(e)}function vj(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ec.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=_j(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bj(i)}:{installationEntry:e}}async function _j(i,e){try{const t=await oj(i,e);return cm(i.appConfig,t)}catch(t){throw tC(t)&&t.customData.serverCode===409?await hC(i.appConfig):await cm(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function bj(i){let e=await jT(i.appConfig);for(;e.registrationStatus===1;)await oC(100),e=await jT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Yv(i);return s||t}return e}function jT(i){return qm(i,e=>{if(!e)throw ec.create("installation-not-found");return fC(e)})}function fC(i){return Ej(i)?{fid:i.fid,registrationStatus:0}:i}function Ej(i){return i.registrationStatus===1&&i.registrationTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj({appConfig:i,heartbeatServiceProvider:e},t){const s=Tj(i,t),o=rj(i,t),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const u={installation:{sdkVersion:ZA,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(u)},y=await aC(()=>fetch(s,p));if(y.ok){const g=await y.json();return iC(g)}else throw await rC("Generate Auth Token",y)}function Tj(i,{fid:e}){return`${nC(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(i,e=!1){let t;const s=await qm(i.appConfig,c=>{if(!dC(c))throw ec.create("not-registered");const u=c.authToken;if(!e&&Cj(u))return c;if(u.requestStatus===1)return t=Sj(i,e),c;{if(!navigator.onLine)throw ec.create("app-offline");const p=xj(c);return t=Aj(i,p),p}});return t?await t:s.authToken}async function Sj(i,e){let t=await PT(i.appConfig);for(;t.authToken.requestStatus===1;)await oC(100),t=await PT(i.appConfig);const s=t.authToken;return s.requestStatus===0?Kv(i,e):s}function PT(i){return qm(i,e=>{if(!dC(e))throw ec.create("not-registered");const t=e.authToken;return Dj(t)?{...e,authToken:{requestStatus:0}}:e})}async function Aj(i,e){try{const t=await wj(i,e),s={...e,authToken:t};return await cm(i.appConfig,s),t}catch(t){if(tC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await hC(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await cm(i.appConfig,s)}throw t}}function dC(i){return i!==void 0&&i.registrationStatus===2}function Cj(i){return i.requestStatus===2&&!Ij(i)}function Ij(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+ej}function xj(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function Dj(i){return i.requestStatus===1&&i.requestTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(i){const e=i,{installationEntry:t,registrationPromise:s}=await Yv(e);return s?s.catch(console.error):Kv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(i,e=!1){const t=i;return await Oj(t),(await Kv(t,e)).token}async function Oj(i){const{registrationPromise:e}=await Yv(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(i){if(!i||!i.options)throw Lg("App Configuration");if(!i.name)throw Lg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Lg(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Lg(i){return ec.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="installations",Mj="installations-internal",jj=i=>{const e=i.getProvider("app").getImmediate(),t=kj(e),s=fu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Pj=i=>{const e=i.getProvider("app").getImmediate(),t=fu(e,mC).getImmediate();return{getId:()=>Nj(t),getToken:o=>Rj(t,o)}};function Lj(){Ms(new fs(mC,jj,"PUBLIC")),Ms(new fs(Mj,Pj,"PRIVATE"))}Lj();br(XA,$v);br(XA,$v,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="/firebase-messaging-sw.js",Uj="/firebase-cloud-messaging-push-scope",pC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zj="https://fcmregistrations.googleapis.com/v1",gC="google.c.a.c_id",Bj="google.c.a.c_l",qj="google.c.a.ts",Fj="google.c.a.e",LT=1e4;var VT;(function(i){i[i.DATA_MESSAGE=1]="DATA_MESSAGE",i[i.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(VT||(VT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Yh;(function(i){i.PUSH_RECEIVED="push-received",i.NOTIFICATION_CLICKED="notification-clicked"})(Yh||(Yh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(i){const e=new Uint8Array(i);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hj(i){const e="=".repeat((4-i.length%4)%4),t=(i+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(t),o=new Uint8Array(s.length);for(let c=0;c<s.length;++c)o[c]=s.charCodeAt(c);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="fcm_token_details_db",$j=5,UT="fcm_token_object_Store";async function Gj(i){if("databases"in indexedDB&&!(await indexedDB.databases()).map(c=>c.name).includes(Vg))return null;let e=null;return(await gm(Vg,$j,{upgrade:async(s,o,c,u)=>{if(o<2||!s.objectStoreNames.contains(UT))return;const p=u.objectStore(UT),y=await p.index("fcmSenderId").get(i);if(await p.clear(),!!y){if(o===2){const g=y;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Wa(g.vapidKey)}}}else if(o===3){const g=y;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Wa(g.auth),p256dh:Wa(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Wa(g.vapidKey)}}}else if(o===4){const g=y;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Wa(g.auth),p256dh:Wa(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Wa(g.vapidKey)}}}}}})).close(),await Cg(Vg),await Cg("fcm_vapid_details_db"),await Cg("undefined"),Yj(e)?e:null}function Yj(i){if(!i||!i.subscriptionOptions)return!1;const{subscriptionOptions:e}=i;return typeof i.createTime=="number"&&i.createTime>0&&typeof i.token=="string"&&i.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebase-messaging-database",Qj=1,Kh="firebase-messaging-store";let Ug=null;function yC(){return Ug||(Ug=gm(Kj,Qj,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Kh)}}})),Ug}async function Wj(i){const e=vC(i),s=await(await yC()).transaction(Kh).objectStore(Kh).get(e);if(s)return s;{const o=await Gj(i.appConfig.senderId);if(o)return await Qv(i,o),o}}async function Qv(i,e){const t=vC(i),o=(await yC()).transaction(Kh,"readwrite");return await o.objectStore(Kh).put(e,t),await o.done,e}function vC({appConfig:i}){return i.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xi=new ic("messaging","Messaging",Xj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(i,e){const t=await Xv(i),s=_C(e),o={method:"POST",headers:t,body:JSON.stringify(s)};let c;try{c=await(await fetch(Wv(i.appConfig),o)).json()}catch(u){throw Xi.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(c.error){const u=c.error.message;throw Xi.create("token-subscribe-failed",{errorInfo:u})}if(!c.token)throw Xi.create("token-subscribe-no-token");return c.token}async function Zj(i,e){const t=await Xv(i),s=_C(e.subscriptionOptions),o={method:"PATCH",headers:t,body:JSON.stringify(s)};let c;try{c=await(await fetch(`${Wv(i.appConfig)}/${e.token}`,o)).json()}catch(u){throw Xi.create("token-update-failed",{errorInfo:u?.toString()})}if(c.error){const u=c.error.message;throw Xi.create("token-update-failed",{errorInfo:u})}if(!c.token)throw Xi.create("token-update-no-token");return c.token}async function eP(i,e){const s={method:"DELETE",headers:await Xv(i)};try{const c=await(await fetch(`${Wv(i.appConfig)}/${e}`,s)).json();if(c.error){const u=c.error.message;throw Xi.create("token-unsubscribe-failed",{errorInfo:u})}}catch(o){throw Xi.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function Wv({projectId:i}){return`${zj}/projects/${i}/registrations`}async function Xv({appConfig:i,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function _C({p256dh:i,auth:e,endpoint:t,vapidKey:s}){const o={web:{endpoint:t,auth:e,p256dh:i}};return s!==pC&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=10080*60*1e3;async function nP(i){const e=await rP(i.swRegistration,i.vapidKey),t={vapidKey:i.vapidKey,swScope:i.swRegistration.scope,endpoint:e.endpoint,auth:Wa(e.getKey("auth")),p256dh:Wa(e.getKey("p256dh"))},s=await Wj(i.firebaseDependencies);if(s){if(sP(s.subscriptionOptions,t))return Date.now()>=s.createTime+tP?iP(i,{token:s.token,createTime:Date.now(),subscriptionOptions:t}):s.token;try{await eP(i.firebaseDependencies,s.token)}catch(o){console.warn(o)}return zT(i.firebaseDependencies,t)}else return zT(i.firebaseDependencies,t)}async function iP(i,e){try{const t=await Zj(i.firebaseDependencies,e),s={...e,token:t,createTime:Date.now()};return await Qv(i.firebaseDependencies,s),t}catch(t){throw t}}async function zT(i,e){const s={token:await Jj(i,e),createTime:Date.now(),subscriptionOptions:e};return await Qv(i,s),s.token}async function rP(i,e){const t=await i.pushManager.getSubscription();return t||i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hj(e)})}function sP(i,e){const t=e.vapidKey===i.vapidKey,s=e.endpoint===i.endpoint,o=e.auth===i.auth,c=e.p256dh===i.p256dh;return t&&s&&o&&c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i){const e={from:i.from,collapseKey:i.collapse_key,messageId:i.fcmMessageId};return aP(e,i),oP(e,i),lP(e,i),e}function aP(i,e){if(!e.notification)return;i.notification={};const t=e.notification.title;t&&(i.notification.title=t);const s=e.notification.body;s&&(i.notification.body=s);const o=e.notification.image;o&&(i.notification.image=o);const c=e.notification.icon;c&&(i.notification.icon=c)}function oP(i,e){e.data&&(i.data=e.data)}function lP(i,e){if(!e.fcmOptions&&!e.notification?.click_action)return;i.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(i.fcmOptions.link=t);const s=e.fcmOptions?.analytics_label;s&&(i.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(i){return typeof i=="object"&&!!i&&gC in i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(i){if(!i||!i.options)throw zg("App Configuration Object");if(!i.name)throw zg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=i;for(const s of e)if(!t[s])throw zg(s);return{appName:i.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function zg(i){return Xi.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=uP(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(i){try{i.swRegistration=await navigator.serviceWorker.register(Vj,{scope:Uj}),i.swRegistration.update().catch(()=>{}),await dP(i.swRegistration)}catch(e){throw Xi.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function dP(i){return new Promise((e,t)=>{const s=setTimeout(()=>t(new Error(`Service worker not registered after ${LT} ms`)),LT),o=i.installing||i.waiting;i.active?(clearTimeout(s),e()):o?o.onstatechange=c=>{c.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(i,e){if(!e&&!i.swRegistration&&await fP(i),!(!e&&i.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Xi.create("invalid-sw-registration");i.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(i,e){e?i.vapidKey=e:i.vapidKey||(i.vapidKey=pC)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(i,e){if(!navigator)throw Xi.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Xi.create("permission-blocked");return await pP(i,e?.vapidKey),await mP(i,e?.serviceWorkerRegistration),nP(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(i,e,t){const s=vP(e);(await i.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:t[gC],message_name:t[Bj],message_time:t[qj],message_device_time:Math.floor(Date.now()/1e3)})}function vP(i){switch(i){case Yh.NOTIFICATION_CLICKED:return"notification_open";case Yh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(i,e){const t=e.data;if(!t.isFirebaseMessaging)return;i.onMessageHandler&&t.messageType===Yh.PUSH_RECEIVED&&(typeof i.onMessageHandler=="function"?i.onMessageHandler(BT(t)):i.onMessageHandler.next(BT(t)));const s=t.data;cP(s)&&s[Fj]==="1"&&await yP(i,t.messageType,s)}const qT="@firebase/messaging",FT="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=i=>{const e=new hP(i.getProvider("app").getImmediate(),i.getProvider("installations-internal").getImmediate(),i.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>_P(e,t)),e},EP=i=>{const e=i.getProvider("messaging").getImmediate();return{getToken:s=>gP(e,s)}};function wP(){Ms(new fs("messaging",bP,"PUBLIC")),Ms(new fs("messaging-internal",EP,"PRIVATE")),br(qT,FT),br(qT,FT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(){try{await P0()}catch{return!1}return typeof window<"u"&&j0()&&oD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(i=ym()){return TP().then(e=>{if(!e)throw Xi.create("unsupported-browser")},e=>{throw Xi.create("indexed-db-unsupported")}),fu(In(i),"messaging").getImmediate()}wP();const AP={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},Jv=fN().length?ym():U0(AP),ya=wS(Jv),qe=LM(Jv);let CP;try{CP=SP(Jv)}catch(i){console.warn("Firebase Messaging not supported in this environment:",i)}const bC=V.createContext(),zi=()=>V.useContext(bC);function IP({children:i}){const[e,t]=V.useState(null),[s,o]=V.useState(null),[c,u]=V.useState(!0);return V.useEffect(()=>{const p=xR(ya,async y=>{if(y){t(y);const g=await pa(Kt(qe,"users",y.uid));g.exists()?o({uid:y.uid,...g.data()}):o({uid:y.uid})}else t(null),o(null);u(!1)});return()=>p()},[]),c?v.jsx("div",{className:"loading-screen",children:"Loading..."}):v.jsx(bC.Provider,{value:{user:e,profile:s,loading:c},children:i})}var EC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HT=Gl.createContext&&Gl.createContext(EC),xP=["attr","size","title"];function DP(i,e){if(i==null)return{};var t=NP(i,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function NP(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function um(){return um=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},um.apply(this,arguments)}function $T(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function hm(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(t),!0).forEach(function(s){RP(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):$T(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function RP(i,e,t){return e=OP(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function OP(i){var e=kP(i,"string");return typeof e=="symbol"?e:e+""}function kP(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function wC(i){return i&&i.map((e,t)=>Gl.createElement(e.tag,hm({key:t},e.attr),wC(e.child)))}function MP(i){return e=>Gl.createElement(jP,um({attr:hm({},i.attr)},e),wC(i.child))}function jP(i){var e=t=>{var{attr:s,size:o,title:c}=i,u=DP(i,xP),p=o||t.size||"1em",y;return t.className&&(y=t.className),i.className&&(y=(y?y+" ":"")+i.className),Gl.createElement("svg",um({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:y,style:hm(hm({color:i.color||t.color},t.style),i.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Gl.createElement("title",null,c),i.children)};return HT!==void 0?Gl.createElement(HT.Consumer,null,t=>e(t)):e(EC)}function PP(i){return MP({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(i)}function TC(){const{user:i,profile:e}=zi(),[t,s]=V.useState(0),[o,c]=V.useState(0);V.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]),V.useEffect(()=>{if(!i)return;const y=Kt(qe,"users",i.uid),g=Vi(rn(qe,"notifications"),Ui("recipientId","==",y)),E=JM(g,S=>{const I=S.docs.filter(Y=>!Y.data().read),M=I.length;if(M>o&&Notification.permission==="granted"&&I.length>0){const Y=I[0].data();new Notification("New Notification",{body:Y.message||"You have a new alert.",icon:"/icons/notification.png"})}c(M),s(M)});return()=>E()},[i,o]);const p=`/${e?.role?.toLowerCase()||"patient"}/notifications`;return v.jsxs(ls,{to:p,children:[" ",v.jsx(PP,{})," Notifications (",t,") "]})}function LP(){const{logout:i}=zi(),e=nc(),t=async()=>{try{await nv(ya),e("/login")}catch(s){console.error("Error logging out:",s)}};return v.jsxs("aside",{className:"sidebar",children:[v.jsxs("h2",{className:"logo",children:[v.jsx("span",{className:"logo-salamat",children:"Salamat"}),v.jsx("span",{className:"logo-doc",children:"Doc"})]}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(ls,{to:"/admin/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),v.jsx("li",{children:v.jsx("button",{className:"logout-btn",onClick:t,children:"Log out"})})]})]})}function VP(){const{user:i}=zi(),e=nc(),t=async()=>{try{await nv(ya),e("/login")}catch(s){console.error("Error logging out:",s)}};return v.jsxs("aside",{className:"sidebar",children:[v.jsxs("h2",{className:"logo",children:[v.jsx("span",{className:"logo-salamat",children:"Salamat"}),v.jsx("span",{className:"logo-doc",children:"Doc"})]}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(ls,{to:"/doctor/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),v.jsx("li",{children:v.jsx(TC,{})}),v.jsx("li",{children:v.jsx(ls,{to:"/doctor/patients",className:({isActive:s})=>s?"active":"",children:"Patients"})}),v.jsx("li",{children:v.jsx(ls,{to:"/doctor/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),v.jsx("li",{children:v.jsx(ls,{to:"/doctor/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),v.jsx("li",{children:v.jsx("button",{className:"logout-btn",onClick:t,children:"Log out"})})]})]})}function UP(){const{logout:i}=zi(),e=nc(),t=async()=>{try{await nv(ya),e("/login")}catch(s){console.error("Error logging out:",s)}};return v.jsxs("aside",{className:"sidebar",children:[v.jsxs("h2",{className:"logo",children:[v.jsx("span",{className:"logo-salamat",children:"Salamat"}),v.jsx("span",{className:"logo-doc",children:"Doc"})]}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(ls,{to:"/patient/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),v.jsx("li",{children:v.jsx(TC,{})}),v.jsx("li",{children:v.jsx(ls,{to:"/patient/dailies/medicine",className:({isActive:s})=>s?"active":"",children:"Dailies – Medicine"})}),v.jsx("li",{children:v.jsx(ls,{to:"/patient/dailies/food",className:({isActive:s})=>s?"active":"",children:"Dailies – Food"})}),v.jsx("li",{children:v.jsx(ls,{to:"/patient/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),v.jsx("li",{children:v.jsx(ls,{to:"/patient/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),v.jsx("li",{children:v.jsx("button",{className:"logout-btn",onClick:t,children:"Log out"})})]})]})}var Bd={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var zP=Bd.exports,GT;function BP(){return GT||(GT=1,(function(i,e){(function(t,s){i.exports=s()})(zP,function(){const t=new Map,s={set(A,d,b){t.has(A)||t.set(A,new Map);const x=t.get(A);x.has(d)||x.size===0?x.set(d,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(x.keys())[0]}.`)},get:(A,d)=>t.has(A)&&t.get(A).get(d)||null,remove(A,d){if(!t.has(A))return;const b=t.get(A);b.delete(d),b.size===0&&t.delete(A)}},o="transitionend",c=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,b)=>`#${CSS.escape(b)}`)),A),u=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),p=A=>{A.dispatchEvent(new Event(o))},y=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),g=A=>y(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(c(A)):null,E=A=>{if(!y(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",b=A.closest("details:not([open])");if(!b)return d;if(b!==A){const x=A.closest("summary");if(x&&x.parentNode!==b||x===null)return!1}return d},S=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),I=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?I(A.parentNode):null},M=()=>{},Y=A=>{A.offsetHeight},W=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,z=[],B=()=>document.documentElement.dir==="rtl",$=A=>{var d;d=()=>{const b=W();if(b){const x=A.NAME,F=b.fn[x];b.fn[x]=A.jQueryInterface,b.fn[x].Constructor=A,b.fn[x].noConflict=()=>(b.fn[x]=F,A.jQueryInterface)}},document.readyState==="loading"?(z.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of z)b()}),z.push(d)):d()},te=(A,d=[],b=A)=>typeof A=="function"?A.call(...d):b,ye=(A,d,b=!0)=>{if(!b)return void te(A);const x=(se=>{if(!se)return 0;let{transitionDuration:ge,transitionDelay:_e}=window.getComputedStyle(se);const Se=Number.parseFloat(ge),Ce=Number.parseFloat(_e);return Se||Ce?(ge=ge.split(",")[0],_e=_e.split(",")[0],1e3*(Number.parseFloat(ge)+Number.parseFloat(_e))):0})(d)+5;let F=!1;const G=({target:se})=>{se===d&&(F=!0,d.removeEventListener(o,G),te(A))};d.addEventListener(o,G),setTimeout(()=>{F||p(d)},x)},le=(A,d,b,x)=>{const F=A.length;let G=A.indexOf(d);return G===-1?!b&&x?A[F-1]:A[0]:(G+=b?1:-1,x&&(G=(G+F)%F),A[Math.max(0,Math.min(G,F-1))])},pe=/[^.]*(?=\..*)\.|.*/,k=/\..*/,O=/::\d+$/,j={};let P=1;const L={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(A,d){return d&&`${d}::${P++}`||A.uidEvent||P++}function fe(A){const d=R(A);return A.uidEvent=d,j[d]=j[d]||{},j[d]}function Oe(A,d,b=null){return Object.values(A).find(x=>x.callable===d&&x.delegationSelector===b)}function X(A,d,b){const x=typeof d=="string",F=x?b:d||b;let G=ke(A);return H.has(G)||(G=A),[x,F,G]}function re(A,d,b,x,F){if(typeof d!="string"||!A)return;let[G,se,ge]=X(d,b,x);d in L&&(se=(ze=>function(Fe){if(!Fe.relatedTarget||Fe.relatedTarget!==Fe.delegateTarget&&!Fe.delegateTarget.contains(Fe.relatedTarget))return ze.call(this,Fe)})(se));const _e=fe(A),Se=_e[ge]||(_e[ge]={}),Ce=Oe(Se,se,G?b:null);if(Ce)return void(Ce.oneOff=Ce.oneOff&&F);const we=R(se,d.replace(pe,"")),Ye=G?(function(Ue,ze,Fe){return function Pe(At){const Ot=Ue.querySelectorAll(ze);for(let{target:Ge}=At;Ge&&Ge!==this;Ge=Ge.parentNode)for(const nt of Ot)if(nt===Ge)return ae(At,{delegateTarget:Ge}),Pe.oneOff&&D.off(Ue,At.type,ze,Fe),Fe.apply(Ge,[At])}})(A,b,se):(function(Ue,ze){return function Fe(Pe){return ae(Pe,{delegateTarget:Ue}),Fe.oneOff&&D.off(Ue,Pe.type,ze),ze.apply(Ue,[Pe])}})(A,se);Ye.delegationSelector=G?b:null,Ye.callable=se,Ye.oneOff=F,Ye.uidEvent=we,Se[we]=Ye,A.addEventListener(ge,Ye,G)}function de(A,d,b,x,F){const G=Oe(d[b],x,F);G&&(A.removeEventListener(b,G,!!F),delete d[b][G.uidEvent])}function xe(A,d,b,x){const F=d[b]||{};for(const[G,se]of Object.entries(F))G.includes(x)&&de(A,d,b,se.callable,se.delegationSelector)}function ke(A){return A=A.replace(k,""),L[A]||A}const D={on(A,d,b,x){re(A,d,b,x,!1)},one(A,d,b,x){re(A,d,b,x,!0)},off(A,d,b,x){if(typeof d!="string"||!A)return;const[F,G,se]=X(d,b,x),ge=se!==d,_e=fe(A),Se=_e[se]||{},Ce=d.startsWith(".");if(G===void 0){if(Ce)for(const we of Object.keys(_e))xe(A,_e,we,d.slice(1));for(const[we,Ye]of Object.entries(Se)){const Ue=we.replace(O,"");ge&&!d.includes(Ue)||de(A,_e,se,Ye.callable,Ye.delegationSelector)}}else{if(!Object.keys(Se).length)return;de(A,_e,se,G,F?b:null)}},trigger(A,d,b){if(typeof d!="string"||!A)return null;const x=W();let F=null,G=!0,se=!0,ge=!1;d!==ke(d)&&x&&(F=x.Event(d,b),x(A).trigger(F),G=!F.isPropagationStopped(),se=!F.isImmediatePropagationStopped(),ge=F.isDefaultPrevented());const _e=ae(new Event(d,{bubbles:G,cancelable:!0}),b);return ge&&_e.preventDefault(),se&&A.dispatchEvent(_e),_e.defaultPrevented&&F&&F.preventDefault(),_e}};function ae(A,d={}){for(const[b,x]of Object.entries(d))try{A[b]=x}catch{Object.defineProperty(A,b,{configurable:!0,get:()=>x})}return A}function ve(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function Te(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Re={setDataAttribute(A,d,b){A.setAttribute(`data-bs-${Te(d)}`,b)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${Te(d)}`)},getDataAttributes(A){if(!A)return{};const d={},b=Object.keys(A.dataset).filter(x=>x.startsWith("bs")&&!x.startsWith("bsConfig"));for(const x of b){let F=x.replace(/^bs/,"");F=F.charAt(0).toLowerCase()+F.slice(1),d[F]=ve(A.dataset[x])}return d},getDataAttribute:(A,d)=>ve(A.getAttribute(`data-bs-${Te(d)}`))};class Le{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,b){const x=y(b)?Re.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof x=="object"?x:{},...y(b)?Re.getDataAttributes(b):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,b=this.constructor.DefaultType){for(const[x,F]of Object.entries(b)){const G=d[x],se=y(G)?"element":u(G);if(!new RegExp(F).test(se))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${x}" provided type "${se}" but expected type "${F}".`)}}}class Ve extends Le{constructor(d,b){super(),(d=g(d))&&(this._element=d,this._config=this._getConfig(b),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,b,x=!0){ye(d,b,x)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(g(d),this.DATA_KEY)}static getOrCreateInstance(d,b={}){return this.getInstance(d)||new this(d,typeof b=="object"?b:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Pt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let b=A.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),d=b&&b!=="#"?b.trim():null}return d?d.split(",").map(b=>c(b)).join(","):null},be={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(b=>b.matches(d)),parents(A,d){const b=[];let x=A.parentNode.closest(d);for(;x;)b.push(x),x=x.parentNode.closest(d);return b},prev(A,d){let b=A.previousElementSibling;for(;b;){if(b.matches(d))return[b];b=b.previousElementSibling}return[]},next(A,d){let b=A.nextElementSibling;for(;b;){if(b.matches(d))return[b];b=b.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(b=>!S(b)&&E(b))},getSelectorFromElement(A){const d=Pt(A);return d&&be.findOne(d)?d:null},getElementFromSelector(A){const d=Pt(A);return d?be.findOne(d):null},getMultipleElementsFromSelector(A){const d=Pt(A);return d?be.find(d):[]}},Ci=(A,d="hide")=>{const b=`click.dismiss${A.EVENT_KEY}`,x=A.NAME;D.on(document,b,`[data-bs-dismiss="${x}"]`,function(F){if(["A","AREA"].includes(this.tagName)&&F.preventDefault(),S(this))return;const G=be.getElementFromSelector(this)||this.closest(`.${x}`);A.getOrCreateInstance(G)[d]()})},Er=".bs.alert",wr=`close${Er}`,Hr=`closed${Er}`;class lt extends Ve{static get NAME(){return"alert"}close(){if(D.trigger(this._element,wr).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),D.trigger(this._element,Hr),this.dispose()}static jQueryInterface(d){return this.each(function(){const b=lt.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}Ci(lt,"close"),$(lt);const Ji='[data-bs-toggle="button"]';class Qt extends Ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const b=Qt.getOrCreateInstance(this);d==="toggle"&&b[d]()})}}D.on(document,"click.bs.button.data-api",Ji,A=>{A.preventDefault();const d=A.target.closest(Ji);Qt.getOrCreateInstance(d).toggle()}),$(Qt);const di=".bs.swipe",Vs=`touchstart${di}`,tn=`touchmove${di}`,mn=`touchend${di}`,$r=`pointerdown${di}`,yl=`pointerup${di}`,_a={endCallback:null,leftCallback:null,rightCallback:null},Yn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zi extends Le{constructor(d,b){super(),this._element=d,d&&Zi.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return _a}static get DefaultType(){return Yn}static get NAME(){return"swipe"}dispose(){D.off(this._element,di)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),te(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const b=d/this._deltaX;this._deltaX=0,b&&te(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,$r,d=>this._start(d)),D.on(this._element,yl,d=>this._end(d)),this._element.classList.add("pointer-event")):(D.on(this._element,Vs,d=>this._start(d)),D.on(this._element,tn,d=>this._move(d)),D.on(this._element,mn,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ii=".bs.carousel",Us=".data-api",Gr="ArrowLeft",ba="ArrowRight",Tr="next",er="prev",Sr="left",xn="right",_n=`slide${Ii}`,ii=`slid${Ii}`,Wt=`keydown${Ii}`,Ea=`mouseenter${Ii}`,Yr=`mouseleave${Ii}`,uo=`dragstart${Ii}`,Bi=`load${Ii}${Us}`,ms=`click${Ii}${Us}`,Xt="carousel",Rt="active",zt=".active",Kn=".carousel-item",Lt=zt+Kn,mi={[Gr]:xn,[ba]:Sr},tr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cr extends Ve{constructor(d,b){super(d,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=be.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xt&&this.cycle()}static get Default(){return tr}static get DefaultType(){return Ar}static get NAME(){return"carousel"}next(){this._slide(Tr)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(er)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?D.one(this._element,ii,()=>this.cycle()):this.cycle())}to(d){const b=this._getItems();if(d>b.length-1||d<0)return;if(this._isSliding)return void D.one(this._element,ii,()=>this.to(d));const x=this._getItemIndex(this._getActive());if(x===d)return;const F=d>x?Tr:er;this._slide(F,b[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&D.on(this._element,Wt,d=>this._keydown(d)),this._config.pause==="hover"&&(D.on(this._element,Ea,()=>this.pause()),D.on(this._element,Yr,()=>this._maybeEnableCycle())),this._config.touch&&Zi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of be.find(".carousel-item img",this._element))D.on(b,uo,x=>x.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Sr)),rightCallback:()=>this._slide(this._directionToOrder(xn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Zi(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const b=mi[d.key];b&&(d.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const b=be.findOne(zt,this._indicatorsElement);b.classList.remove(Rt),b.removeAttribute("aria-current");const x=be.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);x&&(x.classList.add(Rt),x.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const b=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(d,b=null){if(this._isSliding)return;const x=this._getActive(),F=d===Tr,G=b||le(this._getItems(),x,F,this._config.wrap);if(G===x)return;const se=this._getItemIndex(G),ge=we=>D.trigger(this._element,we,{relatedTarget:G,direction:this._orderToDirection(d),from:this._getItemIndex(x),to:se});if(ge(_n).defaultPrevented||!x||!G)return;const _e=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(se),this._activeElement=G;const Se=F?"carousel-item-start":"carousel-item-end",Ce=F?"carousel-item-next":"carousel-item-prev";G.classList.add(Ce),Y(G),x.classList.add(Se),G.classList.add(Se),this._queueCallback(()=>{G.classList.remove(Se,Ce),G.classList.add(Rt),x.classList.remove(Rt,Ce,Se),this._isSliding=!1,ge(ii)},x,this._isAnimated()),_e&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return be.findOne(Lt,this._element)}_getItems(){return be.find(Kn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return B()?d===Sr?er:Tr:d===Sr?Tr:er}_orderToDirection(d){return B()?d===er?Sr:xn:d===er?xn:Sr}static jQueryInterface(d){return this.each(function(){const b=Cr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}}else b.to(d)})}}D.on(document,ms,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=be.getElementFromSelector(this);if(!d||!d.classList.contains(Xt))return;A.preventDefault();const b=Cr.getOrCreateInstance(d),x=this.getAttribute("data-bs-slide-to");return x?(b.to(x),void b._maybeEnableCycle()):Re.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),D.on(window,Bi,()=>{const A=be.find('[data-bs-ride="carousel"]');for(const d of A)Cr.getOrCreateInstance(d)}),$(Cr);const xi=".bs.collapse",ps=`show${xi}`,Kr=`shown${xi}`,Ir=`hide${xi}`,qi=`hidden${xi}`,zs=`click${xi}.data-api`,pi="show",bn="collapse",Bt="collapsing",En=`:scope .${bn} .${bn}`,Di='[data-bs-toggle="collapse"]',Qe={parent:null,toggle:!0},qt={parent:"(null|element)",toggle:"boolean"};class bt extends Ve{constructor(d,b){super(d,b),this._isTransitioning=!1,this._triggerArray=[];const x=be.find(Di);for(const F of x){const G=be.getSelectorFromElement(F),se=be.find(G).filter(ge=>ge===this._element);G!==null&&se.length&&this._triggerArray.push(F)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Qe}static get DefaultType(){return qt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(F=>F!==this._element).map(F=>bt.getOrCreateInstance(F,{toggle:!1}))),d.length&&d[0]._isTransitioning||D.trigger(this._element,ps).defaultPrevented)return;for(const F of d)F.hide();const b=this._getDimension();this._element.classList.remove(bn),this._element.classList.add(Bt),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const x=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(bn,pi),this._element.style[b]="",D.trigger(this._element,Kr)},this._element,!0),this._element.style[b]=`${this._element[x]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,Ir).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,Y(this._element),this._element.classList.add(Bt),this._element.classList.remove(bn,pi);for(const b of this._triggerArray){const x=be.getElementFromSelector(b);x&&!this._isShown(x)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(bn),D.trigger(this._element,qi)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(pi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=g(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Di);for(const b of d){const x=be.getElementFromSelector(b);x&&this._addAriaAndCollapsedClass([b],this._isShown(x))}}_getFirstLevelChildren(d){const b=be.find(En,this._config.parent);return be.find(d,this._config.parent).filter(x=>!b.includes(x))}_addAriaAndCollapsedClass(d,b){if(d.length)for(const x of d)x.classList.toggle("collapsed",!b),x.setAttribute("aria-expanded",b)}static jQueryInterface(d){const b={};return typeof d=="string"&&/show|hide/.test(d)&&(b.toggle=!1),this.each(function(){const x=bt.getOrCreateInstance(this,b);if(typeof d=="string"){if(x[d]===void 0)throw new TypeError(`No method named "${d}"`);x[d]()}})}}D.on(document,zs,Di,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of be.getMultipleElementsFromSelector(this))bt.getOrCreateInstance(d,{toggle:!1}).toggle()}),$(bt);var Et="top",ct="bottom",sn="right",Ft="left",Qn="auto",Ln=[Et,ct,sn,Ft],ri="start",Gt="end",ho="clippingParents",wa="viewport",gi="popper",xr="reference",Ta=Ln.reduce(function(A,d){return A.concat([d+"-"+ri,d+"-"+Gt])},[]),Sa=[].concat(Ln,[Qn]).reduce(function(A,d){return A.concat([d,d+"-"+ri,d+"-"+Gt])},[]),fo="beforeRead",vl="read",Aa="afterRead",Ni="beforeMain",pn="main",Dn="afterMain",gs="beforeWrite",mo="write",wt="afterWrite",Bs=[fo,vl,Aa,Ni,pn,Dn,gs,mo,wt];function Nn(A){return A?(A.nodeName||"").toLowerCase():null}function Rn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function wn(A){return A instanceof Rn(A).Element||A instanceof Element}function Wn(A){return A instanceof Rn(A).HTMLElement||A instanceof HTMLElement}function po(A){return typeof ShadowRoot<"u"&&(A instanceof Rn(A).ShadowRoot||A instanceof ShadowRoot)}const Ca={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(b){var x=d.styles[b]||{},F=d.attributes[b]||{},G=d.elements[b];Wn(G)&&Nn(G)&&(Object.assign(G.style,x),Object.keys(F).forEach(function(se){var ge=F[se];ge===!1?G.removeAttribute(se):G.setAttribute(se,ge===!0?"":ge)}))})},effect:function(A){var d=A.state,b={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,b.popper),d.styles=b,d.elements.arrow&&Object.assign(d.elements.arrow.style,b.arrow),function(){Object.keys(d.elements).forEach(function(x){var F=d.elements[x],G=d.attributes[x]||{},se=Object.keys(d.styles.hasOwnProperty(x)?d.styles[x]:b[x]).reduce(function(ge,_e){return ge[_e]="",ge},{});Wn(F)&&Nn(F)&&(Object.assign(F.style,se),Object.keys(G).forEach(function(ge){F.removeAttribute(ge)}))})}},requires:["computeStyles"]};function Xn(A){return A.split("-")[0]}var Qr=Math.max,Dr=Math.min,On=Math.round;function go(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function yo(){return!/^((?!chrome|android).)*safari/i.test(go())}function Wr(A,d,b){d===void 0&&(d=!1),b===void 0&&(b=!1);var x=A.getBoundingClientRect(),F=1,G=1;d&&Wn(A)&&(F=A.offsetWidth>0&&On(x.width)/A.offsetWidth||1,G=A.offsetHeight>0&&On(x.height)/A.offsetHeight||1);var se=(wn(A)?Rn(A):window).visualViewport,ge=!yo()&&b,_e=(x.left+(ge&&se?se.offsetLeft:0))/F,Se=(x.top+(ge&&se?se.offsetTop:0))/G,Ce=x.width/F,we=x.height/G;return{width:Ce,height:we,top:Se,right:_e+Ce,bottom:Se+we,left:_e,x:_e,y:Se}}function qs(A){var d=Wr(A),b=A.offsetWidth,x=A.offsetHeight;return Math.abs(d.width-b)<=1&&(b=d.width),Math.abs(d.height-x)<=1&&(x=d.height),{x:A.offsetLeft,y:A.offsetTop,width:b,height:x}}function _l(A,d){var b=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(b&&po(b)){var x=d;do{if(x&&A.isSameNode(x))return!0;x=x.parentNode||x.host}while(x)}return!1}function si(A){return Rn(A).getComputedStyle(A)}function vo(A){return["table","td","th"].indexOf(Nn(A))>=0}function Vn(A){return((wn(A)?A.ownerDocument:A.document)||window.document).documentElement}function Fs(A){return Nn(A)==="html"?A:A.assignedSlot||A.parentNode||(po(A)?A.host:null)||Vn(A)}function Fi(A){return Wn(A)&&si(A).position!=="fixed"?A.offsetParent:null}function nr(A){for(var d=Rn(A),b=Fi(A);b&&vo(b)&&si(b).position==="static";)b=Fi(b);return b&&(Nn(b)==="html"||Nn(b)==="body"&&si(b).position==="static")?d:b||(function(x){var F=/firefox/i.test(go());if(/Trident/i.test(go())&&Wn(x)&&si(x).position==="fixed")return null;var G=Fs(x);for(po(G)&&(G=G.host);Wn(G)&&["html","body"].indexOf(Nn(G))<0;){var se=si(G);if(se.transform!=="none"||se.perspective!=="none"||se.contain==="paint"||["transform","perspective"].indexOf(se.willChange)!==-1||F&&se.willChange==="filter"||F&&se.filter&&se.filter!=="none")return G;G=G.parentNode}return null})(A)||d}function ir(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function Nr(A,d,b){return Qr(A,Dr(d,b))}function Ia(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function ys(A,d){return d.reduce(function(b,x){return b[x]=A,b},{})}const rr={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,b=A.state,x=A.name,F=A.options,G=b.elements.arrow,se=b.modifiersData.popperOffsets,ge=Xn(b.placement),_e=ir(ge),Se=[Ft,sn].indexOf(ge)>=0?"height":"width";if(G&&se){var Ce=(function(gt,pt){return Ia(typeof(gt=typeof gt=="function"?gt(Object.assign({},pt.rects,{placement:pt.placement})):gt)!="number"?gt:ys(gt,Ln))})(F.padding,b),we=qs(G),Ye=_e==="y"?Et:Ft,Ue=_e==="y"?ct:sn,ze=b.rects.reference[Se]+b.rects.reference[_e]-se[_e]-b.rects.popper[Se],Fe=se[_e]-b.rects.reference[_e],Pe=nr(G),At=Pe?_e==="y"?Pe.clientHeight||0:Pe.clientWidth||0:0,Ot=ze/2-Fe/2,Ge=Ce[Ye],nt=At-we[Se]-Ce[Ue],Ke=At/2-we[Se]/2+Ot,rt=Nr(Ge,Ke,nt),vt=_e;b.modifiersData[x]=((d={})[vt]=rt,d.centerOffset=rt-Ke,d)}},effect:function(A){var d=A.state,b=A.options.element,x=b===void 0?"[data-popper-arrow]":b;x!=null&&(typeof x!="string"||(x=d.elements.popper.querySelector(x)))&&_l(d.elements.popper,x)&&(d.elements.arrow=x)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jn(A){return A.split("-")[1]}var xa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dt(A){var d,b=A.popper,x=A.popperRect,F=A.placement,G=A.variation,se=A.offsets,ge=A.position,_e=A.gpuAcceleration,Se=A.adaptive,Ce=A.roundOffsets,we=A.isFixed,Ye=se.x,Ue=Ye===void 0?0:Ye,ze=se.y,Fe=ze===void 0?0:ze,Pe=typeof Ce=="function"?Ce({x:Ue,y:Fe}):{x:Ue,y:Fe};Ue=Pe.x,Fe=Pe.y;var At=se.hasOwnProperty("x"),Ot=se.hasOwnProperty("y"),Ge=Ft,nt=Et,Ke=window;if(Se){var rt=nr(b),vt="clientHeight",gt="clientWidth";rt===Rn(b)&&si(rt=Vn(b)).position!=="static"&&ge==="absolute"&&(vt="scrollHeight",gt="scrollWidth"),(F===Et||(F===Ft||F===sn)&&G===Gt)&&(nt=ct,Fe-=(we&&rt===Ke&&Ke.visualViewport?Ke.visualViewport.height:rt[vt])-x.height,Fe*=_e?1:-1),F!==Ft&&(F!==Et&&F!==ct||G!==Gt)||(Ge=sn,Ue-=(we&&rt===Ke&&Ke.visualViewport?Ke.visualViewport.width:rt[gt])-x.width,Ue*=_e?1:-1)}var pt,an=Object.assign({position:ge},Se&&xa),Ri=Ce===!0?(function(ci,Bn){var Qi=ci.x,Oi=ci.y,Jt=Bn.devicePixelRatio||1;return{x:On(Qi*Jt)/Jt||0,y:On(Oi*Jt)/Jt||0}})({x:Ue,y:Fe},Rn(b)):{x:Ue,y:Fe};return Ue=Ri.x,Fe=Ri.y,_e?Object.assign({},an,((pt={})[nt]=Ot?"0":"",pt[Ge]=At?"0":"",pt.transform=(Ke.devicePixelRatio||1)<=1?"translate("+Ue+"px, "+Fe+"px)":"translate3d("+Ue+"px, "+Fe+"px, 0)",pt)):Object.assign({},an,((d={})[nt]=Ot?Fe+"px":"",d[Ge]=At?Ue+"px":"",d.transform="",d))}const sr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,b=A.options,x=b.gpuAcceleration,F=x===void 0||x,G=b.adaptive,se=G===void 0||G,ge=b.roundOffsets,_e=ge===void 0||ge,Se={placement:Xn(d.placement),variation:Jn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:F,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Dt(Object.assign({},Se,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:se,roundOffsets:_e})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Dt(Object.assign({},Se,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Hs={passive:!0};const vs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,b=A.instance,x=A.options,F=x.scroll,G=F===void 0||F,se=x.resize,ge=se===void 0||se,_e=Rn(d.elements.popper),Se=[].concat(d.scrollParents.reference,d.scrollParents.popper);return G&&Se.forEach(function(Ce){Ce.addEventListener("scroll",b.update,Hs)}),ge&&_e.addEventListener("resize",b.update,Hs),function(){G&&Se.forEach(function(Ce){Ce.removeEventListener("scroll",b.update,Hs)}),ge&&_e.removeEventListener("resize",b.update,Hs)}},data:{}};var bl={left:"right",right:"left",bottom:"top",top:"bottom"};function Xr(A){return A.replace(/left|right|bottom|top/g,function(d){return bl[d]})}var _s={start:"end",end:"start"};function ar(A){return A.replace(/start|end/g,function(d){return _s[d]})}function kn(A){var d=Rn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Rr(A){return Wr(Vn(A)).left+kn(A).scrollLeft}function or(A){var d=si(A),b=d.overflow,x=d.overflowX,F=d.overflowY;return/auto|scroll|overlay|hidden/.test(b+F+x)}function bs(A){return["html","body","#document"].indexOf(Nn(A))>=0?A.ownerDocument.body:Wn(A)&&or(A)?A:bs(Fs(A))}function Es(A,d){var b;d===void 0&&(d=[]);var x=bs(A),F=x===((b=A.ownerDocument)==null?void 0:b.body),G=Rn(x),se=F?[G].concat(G.visualViewport||[],or(x)?x:[]):x,ge=d.concat(se);return F?ge:ge.concat(Es(Fs(se)))}function Jr(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Da(A,d,b){return d===wa?Jr((function(x,F){var G=Rn(x),se=Vn(x),ge=G.visualViewport,_e=se.clientWidth,Se=se.clientHeight,Ce=0,we=0;if(ge){_e=ge.width,Se=ge.height;var Ye=yo();(Ye||!Ye&&F==="fixed")&&(Ce=ge.offsetLeft,we=ge.offsetTop)}return{width:_e,height:Se,x:Ce+Rr(x),y:we}})(A,b)):wn(d)?(function(x,F){var G=Wr(x,!1,F==="fixed");return G.top=G.top+x.clientTop,G.left=G.left+x.clientLeft,G.bottom=G.top+x.clientHeight,G.right=G.left+x.clientWidth,G.width=x.clientWidth,G.height=x.clientHeight,G.x=G.left,G.y=G.top,G})(d,b):Jr((function(x){var F,G=Vn(x),se=kn(x),ge=(F=x.ownerDocument)==null?void 0:F.body,_e=Qr(G.scrollWidth,G.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),Se=Qr(G.scrollHeight,G.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),Ce=-se.scrollLeft+Rr(x),we=-se.scrollTop;return si(ge||G).direction==="rtl"&&(Ce+=Qr(G.clientWidth,ge?ge.clientWidth:0)-_e),{width:_e,height:Se,x:Ce,y:we}})(Vn(A)))}function Or(A){var d,b=A.reference,x=A.element,F=A.placement,G=F?Xn(F):null,se=F?Jn(F):null,ge=b.x+b.width/2-x.width/2,_e=b.y+b.height/2-x.height/2;switch(G){case Et:d={x:ge,y:b.y-x.height};break;case ct:d={x:ge,y:b.y+b.height};break;case sn:d={x:b.x+b.width,y:_e};break;case Ft:d={x:b.x-x.width,y:_e};break;default:d={x:b.x,y:b.y}}var Se=G?ir(G):null;if(Se!=null){var Ce=Se==="y"?"height":"width";switch(se){case ri:d[Se]=d[Se]-(b[Ce]/2-x[Ce]/2);break;case Gt:d[Se]=d[Se]+(b[Ce]/2-x[Ce]/2)}}return d}function kr(A,d){d===void 0&&(d={});var b=d,x=b.placement,F=x===void 0?A.placement:x,G=b.strategy,se=G===void 0?A.strategy:G,ge=b.boundary,_e=ge===void 0?ho:ge,Se=b.rootBoundary,Ce=Se===void 0?wa:Se,we=b.elementContext,Ye=we===void 0?gi:we,Ue=b.altBoundary,ze=Ue!==void 0&&Ue,Fe=b.padding,Pe=Fe===void 0?0:Fe,At=Ia(typeof Pe!="number"?Pe:ys(Pe,Ln)),Ot=Ye===gi?xr:gi,Ge=A.rects.popper,nt=A.elements[ze?Ot:Ye],Ke=(function(Bn,Qi,Oi,Jt){var on=Qi==="clippingParents"?(function(kt){var ln=Es(Fs(kt)),Zt=["absolute","fixed"].indexOf(si(kt).position)>=0&&Wn(kt)?nr(kt):kt;return wn(Zt)?ln.filter(function(Mt){return wn(Mt)&&_l(Mt,Zt)&&Nn(Mt)!=="body"}):[]})(Bn):[].concat(Qi),yn=[].concat(on,[Oi]),Wi=yn[0],Sn=yn.reduce(function(kt,ln){var Zt=Da(Bn,ln,Jt);return kt.top=Qr(Zt.top,kt.top),kt.right=Dr(Zt.right,kt.right),kt.bottom=Dr(Zt.bottom,kt.bottom),kt.left=Qr(Zt.left,kt.left),kt},Da(Bn,Wi,Jt));return Sn.width=Sn.right-Sn.left,Sn.height=Sn.bottom-Sn.top,Sn.x=Sn.left,Sn.y=Sn.top,Sn})(wn(nt)?nt:nt.contextElement||Vn(A.elements.popper),_e,Ce,se),rt=Wr(A.elements.reference),vt=Or({reference:rt,element:Ge,placement:F}),gt=Jr(Object.assign({},Ge,vt)),pt=Ye===gi?gt:rt,an={top:Ke.top-pt.top+At.top,bottom:pt.bottom-Ke.bottom+At.bottom,left:Ke.left-pt.left+At.left,right:pt.right-Ke.right+At.right},Ri=A.modifiersData.offset;if(Ye===gi&&Ri){var ci=Ri[F];Object.keys(an).forEach(function(Bn){var Qi=[sn,ct].indexOf(Bn)>=0?1:-1,Oi=[Et,ct].indexOf(Bn)>=0?"y":"x";an[Bn]+=ci[Oi]*Qi})}return an}function El(A,d){d===void 0&&(d={});var b=d,x=b.placement,F=b.boundary,G=b.rootBoundary,se=b.padding,ge=b.flipVariations,_e=b.allowedAutoPlacements,Se=_e===void 0?Sa:_e,Ce=Jn(x),we=Ce?ge?Ta:Ta.filter(function(ze){return Jn(ze)===Ce}):Ln,Ye=we.filter(function(ze){return Se.indexOf(ze)>=0});Ye.length===0&&(Ye=we);var Ue=Ye.reduce(function(ze,Fe){return ze[Fe]=kr(A,{placement:Fe,boundary:F,rootBoundary:G,padding:se})[Xn(Fe)],ze},{});return Object.keys(Ue).sort(function(ze,Fe){return Ue[ze]-Ue[Fe]})}const $s={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,x=A.name;if(!d.modifiersData[x]._skip){for(var F=b.mainAxis,G=F===void 0||F,se=b.altAxis,ge=se===void 0||se,_e=b.fallbackPlacements,Se=b.padding,Ce=b.boundary,we=b.rootBoundary,Ye=b.altBoundary,Ue=b.flipVariations,ze=Ue===void 0||Ue,Fe=b.allowedAutoPlacements,Pe=d.options.placement,At=Xn(Pe),Ot=_e||(At!==Pe&&ze?(function(kt){if(Xn(kt)===Qn)return[];var ln=Xr(kt);return[ar(kt),ln,ar(ln)]})(Pe):[Xr(Pe)]),Ge=[Pe].concat(Ot).reduce(function(kt,ln){return kt.concat(Xn(ln)===Qn?El(d,{placement:ln,boundary:Ce,rootBoundary:we,padding:Se,flipVariations:ze,allowedAutoPlacements:Fe}):ln)},[]),nt=d.rects.reference,Ke=d.rects.popper,rt=new Map,vt=!0,gt=Ge[0],pt=0;pt<Ge.length;pt++){var an=Ge[pt],Ri=Xn(an),ci=Jn(an)===ri,Bn=[Et,ct].indexOf(Ri)>=0,Qi=Bn?"width":"height",Oi=kr(d,{placement:an,boundary:Ce,rootBoundary:we,altBoundary:Ye,padding:Se}),Jt=Bn?ci?sn:Ft:ci?ct:Et;nt[Qi]>Ke[Qi]&&(Jt=Xr(Jt));var on=Xr(Jt),yn=[];if(G&&yn.push(Oi[Ri]<=0),ge&&yn.push(Oi[Jt]<=0,Oi[on]<=0),yn.every(function(kt){return kt})){gt=an,vt=!1;break}rt.set(an,yn)}if(vt)for(var Wi=function(kt){var ln=Ge.find(function(Zt){var Mt=rt.get(Zt);if(Mt)return Mt.slice(0,kt).every(function(La){return La})});if(ln)return gt=ln,"break"},Sn=ze?3:1;Sn>0&&Wi(Sn)!=="break";Sn--);d.placement!==gt&&(d.modifiersData[x]._skip=!0,d.placement=gt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wl(A,d,b){return b===void 0&&(b={x:0,y:0}),{top:A.top-d.height-b.y,right:A.right-d.width+b.x,bottom:A.bottom-d.height+b.y,left:A.left-d.width-b.x}}function Tl(A){return[Et,sn,ct,Ft].some(function(d){return A[d]>=0})}const Gs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,b=A.name,x=d.rects.reference,F=d.rects.popper,G=d.modifiersData.preventOverflow,se=kr(d,{elementContext:"reference"}),ge=kr(d,{altBoundary:!0}),_e=wl(se,x),Se=wl(ge,F,G),Ce=Tl(_e),we=Tl(Se);d.modifiersData[b]={referenceClippingOffsets:_e,popperEscapeOffsets:Se,isReferenceHidden:Ce,hasPopperEscaped:we},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ce,"data-popper-escaped":we})}},_o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,b=A.options,x=A.name,F=b.offset,G=F===void 0?[0,0]:F,se=Sa.reduce(function(Ce,we){return Ce[we]=(function(Ye,Ue,ze){var Fe=Xn(Ye),Pe=[Ft,Et].indexOf(Fe)>=0?-1:1,At=typeof ze=="function"?ze(Object.assign({},Ue,{placement:Ye})):ze,Ot=At[0],Ge=At[1];return Ot=Ot||0,Ge=(Ge||0)*Pe,[Ft,sn].indexOf(Fe)>=0?{x:Ge,y:Ot}:{x:Ot,y:Ge}})(we,d.rects,G),Ce},{}),ge=se[d.placement],_e=ge.x,Se=ge.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=_e,d.modifiersData.popperOffsets.y+=Se),d.modifiersData[x]=se}},bo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,b=A.name;d.modifiersData[b]=Or({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Na={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,x=A.name,F=b.mainAxis,G=F===void 0||F,se=b.altAxis,ge=se!==void 0&&se,_e=b.boundary,Se=b.rootBoundary,Ce=b.altBoundary,we=b.padding,Ye=b.tether,Ue=Ye===void 0||Ye,ze=b.tetherOffset,Fe=ze===void 0?0:ze,Pe=kr(d,{boundary:_e,rootBoundary:Se,padding:we,altBoundary:Ce}),At=Xn(d.placement),Ot=Jn(d.placement),Ge=!Ot,nt=ir(At),Ke=nt==="x"?"y":"x",rt=d.modifiersData.popperOffsets,vt=d.rects.reference,gt=d.rects.popper,pt=typeof Fe=="function"?Fe(Object.assign({},d.rects,{placement:d.placement})):Fe,an=typeof pt=="number"?{mainAxis:pt,altAxis:pt}:Object.assign({mainAxis:0,altAxis:0},pt),Ri=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ci={x:0,y:0};if(rt){if(G){var Bn,Qi=nt==="y"?Et:Ft,Oi=nt==="y"?ct:sn,Jt=nt==="y"?"height":"width",on=rt[nt],yn=on+Pe[Qi],Wi=on-Pe[Oi],Sn=Ue?-gt[Jt]/2:0,kt=Ot===ri?vt[Jt]:gt[Jt],ln=Ot===ri?-gt[Jt]:-vt[Jt],Zt=d.elements.arrow,Mt=Ue&&Zt?qs(Zt):{width:0,height:0},La=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ss=La[Qi],Xe=La[Oi],_t=Nr(0,vt[Jt],Mt[Jt]),An=Ge?vt[Jt]/2-Sn-_t-ss-an.mainAxis:kt-_t-ss-an.mainAxis,Sc=Ge?-vt[Jt]/2+Sn+_t+Xe+an.mainAxis:ln+_t+Xe+an.mainAxis,ia=d.elements.arrow&&nr(d.elements.arrow),Va=ia?nt==="y"?ia.clientTop||0:ia.clientLeft||0:0,jl=(Bn=Ri?.[nt])!=null?Bn:0,Pl=on+Sc-jl,Ua=Nr(Ue?Dr(yn,on+An-jl-Va):yn,on,Ue?Qr(Wi,Pl):Wi);rt[nt]=Ua,ci[nt]=Ua-on}if(ge){var jf,cn=nt==="x"?Et:Ft,Xu=nt==="x"?ct:sn,xs=rt[Ke],Ll=Ke==="y"?"height":"width",Ju=xs+Pe[cn],Pf=xs-Pe[Xu],Vl=[Et,Ft].indexOf(At)!==-1,Ac=(jf=Ri?.[Ke])!=null?jf:0,Cc=Vl?Ju:xs-vt[Ll]-gt[Ll]-Ac+an.altAxis,ui=Vl?xs+vt[Ll]+gt[Ll]-Ac-an.altAxis:Pf,un=Ue&&Vl?(function(Ic,Ul,Po){var xc=Nr(Ic,Ul,Po);return xc>Po?Po:xc})(Cc,xs,ui):Nr(Ue?Cc:Ju,xs,Ue?ui:Pf);rt[Ke]=un,ci[Ke]=un-xs}d.modifiersData[x]=ci}},requiresIfExists:["offset"]};function hc(A,d,b){b===void 0&&(b=!1);var x,F,G=Wn(d),se=Wn(d)&&(function(we){var Ye=we.getBoundingClientRect(),Ue=On(Ye.width)/we.offsetWidth||1,ze=On(Ye.height)/we.offsetHeight||1;return Ue!==1||ze!==1})(d),ge=Vn(d),_e=Wr(A,se,b),Se={scrollLeft:0,scrollTop:0},Ce={x:0,y:0};return(G||!G&&!b)&&((Nn(d)!=="body"||or(ge))&&(Se=(x=d)!==Rn(x)&&Wn(x)?{scrollLeft:(F=x).scrollLeft,scrollTop:F.scrollTop}:kn(x)),Wn(d)?((Ce=Wr(d,!0)).x+=d.clientLeft,Ce.y+=d.clientTop):ge&&(Ce.x=Rr(ge))),{x:_e.left+Se.scrollLeft-Ce.x,y:_e.top+Se.scrollTop-Ce.y,width:_e.width,height:_e.height}}function fc(A){var d=new Map,b=new Set,x=[];function F(G){b.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(se){if(!b.has(se)){var ge=d.get(se);ge&&F(ge)}}),x.push(G)}return A.forEach(function(G){d.set(G.name,G)}),A.forEach(function(G){b.has(G.name)||F(G)}),x}var Mr={placement:"bottom",modifiers:[],strategy:"absolute"};function Sl(){for(var A=arguments.length,d=new Array(A),b=0;b<A;b++)d[b]=arguments[b];return!d.some(function(x){return!(x&&typeof x.getBoundingClientRect=="function")})}function Ra(A){A===void 0&&(A={});var d=A,b=d.defaultModifiers,x=b===void 0?[]:b,F=d.defaultOptions,G=F===void 0?Mr:F;return function(se,ge,_e){_e===void 0&&(_e=G);var Se,Ce,we={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mr,G),modifiersData:{},elements:{reference:se,popper:ge},attributes:{},styles:{}},Ye=[],Ue=!1,ze={state:we,setOptions:function(Pe){var At=typeof Pe=="function"?Pe(we.options):Pe;Fe(),we.options=Object.assign({},G,we.options,At),we.scrollParents={reference:wn(se)?Es(se):se.contextElement?Es(se.contextElement):[],popper:Es(ge)};var Ot,Ge,nt=(function(Ke){var rt=fc(Ke);return Bs.reduce(function(vt,gt){return vt.concat(rt.filter(function(pt){return pt.phase===gt}))},[])})((Ot=[].concat(x,we.options.modifiers),Ge=Ot.reduce(function(Ke,rt){var vt=Ke[rt.name];return Ke[rt.name]=vt?Object.assign({},vt,rt,{options:Object.assign({},vt.options,rt.options),data:Object.assign({},vt.data,rt.data)}):rt,Ke},{}),Object.keys(Ge).map(function(Ke){return Ge[Ke]})));return we.orderedModifiers=nt.filter(function(Ke){return Ke.enabled}),we.orderedModifiers.forEach(function(Ke){var rt=Ke.name,vt=Ke.options,gt=vt===void 0?{}:vt,pt=Ke.effect;if(typeof pt=="function"){var an=pt({state:we,name:rt,instance:ze,options:gt});Ye.push(an||function(){})}}),ze.update()},forceUpdate:function(){if(!Ue){var Pe=we.elements,At=Pe.reference,Ot=Pe.popper;if(Sl(At,Ot)){we.rects={reference:hc(At,nr(Ot),we.options.strategy==="fixed"),popper:qs(Ot)},we.reset=!1,we.placement=we.options.placement,we.orderedModifiers.forEach(function(pt){return we.modifiersData[pt.name]=Object.assign({},pt.data)});for(var Ge=0;Ge<we.orderedModifiers.length;Ge++)if(we.reset!==!0){var nt=we.orderedModifiers[Ge],Ke=nt.fn,rt=nt.options,vt=rt===void 0?{}:rt,gt=nt.name;typeof Ke=="function"&&(we=Ke({state:we,options:vt,name:gt,instance:ze})||we)}else we.reset=!1,Ge=-1}}},update:(Se=function(){return new Promise(function(Pe){ze.forceUpdate(),Pe(we)})},function(){return Ce||(Ce=new Promise(function(Pe){Promise.resolve().then(function(){Ce=void 0,Pe(Se())})})),Ce}),destroy:function(){Fe(),Ue=!0}};if(!Sl(se,ge))return ze;function Fe(){Ye.forEach(function(Pe){return Pe()}),Ye=[]}return ze.setOptions(_e).then(function(Pe){!Ue&&_e.onFirstUpdate&&_e.onFirstUpdate(Pe)}),ze}}var dc=Ra(),mc=Ra({defaultModifiers:[vs,bo,sr,Ca]}),Zr=Ra({defaultModifiers:[vs,bo,sr,Ca,_o,$s,Na,rr,Gs]});const ai=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Dn,afterRead:Aa,afterWrite:wt,applyStyles:Ca,arrow:rr,auto:Qn,basePlacements:Ln,beforeMain:Ni,beforeRead:fo,beforeWrite:gs,bottom:ct,clippingParents:ho,computeStyles:sr,createPopper:Zr,createPopperBase:dc,createPopperLite:mc,detectOverflow:kr,end:Gt,eventListeners:vs,flip:$s,hide:Gs,left:Ft,main:pn,modifierPhases:Bs,offset:_o,placements:Sa,popper:gi,popperGenerator:Ra,popperOffsets:bo,preventOverflow:Na,read:vl,reference:xr,right:sn,start:ri,top:Et,variationPlacements:Ta,viewport:wa,write:mo},Symbol.toStringTag,{value:"Module"})),Al="dropdown",es=".bs.dropdown",jr=".data-api",h="ArrowUp",_="ArrowDown",T=`hide${es}`,N=`hidden${es}`,Q=`show${es}`,ne=`shown${es}`,Ee=`click${es}${jr}`,We=`keydown${es}${jr}`,gn=`keyup${es}${jr}`,st="show",Tt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',lr=`${Tt}.${st}`,Hi=".dropdown-menu",Pr=B()?"top-end":"top-start",Lr=B()?"top-start":"top-end",Oa=B()?"bottom-end":"bottom-start",Eo=B()?"bottom-start":"bottom-end",wo=B()?"left-start":"right-start",Wm=B()?"right-start":"left-start",Xm={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jm={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class cr extends Ve{constructor(d,b){super(d,b),this._popper=null,this._parent=this._element.parentNode,this._menu=be.next(this._element,Hi)[0]||be.prev(this._element,Hi)[0]||be.findOne(Hi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xm}static get DefaultType(){return Jm}static get NAME(){return Al}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!D.trigger(this._element,Q,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))D.on(b,"mouseover",M);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(st),this._element.classList.add(st),D.trigger(this._element,ne,d)}}hide(){if(S(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!D.trigger(this._element,T,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))D.off(b,"mouseover",M);this._popper&&this._popper.destroy(),this._menu.classList.remove(st),this._element.classList.remove(st),this._element.setAttribute("aria-expanded","false"),Re.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,N,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!y(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Al.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(ai===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:y(this._config.reference)?d=g(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const b=this._getPopperConfig();this._popper=Zr(d,this._menu,b)}_isShown(){return this._menu.classList.contains(st)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return wo;if(d.classList.contains("dropstart"))return Wm;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?b?Lr:Pr:b?Eo:Oa}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Re.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...te(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:b}){const x=be.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(F=>E(F));x.length&&le(x,b,d===_,!x.includes(b)).focus()}static jQueryInterface(d){return this.each(function(){const b=cr.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const b=be.find(lr);for(const x of b){const F=cr.getInstance(x);if(!F||F._config.autoClose===!1)continue;const G=d.composedPath(),se=G.includes(F._menu);if(G.includes(F._element)||F._config.autoClose==="inside"&&!se||F._config.autoClose==="outside"&&se||F._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ge={relatedTarget:F._element};d.type==="click"&&(ge.clickEvent=d),F._completeHide(ge)}}static dataApiKeydownHandler(d){const b=/input|textarea/i.test(d.target.tagName),x=d.key==="Escape",F=[h,_].includes(d.key);if(!F&&!x||b&&!x)return;d.preventDefault();const G=this.matches(Tt)?this:be.prev(this,Tt)[0]||be.next(this,Tt)[0]||be.findOne(Tt,d.delegateTarget.parentNode),se=cr.getOrCreateInstance(G);if(F)return d.stopPropagation(),se.show(),void se._selectMenuItem(d);se._isShown()&&(d.stopPropagation(),se.hide(),G.focus())}}D.on(document,We,Tt,cr.dataApiKeydownHandler),D.on(document,We,Hi,cr.dataApiKeydownHandler),D.on(document,Ee,cr.clearMenus),D.on(document,gn,cr.clearMenus),D.on(document,Ee,Tt,function(A){A.preventDefault(),cr.getOrCreateInstance(this).toggle()}),$(cr);const Eu="backdrop",To="show",So=`mousedown.bs.${Eu}`,Zm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},pc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wu extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Zm}static get DefaultType(){return pc}static get NAME(){return Eu}show(d){if(!this._config.isVisible)return void te(d);this._append();const b=this._getElement();this._config.isAnimated&&Y(b),b.classList.add(To),this._emulateAnimation(()=>{te(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(To),this._emulateAnimation(()=>{this.dispose(),te(d)})):te(d)}dispose(){this._isAppended&&(D.off(this._element,So),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=g(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),D.on(d,So,()=>{te(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){ye(d,this._getElement(),this._config.isAnimated)}}const Cl=".bs.focustrap",Tu=`focusin${Cl}`,Su=`keydown.tab${Cl}`,Au="backward",pf={autofocus:!0,trapElement:null},gf={autofocus:"boolean",trapElement:"element"};class yf extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pf}static get DefaultType(){return gf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,Cl),D.on(document,Tu,d=>this._handleFocusin(d)),D.on(document,Su,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,Cl))}_handleFocusin(d){const{trapElement:b}=this._config;if(d.target===document||d.target===b||b.contains(d.target))return;const x=be.focusableChildren(b);x.length===0?b.focus():this._lastTabNavDirection===Au?x[x.length-1].focus():x[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Au:"forward")}}const vf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_f=".sticky-top",gc="padding-right",bf="margin-right";class yi{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gc,b=>b+d),this._setElementAttributes(vf,gc,b=>b+d),this._setElementAttributes(_f,bf,b=>b-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gc),this._resetElementAttributes(vf,gc),this._resetElementAttributes(_f,bf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,b,x){const F=this.getWidth();this._applyManipulationCallback(d,G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+F)return;this._saveInitialAttribute(G,b);const se=window.getComputedStyle(G).getPropertyValue(b);G.style.setProperty(b,`${x(Number.parseFloat(se))}px`)})}_saveInitialAttribute(d,b){const x=d.style.getPropertyValue(b);x&&Re.setDataAttribute(d,b,x)}_resetElementAttributes(d,b){this._applyManipulationCallback(d,x=>{const F=Re.getDataAttribute(x,b);F!==null?(Re.removeDataAttribute(x,b),x.style.setProperty(b,F)):x.style.removeProperty(b)})}_applyManipulationCallback(d,b){if(y(d))b(d);else for(const x of be.find(d,this._element))b(x)}}const oi=".bs.modal",Ef=`hide${oi}`,wf=`hidePrevented${oi}`,Cu=`hidden${oi}`,Iu=`show${oi}`,xu=`shown${oi}`,ep=`resize${oi}`,Ao=`click.dismiss${oi}`,Du=`mousedown.dismiss${oi}`,Il=`keydown.dismiss${oi}`,Nu=`click${oi}.data-api`,Ru="modal-open",Ys="show",Ks="modal-static",Ou={backdrop:!0,focus:!0,keyboard:!0},Tf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $i extends Ve{constructor(d,b){super(d,b),this._dialog=be.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yi,this._addEventListeners()}static get Default(){return Ou}static get DefaultType(){return Tf}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||D.trigger(this._element,Iu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ru),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(D.trigger(this._element,Ef).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ys),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){D.off(window,oi),D.off(this._dialog,oi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yf({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=be.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),Y(this._element),this._element.classList.add(Ys),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,xu,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,Il,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),D.on(window,ep,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,Du,d=>{D.one(this._element,Ao,b=>{this._element===d.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ru),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,Cu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(D.trigger(this._element,wf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Ks)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Ks),this._queueCallback(()=>{this._element.classList.remove(Ks),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),x=b>0;if(x&&!d){const F=B()?"paddingLeft":"paddingRight";this._element.style[F]=`${b}px`}if(!x&&d){const F=B()?"paddingRight":"paddingLeft";this._element.style[F]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,b){return this.each(function(){const x=$i.getOrCreateInstance(this,d);if(typeof d=="string"){if(x[d]===void 0)throw new TypeError(`No method named "${d}"`);x[d](b)}})}}D.on(document,Nu,'[data-bs-toggle="modal"]',function(A){const d=be.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),D.one(d,Iu,x=>{x.defaultPrevented||D.one(d,Cu,()=>{E(this)&&this.focus()})});const b=be.findOne(".modal.show");b&&$i.getInstance(b).hide(),$i.getOrCreateInstance(d).toggle(this)}),Ci($i),$($i);const ts=".bs.offcanvas",ku=".data-api",Sf=`load${ts}${ku}`,Af="show",Cf="showing",If="hiding",Mu=".offcanvas.show",xf=`show${ts}`,ju=`shown${ts}`,Vr=`hide${ts}`,xl=`hidePrevented${ts}`,Gi=`hidden${ts}`,Co=`resize${ts}`,Pu=`click${ts}${ku}`,yc=`keydown.dismiss${ts}`,vc={backdrop:!0,keyboard:!0,scroll:!1},Lu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vi extends Ve{constructor(d,b){super(d,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vc}static get DefaultType(){return Lu}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||D.trigger(this._element,xf,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new yi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Cf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Af),this._element.classList.remove(Cf),D.trigger(this._element,ju,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(D.trigger(this._element,Vr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(If),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Af,If),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yi().reset(),D.trigger(this._element,Gi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new wu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():D.trigger(this._element,xl)}:null})}_initializeFocusTrap(){return new yf({trapElement:this._element})}_addEventListeners(){D.on(this._element,yc,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():D.trigger(this._element,xl))})}static jQueryInterface(d){return this.each(function(){const b=vi.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}D.on(document,Pu,'[data-bs-toggle="offcanvas"]',function(A){const d=be.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this))return;D.one(d,Gi,()=>{E(this)&&this.focus()});const b=be.findOne(Mu);b&&b!==d&&vi.getInstance(b).hide(),vi.getOrCreateInstance(d).toggle(this)}),D.on(window,Sf,()=>{for(const A of be.find(Mu))vi.getOrCreateInstance(A).show()}),D.on(window,Co,()=>{for(const A of be.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&vi.getOrCreateInstance(A).hide()}),Ci(vi),$(vi);const Vu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_c=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Io=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tp=(A,d)=>{const b=A.nodeName.toLowerCase();return d.includes(b)?!_c.has(b)||!!Io.test(A.nodeValue):d.filter(x=>x instanceof RegExp).some(x=>x.test(b))},Yi={allowList:Vu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Uu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ws={entry:"(string|element|function|null)",selector:"(string|element)"};class Df extends Le{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Yi}static get DefaultType(){return Uu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[F,G]of Object.entries(this._config.content))this._setContent(d,G,F);const b=d.children[0],x=this._resolvePossibleFunction(this._config.extraClass);return x&&b.classList.add(...x.split(" ")),b}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[b,x]of Object.entries(d))super._typeCheckConfig({selector:b,entry:x},ws)}_setContent(d,b,x){const F=be.findOne(x,d);F&&((b=this._resolvePossibleFunction(b))?y(b)?this._putElementInTemplate(g(b),F):this._config.html?F.innerHTML=this._maybeSanitize(b):F.textContent=b:F.remove())}_maybeSanitize(d){return this._config.sanitize?(function(b,x,F){if(!b.length)return b;if(F&&typeof F=="function")return F(b);const G=new window.DOMParser().parseFromString(b,"text/html"),se=[].concat(...G.body.querySelectorAll("*"));for(const ge of se){const _e=ge.nodeName.toLowerCase();if(!Object.keys(x).includes(_e)){ge.remove();continue}const Se=[].concat(...ge.attributes),Ce=[].concat(x["*"]||[],x[_e]||[]);for(const we of Se)tp(we,Ce)||ge.removeAttribute(we.nodeName)}return G.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return te(d,[void 0,this])}_putElementInTemplate(d,b){if(this._config.html)return b.innerHTML="",void b.append(d);b.textContent=d.textContent}}const bc=new Set(["sanitize","allowList","sanitizeFn"]),Ts="fade",xo="show",Nf=".tooltip-inner",Ec=".modal",zu="hide.bs.modal",li="hover",Qs="focus",Ws="click",wc={AUTO:"auto",TOP:"top",RIGHT:B()?"left":"right",BOTTOM:"bottom",LEFT:B()?"right":"left"},Dl={allowList:Vu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ur={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Un extends Ve{constructor(d,b){if(ai===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Dl}static get DefaultType(){return ur}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(Ec),zu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=D.trigger(this._element,this.constructor.eventName("show")),b=(I(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!b)return;this._disposePopper();const x=this._getTipElement();this._element.setAttribute("aria-describedby",x.getAttribute("id"));const{container:F}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(F.append(x),D.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(x),x.classList.add(xo),"ontouchstart"in document.documentElement)for(const G of[].concat(...document.body.children))D.on(G,"mouseover",M);this._queueCallback(()=>{D.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!D.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(xo),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))D.off(d,"mouseover",M);this._activeTrigger[Ws]=!1,this._activeTrigger[Qs]=!1,this._activeTrigger[li]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const b=this._getTemplateFactory(d).toHtml();if(!b)return null;b.classList.remove(Ts,xo),b.classList.add(`bs-${this.constructor.NAME}-auto`);const x=(F=>{do F+=Math.floor(1e6*Math.random());while(document.getElementById(F));return F})(this.constructor.NAME).toString();return b.setAttribute("id",x),this._isAnimated()&&b.classList.add(Ts),b}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Df({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Nf]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ts)}_isShown(){return this.tip&&this.tip.classList.contains(xo)}_createPopper(d){const b=te(this._config.placement,[this,d,this._element]),x=wc[b.toUpperCase()];return Zr(this._element,d,this._getPopperConfig(x))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_resolvePossibleFunction(d){return te(d,[this._element,this._element])}_getPopperConfig(d){const b={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:x=>{this._getTipElement().setAttribute("data-popper-placement",x.state.placement)}}]};return{...b,...te(this._config.popperConfig,[void 0,b])}}_setListeners(){const d=this._config.trigger.split(" ");for(const b of d)if(b==="click")D.on(this._element,this.constructor.eventName("click"),this._config.selector,x=>{const F=this._initializeOnDelegatedTarget(x);F._activeTrigger[Ws]=!(F._isShown()&&F._activeTrigger[Ws]),F.toggle()});else if(b!=="manual"){const x=b===li?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),F=b===li?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");D.on(this._element,x,this._config.selector,G=>{const se=this._initializeOnDelegatedTarget(G);se._activeTrigger[G.type==="focusin"?Qs:li]=!0,se._enter()}),D.on(this._element,F,this._config.selector,G=>{const se=this._initializeOnDelegatedTarget(G);se._activeTrigger[G.type==="focusout"?Qs:li]=se._element.contains(G.relatedTarget),se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(Ec),zu,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,b){clearTimeout(this._timeout),this._timeout=setTimeout(d,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const b=Re.getDataAttributes(this._element);for(const x of Object.keys(b))bc.has(x)&&delete b[x];return d={...b,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:g(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[b,x]of Object.entries(this._config))this.constructor.Default[b]!==x&&(d[b]=x);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const b=Un.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}$(Un);const Xs=".popover-header",ns=".popover-body",is={...Un.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ss={...Un.DefaultType,content:"(null|string|element|function)"};class Nl extends Un{static get Default(){return is}static get DefaultType(){return Ss}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xs]:this._getTitle(),[ns]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const b=Nl.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}$(Nl);const Rl=".bs.scrollspy",Bu=`activate${Rl}`,qu=`click${Rl}`,Zn=`load${Rl}.data-api`,St="active",it="[href]",As=".nav-link",hr=`${As}, .nav-item > ${As}, .list-group-item`,Fu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Js={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Do extends Ve{constructor(d,b){super(d,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Fu}static get DefaultType(){return Js}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=g(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(b=>Number.parseFloat(b))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,qu),D.on(this._config.target,qu,it,d=>{const b=this._observableSections.get(d.target.hash);if(b){d.preventDefault();const x=this._rootElement||window,F=b.offsetTop-this._element.offsetTop;if(x.scrollTo)return void x.scrollTo({top:F,behavior:"smooth"});x.scrollTop=F}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),d)}_observerCallback(d){const b=se=>this._targetLinks.get(`#${se.target.id}`),x=se=>{this._previousScrollData.visibleEntryTop=se.target.offsetTop,this._process(b(se))},F=(this._rootElement||document.documentElement).scrollTop,G=F>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=F;for(const se of d){if(!se.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(se));continue}const ge=se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(G&&ge){if(x(se),!F)return}else G||ge||x(se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=be.find(it,this._config.target);for(const b of d){if(!b.hash||S(b))continue;const x=be.findOne(decodeURI(b.hash),this._element);E(x)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,x))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(St),this._activateParents(d),D.trigger(this._element,Bu,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))be.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(St);else for(const b of be.parents(d,".nav, .list-group"))for(const x of be.prev(b,hr))x.classList.add(St)}_clearActiveClass(d){d.classList.remove(St);const b=be.find(`${it}.${St}`,d);for(const x of b)x.classList.remove(St)}static jQueryInterface(d){return this.each(function(){const b=Do.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}D.on(window,Zn,()=>{for(const A of be.find('[data-bs-spy="scroll"]'))Do.getOrCreateInstance(A)}),$(Do);const Zs=".bs.tab",No=`hide${Zs}`,ka=`hidden${Zs}`,Hu=`show${Zs}`,Ol=`shown${Zs}`,$u=`click${Zs}`,Ma=`keydown${Zs}`,Cs=`load${Zs}`,ea="ArrowLeft",rs="ArrowRight",Gu="ArrowUp",Tc="ArrowDown",ta="Home",kl="End",Ki="active",zn="fade",Ro="show",Yu=".dropdown-toggle",Ku=`:not(${Yu})`,Rf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qu=`.nav-link${Ku}, .list-group-item${Ku}, [role="tab"]${Ku}, ${Rf}`,Tn=`.${Ki}[data-bs-toggle="tab"], .${Ki}[data-bs-toggle="pill"], .${Ki}[data-bs-toggle="list"]`;class Is extends Ve{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,Ma,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const b=this._getActiveElem(),x=b?D.trigger(b,No,{relatedTarget:d}):null;D.trigger(d,Hu,{relatedTarget:b}).defaultPrevented||x&&x.defaultPrevented||(this._deactivate(b,d),this._activate(d,b))}_activate(d,b){d&&(d.classList.add(Ki),this._activate(be.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),D.trigger(d,Ol,{relatedTarget:b})):d.classList.add(Ro)},d,d.classList.contains(zn)))}_deactivate(d,b){d&&(d.classList.remove(Ki),d.blur(),this._deactivate(be.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),D.trigger(d,ka,{relatedTarget:b})):d.classList.remove(Ro)},d,d.classList.contains(zn)))}_keydown(d){if(![ea,rs,Gu,Tc,ta,kl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const b=this._getChildren().filter(F=>!S(F));let x;if([ta,kl].includes(d.key))x=b[d.key===ta?0:b.length-1];else{const F=[rs,Tc].includes(d.key);x=le(b,d.target,F,!0)}x&&(x.focus({preventScroll:!0}),Is.getOrCreateInstance(x).show())}_getChildren(){return be.find(Qu,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,b){this._setAttributeIfNotExists(d,"role","tablist");for(const x of b)this._setInitialAttributesOnChild(x)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const b=this._elemIsActive(d),x=this._getOuterElement(d);d.setAttribute("aria-selected",b),x!==d&&this._setAttributeIfNotExists(x,"role","presentation"),b||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const b=be.getElementFromSelector(d);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,b){const x=this._getOuterElement(d);if(!x.classList.contains("dropdown"))return;const F=(G,se)=>{const ge=be.findOne(G,x);ge&&ge.classList.toggle(se,b)};F(Yu,Ki),F(".dropdown-menu",Ro),x.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(d,b,x){d.hasAttribute(b)||d.setAttribute(b,x)}_elemIsActive(d){return d.classList.contains(Ki)}_getInnerElement(d){return d.matches(Qu)?d:be.findOne(Qu,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const b=Is.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}D.on(document,$u,Rf,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this)||Is.getOrCreateInstance(this).show()}),D.on(window,Cs,()=>{for(const A of be.find(Tn))Is.getOrCreateInstance(A)}),$(Is);const fr=".bs.toast",Ml=`mouseover${fr}`,Wu=`mouseout${fr}`,Oo=`focusin${fr}`,ko=`focusout${fr}`,np=`hide${fr}`,Of=`hidden${fr}`,ip=`show${fr}`,kf=`shown${fr}`,na="hide",Mo="show",ja="showing",Mf={animation:"boolean",autohide:"boolean",delay:"number"},jo={animation:!0,autohide:!0,delay:5e3};class Pa extends Ve{constructor(d,b){super(d,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return jo}static get DefaultType(){return Mf}static get NAME(){return"toast"}show(){D.trigger(this._element,ip).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(na),Y(this._element),this._element.classList.add(Mo,ja),this._queueCallback(()=>{this._element.classList.remove(ja),D.trigger(this._element,kf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(D.trigger(this._element,np).defaultPrevented||(this._element.classList.add(ja),this._queueCallback(()=>{this._element.classList.add(na),this._element.classList.remove(ja,Mo),D.trigger(this._element,Of)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Mo),super.dispose()}isShown(){return this._element.classList.contains(Mo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,b){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const x=d.relatedTarget;this._element===x||this._element.contains(x)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,Ml,d=>this._onInteraction(d,!0)),D.on(this._element,Wu,d=>this._onInteraction(d,!1)),D.on(this._element,Oo,d=>this._onInteraction(d,!0)),D.on(this._element,ko,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const b=Pa.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d](this)}})}}return Ci(Pa),$(Pa),{Alert:lt,Button:Qt,Carousel:Cr,Collapse:bt,Dropdown:cr,Modal:$i,Offcanvas:vi,Popover:Nl,ScrollSpy:Do,Tab:Is,Toast:Pa,Tooltip:Un}})})(Bd)),Bd.exports}BP();function qP(){return v.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:v.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[v.jsxs(Gc,{className:"navbar-brand fw-bold fs-1",to:"/",children:[v.jsx("span",{className:"text-dark",children:"Salamat"}),v.jsx("span",{className:"text-white",children:"Doc"})]}),v.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:v.jsx("span",{className:"navbar-toggler-icon"})}),v.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:v.jsxs("ul",{className:"navbar-nav",children:[v.jsx("li",{className:"nav-item",children:v.jsx(Gc,{className:"nav-link text-dark",to:"/login",children:"Login"})}),v.jsxs("li",{className:"nav-item dropdown",children:[v.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),v.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[v.jsx("li",{children:v.jsx(Gc,{className:"dropdown-item",to:"/about",children:"About Us"})}),v.jsx("li",{children:v.jsx(Gc,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function FP(){const{user:i,profile:e,loading:t}=zi(),s=oo();if(t)return v.jsx("div",{children:"Loading..."});const o=e?.role||null;let c=null;o==="admin"&&s.pathname.startsWith("/admin")?c=v.jsx(LP,{}):o==="doctor"&&s.pathname.startsWith("/doctor")?c=v.jsx(VP,{}):o==="patient"&&s.pathname.startsWith("/patient")&&(c=v.jsx(UP,{}));const u=!c;return v.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[c&&v.jsx("div",{style:{width:"250px",flexShrink:0},children:c}),v.jsxs("div",{style:{flexGrow:1},children:[u&&v.jsx(qP,{}),v.jsx(ox,{})]})]})}function qr({children:i,requiredRole:e}){const{user:t,userData:s,loading:o}=zi();return o?v.jsx("div",{className:"loading-screen",children:"Loading..."}):t?e&&s?.role?.toLowerCase()!==e.toLowerCase()?v.jsx(nw,{to:"/unauthorized",replace:!0}):i:v.jsx(nw,{to:"/login",replace:!0})}function HP(){return v.jsx("div",{className:"bg-animation",children:v.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:v.jsxs("div",{className:"page-container",children:[v.jsx("h1",{className:"page-title",children:"Accessible Online Health"}),v.jsx("p",{className:"page-text",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective."}),v.jsx("p",{className:"page-text",children:"We allow you to remotely connect with our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."})]})})})}const Ei=[];for(let i=0;i<256;++i)Ei.push((i+256).toString(16).slice(1));function $P(i,e=0){return(Ei[i[e+0]]+Ei[i[e+1]]+Ei[i[e+2]]+Ei[i[e+3]]+"-"+Ei[i[e+4]]+Ei[i[e+5]]+"-"+Ei[i[e+6]]+Ei[i[e+7]]+"-"+Ei[i[e+8]]+Ei[i[e+9]]+"-"+Ei[i[e+10]]+Ei[i[e+11]]+Ei[i[e+12]]+Ei[i[e+13]]+Ei[i[e+14]]+Ei[i[e+15]]).toLowerCase()}let Bg;const GP=new Uint8Array(16);function YP(){if(!Bg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bg=crypto.getRandomValues.bind(crypto)}return Bg(GP)}const KP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YT={randomUUID:KP};function QP(i,e,t){i=i||{};const s=i.random??i.rng?.()??YP();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,$P(s)}function WP(i,e,t){return YT.randomUUID&&!i?YT.randomUUID():QP(i)}function XP(){const i=nc(),[e,t]=V.useState(""),s=async o=>{o.preventDefault();const c=o.target.email.value,u=o.target.password.value;try{const y=(await TR(ya,c,u)).user,g=Kt(qe,"users",y.uid),E=await pa(g);if(E.exists()){const S=E.data();if(!S.token){const I=WP();await ga(g,{token:I}),S.token=I}switch(localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("authToken",S.token),S.role){case"admin":i("/admin/dashboard");break;case"doctor":i("/doctor/dashboard");break;case"patient":i("/patient/dashboard");break;default:alert("No valid role found. Please contact support."),i("/login")}}}catch(p){console.error("Login failed:",p.message),t("Invalid email or password")}};return v.jsx("div",{className:"bg-animation",children:v.jsxs("div",{className:"login-page",children:[v.jsx("div",{className:"login-overlay"}),v.jsx("div",{className:"login-content animate__animated",children:v.jsxs("div",{className:"login-box",children:[v.jsx("h2",{className:"text-center mb-4",children:"Login"}),v.jsxs("form",{onSubmit:s,children:[v.jsxs("div",{className:"mb-3 text-start",children:[v.jsx("label",{htmlFor:"email",className:"form-label fw-semibold",children:"Email address"}),v.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),v.jsxs("div",{className:"mb-3 text-start",children:[v.jsx("label",{htmlFor:"password",className:"form-label fw-semibold",children:"Password"}),v.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&v.jsx("p",{className:"text-danger text-center",children:e}),v.jsx("div",{className:"d-flex justify-content-center mt-4",children:v.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),v.jsx("div",{className:"text-center mt-3",children:v.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password? Contact an administrator."})})]})]})})]})})}function JP(){return v.jsx("div",{className:"bg-animation",children:v.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:v.jsxs("div",{className:"page-container",children:[v.jsx("h2",{className:"page-title",children:"About Us"}),v.jsx("p",{className:"page-text",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective. With a mix of technology and classic human ingenuity and expertise, we made SalamatDoc. This has allowed us to remotely connect you to our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."}),v.jsx("p",{className:"page-text",children:"The SalamatDoc website only allows account creation through contacting us. This ensures that everyone on the platform is legitimate, trustworthy, and safe."}),v.jsx("p",{className:"page-text",children:"Better services, better care, better health. Salamat, Doc!"})]})})})}function ZP(){return v.jsx("div",{className:"bg-animation",children:v.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Contact.jpg')"},children:v.jsxs("div",{className:"page-container",children:[v.jsx("h2",{className:"page-title",children:"Contact"}),v.jsxs("p",{className:"page-text",children:[v.jsx("strong",{children:"Are you interested as a patient?"}),v.jsx("br",{}),"Email us through: ",v.jsx("strong",{children:"SalamatDoc@applications.com"}),v.jsx("br",{}),"Email us to get the application process started. We’ll guide you however much you need throughout the process."]}),v.jsxs("p",{className:"page-text",children:[v.jsx("strong",{children:"Are you interested in becoming a SalamatDoc doctor?"}),v.jsx("br",{}),"Email us through: ",v.jsx("strong",{children:"SalamatDoc@applications.com"}),v.jsx("br",{}),"Emailing us will begin the process. You will undergo an authentication and screening process for everyone’s safety, security, and health. We only accept qualified and certified doctors that will do their best to help patients."]})]})})})}function eL(){const{user:i}=zi(),[e,t]=V.useState([]),[s,o]=V.useState({name:"",role:""}),[c,u]=V.useState(null);V.useEffect(()=>{(async()=>{const I=(await Pn(rn(qe,"users"))).docs.map(M=>({id:M.id,...M.data()}));t(I)})()},[]);const p=async()=>{!s.name.trim()||!s.role.trim()||(await Fv(rn(qe,"users"),s),o({name:"",role:""}),window.location.reload())},y=async(E,S)=>{const I=Kt(qe,"users",E);await ga(I,S),u(null),window.location.reload()},g=async E=>{await QA(Kt(qe,"users",E)),window.location.reload()};return v.jsxs("div",{className:"management-container",children:[v.jsx("h2",{className:"management-title",children:"Admin Dashboard"}),v.jsxs("div",{className:"management-form align-left compact",children:[v.jsx("h3",{children:"Add New User"}),v.jsxs("div",{className:"input-row",children:[v.jsx("input",{type:"text",placeholder:"Enter name",value:s.name,onChange:E=>o({...s,name:E.target.value})}),v.jsx("input",{type:"text",placeholder:"Enter role",value:s.role,onChange:E=>o({...s,role:E.target.value})}),v.jsx("button",{onClick:p,children:"Add"})]})]}),v.jsx("div",{className:"table-wrapper management-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Name"}),v.jsx("th",{children:"Role"}),v.jsx("th",{style:{width:"180px"},children:"Actions"})]})}),v.jsx("tbody",{children:e.map(E=>v.jsxs("tr",{children:[v.jsx("td",{children:c===E.id?v.jsx("input",{type:"text",defaultValue:E.name,onBlur:S=>y(E.id,{...E,name:S.target.value})}):E.name}),v.jsx("td",{children:c===E.id?v.jsx("input",{type:"text",defaultValue:E.role,onBlur:S=>y(E.id,{...E,role:S.target.value})}):E.role}),v.jsx("td",{className:"actions-cell",children:c===E.id?v.jsx("button",{className:"action-btn cancel-btn",onClick:()=>u(null),children:"Cancel"}):v.jsxs("div",{className:"action-row",children:[v.jsx("button",{className:"action-btn edit-btn",onClick:()=>u(E.id),children:"Edit"}),v.jsx("button",{className:"action-btn delete-btn",onClick:()=>g(E.id),children:"Delete"})]})})]},E.id))})]})})]})}function SC(i){var e,t,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=SC(i[e]))&&(s&&(s+=" "),s+=t)}else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function Fm(){for(var i,e,t=0,s="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=SC(i))&&(s&&(s+=" "),s+=e);return s}const tL=(i,e,t,s)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const o=Object.getOwnPropertyDescriptor(i,t),c=Object.getOwnPropertyDescriptor(e,t);!nL(o,c)&&s||Object.defineProperty(i,t,c)},nL=function(i,e){return i===void 0||i.configurable||i.writable===e.writable&&i.enumerable===e.enumerable&&i.configurable===e.configurable&&(i.writable||i.value===e.value)},iL=(i,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(i)&&Object.setPrototypeOf(i,t)},rL=(i,e)=>`/* Wrapped ${i}*/
${e}`,sL=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),aL=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),oL=(i,e,t)=>{const s=t===""?"":`with ${t.trim()}() `,o=rL.bind(null,s,e.toString());Object.defineProperty(o,"name",aL);const{writable:c,enumerable:u,configurable:p}=sL;Object.defineProperty(i,"toString",{value:o,writable:c,enumerable:u,configurable:p})};function lL(i,e,{ignoreNonConfigurable:t=!1}={}){const{name:s}=i;for(const o of Reflect.ownKeys(e))tL(i,e,o,t);return iL(i,e),oL(i,e,s),i}const cL=new WeakMap,KT=new WeakMap;function AC(i,{cacheKey:e,cache:t=new Map,maxAge:s}={}){if(s===0)return i;if(typeof s=="number"){if(s>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(s<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...c){const u=e?e(c):c[0],p=t.get(u);if(p)return p.data;const y=i.apply(this,c),g=typeof s=="function"?s(...c):s;if(t.set(u,{data:y,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),g&&g>0&&g!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{t.delete(u)},g);E.unref?.();const S=KT.get(i)??new Set;S.add(E),KT.set(i,S)}return y};return lL(o,i,{ignoreNonConfigurable:!0}),cL.set(o,t),o}function uL(i){return typeof i=="string"}function hL(i,e,t){return t.indexOf(i)===e}function fL(i){return i.toLowerCase()===i}function QT(i){return i.indexOf(",")===-1?i:i.split(",")}function Ay(i){if(!i)return i;if(i==="C"||i==="posix"||i==="POSIX")return"en-US";if(i.indexOf(".")!==-1){var e=i.split(".")[0],t=e===void 0?"":e;return Ay(t)}if(i.indexOf("@")!==-1){var s=i.split("@")[0],t=s===void 0?"":s;return Ay(t)}if(i.indexOf("-")===-1||!fL(i))return i;var o=i.split("-"),c=o[0],u=o[1],p=u===void 0?"":u;return"".concat(c,"-").concat(p.toUpperCase())}function dL(i){var e=i===void 0?{}:i,t=e.useFallbackLocale,s=t===void 0?!0:t,o=e.fallbackLocale,c=o===void 0?"en-US":o,u=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],y=[],g=0,E=p;g<E.length;g++){var S=E[g];y=y.concat(QT(S))}var I=navigator.language,M=I&&QT(I);u=u.concat(y,M)}return s&&u.push(c),u.filter(uL).map(Ay).filter(hL)}var mL=AC(dL,{cacheKey:JSON.stringify});function pL(i){return mL(i)[0]||null}var CC=AC(pL,{cacheKey:JSON.stringify});function co(i,e,t){return function(o,c=t){const u=i(o)+c;return e(u)}}function hf(i){return function(t){return new Date(i(t).getTime()-1)}}function ff(i,e){return function(s){return[i(s),e(s)]}}function dn(i){if(i instanceof Date)return i.getFullYear();if(typeof i=="number")return i;const e=Number.parseInt(i,10);if(typeof i=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${i}.`)}function pl(i){if(i instanceof Date)return i.getMonth();throw new Error(`Failed to get month from date: ${i}.`)}function Hm(i){if(i instanceof Date)return i.getDate();throw new Error(`Failed to get year from date: ${i}.`)}function _u(i){const e=dn(i),t=e+(-e+1)%100,s=new Date;return s.setFullYear(t,0,1),s.setHours(0,0,0,0),s}const gL=co(dn,_u,-100),IC=co(dn,_u,100),Zv=hf(IC),yL=co(dn,Zv,-100),xC=ff(_u,Zv);function gl(i){const e=dn(i),t=e+(-e+1)%10,s=new Date;return s.setFullYear(t,0,1),s.setHours(0,0,0,0),s}const DC=co(dn,gl,-10),e_=co(dn,gl,10),$m=hf(e_),NC=co(dn,$m,-10),RC=ff(gl,$m);function bu(i){const e=dn(i),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const OC=co(dn,bu,-1),t_=co(dn,bu,1),Gm=hf(t_),kC=co(dn,Gm,-1),vL=ff(bu,Gm);function n_(i,e){return function(s,o=e){const c=dn(s),u=pl(s)+o,p=new Date;return p.setFullYear(c,u,1),p.setHours(0,0,0,0),i(p)}}function cc(i){const e=dn(i),t=pl(i),s=new Date;return s.setFullYear(e,t,1),s.setHours(0,0,0,0),s}const MC=n_(cc,-1),i_=n_(cc,1),df=hf(i_),jC=n_(df,-1),_L=ff(cc,df);function bL(i,e){return function(s,o=e){const c=dn(s),u=pl(s),p=Hm(s)+o,y=new Date;return y.setFullYear(c,u,p),y.setHours(0,0,0,0),i(y)}}function mf(i){const e=dn(i),t=pl(i),s=Hm(i),o=new Date;return o.setFullYear(e,t,s),o.setHours(0,0,0,0),o}const EL=bL(mf,1),r_=hf(EL),wL=ff(mf,r_);function PC(i){return Hm(df(i))}var Si={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},TL={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},s_=[0,1,2,3,4,5,6],qg=new Map;function SL(i){return function(t,s){var o=t||CC();qg.has(o)||qg.set(o,new Map);var c=qg.get(o);return c.has(i)||c.set(i,new Intl.DateTimeFormat(o||void 0,i).format),c.get(i)(s)}}function AL(i){var e=new Date(i);return new Date(e.setHours(12))}function uc(i){return function(e,t){return SL(i)(e,AL(t))}}var CL={day:"numeric"},IL={day:"numeric",month:"long",year:"numeric"},xL={month:"long"},DL={month:"long",year:"numeric"},NL={weekday:"short"},RL={weekday:"long"},OL={year:"numeric"},kL=uc(CL),ML=uc(IL),jL=uc(xL),LC=uc(DL),PL=uc(NL),LL=uc(RL),Ym=uc(OL),VL=s_[0],UL=s_[5],WT=s_[6];function Qh(i,e){e===void 0&&(e=Si.ISO_8601);var t=i.getDay();switch(e){case Si.ISO_8601:return(t+6)%7;case Si.ISLAMIC:return(t+1)%7;case Si.HEBREW:case Si.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function zL(i){var e=_u(i);return dn(e)}function BL(i){var e=gl(i);return dn(e)}function Cy(i,e){e===void 0&&(e=Si.ISO_8601);var t=dn(i),s=pl(i),o=i.getDate()-Qh(i,e);return new Date(t,s,o)}function qL(i,e){e===void 0&&(e=Si.ISO_8601);var t=e===Si.GREGORY?Si.GREGORY:Si.ISO_8601,s=Cy(i,e),o=dn(i)+1,c,u;do c=new Date(o,0,t===Si.ISO_8601?4:1),u=Cy(c,e),o-=1;while(i<u);return Math.round((s.getTime()-u.getTime())/(864e5*7))+1}function Ql(i,e){switch(i){case"century":return _u(e);case"decade":return gl(e);case"year":return bu(e);case"month":return cc(e);case"day":return mf(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function FL(i,e){switch(i){case"century":return gL(e);case"decade":return DC(e);case"year":return OC(e);case"month":return MC(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function VC(i,e){switch(i){case"century":return IC(e);case"decade":return e_(e);case"year":return t_(e);case"month":return i_(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function HL(i,e){switch(i){case"decade":return DC(e,-100);case"year":return OC(e,-10);case"month":return MC(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function $L(i,e){switch(i){case"decade":return e_(e,100);case"year":return t_(e,10);case"month":return i_(e,12);default:throw new Error("Invalid rangeType: ".concat(i))}}function UC(i,e){switch(i){case"century":return Zv(e);case"decade":return $m(e);case"year":return Gm(e);case"month":return df(e);case"day":return r_(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function GL(i,e){switch(i){case"century":return yL(e);case"decade":return NC(e);case"year":return kC(e);case"month":return jC(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function YL(i,e){switch(i){case"decade":return NC(e,-100);case"year":return kC(e,-10);case"month":return jC(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function XT(i,e){switch(i){case"century":return xC(e);case"decade":return RC(e);case"year":return vL(e);case"month":return _L(e);case"day":return wL(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function KL(i,e,t){var s=[e,t].sort(function(o,c){return o.getTime()-c.getTime()});return[Ql(i,s[0]),UC(i,s[1])]}function zC(i,e,t){return t.map(function(s){return(e||Ym)(i,s)}).join(" – ")}function QL(i,e,t){return zC(i,e,xC(t))}function BC(i,e,t){return zC(i,e,RC(t))}function WL(i){return i.getDay()===new Date().getDay()}function qC(i,e){e===void 0&&(e=Si.ISO_8601);var t=i.getDay();switch(e){case Si.ISLAMIC:case Si.HEBREW:return t===UL||t===WT;case Si.ISO_8601:case Si.GREGORY:return t===WT||t===VL;default:throw new Error("Unsupported calendar type.")}}var aa="react-calendar__navigation";function XL(i){var e=i.activeStartDate,t=i.drillUp,s=i.formatMonthYear,o=s===void 0?LC:s,c=i.formatYear,u=c===void 0?Ym:c,p=i.locale,y=i.maxDate,g=i.minDate,E=i.navigationAriaLabel,S=E===void 0?"":E,I=i.navigationAriaLive,M=i.navigationLabel,Y=i.next2AriaLabel,W=Y===void 0?"":Y,z=i.next2Label,B=z===void 0?"»":z,$=i.nextAriaLabel,te=$===void 0?"":$,ye=i.nextLabel,le=ye===void 0?"›":ye,pe=i.prev2AriaLabel,k=pe===void 0?"":pe,O=i.prev2Label,j=O===void 0?"«":O,P=i.prevAriaLabel,L=P===void 0?"":P,H=i.prevLabel,R=H===void 0?"‹":H,fe=i.setActiveStartDate,Oe=i.showDoubleView,X=i.view,re=i.views,de=re.indexOf(X)>0,xe=X!=="century",ke=FL(X,e),D=xe?HL(X,e):void 0,ae=VC(X,e),ve=xe?$L(X,e):void 0,Te=(function(){if(ke.getFullYear()<0)return!0;var lt=GL(X,e);return g&&g>=lt})(),Re=xe&&(function(){if(D.getFullYear()<0)return!0;var lt=YL(X,e);return g&&g>=lt})(),Le=y&&y<ae,Ve=xe&&y&&y<ve;function Pt(){fe(ke,"prev")}function be(){fe(D,"prev2")}function Ci(){fe(ae,"next")}function Er(){fe(ve,"next2")}function wr(lt){var Ji=(function(){switch(X){case"century":return QL(p,u,lt);case"decade":return BC(p,u,lt);case"year":return u(p,lt);case"month":return o(p,lt);default:throw new Error("Invalid view: ".concat(X,"."))}})();return M?M({date:lt,label:Ji,locale:p||CC()||void 0,view:X}):Ji}function Hr(){var lt="".concat(aa,"__label");return v.jsxs("button",{"aria-label":S,"aria-live":I,className:lt,disabled:!de,onClick:t,style:{flexGrow:1},type:"button",children:[v.jsx("span",{className:"".concat(lt,"__labelText ").concat(lt,"__labelText--from"),children:wr(e)}),Oe?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"".concat(lt,"__divider"),children:" – "}),v.jsx("span",{className:"".concat(lt,"__labelText ").concat(lt,"__labelText--to"),children:wr(ae)})]}):null]})}return v.jsxs("div",{className:aa,children:[j!==null&&xe?v.jsx("button",{"aria-label":k,className:"".concat(aa,"__arrow ").concat(aa,"__prev2-button"),disabled:Re,onClick:be,type:"button",children:j}):null,R!==null&&v.jsx("button",{"aria-label":L,className:"".concat(aa,"__arrow ").concat(aa,"__prev-button"),disabled:Te,onClick:Pt,type:"button",children:R}),Hr(),le!==null&&v.jsx("button",{"aria-label":te,className:"".concat(aa,"__arrow ").concat(aa,"__next-button"),disabled:Le,onClick:Ci,type:"button",children:le}),B!==null&&xe?v.jsx("button",{"aria-label":W,className:"".concat(aa,"__arrow ").concat(aa,"__next2-button"),disabled:Ve,onClick:Er,type:"button",children:B}):null]})}var Kc=function(){return Kc=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Kc.apply(this,arguments)},JL=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t};function JT(i){return"".concat(i,"%")}function a_(i){var e=i.children,t=i.className,s=i.count,o=i.direction,c=i.offset,u=i.style,p=i.wrap,y=JL(i,["children","className","count","direction","offset","style","wrap"]);return v.jsx("div",Kc({className:t,style:Kc({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},u)},y,{children:V.Children.map(e,function(g,E){var S=c&&E===0?JT(100*c/s):null;return V.cloneElement(g,Kc(Kc({},g.props),{style:{flexBasis:JT(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function ZL(i,e,t){return e&&e>i?e:t&&t<i?t:i}function Wh(i,e){return e[0]<=i&&e[1]>=i}function eV(i,e){return i[0]<=e[0]&&i[1]>=e[1]}function FC(i,e){return Wh(i[0],e)||Wh(i[1],e)}function ZT(i,e,t){var s=FC(e,i),o=[];if(s){o.push(t);var c=Wh(i[0],e),u=Wh(i[1],e);c&&o.push("".concat(t,"Start")),u&&o.push("".concat(t,"End")),c&&u&&o.push("".concat(t,"BothEnds"))}return o}function tV(i){return Array.isArray(i)?i[0]!==null&&i[1]!==null:i!==null}function nV(i){if(!i)throw new Error("args is required");var e=i.value,t=i.date,s=i.hover,o="react-calendar__tile",c=[o];if(!t)return c;var u=new Date,p=(function(){if(Array.isArray(t))return t;var M=i.dateType;if(!M)throw new Error("dateType is required when date is not an array of two dates");return XT(M,t)})();if(Wh(u,p)&&c.push("".concat(o,"--now")),!e||!tV(e))return c;var y=(function(){if(Array.isArray(e))return e;var M=i.valueType;if(!M)throw new Error("valueType is required when value is not an array of two dates");return XT(M,e)})();eV(y,p)?c.push("".concat(o,"--active")):FC(y,p)&&c.push("".concat(o,"--hasActive"));var g=ZT(y,p,"".concat(o,"--range"));c.push.apply(c,g);var E=Array.isArray(e)?e:[e];if(s&&E.length===1){var S=s>y[0]?[y[0],s]:[s,y[0]],I=ZT(S,p,"".concat(o,"--hover"));c.push.apply(c,I)}return c}function Km(i){for(var e=i.className,t=i.count,s=t===void 0?3:t,o=i.dateTransform,c=i.dateType,u=i.end,p=i.hover,y=i.offset,g=i.renderTile,E=i.start,S=i.step,I=S===void 0?1:S,M=i.value,Y=i.valueType,W=[],z=E;z<=u;z+=I){var B=o(z);W.push(g({classes:nV({date:B,dateType:c,hover:p,value:M,valueType:Y}),date:B}))}return v.jsx(a_,{className:e,count:s,offset:y,wrap:!0,children:W})}function Qm(i){var e=i.activeStartDate,t=i.children,s=i.classes,o=i.date,c=i.formatAbbr,u=i.locale,p=i.maxDate,y=i.maxDateTransform,g=i.minDate,E=i.minDateTransform,S=i.onClick,I=i.onMouseOver,M=i.style,Y=i.tileClassName,W=i.tileContent,z=i.tileDisabled,B=i.view,$=V.useMemo(function(){var ye={activeStartDate:e,date:o,view:B};return typeof Y=="function"?Y(ye):Y},[e,o,Y,B]),te=V.useMemo(function(){var ye={activeStartDate:e,date:o,view:B};return typeof W=="function"?W(ye):W},[e,o,W,B]);return v.jsxs("button",{className:Fm(s,$),disabled:g&&E(g)>o||p&&y(p)<o||z?.({activeStartDate:e,date:o,view:B}),onClick:S?function(ye){return S(o,ye)}:void 0,onFocus:I?function(){return I(o)}:void 0,onMouseOver:I?function(){return I(o)}:void 0,style:M,type:"button",children:[c?v.jsx("abbr",{"aria-label":c(u,o),children:t}):t,te]})}var Iy=function(){return Iy=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Iy.apply(this,arguments)},iV=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t},e0="react-calendar__century-view__decades__decade";function rV(i){var e=i.classes,t=e===void 0?[]:e,s=i.currentCentury,o=i.formatYear,c=o===void 0?Ym:o,u=iV(i,["classes","currentCentury","formatYear"]),p=u.date,y=u.locale,g=[];return t&&g.push.apply(g,t),g.push(e0),_u(p).getFullYear()!==s&&g.push("".concat(e0,"--neighboringCentury")),v.jsx(Qm,Iy({},u,{classes:g,maxDateTransform:$m,minDateTransform:gl,view:"century",children:BC(y,c,p)}))}var xy=function(){return xy=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},xy.apply(this,arguments)},t0=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t};function sV(i){var e=i.activeStartDate,t=i.hover,s=i.showNeighboringCentury,o=i.value,c=i.valueType,u=t0(i,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=zL(e),y=p+(s?119:99);return v.jsx(Km,{className:"react-calendar__century-view__decades",dateTransform:gl,dateType:"decade",end:y,hover:t,renderTile:function(g){var E=g.date,S=t0(g,["date"]);return v.jsx(rV,xy({},u,S,{activeStartDate:e,currentCentury:p,date:E}),E.getTime())},start:p,step:10,value:o,valueType:c})}var Dy=function(){return Dy=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Dy.apply(this,arguments)};function aV(i){function e(){return v.jsx(sV,Dy({},i))}return v.jsx("div",{className:"react-calendar__century-view",children:e()})}var Ny=function(){return Ny=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Ny.apply(this,arguments)},oV=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t},n0="react-calendar__decade-view__years__year";function lV(i){var e=i.classes,t=e===void 0?[]:e,s=i.currentDecade,o=i.formatYear,c=o===void 0?Ym:o,u=oV(i,["classes","currentDecade","formatYear"]),p=u.date,y=u.locale,g=[];return t&&g.push.apply(g,t),g.push(n0),gl(p).getFullYear()!==s&&g.push("".concat(n0,"--neighboringDecade")),v.jsx(Qm,Ny({},u,{classes:g,maxDateTransform:Gm,minDateTransform:bu,view:"decade",children:c(y,p)}))}var Ry=function(){return Ry=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Ry.apply(this,arguments)},i0=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t};function cV(i){var e=i.activeStartDate,t=i.hover,s=i.showNeighboringDecade,o=i.value,c=i.valueType,u=i0(i,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=BL(e),y=p+(s?11:9);return v.jsx(Km,{className:"react-calendar__decade-view__years",dateTransform:bu,dateType:"year",end:y,hover:t,renderTile:function(g){var E=g.date,S=i0(g,["date"]);return v.jsx(lV,Ry({},u,S,{activeStartDate:e,currentDecade:p,date:E}),E.getTime())},start:p,value:o,valueType:c})}var Oy=function(){return Oy=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Oy.apply(this,arguments)};function uV(i){function e(){return v.jsx(cV,Oy({},i))}return v.jsx("div",{className:"react-calendar__decade-view",children:e()})}var ky=function(){return ky=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ky.apply(this,arguments)},hV=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t},r0=function(i,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return i.concat(c||Array.prototype.slice.call(e))},fV="react-calendar__year-view__months__month";function dV(i){var e=i.classes,t=e===void 0?[]:e,s=i.formatMonth,o=s===void 0?jL:s,c=i.formatMonthYear,u=c===void 0?LC:c,p=hV(i,["classes","formatMonth","formatMonthYear"]),y=p.date,g=p.locale;return v.jsx(Qm,ky({},p,{classes:r0(r0([],t,!0),[fV],!1),formatAbbr:u,maxDateTransform:df,minDateTransform:cc,view:"year",children:o(g,y)}))}var My=function(){return My=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},My.apply(this,arguments)},s0=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t};function mV(i){var e=i.activeStartDate,t=i.hover,s=i.value,o=i.valueType,c=s0(i,["activeStartDate","hover","value","valueType"]),u=0,p=11,y=dn(e);return v.jsx(Km,{className:"react-calendar__year-view__months",dateTransform:function(g){var E=new Date;return E.setFullYear(y,g,1),cc(E)},dateType:"month",end:p,hover:t,renderTile:function(g){var E=g.date,S=s0(g,["date"]);return v.jsx(dV,My({},c,S,{activeStartDate:e,date:E}),E.getTime())},start:u,value:s,valueType:o})}var jy=function(){return jy=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},jy.apply(this,arguments)};function pV(i){function e(){return v.jsx(mV,jy({},i))}return v.jsx("div",{className:"react-calendar__year-view",children:e()})}var Py=function(){return Py=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Py.apply(this,arguments)},gV=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t},Fg="react-calendar__month-view__days__day";function yV(i){var e=i.calendarType,t=i.classes,s=t===void 0?[]:t,o=i.currentMonthIndex,c=i.formatDay,u=c===void 0?kL:c,p=i.formatLongDate,y=p===void 0?ML:p,g=gV(i,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=g.date,S=g.locale,I=[];return s&&I.push.apply(I,s),I.push(Fg),qC(E,e)&&I.push("".concat(Fg,"--weekend")),E.getMonth()!==o&&I.push("".concat(Fg,"--neighboringMonth")),v.jsx(Qm,Py({},g,{classes:I,formatAbbr:y,maxDateTransform:r_,minDateTransform:mf,view:"month",children:u(S,E)}))}var Ly=function(){return Ly=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Ly.apply(this,arguments)},a0=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t};function vV(i){var e=i.activeStartDate,t=i.calendarType,s=i.hover,o=i.showFixedNumberOfWeeks,c=i.showNeighboringMonth,u=i.value,p=i.valueType,y=a0(i,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=dn(e),E=pl(e),S=o||c,I=Qh(e,t),M=S?0:I,Y=(S?-I:0)+1,W=(function(){if(o)return Y+42-1;var z=PC(e);if(c){var B=new Date;B.setFullYear(g,E,z),B.setHours(0,0,0,0);var $=7-Qh(B,t)-1;return z+$}return z})();return v.jsx(Km,{className:"react-calendar__month-view__days",count:7,dateTransform:function(z){var B=new Date;return B.setFullYear(g,E,z),mf(B)},dateType:"day",hover:s,end:W,renderTile:function(z){var B=z.date,$=a0(z,["date"]);return v.jsx(yV,Ly({},y,$,{activeStartDate:e,calendarType:t,currentMonthIndex:E,date:B}),B.getTime())},offset:M,start:Y,value:u,valueType:p})}var HC="react-calendar__month-view__weekdays",Hg="".concat(HC,"__weekday");function _V(i){for(var e=i.calendarType,t=i.formatShortWeekday,s=t===void 0?PL:t,o=i.formatWeekday,c=o===void 0?LL:o,u=i.locale,p=i.onMouseLeave,y=new Date,g=cc(y),E=dn(g),S=pl(g),I=[],M=1;M<=7;M+=1){var Y=new Date(E,S,M-Qh(g,e)),W=c(u,Y);I.push(v.jsx("div",{className:Fm(Hg,WL(Y)&&"".concat(Hg,"--current"),qC(Y,e)&&"".concat(Hg,"--weekend")),children:v.jsx("abbr",{"aria-label":W,title:W,children:s(u,Y).replace(".","")})},M))}return v.jsx(a_,{className:HC,count:7,onFocus:p,onMouseOver:p,children:I})}var fm=function(){return fm=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},fm.apply(this,arguments)},o0=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t},l0="react-calendar__tile";function bV(i){var e=i.onClickWeekNumber,t=i.weekNumber,s=v.jsx("span",{children:t});if(e){var o=i.date,c=i.onClickWeekNumber,u=i.weekNumber,p=o0(i,["date","onClickWeekNumber","weekNumber"]);return v.jsx("button",fm({},p,{className:l0,onClick:function(y){return c(u,o,y)},type:"button",children:s}))}else{i.date,i.onClickWeekNumber,i.weekNumber;var p=o0(i,["date","onClickWeekNumber","weekNumber"]);return v.jsx("div",fm({},p,{className:l0,children:s}))}}function EV(i){var e=i.activeStartDate,t=i.calendarType,s=i.onClickWeekNumber,o=i.onMouseLeave,c=i.showFixedNumberOfWeeks,u=(function(){if(c)return 6;var g=PC(e),E=Qh(e,t),S=g-(7-E);return 1+Math.ceil(S/7)})(),p=(function(){for(var g=dn(e),E=pl(e),S=Hm(e),I=[],M=0;M<u;M+=1)I.push(Cy(new Date(g,E,S+M*7),t));return I})(),y=p.map(function(g){return qL(g,t)});return v.jsx(a_,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:y.map(function(g,E){var S=p[E];if(!S)throw new Error("date is not defined");return v.jsx(bV,{date:S,onClickWeekNumber:s,weekNumber:g},g)})})}var Vy=function(){return Vy=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Vy.apply(this,arguments)},wV=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t};function TV(i){if(i)for(var e=0,t=Object.entries(TL);e<t.length;e++){var s=t[e],o=s[0],c=s[1];if(c.includes(i))return o}return Si.ISO_8601}function SV(i){var e=i.activeStartDate,t=i.locale,s=i.onMouseLeave,o=i.showFixedNumberOfWeeks,c=i.calendarType,u=c===void 0?TV(t):c,p=i.formatShortWeekday,y=i.formatWeekday,g=i.onClickWeekNumber,E=i.showWeekNumbers,S=wV(i,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function I(){return v.jsx(_V,{calendarType:u,formatShortWeekday:p,formatWeekday:y,locale:t,onMouseLeave:s})}function M(){return E?v.jsx(EV,{activeStartDate:e,calendarType:u,onClickWeekNumber:g,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function Y(){return v.jsx(vV,Vy({calendarType:u},S))}var W="react-calendar__month-view";return v.jsx("div",{className:Fm(W,E?"".concat(W,"--weekNumbers"):""),children:v.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[M(),v.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[I(),Y()]})]})})}var Qc=function(){return Qc=Object.assign||function(i){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Qc.apply(this,arguments)},Id="react-calendar",qd=["century","decade","year","month"],AV=["decade","year","month","day"],o_=new Date;o_.setFullYear(1,0,1);o_.setHours(0,0,0,0);var CV=new Date(864e13);function Dh(i){return i instanceof Date?i:new Date(i)}function $C(i,e){return qd.slice(qd.indexOf(i),qd.indexOf(e)+1)}function IV(i,e,t){var s=$C(e,t);return s.indexOf(i)!==-1}function l_(i,e,t){return i&&IV(i,e,t)?i:t}function GC(i){var e=qd.indexOf(i);return AV[e]}function xV(i,e){var t=Array.isArray(i)?i[e]:i;if(!t)return null;var s=Dh(t);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(i));return s}function YC(i,e){var t=i.value,s=i.minDate,o=i.maxDate,c=i.maxDetail,u=xV(t,e);if(!u)return null;var p=GC(c),y=(function(){switch(e){case 0:return Ql(p,u);case 1:return UC(p,u);default:throw new Error("Invalid index value: ".concat(e))}})();return ZL(y,s,o)}var c_=function(i){return YC(i,0)},KC=function(i){return YC(i,1)},DV=function(i){return[c_,KC].map(function(e){return e(i)})};function QC(i){var e=i.maxDate,t=i.maxDetail,s=i.minDate,o=i.minDetail,c=i.value,u=i.view,p=l_(u,o,t),y=c_({value:c,minDate:s,maxDate:e,maxDetail:t})||new Date;return Ql(p,y)}function NV(i){var e=i.activeStartDate,t=i.defaultActiveStartDate,s=i.defaultValue,o=i.defaultView,c=i.maxDate,u=i.maxDetail,p=i.minDate,y=i.minDetail,g=i.value,E=i.view,S=l_(E,y,u),I=e||t;return I?Ql(S,I):QC({maxDate:c,maxDetail:u,minDate:p,minDetail:y,value:g||s,view:E||o})}function $g(i){return i&&(!Array.isArray(i)||i.length===1)}function xd(i,e){return i instanceof Date&&e instanceof Date&&i.getTime()===e.getTime()}var RV=V.forwardRef(function(e,t){var s=e.activeStartDate,o=e.allowPartialRange,c=e.calendarType,u=e.className,p=e.defaultActiveStartDate,y=e.defaultValue,g=e.defaultView,E=e.formatDay,S=e.formatLongDate,I=e.formatMonth,M=e.formatMonthYear,Y=e.formatShortWeekday,W=e.formatWeekday,z=e.formatYear,B=e.goToRangeStartOnSelect,$=B===void 0?!0:B,te=e.inputRef,ye=e.locale,le=e.maxDate,pe=le===void 0?CV:le,k=e.maxDetail,O=k===void 0?"month":k,j=e.minDate,P=j===void 0?o_:j,L=e.minDetail,H=L===void 0?"century":L,R=e.navigationAriaLabel,fe=e.navigationAriaLive,Oe=e.navigationLabel,X=e.next2AriaLabel,re=e.next2Label,de=e.nextAriaLabel,xe=e.nextLabel,ke=e.onActiveStartDateChange,D=e.onChange,ae=e.onClickDay,ve=e.onClickDecade,Te=e.onClickMonth,Re=e.onClickWeekNumber,Le=e.onClickYear,Ve=e.onDrillDown,Pt=e.onDrillUp,be=e.onViewChange,Ci=e.prev2AriaLabel,Er=e.prev2Label,wr=e.prevAriaLabel,Hr=e.prevLabel,lt=e.returnValue,Ji=lt===void 0?"start":lt,Qt=e.selectRange,di=e.showDoubleView,Vs=e.showFixedNumberOfWeeks,tn=e.showNavigation,mn=tn===void 0?!0:tn,$r=e.showNeighboringCentury,yl=e.showNeighboringDecade,_a=e.showNeighboringMonth,Yn=_a===void 0?!0:_a,Zi=e.showWeekNumbers,Ii=e.tileClassName,Us=e.tileContent,Gr=e.tileDisabled,ba=e.value,Tr=e.view,er=V.useState(p),Sr=er[0],xn=er[1],_n=V.useState(null),ii=_n[0],Wt=_n[1],Ea=V.useState(Array.isArray(y)?y.map(function(Qe){return Qe!==null?Dh(Qe):null}):y!=null?Dh(y):null),Yr=Ea[0],uo=Ea[1],Bi=V.useState(g),ms=Bi[0],Xt=Bi[1],Rt=s||Sr||NV({activeStartDate:s,defaultActiveStartDate:p,defaultValue:y,defaultView:g,maxDate:pe,maxDetail:O,minDate:P,minDetail:H,value:ba,view:Tr}),zt=(function(){var Qe=(function(){return Qt&&$g(Yr)?Yr:ba!==void 0?ba:Yr})();return Qe?Array.isArray(Qe)?Qe.map(function(qt){return qt!==null?Dh(qt):null}):Qe!==null?Dh(Qe):null:null})(),Kn=GC(O),Lt=l_(Tr||ms,H,O),mi=$C(H,O),tr=Qt?ii:null,Ar=mi.indexOf(Lt)<mi.length-1,Cr=mi.indexOf(Lt)>0,xi=V.useCallback(function(Qe){var qt=(function(){switch(Ji){case"start":return c_;case"end":return KC;case"range":return DV;default:throw new Error("Invalid returnValue.")}})();return qt({maxDate:pe,maxDetail:O,minDate:P,value:Qe})},[pe,O,P,Ji]),ps=V.useCallback(function(Qe,qt){xn(Qe);var bt={action:qt,activeStartDate:Qe,value:zt,view:Lt};ke&&!xd(Rt,Qe)&&ke(bt)},[Rt,ke,zt,Lt]),Kr=V.useCallback(function(Qe,qt){var bt=(function(){switch(Lt){case"century":return ve;case"decade":return Le;case"year":return Te;case"month":return ae;default:throw new Error("Invalid view: ".concat(Lt,"."))}})();bt&&bt(Qe,qt)},[ae,ve,Te,Le,Lt]),Ir=V.useCallback(function(Qe,qt){if(Ar){Kr(Qe,qt);var bt=mi[mi.indexOf(Lt)+1];if(!bt)throw new Error("Attempted to drill down from the lowest view.");xn(Qe),Xt(bt);var Et={action:"drillDown",activeStartDate:Qe,value:zt,view:bt};ke&&!xd(Rt,Qe)&&ke(Et),be&&Lt!==bt&&be(Et),Ve&&Ve(Et)}},[Rt,Ar,ke,Kr,Ve,be,zt,Lt,mi]),qi=V.useCallback(function(){if(Cr){var Qe=mi[mi.indexOf(Lt)-1];if(!Qe)throw new Error("Attempted to drill up from the highest view.");var qt=Ql(Qe,Rt);xn(qt),Xt(Qe);var bt={action:"drillUp",activeStartDate:qt,value:zt,view:Qe};ke&&!xd(Rt,qt)&&ke(bt),be&&Lt!==Qe&&be(bt),Pt&&Pt(bt)}},[Rt,Cr,ke,Pt,be,zt,Lt,mi]),zs=V.useCallback(function(Qe,qt){var bt=zt;Kr(Qe,qt);var Et=Qt&&!$g(bt),ct;if(Qt)if(Et)ct=Ql(Kn,Qe);else{if(!bt)throw new Error("previousValue is required");if(Array.isArray(bt))throw new Error("previousValue must not be an array");ct=KL(Kn,bt,Qe)}else ct=xi(Qe);var sn=!Qt||Et||$?QC({maxDate:pe,maxDetail:O,minDate:P,minDetail:H,value:ct,view:Lt}):null;qt.persist(),xn(sn),uo(ct);var Ft={action:"onChange",activeStartDate:sn,value:ct,view:Lt};if(ke&&!xd(Rt,sn)&&ke(Ft),D)if(Qt){var Qn=$g(ct);if(!Qn)D(ct||null,qt);else if(o){if(Array.isArray(ct))throw new Error("value must not be an array");D([ct||null,null],qt)}}else D(ct||null,qt)},[Rt,o,xi,$,pe,O,P,H,ke,D,Kr,Qt,zt,Kn,Lt]);function pi(Qe){Wt(Qe)}function bn(){Wt(null)}V.useImperativeHandle(t,function(){return{activeStartDate:Rt,drillDown:Ir,drillUp:qi,onChange:zs,setActiveStartDate:ps,value:zt,view:Lt}},[Rt,Ir,qi,zs,ps,zt,Lt]);function Bt(Qe){var qt=Qe?VC(Lt,Rt):Ql(Lt,Rt),bt=Ar?Ir:zs,Et={activeStartDate:qt,hover:tr,locale:ye,maxDate:pe,minDate:P,onClick:bt,onMouseOver:Qt?pi:void 0,tileClassName:Ii,tileContent:Us,tileDisabled:Gr,value:zt,valueType:Kn};switch(Lt){case"century":return v.jsx(aV,Qc({formatYear:z,showNeighboringCentury:$r},Et));case"decade":return v.jsx(uV,Qc({formatYear:z,showNeighboringDecade:yl},Et));case"year":return v.jsx(pV,Qc({formatMonth:I,formatMonthYear:M},Et));case"month":return v.jsx(SV,Qc({calendarType:c,formatDay:E,formatLongDate:S,formatShortWeekday:Y,formatWeekday:W,onClickWeekNumber:Re,onMouseLeave:Qt?bn:void 0,showFixedNumberOfWeeks:typeof Vs<"u"?Vs:di,showNeighboringMonth:Yn,showWeekNumbers:Zi},Et));default:throw new Error("Invalid view: ".concat(Lt,"."))}}function En(){return mn?v.jsx(XL,{activeStartDate:Rt,drillUp:qi,formatMonthYear:M,formatYear:z,locale:ye,maxDate:pe,minDate:P,navigationAriaLabel:R,navigationAriaLive:fe,navigationLabel:Oe,next2AriaLabel:X,next2Label:re,nextAriaLabel:de,nextLabel:xe,prev2AriaLabel:Ci,prev2Label:Er,prevAriaLabel:wr,prevLabel:Hr,setActiveStartDate:ps,showDoubleView:di,view:Lt,views:mi}):null}var Di=Array.isArray(zt)?zt:[zt];return v.jsxs("div",{className:Fm(Id,Qt&&Di.length===1&&"".concat(Id,"--selectRange"),di&&"".concat(Id,"--doubleView"),u),ref:te,children:[En(),v.jsxs("div",{className:"".concat(Id,"__viewContainer"),onBlur:Qt?bn:void 0,onMouseLeave:Qt?bn:void 0,children:[Bt(),di?Bt(!0):null]})]})});function OV(i){if(!i)return null;if(i instanceof xt)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function kV(){const[i,e]=V.useState([]),[t,s]=V.useState([]),[o,c]=V.useState(!0),[u,p]=V.useState(new Date);if(V.useEffect(()=>{(async()=>{const I=ya.currentUser;if(I)try{const Y=(await Pn(rn(qe,"users"))).docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.role==="patient");e(Y);const W=Kt(qe,"users",I.uid),z=Vi(rn(qe,"appointments"),Ui("doctorId","==",W)),B=await Pn(z),$=await Promise.all(B.docs.map(async te=>{const ye=te.data();let le="Unknown",pe=null;if(ye.patientId)try{const k=await pa(ye.patientId);if(k.exists()){const O=k.data();le=`${O.firstName||""} ${O.lastName||""}`.trim(),pe=k.id}}catch(k){console.error("Error fetching patient:",k)}return{id:te.id,patientName:le,patientId:pe,dateTime:OV(ye.dateTime),type:ye.type||"",location:ye.location||"",notes:ye.notes||"",reason:ye.reason||""}}));s($)}catch(M){console.error("Error loading dashboard:",M)}finally{c(!1)}})()},[]),o)return v.jsx("p",{children:"Loading dashboard..."});const y=t.filter(S=>S.dateTime).map(S=>S.dateTime.toDateString()),g=t.filter(S=>S.dateTime&&S.dateTime.toDateString()===u.toDateString()),E=S=>{const I=i.find(M=>M.id===S);return I?`${I.firstName||""} ${I.lastName||""}`.trim():"Unknown"};return v.jsxs("div",{className:"dashboard-container",children:[v.jsxs("div",{className:"dashboard-card",children:[v.jsx("h2",{children:"Patient Overview"}),v.jsxs("p",{children:["Active Patients: ",i.length]}),v.jsxs("p",{children:["Pending Checkups: ",Math.floor(i.length/4)]})]}),v.jsxs("div",{className:"dashboard-card",children:[v.jsx("h2",{children:"Patients"}),v.jsxs("table",{className:"appointment-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Patient Name"}),v.jsx("th",{children:"Appointments"})]})}),v.jsx("tbody",{children:i.map(S=>{const I=t.filter(M=>M.patientId===S.id).map(M=>M.dateTime?M.dateTime.toLocaleDateString():"N/A").join(", ");return v.jsxs("tr",{children:[v.jsx("td",{children:E(S.id)}),v.jsx("td",{children:I||"No appointments"})]},S.id)})})]})]}),v.jsxs("div",{className:"dashboard-card",children:[v.jsx("h2",{children:"Appointment Calendar"}),v.jsx(RV,{value:u,onChange:p,tileClassName:({date:S,view:I})=>I==="month"&&y.includes(S.toDateString())?"highlight-appointment":null}),g.length>0?v.jsx("ul",{children:g.map(S=>v.jsxs("li",{children:[S.dateTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," — ",S.patientName," (",S.type||"Checkup",")"]},S.id))}):v.jsx("p",{children:"No appointments on this day."})]})]})}function MV(){const{user:i}=zi(),{role:e}=Fy(),[t,s]=V.useState([]);V.useEffect(()=>{if(!i)return;(async()=>{const u=Kt(qe,"users",i.uid),p=Vi(rn(qe,"notifications"),Ui("recipientId","==",u)),g=(await Pn(p)).docs.map(E=>({id:E.id,...E.data()}));s(g.sort((E,S)=>S.timestamp?.seconds-E.timestamp?.seconds))})()},[i]);const o=async(c,u)=>{const p=Kt(qe,"notifications",c);await ga(p,{read:!u}),s(y=>y.map(g=>g.id===c?{...g,read:!u}:g))};return v.jsx("div",{className:"notifications-container",children:v.jsxs("div",{className:"notifications-card",children:[v.jsx("h2",{className:"notifications-title",children:"Notifications"}),t.length===0?v.jsx("p",{className:"no-notifications",children:"No notifications yet."}):v.jsx("ul",{className:"notifications-list",children:t.map(c=>v.jsxs("li",{className:`notification-item ${c.read?"read":"unread"}`,children:[v.jsxs("div",{className:"notification-header",children:[v.jsx("h4",{className:"notification-title",children:c.title||"Untitled Notification"}),v.jsx("p",{className:"notification-message",children:c.message}),v.jsx("button",{className:`mark-button ${c.read?"mark-unread":"mark-read"}`,onClick:()=>o(c.id,c.read),children:c.read?"Mark as Unread":"Mark as Read"})]}),v.jsx("small",{className:"notification-timestamp",children:c.timestamp?.toDate().toLocaleString()})]},c.id))})]})})}function Gg(i){if(!i)return"N/A";const e=new Date(i),t=Date.now()-e.getTime(),s=new Date(t);return Math.abs(s.getUTCFullYear()-1970)}function jV(){const[i,e]=V.useState([]),[t,s]=V.useState([]),[o,c]=V.useState(!0),[u,p]=V.useState(""),[y,g]=V.useState({key:"name",direction:"asc"}),E=nc();V.useEffect(()=>{S()},[]);const S=async()=>{try{if(!ya.currentUser)return;const $=(await Pn(rn(qe,"users"))).docs.map(le=>({id:le.id,...le.data()})).filter(le=>le.role==="patient");e($);const ye=(await Pn(rn(qe,"appointments"))).docs.map(le=>({id:le.id,...le.data()}));s(ye)}catch(z){console.error("Error fetching data:",z)}finally{c(!1)}},I=z=>{let B="asc";y.key===z&&y.direction==="asc"&&(B="desc"),g({key:z,direction:B})},M=z=>y.key===z?y.direction==="asc"?" ▲":" ▼":"",W=[...i].sort((z,B)=>{if(!z[y.key]&&!B[y.key])return 0;if(!z[y.key])return 1;if(!B[y.key])return-1;let $=z[y.key],te=B[y.key];if(y.key==="name")$=`${z.first_name||z.firstName||""} ${z.last_name||z.lastName||""}`.toLowerCase(),te=`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`.toLowerCase();else if(y.key==="age")$=Gg(z.birthDate),te=Gg(B.birthDate);else if(y.key==="nextAppointment"){const ye=t.filter(pe=>pe.patientID===z.id&&pe.dateTime).map(pe=>new Date(pe.dateTime)).sort((pe,k)=>pe-k)[0],le=t.filter(pe=>pe.patientID===B.id&&pe.dateTime).map(pe=>new Date(pe.dateTime)).sort((pe,k)=>pe-k)[0];$=ye||new Date(864e13),te=le||new Date(864e13)}return $<te?y.direction==="asc"?-1:1:$>te?y.direction==="asc"?1:-1:0}).filter(z=>`${z.first_name||z.firstName||""} ${z.last_name||z.lastName||""}`.toLowerCase().includes(u.toLowerCase()));return o?v.jsx("p",{className:"loading",children:"Loading patients..."}):v.jsxs("div",{className:"patients-container",children:[v.jsxs("div",{className:"patients-header",children:[v.jsxs("h2",{children:["Patients (",i.length,")"]}),v.jsx("input",{type:"text",placeholder:"Search by name...",value:u,onChange:z=>p(z.target.value)})]}),v.jsxs("table",{className:"patients-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsxs("th",{onClick:()=>I("name"),children:["Name",M("name")]}),v.jsxs("th",{onClick:()=>I("sex"),children:["Sex",M("sex")]}),v.jsxs("th",{onClick:()=>I("age"),children:["Age",M("age")]}),v.jsxs("th",{onClick:()=>I("nextAppointment"),children:["Next Appointment",M("nextAppointment")]}),v.jsxs("th",{onClick:()=>I("currentConcern"),children:["Current Concern",M("currentConcern")]}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:W.map(z=>{const B=t.filter(te=>te.patientID===z.id&&te.dateTime).map(te=>new Date(te.dateTime)).sort((te,ye)=>te-ye),$=B[0]?B[0].toLocaleDateString():"N/A";return v.jsxs("tr",{children:[v.jsx("td",{children:`${z.first_name||z.firstName||""} ${z.last_name||z.lastName||""}`}),v.jsx("td",{children:z.sex||z.gender||"N/A"}),v.jsx("td",{children:Gg(z.birthDate)}),v.jsx("td",{children:$}),v.jsx("td",{children:z.currentConcern||"N/A"}),v.jsx("td",{children:v.jsx("button",{className:"dashboard-button-blue",onClick:()=>E(`/doctor/patient-management/${z.id}`),children:"View Details"})})]},z.id)})})]})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,cs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="us-central1";class VV{constructor(e,t,s,o,c=c0,u=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new LV(e,t,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=c0}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const u0="@firebase/functions",h0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="auth-internal",zV="app-check-internal",BV="messaging-internal";function qV(i){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider(UV),u=t.getProvider(BV),p=t.getProvider(zV);return new VV(o,c,u,p,s)};Ms(new fs(PV,e,"PUBLIC").setMultipleInstances(!0)),br(u0,h0,i),br(u0,h0,"esm2020")}qV();const Yg=async(i,e,t)=>{try{const s=Kt(qe,"users",i);await Fv(rn(qe,"notifications"),{recipientId:s,title:e,message:t,read:!1,timestamp:Ty()}),console.log(`Notification sent to user: ${i}`)}catch(s){console.error("Error sending notification:",s)}};function Kg(i){if(!i)return null;if(i instanceof xt)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function FV(){const{user:i}=zi(),[e,t]=V.useState([]),[s,o]=V.useState([]),[c,u]=V.useState(!0),[p,y]=V.useState(""),[g,E]=V.useState(""),[S,I]=V.useState(""),[M,Y]=V.useState(""),[W,z]=V.useState(""),[B,$]=V.useState(""),[te,ye]=V.useState(""),[le,pe]=V.useState(!1),[k,O]=V.useState(null);V.useEffect(()=>{i?.uid?(j(i.uid.trim()),P()):(console.warn("User UID not available yet."),u(!1))},[i]);const j=async fe=>{try{const Oe=Kt(qe,"users",fe),X=Vi(rn(qe,"appointments"),Ui("doctorId","==",Oe)),re=await Pn(X),de=await Promise.all(re.docs.map(async xe=>{const ke={id:xe.id,...xe.data()};let D="Unknown";if(ke.patientId)try{const ae=await pa(ke.patientId);if(ae.exists()){const ve=ae.data();D=`${ve.firstName||""} ${ve.lastName||""}`.trim()}}catch(ae){console.error("Error fetching patient:",ae)}return{...ke,patientName:D}}));t(de)}catch(Oe){console.error("Error loading appointments:",Oe)}finally{u(!1)}},P=async()=>{try{const Oe=(await Pn(rn(qe,"users"))).docs.map(X=>({id:X.id,...X.data()})).filter(X=>X.role==="patient");o(Oe)}catch(fe){console.error("Error fetching patients:",fe)}},L=fe=>{O(fe.id),y(fe.patientId?.id||""),E(fe.dateTime?Kg(fe.dateTime).toISOString().split("T")[0]:""),I(fe.dateTime?Kg(fe.dateTime).toTimeString().slice(0,5):""),Y(fe.type||""),z(fe.reason||""),$(fe.location||""),ye(fe.notes||""),window.scrollTo({top:0,behavior:"smooth"})},H=async fe=>{if(window.confirm("Are you sure you want to delete this appointment?"))try{const Oe=Kt(qe,"appointments",fe),X=await pa(Oe),de=(X.exists()?X.data():null)?.patientId?.id;await QA(Oe),j(i.uid),de&&await Yg(de,"Appointment Cancelled","Your recent appointment has been cancelled by your doctor.")}catch(Oe){console.error("Error deleting appointment:",Oe)}},R=async fe=>{if(fe.preventDefault(),!p||!g||!S)return alert("Fill all required fields");pe(!0);try{const[Oe,X,re]=g.split("-"),[de,xe]=S.split(":").map(Number),ke=new Date(Oe,X-1,re,de,xe),D=Kt(qe,"users",i.uid),ae=Kt(qe,"users",p),ve={doctorId:D,patientId:ae,dateTime:xt.fromDate(ke),type:M||"",reason:W||"",location:B||"",notes:te||"",updatedAt:Ty()};k?(await ga(Kt(qe,"appointments",k),ve),await Yg(p,"Appointment Updated","Your appointment details have been updated by your doctor."),O(null)):(ve.createdAt=Ty(),await Fv(rn(qe,"appointments"),ve),await Yg(p,"New Appointment Scheduled","Your doctor has scheduled a new appointment with you.")),j(i.uid),y(""),E(""),I(""),Y(""),z(""),$(""),ye("")}catch(Oe){console.error("Error saving appointment:",Oe)}finally{pe(!1)}};return c?v.jsx("p",{className:"loading",children:"Loading appointments..."}):v.jsxs("div",{className:"dashboard-container",children:[e.length===0?v.jsx("p",{children:"No appointments scheduled."}):v.jsx("div",{className:"dashboard-card table-container",children:v.jsxs("table",{className:"appointment-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Date & Time"}),v.jsx("th",{children:"Type"}),v.jsx("th",{children:"Reason"}),v.jsx("th",{children:"Location"}),v.jsx("th",{children:"Patient"}),v.jsx("th",{children:"Notes"}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:e.map(fe=>{const Oe=Kg(fe.dateTime);return v.jsxs("tr",{children:[v.jsx("td",{children:Oe?Oe.toLocaleString():"Invalid Date"}),v.jsx("td",{children:fe.type||"—"}),v.jsx("td",{children:fe.reason||"—"}),v.jsx("td",{children:fe.location||"—"}),v.jsx("td",{children:fe.patientName}),v.jsx("td",{children:fe.notes||"N/A"}),v.jsxs("td",{className:"actions-cell",children:[v.jsx("button",{className:"action-btn edit-btn full-width-btn",onClick:()=>L(fe),children:"Edit"}),v.jsx("button",{className:"action-btn delete-btn full-width-btn",onClick:()=>H(fe.id),children:"Delete"})]})]},fe.id)})})]})}),v.jsxs("div",{className:"dashboard-card add-appointment",children:[v.jsx("h3",{children:k?"Edit Appointment":"Add Appointment"}),v.jsxs("form",{className:"add-appointment-form",onSubmit:R,children:[v.jsxs("div",{className:"form-row",children:[v.jsxs("select",{value:p,onChange:fe=>y(fe.target.value),required:!0,children:[v.jsx("option",{value:"",children:"Select Patient"}),s.map(fe=>v.jsxs("option",{value:fe.id,children:[fe.firstName," ",fe.lastName]},fe.id))]}),v.jsx("input",{type:"date",value:g,onChange:fe=>E(fe.target.value),required:!0}),v.jsx("input",{type:"time",value:S,onChange:fe=>I(fe.target.value),required:!0})]}),v.jsxs("div",{className:"form-row",children:[v.jsx("input",{type:"text",placeholder:"Type",value:M,onChange:fe=>Y(fe.target.value)}),v.jsx("input",{type:"text",placeholder:"Reason",value:W,onChange:fe=>z(fe.target.value)})]}),v.jsxs("div",{className:"form-row",children:[v.jsx("input",{type:"text",placeholder:"Location",value:B,onChange:fe=>$(fe.target.value)}),v.jsx("textarea",{placeholder:"Notes",value:te,onChange:fe=>ye(fe.target.value)})]}),v.jsx("div",{className:"form-row",children:v.jsx("button",{type:"submit",disabled:le,children:le?k?"Updating...":"Adding...":k?"Update Appointment":"Add Appointment"})})]})]})]})}function HV(){const{profile:i,loading:e}=zi(),[t,s]=V.useState(null),[o,c]=V.useState(null),[u,p]=V.useState(null),[y,g]=V.useState(!0),[E,S]=V.useState(!1),[I,M]=V.useState(!1),[Y,W]=V.useState(""),[z,B]=V.useState(!1),[$,te]=V.useState({current:"",new:"",confirm:""}),[ye,le]=V.useState(""),[pe,k]=V.useState("");V.useEffect(()=>{if(!i)return;(async()=>{try{const fe=Kt(qe,"users",i.uid),Oe=await pa(fe);Oe.exists()&&c(Oe.data());const X=Vi(rn(qe,"doctors"),Ui("uid","==",fe)),re=await Pn(X);if(re.empty)console.warn("No doctor profile found");else{const de=re.docs[0].data();s(de),p({...Oe.data(),...de})}}catch(fe){console.error("Error fetching doctor profile:",fe),W("Failed to load profile")}finally{g(!1)}})()},[i]);const O=()=>{S(!0),W("")},j=()=>{p({...o,...t}),S(!1),W("")},P=(R,fe)=>{p(Oe=>({...Oe,[R]:fe}))},L=async()=>{if(W(""),!u.firstName||!u.lastName)return W("Name is required");if(!u.medicalField)return W("Medical field is required");if(!u.officeAddress)return W("Office address is required");M(!0);try{const R=Kt(qe,"users",i.uid),fe=Vi(rn(qe,"doctors"),Ui("uid","==",R)),Oe=await Pn(fe);if(!Oe.empty){const X=Oe.docs[0].ref;await ga(X,{medicalField:u.medicalField,placeOfEmployment:u.placeOfEmployment,officeAddress:u.officeAddress,officeRoomNo:u.officeRoomNo,officeContactNo:u.officeContactNo,yearsExperience:u.yearsExperience}),s({...u})}await ga(R,{firstName:u.firstName,lastName:u.lastName,email:u.email,contactNumber:u.contactNumber,address:u.address,birthDate:u.birthDate,gender:u.gender}),c({...u}),S(!1)}catch(R){console.error("Error saving profile:",R),W("Failed to save changes")}finally{M(!1)}},H=async()=>{if(le(""),k(""),!$.current||!$.new||!$.confirm)return le("All fields are required");if($.new!==$.confirm)return le("New passwords do not match");if($.new.length<6)return le("New password must be at least 6 characters");try{const R=ya.currentUser,fe=sc.credential(R.email,$.current);await ER(R,fe),await SR(R,$.new),k("Password updated successfully"),te({current:"",new:"",confirm:""}),B(!1)}catch(R){console.error(R),le("Failed to change password. Check your current password.")}};return e||y?v.jsx("p",{children:"Loading profile..."}):o?v.jsx("div",{className:"profile-container",children:v.jsxs("div",{className:"profile-card",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("h3",{children:"Doctor Profile"}),E?v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("button",{className:"dashboard-button-blue",onClick:L,disabled:I,children:I?"Saving...":"Save"}),v.jsx("button",{className:"dashboard-button-white",onClick:j,disabled:I,children:"Cancel"})]}):v.jsx("button",{className:"dashboard-button-blue",onClick:O,children:"Edit Profile"})]}),Y&&v.jsx("div",{className:"error-message",children:Y}),v.jsx("hr",{}),v.jsxs("p",{children:[v.jsx("strong",{children:"First Name:"})," ",E?v.jsx("input",{value:u.firstName,onChange:R=>P("firstName",R.target.value)}):o.firstName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Last Name:"})," ",E?v.jsx("input",{value:u.lastName,onChange:R=>P("lastName",R.target.value)}):o.lastName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",E?v.jsx("input",{value:u.email,onChange:R=>P("email",R.target.value)}):o.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Contact Number:"})," ",E?v.jsx("input",{value:u.contactNumber,onChange:R=>P("contactNumber",R.target.value)}):o.contactNumber]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Address:"})," ",E?v.jsx("input",{value:u.address,onChange:R=>P("address",R.target.value)}):o.address]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Birth Date:"})," ",E?v.jsx("input",{type:"date",value:u.birthDate,onChange:R=>P("birthDate",R.target.value)}):o.birthDate]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Gender:"})," ",E?v.jsxs("select",{value:u.gender,onChange:R=>P("gender",R.target.value),children:[v.jsx("option",{value:"",children:"Select"}),v.jsx("option",{value:"Male",children:"Male"}),v.jsx("option",{value:"Female",children:"Female"}),v.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Password:"})," ********",!z&&v.jsx("span",{className:"change-password",onClick:()=>B(!0),children:"Change Password"})]}),z&&v.jsxs("div",{style:{marginTop:"0.5rem"},children:[v.jsx("input",{type:"password",placeholder:"Current password",value:$.current,onChange:R=>te({...$,current:R.target.value})}),v.jsx("input",{type:"password",placeholder:"New password",value:$.new,onChange:R=>te({...$,new:R.target.value})}),v.jsx("input",{type:"password",placeholder:"Confirm new password",value:$.confirm,onChange:R=>te({...$,confirm:R.target.value})}),v.jsx("button",{onClick:H,children:"Save Password"}),v.jsx("button",{onClick:()=>{B(!1),te({current:"",new:"",confirm:""})},children:"Cancel"}),ye&&v.jsx("p",{style:{color:"red"},children:ye}),pe&&v.jsx("p",{style:{color:"green"},children:pe})]}),v.jsx("hr",{}),t?v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Field of Specialization:"})," ",E?v.jsx("input",{value:u.medicalField,onChange:R=>P("medicalField",R.target.value)}):t.medicalField]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Hospital / Office:"})," ",E?v.jsx("input",{value:u.placeOfEmployment,onChange:R=>P("placeOfEmployment",R.target.value)}):t.placeOfEmployment]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Office Address:"})," ",E?v.jsx("input",{value:u.officeAddress,onChange:R=>P("officeAddress",R.target.value)}):t.officeAddress]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Office Room:"})," ",E?v.jsx("input",{value:u.officeRoomNo,onChange:R=>P("officeRoomNo",R.target.value)}):t.officeRoomNo]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Office Contact:"})," ",E?v.jsx("input",{value:u.officeContactNo,onChange:R=>P("officeContactNo",R.target.value)}):t.officeContactNo]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Years Experience:"})," ",E?v.jsx("input",{type:"number",value:u.yearsExperience,onChange:R=>P("yearsExperience",R.target.value)}):t.yearsExperience]})]}):v.jsx("p",{children:"No doctor profile found."})]})}):v.jsx("p",{children:"No profile data found."})}function $V(){const i=Fy(),e=i.patientId||i.id||i.userId,[t,s]=V.useState(null),[o,c]=V.useState(null),[u,p]=V.useState([]),[y,g]=V.useState([]),[E,S]=V.useState(!0),[I,M]=V.useState("");V.useEffect(()=>{e?(async()=>{try{S(!0),console.log("All params:",i),console.log("Fetching data for patientId:",e);const $=await pa(Kt(qe,"users",e));if(console.log("User document exists:",$.exists()),$.exists()){const k=$.data();console.log("User data:",k),c(k)}else{M("User not found"),S(!1);return}const te=Kt(qe,"users",e);console.log("Querying patients collection with userRef:",te.path);const ye=Vi(rn(qe,"patients"),Ui("uid","==",te)),le=await Pn(ye);console.log("Patient snapshot empty:",le.empty),console.log("Patient docs found:",le.docs.length);let pe=null;if(le.empty)console.warn("No patient document found for this user");else{const k=le.docs[0].data();pe=le.docs[0].id,console.log("Patient data:",k),console.log("Patient doc ID:",pe),s(k)}if(pe)try{const k=Kt(qe,"patients",pe),O=Vi(rn(qe,"prescriptions"),Ui("patientId","==",k)),j=await Pn(O);console.log("Prescriptions found:",j.docs.length);const P=j.docs.map(L=>({id:L.id,...L.data()}));p(P)}catch(k){console.error("Error fetching prescriptions:",k)}try{const k=await Pn(rn(qe,"appointments"));console.log("Total appointments in DB:",k.docs.length);const O=k.docs.map(P=>({id:P.id,...P.data()}));console.log("Sample appointment data:",O[0]);const j=O.filter(P=>{const L=P.patientID;return console.log("Checking patientID:",L,"Type:",typeof L),L&&L.path?(console.log("PatientID has path:",L.path),L.path.includes(e)):typeof L=="string"?L.includes(e)||L===e:!1});console.log("Matching appointments:",j.length),g(j)}catch(k){console.error("Error fetching appointments:",k)}}catch($){console.error("Error fetching patient data:",$),M(`Failed to load patient data: ${$.message}`)}finally{S(!1)}})():(console.error("No patientId provided"),M("No patient ID provided"),S(!1))},[e]);const Y=B=>{if(!B)return"N/A";try{let $;return B.toDate&&typeof B.toDate=="function"?$=B.toDate():B.seconds?$=new Date(B.seconds*1e3):$=new Date(B),$.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch($){return console.error("Error formatting date:",$,B),"Invalid date"}},W=B=>{if(!B)return"N/A";try{let $;return B.toDate&&typeof B.toDate=="function"?$=B.toDate():B.seconds?$=new Date(B.seconds*1e3):$=new Date(B),$.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},z=B=>{if(!B)return"N/A";try{const $=new Date,te=new Date(B);let ye=$.getFullYear()-te.getFullYear();const le=$.getMonth()-te.getMonth();return(le<0||le===0&&$.getDate()<te.getDate())&&ye--,ye}catch{return"N/A"}};return E?v.jsxs("div",{className:"loading",children:[v.jsx("p",{children:"Loading patient data..."}),v.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["Patient ID: ",e]})]}):I?v.jsxs("div",{className:"error-message",children:[v.jsx("p",{children:I}),v.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["Patient ID: ",e]}),v.jsx("p",{style:{fontSize:"12px"},children:"Check console for details"})]}):o?v.jsxs("div",{className:"patient-management-container",children:[v.jsx("h2",{className:"page-title",children:"Patient Management"}),v.jsxs("div",{className:"content-grid",children:[v.jsxs("div",{className:"left-column",children:[v.jsxs("div",{className:"card prescriptions-card",children:[v.jsx("h3",{className:"card-title",children:"Prescriptions"}),v.jsx("div",{className:"prescriptions-list",children:u.length>0?u.map(B=>v.jsxs("div",{className:"prescription-item",children:[v.jsxs("div",{className:"presc-header",children:[v.jsx("strong",{children:B.medicationName||B.medication||"Medication"}),B.frequency&&v.jsx("span",{className:"frequency-badge",children:"↑"})]}),v.jsxs("div",{className:"presc-details",children:[B.dosage&&v.jsx("div",{children:B.dosage}),B.frequency&&v.jsx("div",{children:B.frequency}),B.duration&&v.jsxs("div",{children:["Duration: ",B.duration]}),B.instructions&&v.jsx("div",{className:"instructions",children:B.instructions})]})]},B.id)):v.jsx("p",{className:"no-data",children:"No prescriptions found"})})]}),v.jsxs("div",{className:"card patient-info-card",children:[v.jsx("h3",{className:"info-label",children:"Patient Information"}),v.jsxs("div",{className:"info-content",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Patient Name:"})," ",o.firstName||o.first_name||"N/A"," ",o.lastName||o.last_name||""]}),v.jsxs("p",{children:[v.jsx("strong",{children:"E-mail Address:"})," ",o.email||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Contact Number:"})," ",o.contactNumber||o.contact_number||"N/A"]}),v.jsx("br",{}),v.jsxs("p",{children:[v.jsx("strong",{children:"Age:"})," ",z(o.birthDate||o.birth_date)]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Gender:"})," ",o.gender||o.sex||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Date of Birth:"})," ",Y(o.birthDate||o.birth_date)]}),t&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Chronic Condition/s:"})," ",t.chronicIllness?.join(", ")||"None"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Allergies:"})," ",t.allergies?.join(", ")||"None"]}),v.jsx("br",{}),v.jsxs("p",{children:[v.jsx("strong",{children:"Insurance Provider:"})," ",t.insuranceProvider||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Senior Citizen:"})," ",t.seniorCitizenStatus?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"PWD:"})," ",t.pwdStatus?"Yes":"No"]})]})]})]})]}),v.jsxs("div",{className:"right-column",children:[v.jsxs("div",{className:"card meals-card",children:[v.jsx("h3",{className:"card-title",children:"Meals"}),v.jsx("div",{className:"meals-content",children:v.jsx("p",{className:"no-data",children:"No meal data available"})})]}),v.jsxs("div",{className:"card appointment-card",children:[v.jsx("h3",{className:"card-title",children:"Appointment"}),v.jsx("div",{className:"appointment-content",children:y.length>0?y.filter(B=>B.dateTime||B.appointmentDate).sort((B,$)=>{let te,ye;const le=B.dateTime||B.appointmentDate,pe=$.dateTime||$.appointmentDate;return le?.toDate?te=le.toDate():le?.seconds?te=new Date(le.seconds*1e3):te=new Date(le),pe?.toDate?ye=pe.toDate():pe?.seconds?ye=new Date(pe.seconds*1e3):ye=new Date(pe),te-ye}).slice(0,3).map(B=>v.jsxs("div",{className:"appointment-item",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Date:"})," ",Y(B.dateTime||B.appointmentDate)]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Time:"})," ",W(B.dateTime||B.appointmentDate)]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Status:"})," ",B.status||B.type||"Scheduled"]}),B.reason&&v.jsxs("p",{children:[v.jsx("strong",{children:"Reason:"})," ",B.reason]}),B.location&&v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",B.location]})]},B.id)):v.jsx("p",{className:"no-scheduled",children:"No Scheduled Appointment"})})]}),v.jsxs("div",{className:"card medical-history-card",children:[v.jsx("h3",{className:"card-title",children:"Medical History"}),v.jsxs("div",{className:"history-content",children:[t?.chronicIllness&&t.chronicIllness.length>0?v.jsx(v.Fragment,{children:t.chronicIllness.map((B,$)=>v.jsxs("p",{className:"history-item",children:["• Patient has been diagnosed with ",B,"."]},$))}):v.jsx("p",{className:"history-item",children:"• No chronic conditions recorded."}),v.jsx("br",{}),v.jsx("h4",{children:"Surgical History"}),t?.surgicalHistory?v.jsxs("p",{className:"history-item",children:["• ",t.surgicalHistory]}):v.jsx("p",{className:"history-item",children:"• N/A"})]})]})]})]})]}):v.jsxs("div",{className:"error-message",children:[v.jsx("p",{children:"No patient data found."}),v.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["Patient ID: ",e]})]})}function f0(i){if(!i)return null;if(i instanceof xt)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function GV(i){const e=new Date(i),t=e.getDay(),s=t===0?-6:1-t;return e.setDate(e.getDate()+s),e.setHours(0,0,0,0),e}function YV(){const{user:i}=zi(),[e,t]=V.useState(null),[s,o]=V.useState(!0),[c,u]=V.useState([]),[p,y]=V.useState([]),[g,E]=V.useState([]),[S,I]=V.useState({}),[M,Y]=V.useState(new Date);V.useEffect(()=>{i&&W()},[i]);const W=async()=>{try{const le=Kt(qe,"users",i.uid),pe=await pa(le);pe.exists()&&t(pe.data());const k=new Date().toDateString(),O=Vi(rn(qe,"dailyIntakeMonitor"),Ui("patient","==",le)),P=(await Pn(O)).docs.map(de=>({...de.data(),docId:de.id,dateTime:f0(de.data().dateTime)})),L=Vi(rn(qe,"dailyMealsChecklist"),Ui("patient","==",le)),R=(await Pn(L)).docs.map(de=>({...de.data(),docId:de.id,dateTime:f0(de.data().dateTime)})),fe={};P.forEach(de=>{const xe=de.dateTime?.toDateString();xe&&(fe[xe]={...fe[xe],medStatus:de.status?.toLowerCase(),medDocId:de.docId})}),R.forEach(de=>{const xe=de.dateTime?.toDateString();xe&&(fe[xe]={...fe[xe],mealStatus:de.status?.toLowerCase(),mealDocId:de.docId})}),I(fe);const Oe=P.filter(de=>de.dateTime?.toDateString()===k),X=R.filter(de=>de.dateTime?.toDateString()===k);u(Oe),y(X);const re=[];Oe.forEach(de=>{de.status?.toLowerCase()!=="taken"&&re.push(`Missed medicine: ${de.medication}`)}),X.forEach(de=>{de.status?.toLowerCase()!=="completed"&&re.push(`Missed meal: ${de.mealDescription}`)}),E(re)}catch(le){console.error("Error fetching dashboard data:",le)}finally{o(!1)}},z=le=>{switch(le){case"taken":case"completed":return"green";case"incomplete":return"yellow";case"not taken":case"nottaken":return"red";default:return"gray"}},B=le=>{const pe=S[le.toDateString()]||{};return{mealStatus:pe.mealStatus||"notTaken",medStatus:pe.medStatus||"notTaken",mealDocId:pe.mealDocId||null,medDocId:pe.medDocId||null}},$=async(le,pe)=>{try{const k=B(le),O=pe==="med"?"medStatus":"mealStatus",j=pe==="med"?k.medDocId:k.mealDocId,P=k[O]==="taken"||k[O]==="completed"?"notTaken":"taken";if(j){const H=Kt(qe,pe==="med"?"dailyIntakeMonitor":"dailyMealsChecklist",j);await ga(H,{status:P}),I(R=>({...R,[le.toDateString()]:{...R[le.toDateString()],[O]:P}}))}else console.warn("No log document found for this day")}catch(k){console.error("Error updating status:",k)}};if(s)return v.jsx("p",{className:"loading",children:"Loading dashboard..."});const te=GV(M),ye=Array.from({length:7},(le,pe)=>{const k=new Date(te);return k.setDate(te.getDate()+pe),k});return v.jsx("div",{className:"patient-dashboard",children:v.jsxs("div",{className:"dashboard-grid",children:[v.jsxs("div",{className:"dashboard-card",children:[v.jsxs("h2",{children:["Good Morning, ",e?.firstName||"User","!"]}),v.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),v.jsxs("div",{className:"dashboard-card",children:[v.jsx("h2",{children:"Notifications"}),g.length===0?v.jsx("p",{children:"No notifications"}):v.jsx("ul",{children:g.map((le,pe)=>v.jsx("li",{children:le},pe))})]}),v.jsxs("div",{className:"dashboard-card",children:[v.jsx("h2",{children:"This Week's Intake"}),v.jsx("div",{className:"week-scroll",children:v.jsx("div",{className:"week-grid",children:ye.map(le=>{const pe=B(le);return v.jsxs("div",{className:"day-box",children:[v.jsx("strong",{children:le.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),v.jsxs("div",{className:"status-bar",children:[v.jsx("span",{className:"status-meal",style:{backgroundColor:z(pe.mealStatus),cursor:"pointer"},onClick:()=>$(le,"meal"),children:"Meal"}),v.jsx("span",{className:"status-med",style:{backgroundColor:z(pe.medStatus),cursor:"pointer"},onClick:()=>$(le,"med"),children:"Med"})]})]},le.toDateString())})})}),v.jsxs("div",{className:"legend",children:[v.jsxs("span",{children:[v.jsx("span",{className:"legend-box",style:{backgroundColor:"green"}})," ","Taken/Completed"]}),v.jsxs("span",{children:[v.jsx("span",{className:"legend-box",style:{backgroundColor:"yellow"}})," ","Incomplete"]}),v.jsxs("span",{children:[v.jsx("span",{className:"legend-box",style:{backgroundColor:"red"}})," ","Not Taken"]})]})]}),v.jsxs("div",{className:"dashboard-card",children:[v.jsx("h2",{children:"Today's Checklist"}),v.jsx("h3",{children:"Medicine"}),c.length===0?v.jsx("p",{children:"No medicines scheduled"}):v.jsx("ul",{children:c.map(le=>v.jsxs("li",{style:{color:z(le.status)},children:[le.medication," - ",le.dosage," (",le.status,")"]},le.docId))}),v.jsx("h3",{children:"Meals"}),p.length===0?v.jsx("p",{children:"No meals scheduled"}):v.jsx("ul",{children:p.map(le=>v.jsxs("li",{style:{color:z(le.status)},children:[le.mealDescription," (",le.status,")"]},le.docId))})]})]})})}function KV(){const{user:i}=zi(),{role:e}=Fy(),[t,s]=V.useState([]);V.useEffect(()=>{if(!i)return;(async()=>{const u=Kt(qe,"users",i.uid),p=Vi(rn(qe,"notifications"),Ui("recipientId","==",u)),g=(await Pn(p)).docs.map(E=>({id:E.id,...E.data()}));s(g.sort((E,S)=>S.timestamp?.seconds-E.timestamp?.seconds))})()},[i]);const o=async(c,u)=>{const p=Kt(qe,"notifications",c);await ga(p,{read:!u}),s(y=>y.map(g=>g.id===c?{...g,read:!u}:g))};return v.jsx("div",{className:"notifications-container",children:v.jsxs("div",{className:"notifications-card",children:[v.jsx("h2",{className:"notifications-title",children:"Notifications"}),t.length===0?v.jsx("p",{className:"no-notifications",children:"No notifications yet."}):v.jsx("ul",{className:"notifications-list",children:t.map(c=>v.jsxs("li",{className:`notification-item ${c.read?"read":"unread"}`,children:[v.jsxs("div",{className:"notification-header",children:[v.jsx("h4",{className:"notification-title",children:c.title||"Untitled Notification"}),v.jsx("p",{className:"notification-message",children:c.message}),v.jsx("button",{className:`mark-button ${c.read?"mark-unread":"mark-read"}`,onClick:()=>o(c.id,c.read),children:c.read?"Mark as Unread":"Mark as Read"})]}),v.jsx("small",{className:"notification-timestamp",children:c.timestamp?.toDate().toLocaleString()})]},c.id))})]})})}function QV(){const{user:i}=zi(),[e,t]=V.useState(null),[s,o]=V.useState(null),[c,u]=V.useState(!0),p=E=>E?E.toDate?E.toDate():new Date(E):null;if(V.useEffect(()=>{(async()=>{try{if(!i?.uid)return;const S=Kt(qe,"users",i.uid),I=Vi(rn(qe,"appointments"),Ui("patientId","==",S)),M=await Pn(I);if(!M.empty){const Y=M.docs[0],W={id:Y.id,...Y.data()};if(t(W),W.doctorId)try{const z=await pa(W.doctorId);if(!z.exists())return;const B={id:z.id,...z.data()},$=Vi(rn(qe,"doctors"),Ui("uid","==",z.id)),te=await Pn($),ye=te.empty?{}:te.docs[0].data();o({...B,...ye})}catch(z){console.error("Error fetching doctor details:",z)}}}catch(S){console.error("Error loading appointment:",S)}finally{u(!1)}})()},[i]),c)return v.jsx("div",{className:"appointment-loading",children:"Loading..."});if(!e||!s)return v.jsx("div",{className:"appointment-container",children:v.jsx("h2",{children:"No upcoming appointments found."})});const y=p(e.dateTime)?.toLocaleDateString()||"N/A",g=p(e.dateTime)?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||"N/A";return v.jsxs("div",{className:"appointment-container",children:[v.jsx("h1",{children:"Appointments"}),v.jsxs("div",{className:"appointment-card",children:[v.jsx("h2",{children:"Assigned Doctor"}),v.jsx("p",{children:v.jsxs("strong",{children:["Dr. ",s.fullName||`${s.firstName||""} ${s.lastName||""}`]})}),v.jsxs("p",{children:[v.jsx("strong",{children:"Field:"})," ",s.medicalField||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",s.email||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Contact Number:"})," ",s.officeContactNo||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Hospital Address & Office:"})," ",s.placeOfEmployment||"N/A",", Room ",s.officeRoomNo||"N/A",","," ",s.officeAddress||"N/A"]}),v.jsx("hr",{className:"appointment-divider"}),v.jsx("h2",{children:"Upcoming Appointment Details"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Time:"})," ",g]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Date:"})," ",y]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",e.location||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Type:"})," ",e.type||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Reason:"})," ",e.reason||"N/A"]}),v.jsx("p",{className:"appointment-note",children:"To reschedule, please contact your assigned doctor."})]})]})}function WV(){const{profile:i,loading:e}=zi(),[t,s]=V.useState(null),[o,c]=V.useState(null),[u,p]=V.useState(null),[y,g]=V.useState(!0),[E,S]=V.useState(!1),[I,M]=V.useState(!1),[Y,W]=V.useState(""),[z,B]=V.useState(!1),[$,te]=V.useState(""),[ye,le]=V.useState(""),[pe,k]=V.useState(""),[O,j]=V.useState(""),[P,L]=V.useState(!1);V.useEffect(()=>{if(!i)return;(async()=>{try{const de=Kt(qe,"users",i.uid),xe=await pa(de);xe.exists()&&c(xe.data());const ke=Vi(rn(qe,"patients"),Ui("uid","==",de)),D=await Pn(ke);if(D.empty)console.warn("No patient profile found");else{const ae=D.docs[0].data();s(ae),p({...xe.data(),...ae})}}catch(de){console.error("Error fetching patient profile:",de),W("Failed to load profile")}finally{g(!1)}})()},[i]);const H=()=>{S(!0),W("")},R=()=>{p({...o,...t}),S(!1),W("")},fe=(re,de)=>{p(xe=>({...xe,[re]:de}))},Oe=async()=>{W(""),M(!0);try{const re=Kt(qe,"users",i.uid),de=Vi(rn(qe,"patients"),Ui("uid","==",re)),xe=await Pn(de);if(!xe.empty){const ke=xe.docs[0].ref;await ga(ke,{chronicIllness:u.chronicIllness||[],allergies:u.allergies||[],insuranceProvider:u.insuranceProvider||"",seniorCitizenStatus:u.seniorCitizenStatus||!1,pwdStatus:u.pwdStatus||!1}),s({...u})}await ga(re,{firstName:u.firstName,lastName:u.lastName,email:u.email,contactNumber:u.contactNumber,address:u.address,birthDate:u.birthDate,gender:u.gender}),c({...u}),S(!1)}catch(re){console.error("Error saving profile:",re),W("Failed to save changes")}finally{M(!1)}},X=async()=>{if(j(""),!$||!ye||!pe){j("All fields are required");return}if(ye!==pe){j("Passwords do not match");return}L(!0);try{const re=ya.currentUser,de=ya.EmailAuthProvider.credential(re.email,$);await re.reauthenticateWithCredential(de),await re.updatePassword(ye),B(!1),te(""),le(""),k(""),alert("Password updated successfully!")}catch(re){console.error(re),j("Failed to update password. Check current password.")}finally{L(!1)}};return e||y?v.jsx("p",{children:"Loading profile..."}):o?v.jsx("div",{className:"profile-container",style:{textAlign:"left"},children:v.jsxs("div",{className:"profile-card",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("h3",{children:"Patient Profile"}),E?v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("button",{className:"dashboard-button-blue",onClick:Oe,disabled:I,children:I?"Saving...":"Save"}),v.jsx("button",{className:"dashboard-button-white",onClick:R,disabled:I,children:"Cancel"})]}):v.jsx("button",{className:"dashboard-button-blue",onClick:H,children:"Edit Profile"})]}),Y&&v.jsx("div",{className:"error-message",children:Y}),v.jsx("hr",{}),v.jsxs("p",{children:[v.jsx("strong",{children:"First Name:"})," ",E?v.jsx("input",{value:u.firstName,onChange:re=>fe("firstName",re.target.value)}):o.firstName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Last Name:"})," ",E?v.jsx("input",{value:u.lastName,onChange:re=>fe("lastName",re.target.value)}):o.lastName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",E?v.jsx("input",{value:u.email,onChange:re=>fe("email",re.target.value)}):o.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Contact Number:"})," ",E?v.jsx("input",{value:u.contactNumber,onChange:re=>fe("contactNumber",re.target.value)}):o.contactNumber]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Password:"})," ********"," ",z?null:v.jsx("span",{className:"change-password",style:{cursor:"pointer",color:"blue"},onClick:()=>B(!0),children:"(Change Password)"})]}),z&&v.jsxs("div",{style:{marginTop:"10px",marginBottom:"10px"},children:[O&&v.jsx("p",{className:"error-message",children:O}),v.jsx("input",{type:"password",placeholder:"Current Password",value:$,onChange:re=>te(re.target.value)}),v.jsx("input",{type:"password",placeholder:"New Password",value:ye,onChange:re=>le(re.target.value)}),v.jsx("input",{type:"password",placeholder:"Confirm New Password",value:pe,onChange:re=>k(re.target.value)}),v.jsxs("div",{style:{marginTop:"5px"},children:[v.jsx("button",{onClick:X,disabled:P,children:P?"Updating...":"Update Password"}),v.jsx("button",{onClick:()=>B(!1),disabled:P,children:"Cancel"})]})]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Birth Date:"})," ",E?v.jsx("input",{type:"date",value:u.birthDate,onChange:re=>fe("birthDate",re.target.value)}):o.birthDate]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Gender:"})," ",E?v.jsxs("select",{value:u.gender,onChange:re=>fe("gender",re.target.value),children:[v.jsx("option",{value:"",children:"Select"}),v.jsx("option",{value:"Male",children:"Male"}),v.jsx("option",{value:"Female",children:"Female"}),v.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),v.jsx("hr",{}),t?v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Chronic Illness:"})," ",E?v.jsx("input",{value:(u.chronicIllness||[]).join(", "),onChange:re=>fe("chronicIllness",re.target.value.split(",").map(de=>de.trim()))}):(t.chronicIllness||[]).join(", ")]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Allergies:"})," ",E?v.jsx("input",{value:(u.allergies||[]).join(", "),onChange:re=>fe("allergies",re.target.value.split(",").map(de=>de.trim()))}):(t.allergies||[]).join(", ")]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Insurance Provider:"})," ",E?v.jsx("input",{value:u.insuranceProvider||"",onChange:re=>fe("insuranceProvider",re.target.value)}):t.insuranceProvider]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Senior Citizen:"})," ",E?v.jsxs("select",{value:u.seniorCitizenStatus?"Yes":"No",onChange:re=>fe("seniorCitizenStatus",re.target.value==="Yes"),children:[v.jsx("option",{value:"No",children:"No"}),v.jsx("option",{value:"Yes",children:"Yes"})]}):t.seniorCitizenStatus?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"PWD:"})," ",E?v.jsxs("select",{value:u.pwdStatus?"Yes":"No",onChange:re=>fe("pwdStatus",re.target.value==="Yes"),children:[v.jsx("option",{value:"No",children:"No"}),v.jsx("option",{value:"Yes",children:"Yes"})]}):t.pwdStatus?"Yes":"No"]})]}):v.jsx("p",{children:"No patient profile found."})]})}):v.jsx("p",{children:"No profile data found."})}function XV(){return wS().currentUser}async function WC(i,e,t){const s=XV();if(!s)throw new Error("Unauthorized");const o=Vi(rn(qe,i),Ui(e,"==",t));return(await Pn(o)).docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.createdBy===s.uid||Array.isArray(u.recipientIds)&&u.recipientIds.includes(s.uid))}function JV(){const{user:i}=zi(),[e,t]=V.useState([]),[s,o]=V.useState([]),[c,u]=V.useState(!0);return V.useEffect(()=>{if(!i?.uid){u(!1);return}(async()=>{try{const y=await WC("dailyFoodLog","patient","patients",i.uid),g=new Date,E=y.map(M=>{const Y=M.dateTime instanceof xt?M.dateTime.toDate():null;return{id:M.id,mealType:M.mealType||"Unknown",description:M.mealDescription||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:M.status||"Pending",date:Y}}),S=E.filter(M=>M.status.toLowerCase()!=="completed"&&(!M.date||M.date>=g)),I=E.filter(M=>M.status.toLowerCase()==="completed"||M.date&&M.date<g);t(S),o(I)}catch(y){console.error("Error fetching daily foods:",y)}finally{u(!1)}})()},[i]),c?v.jsx("p",{className:"loading",children:"Loading daily food log..."}):v.jsx("div",{className:"profile-container",children:v.jsxs("div",{className:"profile-card",children:[v.jsx("h1",{className:"profile-title",children:"Daily Food Log"}),v.jsxs("div",{className:"table-section",children:[v.jsx("h2",{className:"section-title",children:"Upcoming / Not Completed"}),e.length===0?v.jsx("p",{className:"empty-message",children:"No upcoming meals."}):v.jsxs("table",{className:"dashboard-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Meal Type"}),v.jsx("th",{children:"Description"}),v.jsx("th",{children:"Time"}),v.jsx("th",{children:"Status"})]})}),v.jsx("tbody",{children:e.map(p=>v.jsxs("tr",{children:[v.jsx("td",{children:p.mealType}),v.jsx("td",{children:p.description}),v.jsx("td",{children:p.time}),v.jsx("td",{children:v.jsx("span",{className:"status pending",children:p.status})})]},p.id))})]})]}),v.jsxs("div",{className:"table-section",children:[v.jsx("h2",{className:"section-title",children:"Completed Meals"}),s.length===0?v.jsx("p",{className:"empty-message",children:"No completed meals yet."}):v.jsxs("table",{className:"dashboard-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Meal Type"}),v.jsx("th",{children:"Description"}),v.jsx("th",{children:"Time"}),v.jsx("th",{children:"Status"})]})}),v.jsx("tbody",{children:s.map(p=>v.jsxs("tr",{children:[v.jsx("td",{children:p.mealType}),v.jsx("td",{children:p.description}),v.jsx("td",{children:p.time}),v.jsx("td",{children:v.jsx("span",{className:"status taken",children:p.status})})]},p.id))})]})]})]})})}function ZV(){const{user:i}=zi(),[e,t]=V.useState([]),[s,o]=V.useState([]),[c,u]=V.useState(!0);return V.useEffect(()=>{if(!i?.uid){u(!1);return}(async()=>{try{const y=await WC("dailyIntakeMonitor","patient","patients",i.uid),g=new Date,E=y.map(M=>{const Y=M.dateTime instanceof xt?M.dateTime.toDate():null,W=M.endDate instanceof xt?M.endDate.toDate():null;return{id:M.id,name:M.medication||"Unknown",dosage:M.dosage||"-",frequency:M.frequency||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:M.status||"Not taken",endDate:W}}),S=E.filter(M=>M.status.toLowerCase()!=="taken"&&(!M.endDate||M.endDate>=g)),I=E.filter(M=>M.status.toLowerCase()==="taken"||M.endDate&&M.endDate<g);t(S),o(I)}catch(y){console.error("Error fetching daily meds:",y)}finally{u(!1)}})()},[i]),c?v.jsx("p",{className:"loading",children:"Loading daily medicines..."}):v.jsx("div",{className:"profile-container",children:v.jsxs("div",{className:"profile-card",children:[v.jsx("h1",{className:"profile-title",children:"Daily Medicine Log"}),v.jsxs("div",{className:"table-section",children:[v.jsx("h2",{className:"section-title",children:"Upcoming / Not Taken"}),e.length===0?v.jsx("p",{className:"empty-message",children:"No upcoming medicines."}):v.jsxs("table",{className:"dashboard-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Medicine"}),v.jsx("th",{children:"Dosage"}),v.jsx("th",{children:"Frequency"}),v.jsx("th",{children:"Time"}),v.jsx("th",{children:"Status"})]})}),v.jsx("tbody",{children:e.map(p=>v.jsxs("tr",{children:[v.jsx("td",{children:p.name}),v.jsx("td",{children:p.dosage}),v.jsx("td",{children:p.frequency}),v.jsx("td",{children:p.time}),v.jsx("td",{children:v.jsx("span",{className:"status pending",children:p.status})})]},p.id))})]})]}),v.jsxs("div",{className:"table-section",children:[v.jsx("h2",{className:"section-title",children:"Completed / Taken"}),s.length===0?v.jsx("p",{className:"empty-message",children:"No completed medicines yet."}):v.jsxs("table",{className:"dashboard-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Medicine"}),v.jsx("th",{children:"Dosage"}),v.jsx("th",{children:"Frequency"}),v.jsx("th",{children:"Time"}),v.jsx("th",{children:"Status"})]})}),v.jsx("tbody",{children:s.map(p=>v.jsxs("tr",{children:[v.jsx("td",{children:p.name}),v.jsx("td",{children:p.dosage}),v.jsx("td",{children:p.frequency}),v.jsx("td",{children:p.time}),v.jsx("td",{children:v.jsx("span",{className:"status taken",children:p.status})})]},p.id))})]})]})]})})}function e4(){return v.jsx(IP,{children:v.jsx(Ox,{children:v.jsx(cx,{children:v.jsxs(ti,{path:"/",element:v.jsx(FP,{}),children:[v.jsx(ti,{index:!0,element:v.jsx(HP,{})}),v.jsx(ti,{path:"login",element:v.jsx(XP,{})}),v.jsx(ti,{path:"about",element:v.jsx(JP,{})}),v.jsx(ti,{path:"contact",element:v.jsx(ZP,{})}),v.jsx(ti,{path:"admin/dashboard",element:v.jsx(qr,{children:v.jsx(eL,{})})}),v.jsx(ti,{path:"doctor/dashboard",element:v.jsx(qr,{children:v.jsx(kV,{})})}),v.jsx(ti,{path:"doctor/notifications",element:v.jsx(qr,{children:v.jsx(MV,{})})}),v.jsx(ti,{path:"doctor/patients",element:v.jsx(qr,{children:v.jsx(jV,{})})}),v.jsx(ti,{path:"doctor/patient-management/:id",element:v.jsx(qr,{children:v.jsx($V,{})})}),v.jsx(ti,{path:"doctor/appointments",element:v.jsx(qr,{children:v.jsx(FV,{})})}),v.jsx(ti,{path:"doctor/profile",element:v.jsx(qr,{children:v.jsx(HV,{})})}),v.jsx(ti,{path:"patient/dashboard",element:v.jsx(qr,{children:v.jsx(YV,{})})}),v.jsx(ti,{path:"patient/notifications",element:v.jsx(qr,{children:v.jsx(KV,{})})}),v.jsx(ti,{path:"patient/appointments",element:v.jsx(qr,{children:v.jsx(QV,{})})}),v.jsx(ti,{path:"patient/dailies/food",element:v.jsx(qr,{children:v.jsx(JV,{})})}),v.jsx(ti,{path:"patient/dailies/medicine",element:v.jsx(qr,{children:v.jsx(ZV,{})})}),v.jsx(ti,{path:"patient/profile",element:v.jsx(qr,{children:v.jsx(WV,{})})})]})})})})}gI.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(e4,{})}));
