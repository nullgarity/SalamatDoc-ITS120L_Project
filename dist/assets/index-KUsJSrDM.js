(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var ng={exports:{}},mh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function q1(){if(uE)return mh;uE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return mh.Fragment=e,mh.jsx=n,mh.jsxs=n,mh}var cE;function F1(){return cE||(cE=1,ng.exports=q1()),ng.exports}var _=F1(),ig={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function H1(){if(hE)return Je;hE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,V={};function F(D,se,me){this.props=D,this.context=se,this.refs=V,this.updater=me||Y}F.prototype.isReactComponent={},F.prototype.setState=function(D,se){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,se,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=F.prototype;function te(D,se,me){this.props=D,this.context=se,this.refs=V,this.updater=me||Y}var _e=te.prototype=new W;_e.constructor=te,Q(_e,F.prototype),_e.isPureReactComponent=!0;var we=Array.isArray;function be(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function j(D,se,me){var Te=me.ref;return{$$typeof:i,type:D,key:se,ref:Te!==void 0?Te:null,props:me}}function L(D,se){return j(D.type,se,D.props)}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function H(D){var se={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(me){return se[me]})}var N=/\/+/g;function de(D,se){return typeof D=="object"&&D!==null&&D.key!=null?H(""+D.key):se.toString(36)}function Pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(be,be):(D.status="pending",D.then(function(se){D.status==="pending"&&(D.status="fulfilled",D.value=se)},function(se){D.status==="pending"&&(D.status="rejected",D.reason=se)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Z(D,se,me,Te,Ie){var Le=typeof D;(Le==="undefined"||Le==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Le){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case i:case e:Ve=!0;break;case T:return Ve=D._init,Z(Ve(D._payload),se,me,Te,Ie)}}if(Ve)return Ie=Ie(D),Ve=Te===""?"."+de(D,0):Te,we(Ie)?(me="",Ve!=null&&(me=Ve.replace(N,"$&/")+"/"),Z(Ie,se,me,"",function(Ai){return Ai})):Ie!=null&&(U(Ie)&&(Ie=L(Ie,me+(Ie.key==null||D&&D.key===Ie.key?"":(""+Ie.key).replace(N,"$&/")+"/")+Ve)),se.push(Ie)),1;Ve=0;var Pt=Te===""?".":Te+":";if(we(D))for(var ge=0;ge<D.length;ge++)Te=D[ge],Le=Pt+de(Te,ge),Ve+=Z(Te,se,me,Le,Ie);else if(ge=M(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(Te=D.next()).done;)Te=Te.value,Le=Pt+de(Te,ge++),Ve+=Z(Te,se,me,Le,Ie);else if(Le==="object"){if(typeof D.then=="function")return Z(Pe(D),se,me,Te,Ie);throw se=String(D),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ae(D,se,me){if(D==null)return D;var Te=[],Ie=0;return Z(D,Te,"","",function(Le){return se.call(me,Le,Ie++)}),Te}function ve(D){if(D._status===-1){var se=D._result;se=se(),se.then(function(me){(D._status===0||D._status===-1)&&(D._status=1,D._result=me)},function(me){(D._status===0||D._status===-1)&&(D._status=2,D._result=me)}),D._status===-1&&(D._status=0,D._result=se)}if(D._status===1)return D._result.default;throw D._result}var Ne=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Oe={map:ae,forEach:function(D,se,me){ae(D,function(){se.apply(this,arguments)},me)},count:function(D){var se=0;return ae(D,function(){se++}),se},toArray:function(D){return ae(D,function(se){return se})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Je.Activity=S,Je.Children=Oe,Je.Component=F,Je.Fragment=n,Je.Profiler=o,Je.PureComponent=te,Je.StrictMode=s,Je.Suspense=g,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Je.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},Je.cache=function(D){return function(){return D.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(D,se,me){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Te=Q({},D.props),Ie=D.key;if(se!=null)for(Le in se.key!==void 0&&(Ie=""+se.key),se)!O.call(se,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&se.ref===void 0||(Te[Le]=se[Le]);var Le=arguments.length-2;if(Le===1)Te.children=me;else if(1<Le){for(var Ve=Array(Le),Pt=0;Pt<Le;Pt++)Ve[Pt]=arguments[Pt+2];Te.children=Ve}return j(D.type,Ie,Te)},Je.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Je.createElement=function(D,se,me){var Te,Ie={},Le=null;if(se!=null)for(Te in se.key!==void 0&&(Le=""+se.key),se)O.call(se,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ie[Te]=se[Te]);var Ve=arguments.length-2;if(Ve===1)Ie.children=me;else if(1<Ve){for(var Pt=Array(Ve),ge=0;ge<Ve;ge++)Pt[ge]=arguments[ge+2];Ie.children=Pt}if(D&&D.defaultProps)for(Te in Ve=D.defaultProps,Ve)Ie[Te]===void 0&&(Ie[Te]=Ve[Te]);return j(D,Le,Ie)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(D){return{$$typeof:p,render:D}},Je.isValidElement=U,Je.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ve}},Je.memo=function(D,se){return{$$typeof:y,type:D,compare:se===void 0?null:se}},Je.startTransition=function(D){var se=k.T,me={};k.T=me;try{var Te=D(),Ie=k.S;Ie!==null&&Ie(me,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(be,Ne)}catch(Le){Ne(Le)}finally{se!==null&&me.types!==null&&(se.types=me.types),k.T=se}},Je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Je.use=function(D){return k.H.use(D)},Je.useActionState=function(D,se,me){return k.H.useActionState(D,se,me)},Je.useCallback=function(D,se){return k.H.useCallback(D,se)},Je.useContext=function(D){return k.H.useContext(D)},Je.useDebugValue=function(){},Je.useDeferredValue=function(D,se){return k.H.useDeferredValue(D,se)},Je.useEffect=function(D,se){return k.H.useEffect(D,se)},Je.useEffectEvent=function(D){return k.H.useEffectEvent(D)},Je.useId=function(){return k.H.useId()},Je.useImperativeHandle=function(D,se,me){return k.H.useImperativeHandle(D,se,me)},Je.useInsertionEffect=function(D,se){return k.H.useInsertionEffect(D,se)},Je.useLayoutEffect=function(D,se){return k.H.useLayoutEffect(D,se)},Je.useMemo=function(D,se){return k.H.useMemo(D,se)},Je.useOptimistic=function(D,se){return k.H.useOptimistic(D,se)},Je.useReducer=function(D,se,me){return k.H.useReducer(D,se,me)},Je.useRef=function(D){return k.H.useRef(D)},Je.useState=function(D){return k.H.useState(D)},Je.useSyncExternalStore=function(D,se,me){return k.H.useSyncExternalStore(D,se,me)},Je.useTransition=function(){return k.H.useTransition()},Je.version="19.2.0",Je}var fE;function yy(){return fE||(fE=1,ig.exports=H1()),ig.exports}var z=yy(),rg={exports:{}},ph={},sg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function G1(){return dE||(dE=1,(function(i){function e(Z,ae){var ve=Z.length;Z.push(ae);e:for(;0<ve;){var Ne=ve-1>>>1,Oe=Z[Ne];if(0<o(Oe,ae))Z[Ne]=ae,Z[ve]=Oe,ve=Ne;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ae=Z[0],ve=Z.pop();if(ve!==ae){Z[0]=ve;e:for(var Ne=0,Oe=Z.length,D=Oe>>>1;Ne<D;){var se=2*(Ne+1)-1,me=Z[se],Te=se+1,Ie=Z[Te];if(0>o(me,ve))Te<Oe&&0>o(Ie,me)?(Z[Ne]=Ie,Z[Te]=ve,Ne=Te):(Z[Ne]=me,Z[se]=ve,Ne=se);else if(Te<Oe&&0>o(Ie,ve))Z[Ne]=Ie,Z[Te]=ve,Ne=Te;else break e}}return ae}function o(Z,ae){var ve=Z.sortIndex-ae.sortIndex;return ve!==0?ve:Z.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],T=1,S=null,x=3,M=!1,Y=!1,Q=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function _e(Z){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Z)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function we(Z){if(Q=!1,_e(Z),!Y)if(n(g)!==null)Y=!0,be||(be=!0,H());else{var ae=n(y);ae!==null&&Pe(we,ae.startTime-Z)}}var be=!1,k=-1,O=5,j=-1;function L(){return V?!0:!(i.unstable_now()-j<O)}function U(){if(V=!1,be){var Z=i.unstable_now();j=Z;var ae=!0;try{e:{Y=!1,Q&&(Q=!1,W(k),k=-1),M=!0;var ve=x;try{t:{for(_e(Z),S=n(g);S!==null&&!(S.expirationTime>Z&&L());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,x=S.priorityLevel;var Oe=Ne(S.expirationTime<=Z);if(Z=i.unstable_now(),typeof Oe=="function"){S.callback=Oe,_e(Z),ae=!0;break t}S===n(g)&&s(g),_e(Z)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var D=n(y);D!==null&&Pe(we,D.startTime-Z),ae=!1}}break e}finally{S=null,x=ve,M=!1}ae=void 0}}finally{ae?H():be=!1}}}var H;if(typeof te=="function")H=function(){te(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,de=N.port2;N.port1.onmessage=U,H=function(){de.postMessage(null)}}else H=function(){F(U,0)};function Pe(Z,ae){k=F(function(){Z(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ve=x;x=ae;try{return Z()}finally{x=ve}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ve=x;x=Z;try{return ae()}finally{x=ve}},i.unstable_scheduleCallback=function(Z,ae,ve){var Ne=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ne+ve:Ne):ve=Ne,Z){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ve+Oe,Z={id:T++,callback:ae,priorityLevel:Z,startTime:ve,expirationTime:Oe,sortIndex:-1},ve>Ne?(Z.sortIndex=ve,e(y,Z),n(g)===null&&Z===n(y)&&(Q?(W(k),k=-1):Q=!0,Pe(we,ve-Ne))):(Z.sortIndex=Oe,e(g,Z),Y||M||(Y=!0,be||(be=!0,H()))),Z},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Z){var ae=x;return function(){var ve=x;x=ae;try{return Z.apply(this,arguments)}finally{x=ve}}}})(ag)),ag}var mE;function $1(){return mE||(mE=1,sg.exports=G1()),sg.exports}var og={exports:{}},Oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function Y1(){if(pE)return Oi;pE=1;var i=yy();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Oi.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},Oi.flushSync=function(g){var y=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=T,s.d.f()}},Oi.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Oi.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Oi.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:M}):T==="script"&&s.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Oi.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Oi.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Oi.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Oi.requestFormReset=function(g){s.d.r(g)},Oi.unstable_batchedUpdates=function(g,y){return g(y)},Oi.useFormState=function(g,y,T){return h.H.useFormState(g,y,T)},Oi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Oi.version="19.2.0",Oi}var gE;function Q1(){if(gE)return og.exports;gE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),og.exports=Y1(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function K1(){if(yE)return ph;yE=1;var i=$1(),e=yy(),n=Q1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,C=f.child;C;){if(C===a){E=!0,a=f,l=m;break}if(C===l){E=!0,l=f,a=m;break}C=C.sibling}if(!E){for(C=m.child;C;){if(C===a){E=!0,a=m,l=f;break}if(C===l){E=!0,l=m,a=f;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),te=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case F:return"Profiler";case V:return"StrictMode";case we:return"Suspense";case be:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case te:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case _e:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:de(t.type)||"Memo";case O:r=t._payload,t=t._init;try{return de(t(r))}catch{}}return null}var Pe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ne=[],Oe=-1;function D(t){return{current:t}}function se(t){0>Oe||(t.current=Ne[Oe],Ne[Oe]=null,Oe--)}function me(t,r){Oe++,Ne[Oe]=t.current,t.current=r}var Te=D(null),Ie=D(null),Le=D(null),Ve=D(null);function Pt(t,r){switch(me(Le,r),me(Ie,t),me(Te,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Ob(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Ob(r),t=Mb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(Te),me(Te,t)}function ge(){se(Te),se(Ie),se(Le)}function Ai(t){t.memoizedState!==null&&me(Ve,t);var r=Te.current,a=Mb(r,t.type);r!==a&&(me(Ie,t),me(Te,a))}function gr(t){Ie.current===t&&(se(Te),se(Ie)),Ve.current===t&&(se(Ve),ch._currentValue=ve)}var yr,Ur;function ot(t){if(yr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);yr=r&&r[1]||"",Ur=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+t+Ur}var Qi=!1;function Qt(t,r){if(!t||Qi)return"";Qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ee=ie}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ie){ee=ie}t.call(ue.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],C=m[1];if(E&&C){var P=E.split(`
`),J=C.split(`
`);for(f=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===P.length||f===J.length)for(l=P.length-1,f=J.length-1;1<=l&&0<=f&&P[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(P[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||P[l]!==J[f]){var oe=`
`+P[l].replace(" at new "," at ");return t.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",t.displayName)),oe}while(1<=l&&0<=f);break}}}finally{Qi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ot(a):""}function hi(t,r){switch(t.tag){case 26:case 27:case 5:return ot(t.type);case 16:return ot("Lazy");case 13:return t.child!==r&&r!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return Qt(t.type,!1);case 11:return Qt(t.type.render,!1);case 1:return Qt(t.type,!0);case 31:return ot("Activity");default:return""}}function Ns(t){try{var r="",a=null;do r+=hi(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var en=Object.prototype.hasOwnProperty,fn=i.unstable_scheduleCallback,zr=i.unstable_cancelCallback,hl=i.unstable_shouldYield,ca=i.unstable_requestPaint,Gn=i.unstable_now,Ki=i.unstable_getCurrentPriorityLevel,Ci=i.unstable_ImmediatePriority,Os=i.unstable_UserBlockingPriority,Br=i.unstable_NormalPriority,ha=i.unstable_LowPriority,_r=i.unstable_IdlePriority,Wi=i.log,vr=i.unstable_setDisableYieldValue,An=null,yn=null;function ti(t){if(typeof Wi=="function"&&vr(t),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(An,t)}catch{}}var Kt=Math.clz32?Math.clz32:to,fa=Math.log,qr=Math.LN2;function to(t){return t>>>=0,t===0?32:31-(fa(t)/qr|0)|0}var Vi=256,as=262144,Wt=4194304;function Nt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~m,l!==0?f=Nt(l):(E&=C,E!==0?f=Nt(E):a||(a=C&~t,a!==0&&(f=Nt(a))))):(C=l&~m,C!==0?f=Nt(C):E!==0?f=Nt(E):a||(a=l&~t,a!==0&&(f=Nt(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function $n(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Lt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(){var t=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),t}function Xi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function br(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Er(t,r,a,l,f,m){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,P=t.expirationTimes,J=t.hiddenUpdates;for(a=E&~a;0<a;){var oe=31-Kt(a),ue=1<<oe;C[oe]=0,P[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var ie=ee[oe];ie!==null&&(ie.lane&=-536870913)}a&=~ue}l!==0&&xi(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(E&~r))}function xi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function os(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Kt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Fr(t,r){var a=r&-r;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|r))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ms(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:nE(t.type))}function di(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var _n=Math.random().toString(36).slice(2),Bt="__reactFiber$"+_n,vn="__reactProps$"+_n,Ri="__reactContainer$"+_n,Qe="__reactEvents$"+_n,qt="__reactListeners$"+_n,bt="__reactHandles$"+_n,Et="__reactResources$"+_n,lt="__reactMarker$"+_n;function nn(t){delete t[Bt],delete t[vn],delete t[Qe],delete t[qt],delete t[bt]}function Ft(t){var r=t[Bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ri]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=zb(t);t!==null;){if(a=t[Bt])return a;t=zb(t)}return r}t=a,a=t.parentNode}return null}function Yn(t){if(t=t[Bt]||t[Ri]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function On(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ni(t){var r=t[Et];return r||(r=t[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(t){t[lt]=!0}var no=new Set,da={};function mi(t,r){wr(t,r),wr(t+"Capture",r)}function wr(t,r){for(da[t]=r,t=0;t<r.length;t++)no.add(r[t])}var ma=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},io={};function fl(t){return en.call(io,t)?!0:en.call(pa,t)?!1:ma.test(t)?io[t]=!0:(pa[t]=!0,!1)}function ga(t,r,a){if(fl(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Di(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function dn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ro(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,m.call(this,E)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Tt(t){if(!t._valueTracker){var r=ls(t)?"checked":"value";t._valueTracker=ro(t,r,""+t[r])}}function js(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ls(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function xn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rn=/[\n"\\]/g;function bn(t){return t.replace(Rn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Qn(t,r,a,l,f,m,E,C){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Cn(r)):t.value!==""+Cn(r)&&(t.value=""+Cn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?ya(t,E,Cn(r)):a!=null?ya(t,E,Cn(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Cn(C):t.removeAttribute("name")}function so(t,r,a,l,f,m,E,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Tt(t);return}a=a!=null?""+Cn(a):"",r=r!=null?""+Cn(r):a,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Tt(t)}function ya(t,r,a){r==="number"&&xn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Kn(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Cn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Hr(t,r,a){if(r!=null&&(r=""+Cn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Cn(a):""}function Sr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Cn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Tt(t)}function Dn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ao.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Gr(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&oo(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&oo(t,m,r[m])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ii=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(t){return ii.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mn(){}var Ps=null;function zi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,Zi=null;function Ar(t){var r=Yn(t);if(r&&(t=r.stateNode)){var a=t[vn]||null;e:switch(t=r.stateNode,r.type){case"input":if(Qn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[vn]||null;if(!f)throw Error(s(90));Qn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&js(l)}break e;case"textarea":Hr(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Kn(t,!!a.multiple,r,!1)}}}var _a=!1;function us(t,r,a){if(_a)return t(r,a);_a=!0;try{var l=t(r);return l}finally{if(_a=!1,(Ji!==null||Zi!==null)&&(Kf(),Ji&&(r=Ji,t=Zi,Zi=Ji=null,Ar(r),t)))for(r=0;r<t.length;r++)Ar(t[r])}}function er(t,r){var a=t.stateNode;if(a===null)return null;var l=a[vn]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(Wn)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){va=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{va=!1}var tr=null,Ls=null,cs=null;function ml(){if(cs)return cs;var t,r=Ls,a=r.length,l,f="value"in tr?tr.value:tr.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[m-l];l++);return cs=f.slice(t,1<l?1-l:void 0)}function $r(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function nr(){return!1}function In(t){function r(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hs:nr,this.isPropagationStopped=nr,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),r}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=In(Cr),fs=S({},Cr,{view:0,detail:0}),ds=In(fs),Yr,ba,xr,Rr=S({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(Yr=t.screenX-xr.screenX,ba=t.screenY-xr.screenY):ba=Yr=0,xr=t),Yr)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),pl=In(Rr),Vs=S({},Rr,{dataTransfer:0}),gl=In(Vs),yl=S({},fs,{relatedTarget:0}),Us=In(yl),uo=S({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),co=In(uo),Ea=S({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eu=In(Ea),tu=S({},Cr,{data:0}),Dr=In(tu),_l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ta={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=nu[t])?!!r[t]:!1}function Qr(){return iu}var ri=S({},fs,{key:function(t){if(t.key){var r=_l[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ta[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vl=In(ri),Kr=S({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ir=In(Kr),c=S({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),v=In(c),w=S({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=In(w),K=S({},Rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=In(K),ye=S({},Cr,{newState:0,oldState:0}),Ke=In(ye),mn=[9,13,27,32],rt=Wn&&"CompositionEvent"in window,wt=null;Wn&&"documentMode"in document&&(wt=document.documentMode);var rr=Wn&&"TextEvent"in window&&!wt,Bi=Wn&&(!rt||wt&&8<wt&&11>=wt),Nr=" ",Or=!1;function wa(t,r){switch(t){case"keyup":return mn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function Lm(t,r){switch(t){case"compositionend":return ho(r);case"keypress":return r.which!==32?null:(Or=!0,Nr);case"textInput":return t=r.data,t===Nr&&Or?null:t;default:return null}}function Vm(t,r){if(fo)return t==="compositionend"||!rt&&wa(t,r)?(t=ml(),cs=Ls=tr=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Um[t.type]:r==="textarea"}function pc(t,r,a,l){Ji?Zi?Zi.push(l):Zi=[l]:Ji=l,r=nd(r,"onChange"),0<r.length&&(a=new ir("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var mo=null,po=null;function zm(t){Cb(t,0)}function ru(t){var r=On(t);if(js(r))return t}function gc(t,r){if(t==="change")return r}var bl=!1;if(Wn){var yc;if(Wn){var _c="oninput"in document;if(!_c){var vc=document.createElement("div");vc.setAttribute("oninput","return;"),_c=typeof vc.oninput=="function"}yc=_c}else yc=!1;bl=yc&&(!document.documentMode||9<document.documentMode)}function ff(){mo&&(mo.detachEvent("onpropertychange",df),po=mo=null)}function df(t){if(t.propertyName==="value"&&ru(po)){var r=[];pc(r,po,t,zi(t)),us(zm,r)}}function mf(t,r,a){t==="focusin"?(ff(),mo=r,po=a,mo.attachEvent("onpropertychange",df)):t==="focusout"&&ff()}function pf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(po)}function gf(t,r){if(t==="click")return ru(r)}function su(t,r){if(t==="input"||t==="change")return ru(r)}function yf(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pi=typeof Object.is=="function"?Object.is:yf;function si(t,r){if(pi(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!en.call(r,f)||!pi(t[f],r[f]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vf(t,r){var a=_f(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_f(a)}}function bc(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?bc(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ec(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xn(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xn(t.document)}return r}function Tc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Bm=Wn&&"documentMode"in document&&11>=document.documentMode,go=null,wc=null,El=null,Sc=!1;function Ac(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sc||go==null||go!==xn(l)||(l=go,"selectionStart"in l&&Tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&si(El,l)||(El=l,l=nd(wc,"onSelect"),0<l.length&&(r=new ir("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=go)))}function zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Bs={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Cc={},bf={};Wn&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function qi(t){if(Cc[t])return Cc[t];if(!Bs[t])return t;var r=Bs[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in bf)return Cc[t]=r[a];return t}var Wr=qi("animationend"),xc=qi("animationiteration"),Ef=qi("animationstart"),Tf=qi("transitionrun"),wf=qi("transitionstart"),Sf=qi("transitioncancel"),Rc=qi("transitionend"),Af=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Mr(t,r){Af.set(t,r),mi(r,[t])}var Tl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fi=[],yo=0,Ic=0;function au(){for(var t=yo,r=Ic=yo=0;r<t;){var a=Fi[r];Fi[r++]=null;var l=Fi[r];Fi[r++]=null;var f=Fi[r];Fi[r++]=null;var m=Fi[r];if(Fi[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Oc(a,f,m)}}function ou(t,r,a,l){Fi[yo++]=t,Fi[yo++]=r,Fi[yo++]=a,Fi[yo++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nc(t,r,a,l){return ou(t,r,a,l),lu(t)}function gi(t,r){return ou(t,null,null,r),lu(t)}function Oc(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-Kt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function lu(t){if(50<ih)throw ih=0,Cp=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var _o={};function qm(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,r,a,l){return new qm(t,r,a,l)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ms(t,r){var a=t.alternate;return a===null?(a=Hi(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cf(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function uu(t,r,a,l,f,m){var E=0;if(l=t,typeof t=="function")Mc(t)&&(E=1);else if(typeof t=="string")E=I1(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Hi(31,a,r,f),t.elementType=j,t.lanes=m,t;case Q:return ps(a.children,f,m,r);case V:E=8,f|=24;break;case F:return t=Hi(12,a,r,f|2),t.elementType=F,t.lanes=m,t;case we:return t=Hi(13,a,r,f),t.elementType=we,t.lanes=m,t;case be:return t=Hi(19,a,r,f),t.elementType=be,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:E=10;break e;case W:E=9;break e;case _e:E=11;break e;case k:E=14;break e;case O:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Hi(E,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function ps(t,r,a,l){return t=Hi(7,t,l,r),t.lanes=a,t}function vo(t,r,a){return t=Hi(6,t,null,r),t.lanes=a,t}function xf(t){var r=Hi(18,null,null,0);return r.stateNode=t,r}function cu(t,r,a){return r=Hi(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var jc=new WeakMap;function ai(t,r){if(typeof t=="object"&&t!==null){var a=jc.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ns(r)},jc.set(t,r),r)}return{value:t,source:r,stack:Ns(r)}}var qs=[],Fs=0,hu=null,wl=0,ar=[],jn=0,Hs=null,Xr=1,Jr="";function gs(t,r){qs[Fs++]=wl,qs[Fs++]=hu,hu=t,wl=r}function Sl(t,r,a){ar[jn++]=Xr,ar[jn++]=Jr,ar[jn++]=Hs,Hs=t;var l=Xr;t=Jr;var f=32-Kt(l)-1;l&=~(1<<f),a+=1;var m=32-Kt(r)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Xr=1<<32-Kt(r)+f|a<<f|l,Jr=m+t}else Xr=1<<m|a<<f|l,Jr=t}function Al(t){t.return!==null&&(gs(t,1),Sl(t,1,0))}function kc(t){for(;t===hu;)hu=qs[--Fs],qs[Fs]=null,wl=qs[--Fs],qs[Fs]=null;for(;t===Hs;)Hs=ar[--jn],ar[jn]=null,Jr=ar[--jn],ar[jn]=null,Xr=ar[--jn],ar[jn]=null}function Pc(t,r){ar[jn++]=Xr,ar[jn++]=Jr,ar[jn++]=Hs,Xr=r.id,Jr=r.overflow,Hs=t}var Xn=null,St=null,nt=!1,ys=null,or=!1,Lc=Error(s(519));function Gs(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(ai(r,t)),Lc}function bo(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Bt]=t,r[vn]=l,a){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(a=0;a<sh.length;a++)at(sh[a],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),so(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),Sr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Ib(r.textContent,a)?(l.popover!=null&&(at("beforetoggle",r),at("toggle",r)),l.onScroll!=null&&at("scroll",r),l.onScrollEnd!=null&&at("scrollend",r),l.onClick!=null&&(r.onclick=Mn),r=!0):r=!1,r||Gs(t,!0)}function $s(t){for(Xn=t.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:Xn=Xn.return}}function Eo(t){if(t!==Xn)return!1;if(!nt)return $s(t),nt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bp(t.type,t.memoizedProps)),a=!a),a&&St&&Gs(t),$s(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));St=Ub(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));St=Ub(t)}else r===27?(r=St,ko(t.type)?(t=$p,$p=null,St=t):St=r):St=Xn?ts(t.stateNode.nextSibling):null;return!0}function Sa(){St=Xn=null,nt=!1}function Vc(){var t=ys;return t!==null&&(fr===null?fr=t:fr.push.apply(fr,t),ys=null),t}function Cl(t){ys===null?ys=[t]:ys.push(t)}var Uc=D(null),Aa=null,_s=null;function Ys(t,r,a){me(Uc,r._currentValue),r._currentValue=a}function Zr(t){t._currentValue=Uc.current,se(Uc)}function zc(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function fu(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var P=0;P<r.length;P++)if(C.context===r[P]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),zc(m.return,a,t),l||(E=null);break e}m=C.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),zc(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Qs(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=f.type;pi(f.pendingProps.value,E.value)||(t!==null?t.push(C):t=[C])}}else if(f===Ve.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ch):t=[ch])}f=f.return}t!==null&&fu(r,t,a,l),r.flags|=262144}function xl(t){for(t=t.firstContext;t!==null;){if(!pi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gi(t){Aa=t,_s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kn(t){return Bc(Aa,t)}function To(t,r){return Aa===null&&Gi(t),Bc(t,r)}function Bc(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},_s===null){if(t===null)throw Error(s(308));_s=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else _s=_s.next=r;return a}var qc=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Rf=i.unstable_scheduleCallback,Fc=i.unstable_NormalPriority,En={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vs(){return{controller:new qc,data:new Map,refCount:0}}function lr(t){t.refCount--,t.refCount===0&&Rf(Fc,function(){t.controller.abort()})}var Rl=null,Hc=0,wo=0,So=null;function Fm(t,r){if(Rl===null){var a=Rl=[];Hc=0,wo=Op(),So={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hc++,r.then(Df,Df),r}function Df(){if(--Hc===0&&Rl!==null){So!==null&&(So.status="fulfilled");var t=Rl;Rl=null,wo=0,So=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Hm(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var If=Z.S;Z.S=function(t,r){eb=Gn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Fm(t,r),If!==null&&If(t,r)};var Ks=D(null);function Ao(){var t=Ks.current;return t!==null?t:Yt.pooledCache}function Ca(t,r){r===null?me(Ks,Ks.current):me(Ks,r.pool)}function Nf(){var t=Ao();return t===null?null:{parent:En._currentValue,pool:t}}var Co=Error(s(460)),xa=Error(s(474)),A=Error(s(542)),d={then:function(){}};function b(t){return t=t.status,t==="fulfilled"||t==="rejected"}function R(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Mn,Mn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fe(t),t;default:if(typeof r.status=="string")r.then(Mn,Mn);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fe(t),t}throw G=r,Co}}function q(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(G=a,Co):a}}var G=null;function re(){if(G===null)throw Error(s(459));var t=G;return G=null,t}function fe(t){if(t===Co||t===A)throw Error(s(483))}var pe=null,Se=0;function Ce(t){var r=Se;return Se+=1,pe===null&&(pe=[]),R(pe,t,r)}function Ee(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function $e(t,r){throw r.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ue(t){function r($,B){if(t){var X=$.deletions;X===null?($.deletions=[B],$.flags|=16):X.push(B)}}function a($,B){if(!t)return null;for(;B!==null;)r($,B),B=B.sibling;return null}function l($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function f($,B){return $=ms($,B),$.index=0,$.sibling=null,$}function m($,B,X){return $.index=X,t?(X=$.alternate,X!==null?(X=X.index,X<B?($.flags|=67108866,B):X):($.flags|=67108866,B)):($.flags|=1048576,B)}function E($){return t&&$.alternate===null&&($.flags|=67108866),$}function C($,B,X,le){return B===null||B.tag!==6?(B=vo(X,$.mode,le),B.return=$,B):(B=f(B,X),B.return=$,B)}function P($,B,X,le){var Me=X.type;return Me===Q?oe($,B,X.props.children,le,X.key):B!==null&&(B.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&q(Me)===B.type)?(B=f(B,X.props),Ee(B,X),B.return=$,B):(B=uu(X.type,X.key,X.props,null,$.mode,le),Ee(B,X),B.return=$,B)}function J($,B,X,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=cu(X,$.mode,le),B.return=$,B):(B=f(B,X.children||[]),B.return=$,B)}function oe($,B,X,le,Me){return B===null||B.tag!==7?(B=ps(X,$.mode,le,Me),B.return=$,B):(B=f(B,X),B.return=$,B)}function ue($,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=vo(""+B,$.mode,X),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return X=uu(B.type,B.key,B.props,null,$.mode,X),Ee(X,B),X.return=$,X;case Y:return B=cu(B,$.mode,X),B.return=$,B;case O:return B=q(B),ue($,B,X)}if(Pe(B)||H(B))return B=ps(B,$.mode,X,null),B.return=$,B;if(typeof B.then=="function")return ue($,Ce(B),X);if(B.$$typeof===te)return ue($,To($,B),X);$e($,B)}return null}function ee($,B,X,le){var Me=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Me!==null?null:C($,B,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return X.key===Me?P($,B,X,le):null;case Y:return X.key===Me?J($,B,X,le):null;case O:return X=q(X),ee($,B,X,le)}if(Pe(X)||H(X))return Me!==null?null:oe($,B,X,le,null);if(typeof X.then=="function")return ee($,B,Ce(X),le);if(X.$$typeof===te)return ee($,B,To($,X),le);$e($,X)}return null}function ie($,B,X,le,Me){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(X)||null,C(B,$,""+le,Me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case M:return $=$.get(le.key===null?X:le.key)||null,P(B,$,le,Me);case Y:return $=$.get(le.key===null?X:le.key)||null,J(B,$,le,Me);case O:return le=q(le),ie($,B,X,le,Me)}if(Pe(le)||H(le))return $=$.get(X)||null,oe(B,$,le,Me,null);if(typeof le.then=="function")return ie($,B,X,Ce(le),Me);if(le.$$typeof===te)return ie($,B,X,To(B,le),Me);$e(B,le)}return null}function Re($,B,X,le){for(var Me=null,Ct=null,De=B,et=B=0,ct=null;De!==null&&et<X.length;et++){De.index>et?(ct=De,De=null):ct=De.sibling;var xt=ee($,De,X[et],le);if(xt===null){De===null&&(De=ct);break}t&&De&&xt.alternate===null&&r($,De),B=m(xt,B,et),Ct===null?Me=xt:Ct.sibling=xt,Ct=xt,De=ct}if(et===X.length)return a($,De),nt&&gs($,et),Me;if(De===null){for(;et<X.length;et++)De=ue($,X[et],le),De!==null&&(B=m(De,B,et),Ct===null?Me=De:Ct.sibling=De,Ct=De);return nt&&gs($,et),Me}for(De=l(De);et<X.length;et++)ct=ie(De,$,et,X[et],le),ct!==null&&(t&&ct.alternate!==null&&De.delete(ct.key===null?et:ct.key),B=m(ct,B,et),Ct===null?Me=ct:Ct.sibling=ct,Ct=ct);return t&&De.forEach(function(zo){return r($,zo)}),nt&&gs($,et),Me}function Be($,B,X,le){if(X==null)throw Error(s(151));for(var Me=null,Ct=null,De=B,et=B=0,ct=null,xt=X.next();De!==null&&!xt.done;et++,xt=X.next()){De.index>et?(ct=De,De=null):ct=De.sibling;var zo=ee($,De,xt.value,le);if(zo===null){De===null&&(De=ct);break}t&&De&&zo.alternate===null&&r($,De),B=m(zo,B,et),Ct===null?Me=zo:Ct.sibling=zo,Ct=zo,De=ct}if(xt.done)return a($,De),nt&&gs($,et),Me;if(De===null){for(;!xt.done;et++,xt=X.next())xt=ue($,xt.value,le),xt!==null&&(B=m(xt,B,et),Ct===null?Me=xt:Ct.sibling=xt,Ct=xt);return nt&&gs($,et),Me}for(De=l(De);!xt.done;et++,xt=X.next())xt=ie(De,$,et,xt.value,le),xt!==null&&(t&&xt.alternate!==null&&De.delete(xt.key===null?et:xt.key),B=m(xt,B,et),Ct===null?Me=xt:Ct.sibling=xt,Ct=xt);return t&&De.forEach(function(B1){return r($,B1)}),nt&&gs($,et),Me}function Gt($,B,X,le){if(typeof X=="object"&&X!==null&&X.type===Q&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case M:e:{for(var Me=X.key;B!==null;){if(B.key===Me){if(Me=X.type,Me===Q){if(B.tag===7){a($,B.sibling),le=f(B,X.props.children),le.return=$,$=le;break e}}else if(B.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&q(Me)===B.type){a($,B.sibling),le=f(B,X.props),Ee(le,X),le.return=$,$=le;break e}a($,B);break}else r($,B);B=B.sibling}X.type===Q?(le=ps(X.props.children,$.mode,le,X.key),le.return=$,$=le):(le=uu(X.type,X.key,X.props,null,$.mode,le),Ee(le,X),le.return=$,$=le)}return E($);case Y:e:{for(Me=X.key;B!==null;){if(B.key===Me)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){a($,B.sibling),le=f(B,X.children||[]),le.return=$,$=le;break e}else{a($,B);break}else r($,B);B=B.sibling}le=cu(X,$.mode,le),le.return=$,$=le}return E($);case O:return X=q(X),Gt($,B,X,le)}if(Pe(X))return Re($,B,X,le);if(H(X)){if(Me=H(X),typeof Me!="function")throw Error(s(150));return X=Me.call(X),Be($,B,X,le)}if(typeof X.then=="function")return Gt($,B,Ce(X),le);if(X.$$typeof===te)return Gt($,B,To($,X),le);$e($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(a($,B.sibling),le=f(B,X),le.return=$,$=le):(a($,B),le=vo(X,$.mode,le),le.return=$,$=le),E($)):a($,B)}return function($,B,X,le){try{Se=0;var Me=Gt($,B,X,le);return pe=null,Me}catch(De){if(De===Co||De===A)throw De;var Ct=Hi(29,De,null,$.mode);return Ct.lanes=le,Ct.return=$,Ct}finally{}}}var ze=Ue(!0),qe=Ue(!1),ke=!1;function At(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ge(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tt(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Dt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=lu(t),Oc(t,null,a),r}return ou(t,l,r,a),lu(t)}function Ye(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,os(t,a)}}function it(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var _t=!1;function gt(){if(_t){var t=So;if(t!==null)throw t}}function pt(t,r,a,l){_t=!1;var f=t.updateQueue;ke=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var P=C,J=P.next;P.next=null,E===null?m=J:E.next=J,E=P;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,C=oe.lastBaseUpdate,C!==E&&(C===null?oe.firstBaseUpdate=J:C.next=J,oe.lastBaseUpdate=P))}if(m!==null){var ue=f.baseState;E=0,oe=J=P=null,C=m;do{var ee=C.lane&-536870913,ie=ee!==C.lane;if(ie?(ut&ee)===ee:(l&ee)===ee){ee!==0&&ee===wo&&(_t=!0),oe!==null&&(oe=oe.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Re=t,Be=C;ee=r;var Gt=a;switch(Be.tag){case 1:if(Re=Be.payload,typeof Re=="function"){ue=Re.call(Gt,ue,ee);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Be.payload,ee=typeof Re=="function"?Re.call(Gt,ue,ee):Re,ee==null)break e;ue=S({},ue,ee);break e;case 2:ke=!0}}ee=C.callback,ee!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},oe===null?(J=oe=ie,P=ue):oe=oe.next=ie,E|=ee;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);oe===null&&(P=ue),f.baseState=P,f.firstBaseUpdate=J,f.lastBaseUpdate=oe,m===null&&(f.shared.lanes=0),Io|=E,t.lanes=E,t.memoizedState=ue}}function rn(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ii(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rn(a[t],r)}var oi=D(null),Pn=D(0);function $i(t,r){t=Va,me(Pn,t),me(oi,r),Va=t|r.baseLanes}function Ni(){me(Pn,Va),me(oi,oi.current)}function Xt(){Va=Pn.current,se(oi),se(Pn)}var sn=D(null),pn=null;function Yi(t){var r=t.alternate;me(jt,jt.current&1),me(sn,t),pn===null&&(r===null||oi.current!==null||r.memoizedState!==null)&&(pn=t)}function Tn(t){me(jt,jt.current),me(sn,t),pn===null&&(pn=t)}function Mt(t){t.tag===22?(me(jt,jt.current),me(sn,t),pn===null&&(pn=t)):an()}function an(){me(jt,jt.current),me(sn,sn.current)}function Jt(t){se(sn),pn===t&&(pn=null),se(jt)}var jt=D(0);function Ra(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hp(a)||Gp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var es=0,We=null,vt=null,wn=null,du=!1,Ws=!1,Da=!1,Dl=0,Il=0,Ia=null,Of=0;function on(){throw Error(s(321))}function Gc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pi(t[a],r[a]))return!1;return!0}function bs(t,r,a,l,f,m){return es=m,We=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=t===null||t.memoizedState===null?hv:tp,Da=!1,m=a(l,f),Da=!1,Ws&&(m=$c(r,a,l,f)),Nl(t),m}function Nl(t){Z.H=Qc;var r=vt!==null&&vt.next!==null;if(es=0,wn=vt=We=null,du=!1,Il=0,Ia=null,r)throw Error(s(300));t===null||Ln||(t=t.dependencies,t!==null&&xl(t)&&(Ln=!0))}function $c(t,r,a,l){We=t;var f=0;do{if(Ws&&(Ia=null),Il=0,Ws=!1,25<=f)throw Error(s(301));if(f+=1,wn=vt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=fv,m=r(a,l)}while(Ws);return m}function Mf(){var t=Z.H,r=t.useState()[0];return r=typeof r.then=="function"?Ml(r):r,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(We.flags|=1024),r}function Ol(){var t=Dl!==0;return Dl=0,t}function mu(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function pu(t){if(du){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}du=!1}es=0,wn=vt=We=null,Ws=!1,Il=Dl=0,Ia=null}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?We.memoizedState=wn=t:wn=wn.next=t,wn}function ln(){if(vt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var r=wn===null?We.memoizedState:wn.next;if(r!==null)wn=r,vt=t;else{if(t===null)throw We.alternate===null?Error(s(467)):Error(s(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},wn===null?We.memoizedState=wn=t:wn=wn.next=t}return wn}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var r=Il;return Il+=1,Ia===null&&(Ia=[]),t=R(Ia,t,r),r=We,(wn===null?r.memoizedState:wn.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?hv:tp),t}function xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===te)return kn(t)}throw Error(s(438,String(t)))}function yu(t){var r=null,a=We.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=We.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gu(),We.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function Na(t,r){return typeof r=="function"?r(t):r}function jf(t){var r=ln();return Gm(r,vt,t)}function Gm(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var C=E=null,P=null,J=r,oe=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(ut&ue)===ue:(es&ue)===ue){var ee=J.revertLane;if(ee===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===wo&&(oe=!0);else if((es&ee)===ee){J=J.next,ee===wo&&(oe=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(C=P=ue,E=m):P=P.next=ue,We.lanes|=ee,Io|=ee;ue=J.action,Da&&a(m,ue),m=J.hasEagerState?J.eagerState:a(m,ue)}else ee={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(C=P=ee,E=m):P=P.next=ee,We.lanes|=ue,Io|=ue;J=J.next}while(J!==null&&J!==r);if(P===null?E=m:P.next=C,!pi(m,t.memoizedState)&&(Ln=!0,oe&&(a=So,a!==null)))throw a;t.memoizedState=m,t.baseState=E,t.baseQueue=P,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $m(t){var r=ln(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=t(m,E.action),E=E.next;while(E!==f);pi(m,r.memoizedState)||(Ln=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function N_(t,r,a){var l=We,f=ln(),m=nt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pi((vt||f).memoizedState,a);if(E&&(f.memoizedState=a,Ln=!0),f=f.queue,Km(j_.bind(null,l,f,t),[t]),f.getSnapshot!==r||E||wn!==null&&wn.memoizedState.tag&1){if(l.flags|=2048,_u(9,{destroy:void 0},M_.bind(null,l,f,a,r),null),Yt===null)throw Error(s(349));m||(es&127)!==0||O_(l,r,a)}return a}function O_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=We.updateQueue,r===null?(r=gu(),We.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function M_(t,r,a,l){r.value=a,r.getSnapshot=l,k_(r)&&P_(t)}function j_(t,r,a){return a(function(){k_(r)&&P_(t)})}function k_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pi(t,a)}catch{return!0}}function P_(t){var r=gi(t,2);r!==null&&dr(r,t,2)}function Ym(t){var r=li();if(typeof t=="function"){var a=t;if(t=a(),Da){ti(!0);try{a()}finally{ti(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},r}function L_(t,r,a,l){return t.baseState=a,Gm(t,vt,typeof l=="function"?l:Na)}function MA(t,r,a,l,f){if(Lf(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Z.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,V_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function V_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=Z.T,E={};Z.T=E;try{var C=a(f,l),P=Z.S;P!==null&&P(E,C),U_(t,r,C)}catch(J){Qm(t,r,J)}finally{m!==null&&E.types!==null&&(m.types=E.types),Z.T=m}}else try{m=a(f,l),U_(t,r,m)}catch(J){Qm(t,r,J)}}function U_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){z_(t,r,l)},function(l){return Qm(t,r,l)}):z_(t,r,a)}function z_(t,r,a){r.status="fulfilled",r.value=a,B_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,V_(t,a)))}function Qm(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,B_(r),r=r.next;while(r!==l)}t.action=null}function B_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function q_(t,r){return r}function F_(t,r){if(nt){var a=Yt.formState;if(a!==null){e:{var l=We;if(nt){if(St){t:{for(var f=St,m=or;f.nodeType!==8;){if(!m){f=null;break t}if(f=ts(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=ts(f.nextSibling),l=f.data==="F!";break e}}Gs(l)}l=!1}l&&(r=a[0])}}return a=li(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q_,lastRenderedState:r},a.queue=l,a=lv.bind(null,We,l),l.dispatch=a,l=Ym(!1),m=ep.bind(null,We,!1,l.queue),l=li(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=MA.bind(null,We,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function H_(t){var r=ln();return G_(r,vt,t)}function G_(t,r,a){if(r=Gm(t,r,q_)[0],t=jf(Na)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ml(r)}catch(E){throw E===Co?A:E}else l=r;r=ln();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(We.flags|=2048,_u(9,{destroy:void 0},jA.bind(null,f,a),null)),[l,m,t]}function jA(t,r){t.action=r}function $_(t){var r=ln(),a=vt;if(a!==null)return G_(r,a,t);ln(),r=r.memoizedState,a=ln();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function _u(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=We.updateQueue,r===null&&(r=gu(),We.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Y_(){return ln().memoizedState}function kf(t,r,a,l){var f=li();We.flags|=t,f.memoizedState=_u(1|r,{destroy:void 0},a,l===void 0?null:l)}function Pf(t,r,a,l){var f=ln();l=l===void 0?null:l;var m=f.memoizedState.inst;vt!==null&&l!==null&&Gc(l,vt.memoizedState.deps)?f.memoizedState=_u(r,m,a,l):(We.flags|=t,f.memoizedState=_u(1|r,m,a,l))}function Q_(t,r){kf(8390656,8,t,r)}function Km(t,r){Pf(2048,8,t,r)}function kA(t){We.flags|=4;var r=We.updateQueue;if(r===null)r=gu(),We.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function K_(t){var r=ln().memoizedState;return kA({ref:r,nextImpl:t}),function(){if((Dt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function W_(t,r){return Pf(4,2,t,r)}function X_(t,r){return Pf(4,4,t,r)}function J_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Z_(t,r,a){a=a!=null?a.concat([t]):null,Pf(4,4,J_.bind(null,r,t),a)}function Wm(){}function ev(t,r){var a=ln();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Gc(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function tv(t,r){var a=ln();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Gc(r,l[1]))return l[0];if(l=t(),Da){ti(!0);try{t()}finally{ti(!1)}}return a.memoizedState=[l,r],l}function Xm(t,r,a){return a===void 0||(es&1073741824)!==0&&(ut&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=nb(),We.lanes|=t,Io|=t,a)}function nv(t,r,a,l){return pi(a,r)?a:oi.current!==null?(t=Xm(t,a,l),pi(t,r)||(Ln=!0),t):(es&42)===0||(es&1073741824)!==0&&(ut&261930)===0?(Ln=!0,t.memoizedState=a):(t=nb(),We.lanes|=t,Io|=t,r)}function iv(t,r,a,l,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var E=Z.T,C={};Z.T=C,ep(t,!1,r,a);try{var P=f(),J=Z.S;if(J!==null&&J(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var oe=Hm(P,l);Yc(t,r,oe,Pr(t))}else Yc(t,r,l,Pr(t))}catch(ue){Yc(t,r,{then:function(){},status:"rejected",reason:ue},Pr())}finally{ae.p=m,E!==null&&C.types!==null&&(E.types=C.types),Z.T=E}}function PA(){}function Jm(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=rv(t).queue;iv(t,f,r,ve,a===null?PA:function(){return sv(t),a(l)})}function rv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:ve},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function sv(t){var r=rv(t);r.next===null&&(r=t.alternate.memoizedState),Yc(t,r.next.queue,{},Pr())}function Zm(){return kn(ch)}function av(){return ln().memoizedState}function ov(){return ln().memoizedState}function LA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Pr();t=Ge(a);var l=tt(r,t,a);l!==null&&(dr(l,r,a),Ye(l,r,a)),r={cache:vs()},t.payload=r;return}r=r.return}}function VA(t,r,a){var l=Pr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lf(t)?uv(r,a):(a=Nc(t,r,a,l),a!==null&&(dr(a,t,l),cv(a,r,l)))}function lv(t,r,a){var l=Pr();Yc(t,r,a,l)}function Yc(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lf(t))uv(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,C=m(E,a);if(f.hasEagerState=!0,f.eagerState=C,pi(C,E))return ou(t,r,f,0),Yt===null&&au(),!1}catch{}finally{}if(a=Nc(t,r,f,l),a!==null)return dr(a,t,l),cv(a,r,l),!0}return!1}function ep(t,r,a,l){if(l={lane:2,revertLane:Op(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lf(t)){if(r)throw Error(s(479))}else r=Nc(t,a,l,2),r!==null&&dr(r,t,2)}function Lf(t){var r=t.alternate;return t===We||r!==null&&r===We}function uv(t,r){Ws=du=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function cv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,os(t,a)}}var Qc={readContext:kn,use:xo,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Qc.useEffectEvent=on;var hv={readContext:kn,use:xo,useCallback:function(t,r){return li().memoizedState=[t,r===void 0?null:r],t},useContext:kn,useEffect:Q_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,kf(4194308,4,J_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return kf(4194308,4,t,r)},useInsertionEffect:function(t,r){kf(4,2,t,r)},useMemo:function(t,r){var a=li();r=r===void 0?null:r;var l=t();if(Da){ti(!0);try{t()}finally{ti(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=li();if(a!==void 0){var f=a(r);if(Da){ti(!0);try{a(r)}finally{ti(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=VA.bind(null,We,t),[l.memoizedState,t]},useRef:function(t){var r=li();return t={current:t},r.memoizedState=t},useState:function(t){t=Ym(t);var r=t.queue,a=lv.bind(null,We,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Wm,useDeferredValue:function(t,r){var a=li();return Xm(a,t,r)},useTransition:function(){var t=Ym(!1);return t=iv.bind(null,We,t.queue,!0,!1),li().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=We,f=li();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Yt===null)throw Error(s(349));(ut&127)!==0||O_(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Q_(j_.bind(null,l,m,t),[t]),l.flags|=2048,_u(9,{destroy:void 0},M_.bind(null,l,m,a,r),null),a},useId:function(){var t=li(),r=Yt.identifierPrefix;if(nt){var a=Jr,l=Xr;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Dl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Of++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Zm,useFormState:F_,useActionState:F_,useOptimistic:function(t){var r=li();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ep.bind(null,We,!0,a),a.dispatch=r,[t,r]},useMemoCache:yu,useCacheRefresh:function(){return li().memoizedState=LA.bind(null,We)},useEffectEvent:function(t){var r=li(),a={impl:t};return r.memoizedState=a,function(){if((Dt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},tp={readContext:kn,use:xo,useCallback:ev,useContext:kn,useEffect:Km,useImperativeHandle:Z_,useInsertionEffect:W_,useLayoutEffect:X_,useMemo:tv,useReducer:jf,useRef:Y_,useState:function(){return jf(Na)},useDebugValue:Wm,useDeferredValue:function(t,r){var a=ln();return nv(a,vt.memoizedState,t,r)},useTransition:function(){var t=jf(Na)[0],r=ln().memoizedState;return[typeof t=="boolean"?t:Ml(t),r]},useSyncExternalStore:N_,useId:av,useHostTransitionStatus:Zm,useFormState:H_,useActionState:H_,useOptimistic:function(t,r){var a=ln();return L_(a,vt,t,r)},useMemoCache:yu,useCacheRefresh:ov};tp.useEffectEvent=K_;var fv={readContext:kn,use:xo,useCallback:ev,useContext:kn,useEffect:Km,useImperativeHandle:Z_,useInsertionEffect:W_,useLayoutEffect:X_,useMemo:tv,useReducer:$m,useRef:Y_,useState:function(){return $m(Na)},useDebugValue:Wm,useDeferredValue:function(t,r){var a=ln();return vt===null?Xm(a,t,r):nv(a,vt.memoizedState,t,r)},useTransition:function(){var t=$m(Na)[0],r=ln().memoizedState;return[typeof t=="boolean"?t:Ml(t),r]},useSyncExternalStore:N_,useId:av,useHostTransitionStatus:Zm,useFormState:$_,useActionState:$_,useOptimistic:function(t,r){var a=ln();return vt!==null?L_(a,vt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yu,useCacheRefresh:ov};fv.useEffectEvent=K_;function np(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ip={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Pr(),f=Ge(l);f.payload=r,a!=null&&(f.callback=a),r=tt(t,f,l),r!==null&&(dr(r,t,l),Ye(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Pr(),f=Ge(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=tt(t,f,l),r!==null&&(dr(r,t,l),Ye(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Pr(),l=Ge(a);l.tag=2,r!=null&&(l.callback=r),r=tt(t,l,a),r!==null&&(dr(r,t,a),Ye(r,t,a))}};function dv(t,r,a,l,f,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!si(a,l)||!si(f,m):!0}function mv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ip.enqueueReplaceState(r,r.state,null)}function jl(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function pv(t){Tl(t)}function gv(t){console.error(t)}function yv(t){Tl(t)}function Vf(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function _v(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rp(t,r,a){return a=Ge(a),a.tag=3,a.payload={element:null},a.callback=function(){Vf(t,r)},a}function vv(t){return t=Ge(t),t.tag=3,t}function bv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){_v(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){_v(r,a,l),typeof f!="function"&&(No===null?No=new Set([this]):No.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function UA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Qs(r,a,f,!0),a=sn.current,a!==null){switch(a.tag){case 31:case 13:return pn===null?Wf():a.alternate===null&&Sn===0&&(Sn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Dp(t,l,f)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Dp(t,l,f)),!1}throw Error(s(435,a.tag))}return Dp(t,l,f),Wf(),!1}if(nt)return r=sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Lc&&(t=Error(s(422),{cause:l}),Cl(ai(t,a)))):(l!==Lc&&(r=Error(s(423),{cause:l}),Cl(ai(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ai(l,a),f=rp(t.stateNode,l,f),it(t,f),Sn!==4&&(Sn=2)),!1;var m=Error(s(520),{cause:l});if(m=ai(m,a),nh===null?nh=[m]:nh.push(m),Sn!==4&&(Sn=2),r===null)return!0;l=ai(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=rp(a.stateNode,l,t),it(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(No===null||!No.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vv(f),bv(f,t,a,l),it(a,f),!1}a=a.return}while(a!==null);return!1}var sp=Error(s(461)),Ln=!1;function yi(t,r,a,l){r.child=t===null?qe(r,null,a,l):ze(r,t.child,a,l)}function Ev(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var C in l)C!=="ref"&&(E[C]=l[C])}else E=l;return Gi(r),l=bs(t,r,a,E,m,f),C=Ol(),t!==null&&!Ln?(mu(t,r,f),Oa(t,r,f)):(nt&&C&&Al(r),r.flags|=1,yi(t,r,l,f),r.child)}function Tv(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Mc(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,wv(t,r,m,l,f)):(t=uu(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!dp(t,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:si,a(E,l)&&t.ref===r.ref)return Oa(t,r,f)}return r.flags|=1,t=ms(m,l),t.ref=r.ref,t.return=r,r.child=t}function wv(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(si(m,l)&&t.ref===r.ref)if(Ln=!1,r.pendingProps=l=m,dp(t,f))(t.flags&131072)!==0&&(Ln=!0);else return r.lanes=t.lanes,Oa(t,r,f)}return ap(t,r,a,l,f)}function Sv(t,r,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return Av(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ca(r,m!==null?m.cachePool:null),m!==null?$i(r,m):Ni(),Mt(r);else return l=r.lanes=536870912,Av(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ca(r,m.cachePool),$i(r,m),an(),r.memoizedState=null):(t!==null&&Ca(r,null),Ni(),an());return yi(t,r,f,a),r.child}function Kc(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Av(t,r,a,l,f){var m=Ao();return m=m===null?null:{parent:En._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ca(r,null),Ni(),Mt(r),t!==null&&Qs(t,r,l,!0),r.childLanes=f,null}function Uf(t,r){return r=Bf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Cv(t,r,a){return ze(r,t.child,null,a),t=Uf(r,r.pendingProps),t.flags|=2,Jt(r),r.memoizedState=null,t}function zA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(nt){if(l.mode==="hidden")return t=Uf(r,l),r.lanes=536870912,Kc(null,t);if(Tn(r),(t=St)?(t=Vb(t,or),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},a=xf(t),a.return=r,r.child=a,Xn=r,St=null)):t=null,t===null)throw Gs(r);return r.lanes=536870912,null}return Uf(r,l)}var m=t.memoizedState;if(m!==null){var E=m.dehydrated;if(Tn(r),f)if(r.flags&256)r.flags&=-257,r=Cv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ln||Qs(t,r,a,!1),f=(a&t.childLanes)!==0,Ln||f){if(l=Yt,l!==null&&(E=Fr(l,a),E!==0&&E!==m.retryLane))throw m.retryLane=E,gi(t,E),dr(l,t,E),sp;Wf(),r=Cv(t,r,a)}else t=m.treeContext,St=ts(E.nextSibling),Xn=r,nt=!0,ys=null,or=!1,t!==null&&Pc(r,t),r=Uf(r,l),r.flags|=4096;return r}return t=ms(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function zf(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ap(t,r,a,l,f){return Gi(r),a=bs(t,r,a,l,void 0,f),l=Ol(),t!==null&&!Ln?(mu(t,r,f),Oa(t,r,f)):(nt&&l&&Al(r),r.flags|=1,yi(t,r,a,f),r.child)}function xv(t,r,a,l,f,m){return Gi(r),r.updateQueue=null,a=$c(r,l,a,f),Nl(t),l=Ol(),t!==null&&!Ln?(mu(t,r,m),Oa(t,r,m)):(nt&&l&&Al(r),r.flags|=1,yi(t,r,a,m),r.child)}function Rv(t,r,a,l,f){if(Gi(r),r.stateNode===null){var m=_o,E=a.contextType;typeof E=="object"&&E!==null&&(m=kn(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ip,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},At(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?kn(E):_o,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(np(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&ip.enqueueReplaceState(m,m.state,null),pt(r,l,m,f),gt(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var C=r.memoizedProps,P=jl(a,C);m.props=P;var J=m.context,oe=a.contextType;E=_o,typeof oe=="object"&&oe!==null&&(E=kn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||J!==E)&&mv(r,m,l,E),ke=!1;var ee=r.memoizedState;m.state=ee,pt(r,l,m,f),gt(),J=r.memoizedState,C||ee!==J||ke?(typeof ue=="function"&&(np(r,a,ue,l),J=r.memoizedState),(P=ke||dv(r,a,P,l,ee,J,E))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=J),m.props=l,m.state=J,m.context=E,l=P):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Ot(t,r),E=r.memoizedProps,oe=jl(a,E),m.props=oe,ue=r.pendingProps,ee=m.context,J=a.contextType,P=_o,typeof J=="object"&&J!==null&&(P=kn(J)),C=a.getDerivedStateFromProps,(J=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ue||ee!==P)&&mv(r,m,l,P),ke=!1,ee=r.memoizedState,m.state=ee,pt(r,l,m,f),gt();var ie=r.memoizedState;E!==ue||ee!==ie||ke||t!==null&&t.dependencies!==null&&xl(t.dependencies)?(typeof C=="function"&&(np(r,a,C,l),ie=r.memoizedState),(oe=ke||dv(r,a,oe,l,ee,ie,P)||t!==null&&t.dependencies!==null&&xl(t.dependencies))?(J||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ie,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ie,P)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),m.props=l,m.state=ie,m.context=P,l=oe):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,zf(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=ze(r,t.child,null,f),r.child=ze(r,null,a,f)):yi(t,r,a,f),r.memoizedState=m.state,t=r.child):t=Oa(t,r,f),t}function Dv(t,r,a,l){return Sa(),r.flags|=256,yi(t,r,a,l),r.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(t){return{baseLanes:t,cachePool:Nf()}}function up(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kr),t}function Iv(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(nt){if(f?Yi(r):an(),(t=St)?(t=Vb(t,or),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},a=xf(t),a.return=r,r.child=a,Xn=r,St=null)):t=null,t===null)throw Gs(r);return Gp(t)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(an(),f=r.mode,C=Bf({mode:"hidden",children:C},f),l=ps(l,f,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=lp(a),l.childLanes=up(t,E,a),r.memoizedState=op,Kc(null,l)):(Yi(r),cp(r,C))}var P=t.memoizedState;if(P!==null&&(C=P.dehydrated,C!==null)){if(m)r.flags&256?(Yi(r),r.flags&=-257,r=hp(t,r,a)):r.memoizedState!==null?(an(),r.child=t.child,r.flags|=128,r=null):(an(),C=l.fallback,f=r.mode,l=Bf({mode:"visible",children:l.children},f),C=ps(C,f,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,ze(r,t.child,null,a),l=r.child,l.memoizedState=lp(a),l.childLanes=up(t,E,a),r.memoizedState=op,r=Kc(null,l));else if(Yi(r),Gp(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var J=E.dgst;E=J,l=Error(s(419)),l.stack="",l.digest=E,Cl({value:l,source:null,stack:null}),r=hp(t,r,a)}else if(Ln||Qs(t,r,a,!1),E=(a&t.childLanes)!==0,Ln||E){if(E=Yt,E!==null&&(l=Fr(E,a),l!==0&&l!==P.retryLane))throw P.retryLane=l,gi(t,l),dr(E,t,l),sp;Hp(C)||Wf(),r=hp(t,r,a)}else Hp(C)?(r.flags|=192,r.child=t.child,r=null):(t=P.treeContext,St=ts(C.nextSibling),Xn=r,nt=!0,ys=null,or=!1,t!==null&&Pc(r,t),r=cp(r,l.children),r.flags|=4096);return r}return f?(an(),C=l.fallback,f=r.mode,P=t.child,J=P.sibling,l=ms(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,J!==null?C=ms(J,C):(C=ps(C,f,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,Kc(null,l),l=r.child,C=t.child.memoizedState,C===null?C=lp(a):(f=C.cachePool,f!==null?(P=En._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=Nf(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=up(t,E,a),r.memoizedState=op,Kc(t.child,l)):(Yi(r),a=t.child,t=a.sibling,a=ms(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function cp(t,r){return r=Bf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Bf(t,r){return t=Hi(22,t,null,r),t.lanes=0,t}function hp(t,r,a){return ze(r,t.child,null,a),t=cp(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Nv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),zc(t.return,r,a)}function fp(t,r,a,l,f,m){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=m)}function Ov(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var E=jt.current,C=(E&2)!==0;if(C?(E=E&1|2,r.flags|=128):E&=1,me(jt,E),yi(t,r,l,a),l=nt?wl:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nv(t,a,r);else if(t.tag===19)Nv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Ra(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),fp(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ra(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}fp(r,!0,a,null,m,l);break;case"together":fp(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Oa(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Io|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Qs(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ms(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ms(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function dp(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&xl(t)))}function BA(t,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),Ys(r,En,t.memoizedState.cache),Sa();break;case 27:case 5:Ai(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:Ys(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Tn(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Iv(t,r,a):(Yi(r),t=Oa(t,r,a),t!==null?t.sibling:null);Yi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Qs(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Ov(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(jt,jt.current),l)break;return null;case 22:return r.lanes=0,Sv(t,r,a,r.pendingProps);case 24:Ys(r,En,t.memoizedState.cache)}return Oa(t,r,a)}function Mv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ln=!0;else{if(!dp(t,a)&&(r.flags&128)===0)return Ln=!1,BA(t,r,a);Ln=(t.flags&131072)!==0}else Ln=!1,nt&&(r.flags&1048576)!==0&&Sl(r,wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=q(r.elementType),r.type=t,typeof t=="function")Mc(t)?(l=jl(t,l),r.tag=1,r=Rv(null,r,t,l,a)):(r.tag=0,r=ap(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===_e){r.tag=11,r=Ev(null,r,t,l,a);break e}else if(f===k){r.tag=14,r=Tv(null,r,t,l,a);break e}}throw r=de(t)||t,Error(s(306,r,""))}}return r;case 0:return ap(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=jl(l,r.pendingProps),Rv(t,r,l,f,a);case 3:e:{if(Pt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Ot(t,r),pt(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Ys(r,En,l),l!==m.cache&&fu(r,[En],a,!0),gt(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Dv(t,r,l,a);break e}else if(l!==f){f=ai(Error(s(424)),r),Cl(f),r=Dv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ts(t.firstChild),Xn=r,nt=!0,ys=null,or=!0,a=qe(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sa(),l===f){r=Oa(t,r,a);break e}yi(t,r,l,a)}r=r.child}return r;case 26:return zf(t,r),t===null?(a=Hb(r.type,null,r.pendingProps,null))?r.memoizedState=a:nt||(a=r.type,t=r.pendingProps,l=id(Le.current).createElement(a),l[Bt]=r,l[vn]=t,_i(l,a,t),$t(l),r.stateNode=l):r.memoizedState=Hb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ai(r),t===null&&nt&&(l=r.stateNode=Bb(r.type,r.pendingProps,Le.current),Xn=r,or=!0,f=St,ko(r.type)?($p=f,St=ts(l.firstChild)):St=f),yi(t,r,r.pendingProps.children,a),zf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&nt&&((f=l=St)&&(l=y1(l,r.type,r.pendingProps,or),l!==null?(r.stateNode=l,Xn=r,St=ts(l.firstChild),or=!1,f=!0):f=!1),f||Gs(r)),Ai(r),f=r.type,m=r.pendingProps,E=t!==null?t.memoizedProps:null,l=m.children,Bp(f,m)?l=null:E!==null&&Bp(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=bs(t,r,Mf,null,null,a),ch._currentValue=f),zf(t,r),yi(t,r,l,a),r.child;case 6:return t===null&&nt&&((t=a=St)&&(a=_1(a,r.pendingProps,or),a!==null?(r.stateNode=a,Xn=r,St=null,t=!0):t=!1),t||Gs(r)),null;case 13:return Iv(t,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ze(r,null,l,a):yi(t,r,l,a),r.child;case 11:return Ev(t,r,r.type,r.pendingProps,a);case 7:return yi(t,r,r.pendingProps,a),r.child;case 8:return yi(t,r,r.pendingProps.children,a),r.child;case 12:return yi(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ys(r,r.type,l.value),yi(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Gi(r),f=kn(f),l=l(f),r.flags|=1,yi(t,r,l,a),r.child;case 14:return Tv(t,r,r.type,r.pendingProps,a);case 15:return wv(t,r,r.type,r.pendingProps,a);case 19:return Ov(t,r,a);case 31:return zA(t,r,a);case 22:return Sv(t,r,a,r.pendingProps);case 24:return Gi(r),l=kn(En),t===null?(f=Ao(),f===null&&(f=Yt,m=vs(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},At(r),Ys(r,En,f)):((t.lanes&a)!==0&&(Ot(t,r),pt(r,null,null,a),gt()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ys(r,En,l)):(l=m.cache,Ys(r,En,l),l!==f.cache&&fu(r,[En],a,!0))),yi(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ma(t){t.flags|=4}function mp(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ab())t.flags|=8192;else throw G=d,xa}else t.flags&=-16777217}function jv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kb(r))if(ab())t.flags|=8192;else throw G=d,xa}function qf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?fi():536870912,t.lanes|=r,Tu|=r)}function Wc(t,r){if(!nt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tn(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function qA(t,r,a){var l=r.pendingProps;switch(kc(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(r),null;case 1:return tn(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zr(En),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Eo(r)?Ma(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vc())),tn(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(Ma(r),m!==null?(tn(r),jv(r,m)):(tn(r),mp(r,f,null,l,a))):m?m!==t.memoizedState?(Ma(r),tn(r),jv(r,m)):(tn(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ma(r),tn(r),mp(r,f,t,l,a)),null;case 27:if(gr(r),a=Le.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ma(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tn(r),null}t=Te.current,Eo(r)?bo(r):(t=Bb(f,l,a),r.stateNode=t,Ma(r))}return tn(r),null;case 5:if(gr(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ma(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tn(r),null}if(m=Te.current,Eo(r))bo(r);else{var E=id(Le.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}m[Bt]=r,m[vn]=l;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=m;e:switch(_i(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ma(r)}}return tn(r),mp(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ma(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Le.current,Eo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Xn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ib(t.nodeValue,a)),t||Gs(r,!0)}else t=id(t).createTextNode(l),t[Bt]=r,r.stateNode=t}return tn(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Eo(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Bt]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tn(r),t=!1}else a=Vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Jt(r),r):(Jt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return tn(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Eo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tn(r),f=!1}else f=Vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Jt(r),r):(Jt(r),null)}return Jt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),qf(r,r.updateQueue),tn(r),null);case 4:return ge(),t===null&&Pp(r.stateNode.containerInfo),tn(r),null;case 10:return Zr(r.type),tn(r),null;case 19:if(se(jt),l=r.memoizedState,l===null)return tn(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Wc(l,!1);else{if(Sn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ra(t),m!==null){for(r.flags|=128,Wc(l,!1),t=m.updateQueue,r.updateQueue=t,qf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Cf(a,t),a=a.sibling;return me(jt,jt.current&1|2),nt&&gs(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Gn()>Yf&&(r.flags|=128,f=!0,Wc(l,!1),r.lanes=4194304)}else{if(!f)if(t=Ra(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,qf(r,t),Wc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!nt)return tn(r),null}else 2*Gn()-l.renderingStartTime>Yf&&a!==536870912&&(r.flags|=128,f=!0,Wc(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gn(),t.sibling=null,a=jt.current,me(jt,f?a&1|2:a&1),nt&&gs(r,l.treeForkCount),t):(tn(r),null);case 22:case 23:return Jt(r),Xt(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(tn(r),r.subtreeFlags&6&&(r.flags|=8192)):tn(r),a=r.updateQueue,a!==null&&qf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&se(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zr(En),tn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FA(t,r){switch(kc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Zr(En),ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gr(r),null;case 31:if(r.memoizedState!==null){if(Jt(r),r.alternate===null)throw Error(s(340));Sa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Jt(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Sa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return se(jt),null;case 4:return ge(),null;case 10:return Zr(r.type),null;case 22:case 23:return Jt(r),Xt(),t!==null&&se(Ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Zr(En),null;case 25:return null;default:return null}}function kv(t,r){switch(kc(r),r.tag){case 3:Zr(En),ge();break;case 26:case 27:case 5:gr(r);break;case 4:ge();break;case 31:r.memoizedState!==null&&Jt(r);break;case 13:Jt(r);break;case 19:se(jt);break;case 10:Zr(r.type);break;case 22:case 23:Jt(r),Xt(),t!==null&&se(Ks);break;case 24:Zr(En)}}function Xc(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(C){Ut(r,r.return,C)}}function Ro(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var E=l.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,f=r;var P=a,J=C;try{J()}catch(oe){Ut(f,P,oe)}}}l=l.next}while(l!==m)}}catch(oe){Ut(r,r.return,oe)}}function Pv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ii(r,a)}catch(l){Ut(t,t.return,l)}}}function Lv(t,r,a){a.props=jl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ut(t,r,l)}}function Jc(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ut(t,r,f)}}function Xs(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ut(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ut(t,r,f)}else a.current=null}function Vv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ut(t,t.return,f)}}function pp(t,r,a){try{var l=t.stateNode;h1(l,t.type,a,r),l[vn]=r}catch(f){Ut(t,t.return,f)}}function Uv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ko(t.type)||t.tag===4}function gp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ko(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yp(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Mn));else if(l!==4&&(l===27&&ko(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(yp(t,r,a),t=t.sibling;t!==null;)yp(t,r,a),t=t.sibling}function Ff(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ko(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ff(t,r,a),t=t.sibling;t!==null;)Ff(t,r,a),t=t.sibling}function zv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);_i(r,l,a),r[Bt]=t,r[vn]=a}catch(m){Ut(t,t.return,m)}}var ja=!1,Vn=!1,_p=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,ui=null;function HA(t,r){if(t=t.containerInfo,Up=cd,t=Ec(t),Tc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,C=-1,P=-1,J=0,oe=0,ue=t,ee=null;t:for(;;){for(var ie;ue!==a||f!==0&&ue.nodeType!==3||(C=E+f),ue!==m||l!==0&&ue.nodeType!==3||(P=E+l),ue.nodeType===3&&(E+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ee=ue,ue=ie;for(;;){if(ue===t)break t;if(ee===a&&++J===f&&(C=E),ee===m&&++oe===l&&(P=E),(ie=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ie}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(zp={focusedElem:t,selectionRange:a},cd=!1,ui=r;ui!==null;)if(r=ui,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ui=t;else for(;ui!==null;){switch(r=ui,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Re=jl(a.type,f);t=l.getSnapshotBeforeUpdate(Re,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Be){Ut(a,a.return,Be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Fp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,ui=t;break}ui=r.return}}function qv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pa(t,a),l&4&&Xc(5,a);break;case 1:if(Pa(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){Ut(a,a.return,E)}else{var f=jl(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ut(a,a.return,E)}}l&64&&Pv(a),l&512&&Jc(a,a.return);break;case 3:if(Pa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ii(t,r)}catch(E){Ut(a,a.return,E)}}break;case 27:r===null&&l&4&&zv(a);case 26:case 5:Pa(t,a),r===null&&l&4&&Vv(a),l&512&&Jc(a,a.return);break;case 12:Pa(t,a);break;case 31:Pa(t,a),l&4&&Gv(t,a);break;case 13:Pa(t,a),l&4&&$v(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZA.bind(null,a),v1(t,a))));break;case 22:if(l=a.memoizedState!==null||ja,!l){r=r!==null&&r.memoizedState!==null||Vn,f=ja;var m=Vn;ja=l,(Vn=r)&&!m?La(t,a,(a.subtreeFlags&8772)!==0):Pa(t,a),ja=f,Vn=m}break;case 30:break;default:Pa(t,a)}}function Fv(t){var r=t.alternate;r!==null&&(t.alternate=null,Fv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&nn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var un=null,ur=!1;function ka(t,r,a){for(a=a.child;a!==null;)Hv(t,r,a),a=a.sibling}function Hv(t,r,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:Vn||Xs(a,r),ka(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vn||Xs(a,r);var l=un,f=ur;ko(a.type)&&(un=a.stateNode,ur=!1),ka(t,r,a),oh(a.stateNode),un=l,ur=f;break;case 5:Vn||Xs(a,r);case 6:if(l=un,f=ur,un=null,ka(t,r,a),un=l,ur=f,un!==null)if(ur)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(a.stateNode)}catch(m){Ut(a,r,m)}else try{un.removeChild(a.stateNode)}catch(m){Ut(a,r,m)}break;case 18:un!==null&&(ur?(t=un,Pb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Iu(t)):Pb(un,a.stateNode));break;case 4:l=un,f=ur,un=a.stateNode.containerInfo,ur=!0,ka(t,r,a),un=l,ur=f;break;case 0:case 11:case 14:case 15:Ro(2,a,r),Vn||Ro(4,a,r),ka(t,r,a);break;case 1:Vn||(Xs(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lv(a,r,l)),ka(t,r,a);break;case 21:ka(t,r,a);break;case 22:Vn=(l=Vn)||a.memoizedState!==null,ka(t,r,a),Vn=l;break;default:ka(t,r,a)}}function Gv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Iu(t)}catch(a){Ut(r,r.return,a)}}}function $v(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Iu(t)}catch(a){Ut(r,r.return,a)}}function GA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Bv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Bv),r;default:throw Error(s(435,t.tag))}}function Hf(t,r){var a=GA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=e1.bind(null,t,l);l.then(f,f)}})}function cr(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,E=r,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(ko(C.type)){un=C.stateNode,ur=!1;break e}break;case 5:un=C.stateNode,ur=!1;break e;case 3:case 4:un=C.stateNode.containerInfo,ur=!0;break e}C=C.return}if(un===null)throw Error(s(160));Hv(m,E,f),un=null,ur=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Yv(r,t),r=r.sibling}var Es=null;function Yv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cr(r,t),hr(t),l&4&&(Ro(3,t,t.return),Xc(3,t),Ro(5,t,t.return));break;case 1:cr(r,t),hr(t),l&512&&(Vn||a===null||Xs(a,a.return)),l&64&&ja&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Es;if(cr(r,t),hr(t),l&512&&(Vn||a===null||Xs(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[lt]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),_i(m,l,a),m[Bt]=t,$t(m),l=m;break e;case"link":var E=Yb("link","href",f).get(l+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(m=E[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break t}}m=f.createElement(l),_i(m,l,a),f.head.appendChild(m);break;case"meta":if(E=Yb("meta","content",f).get(l+(a.content||""))){for(C=0;C<E.length;C++)if(m=E[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break t}}m=f.createElement(l),_i(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Bt]=t,$t(m),l=m}t.stateNode=l}else Qb(f,t.type,t.stateNode);else t.stateNode=$b(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Qb(f,t.type,t.stateNode):$b(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pp(t,t.memoizedProps,a.memoizedProps)}break;case 27:cr(r,t),hr(t),l&512&&(Vn||a===null||Xs(a,a.return)),a!==null&&l&4&&pp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cr(r,t),hr(t),l&512&&(Vn||a===null||Xs(a,a.return)),t.flags&32){f=t.stateNode;try{Dn(f,"")}catch(Re){Ut(t,t.return,Re)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,pp(t,f,a!==null?a.memoizedProps:f)),l&1024&&(_p=!0);break;case 6:if(cr(r,t),hr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Re){Ut(t,t.return,Re)}}break;case 3:if(ad=null,f=Es,Es=rd(r.containerInfo),cr(r,t),Es=f,hr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Iu(r.containerInfo)}catch(Re){Ut(t,t.return,Re)}_p&&(_p=!1,Qv(t));break;case 4:l=Es,Es=rd(t.stateNode.containerInfo),cr(r,t),hr(t),Es=l;break;case 12:cr(r,t),hr(t);break;case 31:cr(r,t),hr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 13:cr(r,t),hr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=Gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 22:f=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,J=ja,oe=Vn;if(ja=J||f,Vn=oe||P,cr(r,t),Vn=oe,ja=J,hr(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||P||ja||Vn||kl(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){P=a=r;try{if(m=P.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=P.stateNode;var ue=P.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Re){Ut(P,P.return,Re)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Re){Ut(P,P.return,Re)}}}else if(r.tag===18){if(a===null){P=r;try{var ie=P.stateNode;f?Lb(ie,!0):Lb(P.stateNode,!1)}catch(Re){Ut(P,P.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hf(t,a))));break;case 19:cr(r,t),hr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 30:break;case 21:break;default:cr(r,t),hr(t)}}function hr(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Uv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=gp(t);Ff(t,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Dn(E,""),a.flags&=-33);var C=gp(t);Ff(t,C,E);break;case 3:case 4:var P=a.stateNode.containerInfo,J=gp(t);yp(t,J,P);break;default:throw Error(s(161))}}catch(oe){Ut(t,t.return,oe)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Qv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Pa(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)qv(t,r.alternate,r),r=r.sibling}function kl(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ro(4,r,r.return),kl(r);break;case 1:Xs(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Lv(r,r.return,a),kl(r);break;case 27:oh(r.stateNode);case 26:case 5:Xs(r,r.return),kl(r);break;case 22:r.memoizedState===null&&kl(r);break;case 30:kl(r);break;default:kl(r)}t=t.sibling}}function La(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:La(f,m,a),Xc(4,m);break;case 1:if(La(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){Ut(l,l.return,J)}if(l=m,f=l.updateQueue,f!==null){var C=l.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)rn(P[f],C)}catch(J){Ut(l,l.return,J)}}a&&E&64&&Pv(m),Jc(m,m.return);break;case 27:zv(m);case 26:case 5:La(f,m,a),a&&l===null&&E&4&&Vv(m),Jc(m,m.return);break;case 12:La(f,m,a);break;case 31:La(f,m,a),a&&E&4&&Gv(f,m);break;case 13:La(f,m,a),a&&E&4&&$v(f,m);break;case 22:m.memoizedState===null&&La(f,m,a),Jc(m,m.return);break;case 30:break;default:La(f,m,a)}r=r.sibling}}function vp(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&lr(a))}function bp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&lr(t))}function Ts(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kv(t,r,a,l),r=r.sibling}function Kv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ts(t,r,a,l),f&2048&&Xc(9,r);break;case 1:Ts(t,r,a,l);break;case 3:Ts(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&lr(t)));break;case 12:if(f&2048){Ts(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,E=m.id,C=m.onPostCommit;typeof C=="function"&&C(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){Ut(r,r.return,P)}}else Ts(t,r,a,l);break;case 31:Ts(t,r,a,l);break;case 13:Ts(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?Ts(t,r,a,l):Zc(t,r):m._visibility&2?Ts(t,r,a,l):(m._visibility|=2,vu(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&vp(E,r);break;case 24:Ts(t,r,a,l),f&2048&&bp(r.alternate,r);break;default:Ts(t,r,a,l)}}function vu(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,E=r,C=a,P=l,J=E.flags;switch(E.tag){case 0:case 11:case 15:vu(m,E,C,P,f),Xc(8,E);break;case 23:break;case 22:var oe=E.stateNode;E.memoizedState!==null?oe._visibility&2?vu(m,E,C,P,f):Zc(m,E):(oe._visibility|=2,vu(m,E,C,P,f)),f&&J&2048&&vp(E.alternate,E);break;case 24:vu(m,E,C,P,f),f&&J&2048&&bp(E.alternate,E);break;default:vu(m,E,C,P,f)}r=r.sibling}}function Zc(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Zc(a,l),f&2048&&vp(l.alternate,l);break;case 24:Zc(a,l),f&2048&&bp(l.alternate,l);break;default:Zc(a,l)}r=r.sibling}}var eh=8192;function bu(t,r,a){if(t.subtreeFlags&eh)for(t=t.child;t!==null;)Wv(t,r,a),t=t.sibling}function Wv(t,r,a){switch(t.tag){case 26:bu(t,r,a),t.flags&eh&&t.memoizedState!==null&&N1(a,Es,t.memoizedState,t.memoizedProps);break;case 5:bu(t,r,a);break;case 3:case 4:var l=Es;Es=rd(t.stateNode.containerInfo),bu(t,r,a),Es=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=eh,eh=16777216,bu(t,r,a),eh=l):bu(t,r,a));break;default:bu(t,r,a)}}function Xv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function th(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ui=l,Zv(l,t)}Xv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jv(t),t=t.sibling}function Jv(t){switch(t.tag){case 0:case 11:case 15:th(t),t.flags&2048&&Ro(9,t,t.return);break;case 3:th(t);break;case 12:th(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Gf(t)):th(t);break;default:th(t)}}function Gf(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ui=l,Zv(l,t)}Xv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ro(8,r,r.return),Gf(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Gf(r));break;default:Gf(r)}t=t.sibling}}function Zv(t,r){for(;ui!==null;){var a=ui;switch(a.tag){case 0:case 11:case 15:Ro(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:lr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ui=l;else e:for(a=t;ui!==null;){l=ui;var f=l.sibling,m=l.return;if(Fv(l),l===a){ui=null;break e}if(f!==null){f.return=m,ui=f;break e}ui=m}}}var $A={getCacheForType:function(t){var r=kn(En),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return kn(En).controller.signal}},YA=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Yt=null,st=null,ut=0,Vt=0,jr=null,Do=!1,Eu=!1,Ep=!1,Va=0,Sn=0,Io=0,Pl=0,Tp=0,kr=0,Tu=0,nh=null,fr=null,wp=!1,$f=0,eb=0,Yf=1/0,Qf=null,No=null,Jn=0,Oo=null,wu=null,Ua=0,Sp=0,Ap=null,tb=null,ih=0,Cp=null;function Pr(){return(Dt&2)!==0&&ut!==0?ut&-ut:Z.T!==null?Op():Ms()}function nb(){if(kr===0)if((ut&536870912)===0||nt){var t=as;as<<=1,(as&3932160)===0&&(as=262144),kr=t}else kr=536870912;return t=sn.current,t!==null&&(t.flags|=32),kr}function dr(t,r,a){(t===Yt&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)&&(Su(t,0),Mo(t,ut,kr,!1)),br(t,a),((Dt&2)===0||t!==Yt)&&(t===Yt&&((Dt&2)===0&&(Pl|=a),Sn===4&&Mo(t,ut,kr,!1)),Js(t))}function ib(t,r,a){if((Dt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||$n(t,r),f=l?WA(t,r):Rp(t,r,!0),m=l;do{if(f===0){Eu&&!l&&Mo(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!QA(a)){f=Rp(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var C=t;f=nh;var P=C.current.memoizedState.isDehydrated;if(P&&(Su(C,E).flags|=256),E=Rp(C,E,!1),E!==2){if(Ep&&!P){C.errorRecoveryDisabledLanes|=m,Pl|=m,f=4;break e}m=fr,fr=f,m!==null&&(fr===null?fr=m:fr.push.apply(fr,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Su(t,0),Mo(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Mo(l,r,kr,!Do);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=$f+300-Gn(),10<f)){if(Mo(l,r,kr,!Do),zt(l,0,!0)!==0)break e;Ua=r,l.timeoutHandle=jb(rb.bind(null,l,a,fr,Qf,wp,r,kr,Pl,Tu,Do,m,"Throttled",-0,0),f);break e}rb(l,a,fr,Qf,wp,r,kr,Pl,Tu,Do,m,null,-0,0)}}break}while(!0);Js(t)}function rb(t,r,a,l,f,m,E,C,P,J,oe,ue,ee,ie){if(t.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Wv(r,m,ue);var Re=(m&62914560)===m?$f-Gn():(m&4194048)===m?eb-Gn():0;if(Re=O1(ue,Re),Re!==null){Ua=m,t.cancelPendingCommit=Re(fb.bind(null,t,r,m,a,l,f,E,C,P,oe,ue,null,ee,ie)),Mo(t,m,E,!J);return}}fb(t,r,m,a,l,f,E,C,P)}function QA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!pi(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mo(t,r,a,l){r&=~Tp,r&=~Pl,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-Kt(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&xi(t,a,r)}function Kf(){return(Dt&6)===0?(rh(0),!1):!0}function xp(){if(st!==null){if(Vt===0)var t=st.return;else t=st,_s=Aa=null,pu(t),pe=null,Se=0,t=st;for(;t!==null;)kv(t.alternate,t),t=t.return;st=null}}function Su(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,m1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ua=0,xp(),Yt=t,st=a=ms(t.current,null),ut=r,Vt=0,jr=null,Do=!1,Eu=$n(t,r),Ep=!1,Tu=kr=Tp=Pl=Io=Sn=0,fr=nh=null,wp=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Kt(l),m=1<<f;r|=t[f],l&=~m}return Va=r,au(),a}function sb(t,r){We=null,Z.H=Qc,r===Co||r===A?(r=re(),Vt=3):r===xa?(r=re(),Vt=4):Vt=r===sp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jr=r,st===null&&(Sn=1,Vf(t,ai(r,t.current)))}function ab(){var t=sn.current;return t===null?!0:(ut&4194048)===ut?pn===null:(ut&62914560)===ut||(ut&536870912)!==0?t===pn:!1}function ob(){var t=Z.H;return Z.H=Qc,t===null?Qc:t}function lb(){var t=Z.A;return Z.A=$A,t}function Wf(){Sn=4,Do||(ut&4194048)!==ut&&sn.current!==null||(Eu=!0),(Io&134217727)===0&&(Pl&134217727)===0||Yt===null||Mo(Yt,ut,kr,!1)}function Rp(t,r,a){var l=Dt;Dt|=2;var f=ob(),m=lb();(Yt!==t||ut!==r)&&(Qf=null,Su(t,r)),r=!1;var E=Sn;e:do try{if(Vt!==0&&st!==null){var C=st,P=jr;switch(Vt){case 8:xp(),E=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(r=!0);var J=Vt;if(Vt=0,jr=null,Au(t,C,P,J),a&&Eu){E=0;break e}break;default:J=Vt,Vt=0,jr=null,Au(t,C,P,J)}}KA(),E=Sn;break}catch(oe){sb(t,oe)}while(!0);return r&&t.shellSuspendCounter++,_s=Aa=null,Dt=l,Z.H=f,Z.A=m,st===null&&(Yt=null,ut=0,au()),E}function KA(){for(;st!==null;)ub(st)}function WA(t,r){var a=Dt;Dt|=2;var l=ob(),f=lb();Yt!==t||ut!==r?(Qf=null,Yf=Gn()+500,Su(t,r)):Eu=$n(t,r);e:do try{if(Vt!==0&&st!==null){r=st;var m=jr;t:switch(Vt){case 1:Vt=0,jr=null,Au(t,r,m,1);break;case 2:case 9:if(b(m)){Vt=0,jr=null,cb(r);break}r=function(){Vt!==2&&Vt!==9||Yt!==t||(Vt=7),Js(t)},m.then(r,r);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:b(m)?(Vt=0,jr=null,cb(r)):(Vt=0,jr=null,Au(t,r,m,7));break;case 5:var E=null;switch(st.tag){case 26:E=st.memoizedState;case 5:case 27:var C=st;if(E?Kb(E):C.stateNode.complete){Vt=0,jr=null;var P=C.sibling;if(P!==null)st=P;else{var J=C.return;J!==null?(st=J,Xf(J)):st=null}break t}}Vt=0,jr=null,Au(t,r,m,5);break;case 6:Vt=0,jr=null,Au(t,r,m,6);break;case 8:xp(),Sn=6;break e;default:throw Error(s(462))}}XA();break}catch(oe){sb(t,oe)}while(!0);return _s=Aa=null,Z.H=l,Z.A=f,Dt=a,st!==null?0:(Yt=null,ut=0,au(),Sn)}function XA(){for(;st!==null&&!hl();)ub(st)}function ub(t){var r=Mv(t.alternate,t,Va);t.memoizedProps=t.pendingProps,r===null?Xf(t):st=r}function cb(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=xv(a,r,r.pendingProps,r.type,void 0,ut);break;case 11:r=xv(a,r,r.pendingProps,r.type.render,r.ref,ut);break;case 5:pu(r);default:kv(a,r),r=st=Cf(r,Va),r=Mv(a,r,Va)}t.memoizedProps=t.pendingProps,r===null?Xf(t):st=r}function Au(t,r,a,l){_s=Aa=null,pu(r),pe=null,Se=0;var f=r.return;try{if(UA(t,f,r,a,ut)){Sn=1,Vf(t,ai(a,t.current)),st=null;return}}catch(m){if(f!==null)throw st=f,m;Sn=1,Vf(t,ai(a,t.current)),st=null;return}r.flags&32768?(nt||l===1?t=!0:Eu||(ut&536870912)!==0?t=!1:(Do=t=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hb(r,t)):Xf(r)}function Xf(t){var r=t;do{if((r.flags&32768)!==0){hb(r,Do);return}t=r.return;var a=qA(r.alternate,r,Va);if(a!==null){st=a;return}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);Sn===0&&(Sn=5)}function hb(t,r){do{var a=FA(t.alternate,t);if(a!==null){a.flags&=32767,st=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){st=t;return}st=t=a}while(t!==null);Sn=6,st=null}function fb(t,r,a,l,f,m,E,C,P){t.cancelPendingCommit=null;do Jf();while(Jn!==0);if((Dt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Ic,Er(t,a,m,E,C,P),t===Yt&&(st=Yt=null,ut=0),wu=r,Oo=t,Ua=a,Sp=m,Ap=f,tb=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t1(Br,function(){return yb(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=ae.p,ae.p=2,E=Dt,Dt|=4;try{HA(t,r,a)}finally{Dt=E,ae.p=f,Z.T=l}}Jn=1,db(),mb(),pb()}}function db(){if(Jn===1){Jn=0;var t=Oo,r=wu,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=ae.p;ae.p=2;var f=Dt;Dt|=4;try{Yv(r,t);var m=zp,E=Ec(t.containerInfo),C=m.focusedElem,P=m.selectionRange;if(E!==C&&C&&C.ownerDocument&&bc(C.ownerDocument.documentElement,C)){if(P!==null&&Tc(C)){var J=P.start,oe=P.end;if(oe===void 0&&(oe=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(oe,C.value.length);else{var ue=C.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Re=C.textContent.length,Be=Math.min(P.start,Re),Gt=P.end===void 0?Be:Math.min(P.end,Re);!ie.extend&&Be>Gt&&(E=Gt,Gt=Be,Be=E);var $=vf(C,Be),B=vf(C,Gt);if($&&B&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==B.node||ie.focusOffset!==B.offset)){var X=ue.createRange();X.setStart($.node,$.offset),ie.removeAllRanges(),Be>Gt?(ie.addRange(X),ie.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),ie.addRange(X))}}}}for(ue=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var le=ue[C];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}cd=!!Up,zp=Up=null}finally{Dt=f,ae.p=l,Z.T=a}}t.current=r,Jn=2}}function mb(){if(Jn===2){Jn=0;var t=Oo,r=wu,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=ae.p;ae.p=2;var f=Dt;Dt|=4;try{qv(t,r.alternate,r)}finally{Dt=f,ae.p=l,Z.T=a}}Jn=3}}function pb(){if(Jn===4||Jn===3){Jn=0,ca();var t=Oo,r=wu,a=Ua,l=tb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jn=5:(Jn=0,wu=Oo=null,gb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(No=null),Ui(a),r=r.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(An,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,f=ae.p,ae.p=2,Z.T=null;try{for(var m=t.onRecoverableError,E=0;E<l.length;E++){var C=l[E];m(C.value,{componentStack:C.stack})}}finally{Z.T=r,ae.p=f}}(Ua&3)!==0&&Jf(),Js(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Cp?ih++:(ih=0,Cp=t):ih=0,rh(0)}}function gb(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,lr(r)))}function Jf(){return db(),mb(),pb(),yb()}function yb(){if(Jn!==5)return!1;var t=Oo,r=Sp;Sp=0;var a=Ui(Ua),l=Z.T,f=ae.p;try{ae.p=32>a?32:a,Z.T=null,a=Ap,Ap=null;var m=Oo,E=Ua;if(Jn=0,wu=Oo=null,Ua=0,(Dt&6)!==0)throw Error(s(331));var C=Dt;if(Dt|=4,Jv(m.current),Kv(m,m.current,E,a),Dt=C,rh(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(An,m)}catch{}return!0}finally{ae.p=f,Z.T=l,gb(t,r)}}function _b(t,r,a){r=ai(a,r),r=rp(t.stateNode,r,2),t=tt(t,r,2),t!==null&&(br(t,2),Js(t))}function Ut(t,r,a){if(t.tag===3)_b(t,t,a);else for(;r!==null;){if(r.tag===3){_b(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(No===null||!No.has(l))){t=ai(a,t),a=vv(2),l=tt(r,a,2),l!==null&&(bv(a,l,r,t),br(l,2),Js(l));break}}r=r.return}}function Dp(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new YA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ep=!0,f.add(a),t=JA.bind(null,t,r,a),r.then(t,t))}function JA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Yt===t&&(ut&a)===a&&(Sn===4||Sn===3&&(ut&62914560)===ut&&300>Gn()-$f?(Dt&2)===0&&Su(t,0):Tp|=a,Tu===ut&&(Tu=0)),Js(t)}function vb(t,r){r===0&&(r=fi()),t=gi(t,r),t!==null&&(br(t,r),Js(t))}function ZA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),vb(t,a)}function e1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),vb(t,a)}function t1(t,r){return fn(t,r)}var Zf=null,Cu=null,Ip=!1,ed=!1,Np=!1,jo=0;function Js(t){t!==Cu&&t.next===null&&(Cu===null?Zf=Cu=t:Cu=Cu.next=t),ed=!0,Ip||(Ip=!0,i1())}function rh(t,r){if(!Np&&ed){Np=!0;do for(var a=!1,l=Zf;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,C=l.pingedLanes;m=(1<<31-Kt(42|t)+1)-1,m&=f&~(E&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,wb(l,m))}else m=ut,m=zt(l,l===Yt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||$n(l,m)||(a=!0,wb(l,m));l=l.next}while(a);Np=!1}}function n1(){bb()}function bb(){ed=Ip=!1;var t=0;jo!==0&&d1()&&(t=jo);for(var r=Gn(),a=null,l=Zf;l!==null;){var f=l.next,m=Eb(l,r);m===0?(l.next=null,a===null?Zf=f:a.next=f,f===null&&(Cu=a)):(a=l,(t!==0||(m&3)!==0)&&(ed=!0)),l=f}Jn!==0&&Jn!==5||rh(t),jo!==0&&(jo=0)}function Eb(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var E=31-Kt(m),C=1<<E,P=f[E];P===-1?((C&a)===0||(C&l)!==0)&&(f[E]=Lt(C,r)):P<=r&&(t.expiredLanes|=C),m&=~C}if(r=Yt,a=ut,a=zt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&zr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&zr(l),Ui(a)){case 2:case 8:a=Os;break;case 32:a=Br;break;case 268435456:a=_r;break;default:a=Br}return l=Tb.bind(null,t),a=fn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&zr(l),t.callbackPriority=2,t.callbackNode=null,2}function Tb(t,r){if(Jn!==0&&Jn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Jf()&&t.callbackNode!==a)return null;var l=ut;return l=zt(t,t===Yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ib(t,l,r),Eb(t,Gn()),t.callbackNode!=null&&t.callbackNode===a?Tb.bind(null,t):null)}function wb(t,r){if(Jf())return null;ib(t,r,!0)}function i1(){p1(function(){(Dt&6)!==0?fn(Ci,n1):bb()})}function Op(){if(jo===0){var t=wo;t===0&&(t=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),jo=t}return jo}function Sb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lo(""+t)}function Ab(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function r1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Sb((f[vn]||null).action),E=l.submitter;E&&(r=(r=E[vn]||null)?Sb(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var C=new ir("action","action",null,l,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jo!==0){var P=E?Ab(f,E):new FormData(f);Jm(a,{pending:!0,data:P,method:f.method,action:m},null,P)}}else typeof m=="function"&&(C.preventDefault(),P=E?Ab(f,E):new FormData(f),Jm(a,{pending:!0,data:P,method:f.method,action:m},m,P))},currentTarget:f}]})}}for(var Mp=0;Mp<Dc.length;Mp++){var jp=Dc[Mp],s1=jp.toLowerCase(),a1=jp[0].toUpperCase()+jp.slice(1);Mr(s1,"on"+a1)}Mr(Wr,"onAnimationEnd"),Mr(xc,"onAnimationIteration"),Mr(Ef,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tf,"onTransitionRun"),Mr(wf,"onTransitionStart"),Mr(Sf,"onTransitionCancel"),Mr(Rc,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function Cb(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var C=l[E],P=C.instance,J=C.currentTarget;if(C=C.listener,P!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=J;try{m(f)}catch(oe){Tl(oe)}f.currentTarget=null,m=P}else for(E=0;E<l.length;E++){if(C=l[E],P=C.instance,J=C.currentTarget,C=C.listener,P!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=J;try{m(f)}catch(oe){Tl(oe)}f.currentTarget=null,m=P}}}}function at(t,r){var a=r[Qe];a===void 0&&(a=r[Qe]=new Set);var l=t+"__bubble";a.has(l)||(xb(r,t,2,!1),a.add(l))}function kp(t,r,a){var l=0;r&&(l|=4),xb(a,t,l,r)}var td="_reactListening"+Math.random().toString(36).slice(2);function Pp(t){if(!t[td]){t[td]=!0,no.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||kp(a,!1,t),kp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[td]||(r[td]=!0,kp("selectionchange",!1,r))}}function xb(t,r,a,l){switch(nE(r)){case 2:var f=k1;break;case 8:f=P1;break;default:f=Xp}a=f.bind(null,r,a,t),f=void 0,!va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Lp(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var C=l.stateNode.containerInfo;if(C===f)break;if(E===4)for(E=l.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;C!==null;){if(E=Ft(C),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){l=m=E;continue e}C=C.parentNode}}l=l.return}us(function(){var J=m,oe=zi(a),ue=[];e:{var ee=Af.get(t);if(ee!==void 0){var ie=ir,Re=t;switch(t){case"keypress":if($r(a)===0)break e;case"keydown":case"keyup":ie=vl;break;case"focusin":Re="focus",ie=Us;break;case"focusout":Re="blur",ie=Us;break;case"beforeblur":case"afterblur":ie=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=v;break;case Wr:case xc:case Ef:ie=co;break;case Rc:ie=I;break;case"scroll":case"scrollend":ie=ds;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Ir;break;case"toggle":case"beforetoggle":ie=Ke}var Be=(r&4)!==0,Gt=!Be&&(t==="scroll"||t==="scrollend"),$=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var B=J,X;B!==null;){var le=B;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||$===null||(le=er(B,$),le!=null&&Be.push(ah(B,le,X))),Gt)break;B=B.return}0<Be.length&&(ee=new ie(ee,Re,null,a,oe),ue.push({event:ee,listeners:Be}))}}if((r&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",ee&&a!==Ps&&(Re=a.relatedTarget||a.fromElement)&&(Ft(Re)||Re[Ri]))break e;if((ie||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Re=a.relatedTarget||a.toElement,ie=J,Re=Re?Ft(Re):null,Re!==null&&(Gt=u(Re),Be=Re.tag,Re!==Gt||Be!==5&&Be!==27&&Be!==6)&&(Re=null)):(ie=null,Re=J),ie!==Re)){if(Be=pl,le="onMouseLeave",$="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Be=Ir,le="onPointerLeave",$="onPointerEnter",B="pointer"),Gt=ie==null?ee:On(ie),X=Re==null?ee:On(Re),ee=new Be(le,B+"leave",ie,a,oe),ee.target=Gt,ee.relatedTarget=X,le=null,Ft(oe)===J&&(Be=new Be($,B+"enter",Re,a,oe),Be.target=X,Be.relatedTarget=Gt,le=Be),Gt=le,ie&&Re)t:{for(Be=l1,$=ie,B=Re,X=0,le=$;le;le=Be(le))X++;le=0;for(var Me=B;Me;Me=Be(Me))le++;for(;0<X-le;)$=Be($),X--;for(;0<le-X;)B=Be(B),le--;for(;X--;){if($===B||B!==null&&$===B.alternate){Be=$;break t}$=Be($),B=Be(B)}Be=null}else Be=null;ie!==null&&Rb(ue,ee,ie,Be,!1),Re!==null&&Gt!==null&&Rb(ue,Gt,Re,Be,!0)}}e:{if(ee=J?On(J):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Ct=gc;else if(sr(ee))if(bl)Ct=su;else{Ct=pf;var De=mf}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&ks(J.elementType)&&(Ct=gc):Ct=gf;if(Ct&&(Ct=Ct(t,J))){pc(ue,Ct,a,oe);break e}De&&De(t,ee,J),t==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&ya(ee,"number",ee.value)}switch(De=J?On(J):window,t){case"focusin":(sr(De)||De.contentEditable==="true")&&(go=De,wc=J,El=null);break;case"focusout":El=wc=go=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Ac(ue,a,oe);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":Ac(ue,a,oe)}var et;if(rt)e:{switch(t){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else fo?wa(t,a)&&(ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(Bi&&a.locale!=="ko"&&(fo||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&fo&&(et=ml()):(tr=oe,Ls="value"in tr?tr.value:tr.textContent,fo=!0)),De=nd(J,ct),0<De.length&&(ct=new Dr(ct,t,null,a,oe),ue.push({event:ct,listeners:De}),et?ct.data=et:(et=ho(a),et!==null&&(ct.data=et)))),(et=rr?Lm(t,a):Vm(t,a))&&(ct=nd(J,"onBeforeInput"),0<ct.length&&(De=new Dr("onBeforeInput","beforeinput",null,a,oe),ue.push({event:De,listeners:ct}),De.data=et)),r1(ue,t,J,a,oe)}Cb(ue,r)})}function ah(t,r,a){return{instance:t,listener:r,currentTarget:a}}function nd(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=er(t,a),f!=null&&l.unshift(ah(t,f,m)),f=er(t,r),f!=null&&l.push(ah(t,f,m))),t.tag===3)return l;t=t.return}return[]}function l1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rb(t,r,a,l,f){for(var m=r._reactName,E=[];a!==null&&a!==l;){var C=a,P=C.alternate,J=C.stateNode;if(C=C.tag,P!==null&&P===l)break;C!==5&&C!==26&&C!==27||J===null||(P=J,f?(J=er(a,m),J!=null&&E.unshift(ah(a,J,P))):f||(J=er(a,m),J!=null&&E.push(ah(a,J,P)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var u1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function Db(t){return(typeof t=="string"?t:""+t).replace(u1,`
`).replace(c1,"")}function Ib(t,r){return r=Db(r),Db(t)===r}function Ht(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(t,""+l);break;case"className":Di(t,"class",l);break;case"tabIndex":Di(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Di(t,a,l);break;case"style":Gr(t,l,m);break;case"data":if(r!=="object"){Di(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=lo(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ht(t,r,"name",f.name,f,null),Ht(t,r,"formEncType",f.formEncType,f,null),Ht(t,r,"formMethod",f.formMethod,f,null),Ht(t,r,"formTarget",f.formTarget,f,null)):(Ht(t,r,"encType",f.encType,f,null),Ht(t,r,"method",f.method,f,null),Ht(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=lo(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mn);break;case"onScroll":l!=null&&at("scroll",t);break;case"onScrollEnd":l!=null&&at("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=lo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":at("beforetoggle",t),at("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dl.get(a)||a,ga(t,a,l))}}function Vp(t,r,a,l,f,m){switch(a){case"style":Gr(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&at("scroll",t);break;case"onScrollEnd":l!=null&&at("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[vn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function _i(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",t),at("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,m,E,a,null)}}f&&Ht(t,r,"srcSet",a.srcSet,a,null),l&&Ht(t,r,"src",a.src,a,null);return;case"input":at("invalid",t);var C=m=E=f=null,P=null,J=null;for(l in a)if(a.hasOwnProperty(l)){var oe=a[l];if(oe!=null)switch(l){case"name":f=oe;break;case"type":E=oe;break;case"checked":P=oe;break;case"defaultChecked":J=oe;break;case"value":m=oe;break;case"defaultValue":C=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:Ht(t,r,l,oe,a,null)}}so(t,m,C,P,J,E,f,!1);return;case"select":at("invalid",t),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":E=C;break;case"multiple":l=C;default:Ht(t,r,f,C,a,null)}r=m,a=E,t.multiple=!!l,r!=null?Kn(t,!!l,r,!1):a!=null&&Kn(t,!!l,a,!0);return;case"textarea":at("invalid",t),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":l=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ht(t,r,E,C,a,null)}Sr(t,l,f,m);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(t,r,P,l,a,null)}return;case"dialog":at("beforetoggle",t),at("toggle",t),at("cancel",t),at("close",t);break;case"iframe":case"object":at("load",t);break;case"video":case"audio":for(l=0;l<sh.length;l++)at(sh[l],t);break;case"image":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"embed":case"source":case"link":at("error",t),at("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(l=a[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,J,l,a,null)}return;default:if(ks(r)){for(oe in a)a.hasOwnProperty(oe)&&(l=a[oe],l!==void 0&&Vp(t,r,oe,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ht(t,r,C,l,a,null))}function h1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,C=null,P=null,J=null,oe=null;for(ie in a){var ue=a[ie];if(a.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":P=ue;default:l.hasOwnProperty(ie)||Ht(t,r,ie,null,l,ue)}}for(var ee in l){var ie=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(ie!=null||ue!=null))switch(ee){case"type":m=ie;break;case"name":f=ie;break;case"checked":J=ie;break;case"defaultChecked":oe=ie;break;case"value":E=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==ue&&Ht(t,r,ee,ie,l,ue)}}Qn(t,E,C,P,J,oe,m,f);return;case"select":ie=E=C=ee=null;for(m in a)if(P=a[m],a.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":ie=P;default:l.hasOwnProperty(m)||Ht(t,r,m,null,l,P)}for(f in l)if(m=l[f],P=a[f],l.hasOwnProperty(f)&&(m!=null||P!=null))switch(f){case"value":ee=m;break;case"defaultValue":C=m;break;case"multiple":E=m;default:m!==P&&Ht(t,r,f,m,l,P)}r=C,a=E,l=ie,ee!=null?Kn(t,!!a,ee,!1):!!l!=!!a&&(r!=null?Kn(t,!!a,r,!0):Kn(t,!!a,a?[]:"",!1));return;case"textarea":ie=ee=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(t,r,C,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":ee=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ht(t,r,E,f,l,m)}Hr(t,ee,ie);return;case"option":for(var Re in a)if(ee=a[Re],a.hasOwnProperty(Re)&&ee!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Ht(t,r,Re,null,l,ee)}for(P in l)if(ee=l[P],ie=a[P],l.hasOwnProperty(P)&&ee!==ie&&(ee!=null||ie!=null))switch(P){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ht(t,r,P,ee,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)ee=a[Be],a.hasOwnProperty(Be)&&ee!=null&&!l.hasOwnProperty(Be)&&Ht(t,r,Be,null,l,ee);for(J in l)if(ee=l[J],ie=a[J],l.hasOwnProperty(J)&&ee!==ie&&(ee!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:Ht(t,r,J,ee,l,ie)}return;default:if(ks(r)){for(var Gt in a)ee=a[Gt],a.hasOwnProperty(Gt)&&ee!==void 0&&!l.hasOwnProperty(Gt)&&Vp(t,r,Gt,void 0,l,ee);for(oe in l)ee=l[oe],ie=a[oe],!l.hasOwnProperty(oe)||ee===ie||ee===void 0&&ie===void 0||Vp(t,r,oe,ee,l,ie);return}}for(var $ in a)ee=a[$],a.hasOwnProperty($)&&ee!=null&&!l.hasOwnProperty($)&&Ht(t,r,$,null,l,ee);for(ue in l)ee=l[ue],ie=a[ue],!l.hasOwnProperty(ue)||ee===ie||ee==null&&ie==null||Ht(t,r,ue,ee,l,ie)}function Nb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,E=f.initiatorType,C=f.duration;if(m&&C&&Nb(E)){for(E=0,C=f.responseEnd,l+=1;l<a.length;l++){var P=a[l],J=P.startTime;if(J>C)break;var oe=P.transferSize,ue=P.initiatorType;oe&&Nb(ue)&&(P=P.responseEnd,E+=oe*(P<C?1:(C-J)/(P-J)))}if(--l,r+=8*(m+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Up=null,zp=null;function id(t){return t.nodeType===9?t:t.ownerDocument}function Ob(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qp=null;function d1(){var t=window.event;return t&&t.type==="popstate"?t===qp?!1:(qp=t,!0):(qp=null,!1)}var jb=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(t){return kb.resolve(null).then(t).catch(g1)}:jb;function g1(t){setTimeout(function(){throw t})}function ko(t){return t==="head"}function Pb(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Iu(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oh(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oh(a);for(var m=a.firstChild;m;){var E=m.nextSibling,C=m.nodeName;m[lt]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=E}}else a==="body"&&oh(t.ownerDocument.body);a=f}while(a);Iu(r)}function Lb(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Fp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fp(a),nn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function y1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[lt])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ts(t.nextSibling),t===null)break}return null}function _1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ts(t.nextSibling),t===null))return null;return t}function Vb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ts(t.nextSibling),t===null))return null;return t}function Hp(t){return t.data==="$?"||t.data==="$~"}function Gp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function v1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ts(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var $p=null;function Ub(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return ts(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function zb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Bb(t,r,a){switch(r=id(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function oh(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);nn(t)}var ns=new Map,qb=new Set;function rd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var za=ae.d;ae.d={f:b1,r:E1,D:T1,C:w1,L:S1,m:A1,X:x1,S:C1,M:R1};function b1(){var t=za.f(),r=Kf();return t||r}function E1(t){var r=Yn(t);r!==null&&r.tag===5&&r.type==="form"?sv(r):za.r(t)}var xu=typeof document>"u"?null:document;function Fb(t,r,a){var l=xu;if(l&&typeof r=="string"&&r){var f=bn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),qb.has(f)||(qb.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),_i(r,"link",t),$t(r),l.head.appendChild(r)))}}function T1(t){za.D(t),Fb("dns-prefetch",t,null)}function w1(t,r){za.C(t,r),Fb("preconnect",t,r)}function S1(t,r,a){za.L(t,r,a);var l=xu;if(l&&t&&r){var f='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(t)+'"]';var m=f;switch(r){case"style":m=Ru(t);break;case"script":m=Du(t)}ns.has(m)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),ns.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(lh(m))||r==="script"&&l.querySelector(uh(m))||(r=l.createElement("link"),_i(r,"link",t),$t(r),l.head.appendChild(r)))}}function A1(t,r){za.m(t,r);var a=xu;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Du(t)}if(!ns.has(m)&&(t=S({rel:"modulepreload",href:t},r),ns.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uh(m)))return}l=a.createElement("link"),_i(l,"link",t),$t(l),a.head.appendChild(l)}}}function C1(t,r,a){za.S(t,r,a);var l=xu;if(l&&t){var f=ni(l).hoistableStyles,m=Ru(t);r=r||"default";var E=f.get(m);if(!E){var C={loading:0,preload:null};if(E=l.querySelector(lh(m)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=ns.get(m))&&Yp(t,a);var P=E=l.createElement("link");$t(P),_i(P,"link",t),P._p=new Promise(function(J,oe){P.onload=J,P.onerror=oe}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,sd(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:C},f.set(m,E)}}}function x1(t,r){za.X(t,r);var a=xu;if(a&&t){var l=ni(a).hoistableScripts,f=Du(t),m=l.get(f);m||(m=a.querySelector(uh(f)),m||(t=S({src:t,async:!0},r),(r=ns.get(f))&&Qp(t,r),m=a.createElement("script"),$t(m),_i(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function R1(t,r){za.M(t,r);var a=xu;if(a&&t){var l=ni(a).hoistableScripts,f=Du(t),m=l.get(f);m||(m=a.querySelector(uh(f)),m||(t=S({src:t,async:!0,type:"module"},r),(r=ns.get(f))&&Qp(t,r),m=a.createElement("script"),$t(m),_i(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Hb(t,r,a,l){var f=(f=Le.current)?rd(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ru(a.href),a=ni(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ru(a.href);var m=ni(f).hoistableStyles,E=m.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,E),(m=f.querySelector(lh(t)))&&!m._p&&(E.instance=m,E.state.loading=5),ns.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ns.set(t,a),m||D1(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Du(a),a=ni(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ru(t){return'href="'+bn(t)+'"'}function lh(t){return'link[rel="stylesheet"]['+t+"]"}function Gb(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function D1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),_i(r,"link",a),$t(r),t.head.appendChild(r))}function Du(t){return'[src="'+bn(t)+'"]'}function uh(t){return"script[async]"+t}function $b(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return r.instance=l,$t(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),_i(l,"style",f),sd(l,a.precedence,t),r.instance=l;case"stylesheet":f=Ru(a.href);var m=t.querySelector(lh(f));if(m)return r.state.loading|=4,r.instance=m,$t(m),m;l=Gb(a),(f=ns.get(f))&&Yp(l,f),m=(t.ownerDocument||t).createElement("link"),$t(m);var E=m;return E._p=new Promise(function(C,P){E.onload=C,E.onerror=P}),_i(m,"link",l),r.state.loading|=4,sd(m,a.precedence,t),r.instance=m;case"script":return m=Du(a.src),(f=t.querySelector(uh(m)))?(r.instance=f,$t(f),f):(l=a,(f=ns.get(m))&&(l=S({},a),Qp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),$t(f),_i(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,sd(l,a.precedence,t));return r.instance}function sd(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var C=l[E];if(C.dataset.precedence===r)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Yp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ad=null;function Yb(t,r,a){if(ad===null){var l=new Map,f=ad=new Map;f.set(a,l)}else f=ad,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[lt]||m[Bt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=t+E;var C=l.get(E);C?C.push(m):l.set(E,[m])}}return l}function Qb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function I1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function N1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ru(l.href),m=r.querySelector(lh(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=od.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,$t(m);return}m=r.ownerDocument||r,l=Gb(l),(f=ns.get(f))&&Yp(l,f),m=m.createElement("link"),$t(m);var E=m;E._p=new Promise(function(C,P){E.onload=C,E.onerror=P}),_i(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=od.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Kp=0;function O1(t,r){return t.stylesheets&&t.count===0&&ud(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Kp===0&&(Kp=62500*f1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Kp?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ld=null;function ud(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ld=new Map,r.forEach(M1,t),ld=null,od.call(t))}function M1(t,r){if(!(r.state.loading&4)){var a=ld.get(t);if(a)var l=a.get(null);else{a=new Map,ld.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=od.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var ch={$$typeof:te,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function j1(t,r,a,l,f,m,E,C,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Wb(t,r,a,l,f,m,E,C,P,J,oe,ue){return t=new j1(t,r,a,E,P,J,oe,ue,C),r=1,m===!0&&(r|=24),m=Hi(3,null,null,r),t.current=m,m.stateNode=t,r=vs(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},At(m),t}function Xb(t){return t?(t=_o,t):_o}function Jb(t,r,a,l,f,m){f=Xb(f),l.context===null?l.context=f:l.pendingContext=f,l=Ge(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=tt(t,l,r),a!==null&&(dr(a,t,r),Ye(a,t,r))}function Zb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Wp(t,r){Zb(t,r),(t=t.alternate)&&Zb(t,r)}function eE(t){if(t.tag===13||t.tag===31){var r=gi(t,67108864);r!==null&&dr(r,t,67108864),Wp(t,67108864)}}function tE(t){if(t.tag===13||t.tag===31){var r=Pr();r=Tr(r);var a=gi(t,r);a!==null&&dr(a,t,r),Wp(t,r)}}var cd=!0;function k1(t,r,a,l){var f=Z.T;Z.T=null;var m=ae.p;try{ae.p=2,Xp(t,r,a,l)}finally{ae.p=m,Z.T=f}}function P1(t,r,a,l){var f=Z.T;Z.T=null;var m=ae.p;try{ae.p=8,Xp(t,r,a,l)}finally{ae.p=m,Z.T=f}}function Xp(t,r,a,l){if(cd){var f=Jp(l);if(f===null)Lp(t,r,l,hd,a),iE(t,l);else if(V1(f,t,r,a,l))l.stopPropagation();else if(iE(t,l),r&4&&-1<L1.indexOf(t)){for(;f!==null;){var m=Yn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Nt(m.pendingLanes);if(E!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var P=1<<31-Kt(E);C.entanglements[1]|=P,E&=~P}Js(m),(Dt&6)===0&&(Yf=Gn()+500,rh(0))}}break;case 31:case 13:C=gi(m,2),C!==null&&dr(C,m,2),Kf(),Wp(m,2)}if(m=Jp(l),m===null&&Lp(t,r,l,hd,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Lp(t,r,l,null,a)}}function Jp(t){return t=zi(t),Zp(t)}var hd=null;function Zp(t){if(hd=null,t=Ft(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return hd=t,null}function nE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case Ci:return 2;case Os:return 8;case Br:case ha:return 32;case _r:return 268435456;default:return 32}default:return 32}}var eg=!1,Po=null,Lo=null,Vo=null,hh=new Map,fh=new Map,Uo=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(t,r){switch(t){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":hh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(r.pointerId)}}function dh(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Yn(r),r!==null&&eE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function V1(t,r,a,l,f){switch(r){case"focusin":return Po=dh(Po,t,r,a,l,f),!0;case"dragenter":return Lo=dh(Lo,t,r,a,l,f),!0;case"mouseover":return Vo=dh(Vo,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return hh.set(m,dh(hh.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,fh.set(m,dh(fh.get(m)||null,t,r,a,l,f)),!0}return!1}function rE(t){var r=Ft(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,di(t.priority,function(){tE(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,di(t.priority,function(){tE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Jp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ps=l,a.target.dispatchEvent(l),Ps=null}else return r=Yn(a),r!==null&&eE(r),t.blockedOn=a,!1;r.shift()}return!0}function sE(t,r,a){fd(t)&&a.delete(r)}function U1(){eg=!1,Po!==null&&fd(Po)&&(Po=null),Lo!==null&&fd(Lo)&&(Lo=null),Vo!==null&&fd(Vo)&&(Vo=null),hh.forEach(sE),fh.forEach(sE)}function dd(t,r){t.blockedOn===r&&(t.blockedOn=null,eg||(eg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,U1)))}var md=null;function aE(t){md!==t&&(md=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){md===t&&(md=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Zp(l||a)===null)continue;break}var m=Yn(a);m!==null&&(t.splice(r,3),r-=3,Jm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Iu(t){function r(P){return dd(P,t)}Po!==null&&dd(Po,t),Lo!==null&&dd(Lo,t),Vo!==null&&dd(Vo,t),hh.forEach(r),fh.forEach(r);for(var a=0;a<Uo.length;a++){var l=Uo[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Uo.length&&(a=Uo[0],a.blockedOn===null);)rE(a),a.blockedOn===null&&Uo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[vn]||null;if(typeof m=="function")E||aE(a);else if(E){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[vn]||null)C=E.formAction;else if(Zp(f)!==null)continue}else C=E.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),aE(a)}}}function oE(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function tg(t){this._internalRoot=t}pd.prototype.render=tg.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Pr();Jb(a,l,t,r,null,null)},pd.prototype.unmount=tg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Jb(t.current,2,null,t,null,null),Kf(),r[Ri]=null}};function pd(t){this._internalRoot=t}pd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ms();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Uo.length&&r!==0&&r<Uo[a].priority;a++);Uo.splice(a,0,t),a===0&&rE(t)}};var lE=e.version;if(lE!=="19.2.0")throw Error(s(527,lE,"19.2.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var z1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{An=gd.inject(z1),yn=gd}catch{}}return ph.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=pv,m=gv,E=yv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=Wb(t,1,!1,null,null,a,l,null,f,m,E,oE),t[Ri]=r.current,Pp(t),new tg(r)},ph.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=pv,E=gv,C=yv,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),r=Wb(t,1,!0,r,a??null,l,f,P,m,E,C,oE),r.context=Xb(null),a=r.current,l=Pr(),l=Tr(l),f=Ge(l),f.callback=null,tt(a,f,l),a=l,r.current.lanes=a,br(r,a),Js(r),t[Ri]=r.current,Pp(t),new pd(r)},ph.version="19.2.0",ph}var _E;function W1(){if(_E)return rg.exports;_E=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rg.exports=K1(),rg.exports}var X1=W1();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vE="popstate";function J1(i={}){function e(s,o){let{pathname:u,search:h,hash:p}=s.location;return Dg("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Mh(o)}return eC(e,n,null,i)}function cn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function xs(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z1(){return Math.random().toString(36).substring(2,10)}function bE(i,e){return{usr:i.state,key:i.key,idx:e}}function Dg(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?tc(e):e,state:n,key:e&&e.key||s||Z1()}}function Mh({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function tc(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function eC(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",g=null,y=T();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function T(){return(h.state||{idx:null}).idx}function S(){p="POP";let V=T(),F=V==null?null:V-y;y=V,g&&g({action:p,location:Q.location,delta:F})}function x(V,F){p="PUSH";let W=Dg(Q.location,V,F);y=T()+1;let te=bE(W,y),_e=Q.createHref(W);try{h.pushState(te,"",_e)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(_e)}u&&g&&g({action:p,location:Q.location,delta:1})}function M(V,F){p="REPLACE";let W=Dg(Q.location,V,F);y=T();let te=bE(W,y),_e=Q.createHref(W);h.replaceState(te,"",_e),u&&g&&g({action:p,location:Q.location,delta:0})}function Y(V){return tC(V)}let Q={get action(){return p},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(vE,S),g=V,()=>{o.removeEventListener(vE,S),g=null}},createHref(V){return e(o,V)},createURL:Y,encodeLocation(V){let F=Y(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:x,replace:M,go(V){return h.go(V)}};return Q}function tC(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Mh(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yw(i,e,n="/"){return nC(i,e,n,!1)}function nC(i,e,n,s){let o=typeof e=="string"?tc(e):e,u=Ga(o.pathname||"/",n);if(u==null)return null;let h=_w(i);iC(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=mC(u);p=fC(h[g],y,s)}return p}function _w(i,e=[],n=[],s="",o=!1){let u=(h,p,g=o,y)=>{let T={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;cn(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=Fa([s,T.relativePath]),x=n.concat(T);h.children&&h.children.length>0&&(cn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),_w(h.children,e,x,S,g)),!(h.path==null&&!h.index)&&e.push({path:S,score:cC(S,h.index),routesMeta:x})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of vw(h.path))u(h,p,!0,g)}),e}function vw(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=vw(s.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function iC(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:hC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rC=/^:[\w-]+$/,sC=3,aC=2,oC=1,lC=10,uC=-2,EE=i=>i==="*";function cC(i,e){let n=i.split("/"),s=n.length;return n.some(EE)&&(s+=uC),e&&(s+=aC),n.filter(o=>!EE(o)).reduce((o,u)=>o+(rC.test(u)?sC:u===""?oC:lC),s)}function hC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function fC(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=zd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),x=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=zd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Fa([u,S.pathname]),pathnameBase:_C(Fa([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=Fa([u,S.pathnameBase]))}return h}function zd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=dC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},x)=>{if(T==="*"){let Y=p[x]||"";h=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const M=p[x];return S&&!M?y[T]=void 0:y[T]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function dC(i,e=!1,n=!0){xs(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xs(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ga(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function pC(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?tc(i):i;return{pathname:n?n.startsWith("/")?n:gC(n,e):e,search:vC(s),hash:bC(o)}}function gC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lg(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _y(i){let e=yC(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vy(i,e,n,s=!1){let o;typeof i=="string"?o=tc(i):(o={...i},cn(!o.pathname||!o.pathname.includes("?"),lg("?","pathname","search",o)),cn(!o.pathname||!o.pathname.includes("#"),lg("#","pathname","hash",o)),cn(!o.search||!o.search.includes("#"),lg("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}p=S>=0?e[S]:"/"}let g=pC(o,p),y=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var Fa=i=>i.join("/").replace(/\/\/+/g,"/"),_C=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,bC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function EC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bw=["POST","PUT","PATCH","DELETE"];new Set(bw);var TC=["GET",...bw];new Set(TC);var nc=z.createContext(null);nc.displayName="DataRouter";var am=z.createContext(null);am.displayName="DataRouterState";z.createContext(!1);var Ew=z.createContext({isTransitioning:!1});Ew.displayName="ViewTransition";var wC=z.createContext(new Map);wC.displayName="Fetchers";var SC=z.createContext(null);SC.displayName="Await";var Is=z.createContext(null);Is.displayName="Navigation";var Yh=z.createContext(null);Yh.displayName="Location";var rs=z.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var by=z.createContext(null);by.displayName="RouteError";function AC(i,{relative:e}={}){cn(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Is),{hash:o,pathname:u,search:h}=Qh(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Fa([n,u])),s.createHref({pathname:p,search:h,hash:o})}function ic(){return z.useContext(Yh)!=null}function Xa(){return cn(ic(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Yh).location}var Tw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ww(i){z.useContext(Is).static||z.useLayoutEffect(i)}function Yl(){let{isDataRoute:i}=z.useContext(rs);return i?BC():CC()}function CC(){cn(ic(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(nc),{basename:e,navigator:n}=z.useContext(Is),{matches:s}=z.useContext(rs),{pathname:o}=Xa(),u=JSON.stringify(_y(s)),h=z.useRef(!1);return ww(()=>{h.current=!0}),z.useCallback((g,y={})=>{if(xs(h.current,Tw),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=vy(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Fa([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,i])}var xC=z.createContext(null);function RC(i){let e=z.useContext(rs).outlet;return z.useMemo(()=>e&&z.createElement(xC.Provider,{value:i},e),[e,i])}function DC(){let{matches:i}=z.useContext(rs),e=i[i.length-1];return e?e.params:{}}function Qh(i,{relative:e}={}){let{matches:n}=z.useContext(rs),{pathname:s}=Xa(),o=JSON.stringify(_y(n));return z.useMemo(()=>vy(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function IC(i,e){return Sw(i,e)}function Sw(i,e,n,s,o){cn(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Is),{matches:h}=z.useContext(rs),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let W=S&&S.path||"";Aw(y,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=Xa(),M;if(e){let W=typeof e=="string"?tc(e):e;cn(T==="/"||W.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=x;let Y=M.pathname||"/",Q=Y;if(T!=="/"){let W=T.replace(/^\//,"").split("/");Q="/"+Y.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=yw(i,{pathname:Q});xs(S||V!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),xs(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=kC(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:Fa([T,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:Fa([T,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,s,o);return e&&F?z.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},F):F}function NC(){let i=zC(),e=EC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var OC=z.createElement(NC,null),MC=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(rs.Provider,{value:this.props.routeContext},z.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jC({routeContext:i,match:e,children:n}){let s=z.useContext(nc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(rs.Provider,{value:i},n)}function kC(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let y=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);cn(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let T=u[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=y),T.route.id){let{loaderData:S,errors:x}=n,M=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||M){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,T,S)=>{let x,M=!1,Y=null,Q=null;n&&(x=h&&T.route.id?h[T.route.id]:void 0,Y=T.route.errorElement||OC,p&&(g<0&&S===0?(Aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,Q=null):g===S&&(M=!0,Q=T.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,S+1)),F=()=>{let W;return x?W=Y:M?W=Q:T.route.Component?W=z.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=y,z.createElement(jC,{match:T,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?z.createElement(MC,{location:n.location,revalidation:n.revalidation,component:Y,error:x,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):F()},null)}function Ey(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(i){let e=z.useContext(nc);return cn(e,Ey(i)),e}function LC(i){let e=z.useContext(am);return cn(e,Ey(i)),e}function VC(i){let e=z.useContext(rs);return cn(e,Ey(i)),e}function Ty(i){let e=VC(i),n=e.matches[e.matches.length-1];return cn(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function UC(){return Ty("useRouteId")}function zC(){let i=z.useContext(by),e=LC("useRouteError"),n=Ty("useRouteError");return i!==void 0?i:e.errors?.[n]}function BC(){let{router:i}=PC("useNavigate"),e=Ty("useNavigate"),n=z.useRef(!1);return ww(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{xs(n.current,Tw),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var TE={};function Aw(i,e,n){!e&&!TE[i]&&(TE[i]=!0,xs(!1,n))}z.memo(qC);function qC({routes:i,future:e,state:n,unstable_onError:s}){return Sw(i,void 0,n,s,e)}function FC({to:i,replace:e,state:n,relative:s}){cn(ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Is);xs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(rs),{pathname:h}=Xa(),p=Yl(),g=vy(i,_y(u),h,s==="path"),y=JSON.stringify(g);return z.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function HC(i){return RC(i.context)}function Zn(i){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){cn(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=tc(n));let{pathname:g="/",search:y="",hash:T="",state:S=null,key:x="default"}=n,M=z.useMemo(()=>{let Y=Ga(g,h);return Y==null?null:{location:{pathname:Y,search:y,hash:T,state:S,key:x},navigationType:s}},[h,g,y,T,S,x,s]);return xs(M!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(Is.Provider,{value:p},z.createElement(Yh.Provider,{children:e,value:M}))}function $C({children:i,location:e}){return IC(Ig(i),e)}function Ig(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Ig(s.props.children,u));return}cn(s.type===Zn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ig(s.props.children,u)),n.push(h)}),n}var Cd="get",xd="application/x-www-form-urlencoded";function om(i){return i!=null&&typeof i.tagName=="string"}function YC(i){return om(i)&&i.tagName.toLowerCase()==="button"}function QC(i){return om(i)&&i.tagName.toLowerCase()==="form"}function KC(i){return om(i)&&i.tagName.toLowerCase()==="input"}function WC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function XC(i,e){return i.button===0&&(!e||e==="_self")&&!WC(i)}var yd=null;function JC(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var ZC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(i){return i!=null&&!ZC.has(i)?(xs(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):i}function ex(i,e){let n,s,o,u,h;if(QC(i)){let p=i.getAttribute("action");s=p?Ga(p,e):null,n=i.getAttribute("method")||Cd,o=ug(i.getAttribute("enctype"))||xd,u=new FormData(i)}else if(YC(i)||KC(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ga(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Cd,o=ug(i.getAttribute("formenctype"))||ug(p.getAttribute("enctype"))||xd,u=new FormData(p,i),!JC()){let{name:y,type:T,value:S}=i;if(T==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,S)}}else{if(om(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cd,s=null,o=xd,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wy(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function tx(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ga(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function nx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ix(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function rx(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await nx(u,n);return h.links?h.links():[]}return[]}));return lx(s.flat(1).filter(ix).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wE(i,e,n,s,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sx(i,e,{includeHydrateFallback:n}={}){return ax(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ax(i){return[...new Set(i)]}function ox(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function lx(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(ox(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Cw(){let i=z.useContext(nc);return wy(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ux(){let i=z.useContext(am);return wy(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sy=z.createContext(void 0);Sy.displayName="FrameworkContext";function xw(){let i=z.useContext(Sy);return wy(i,"You must render this element inside a <HydratedRouter> element"),i}function cx(i,e){let n=z.useContext(Sy),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,x=z.useRef(null);z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=F=>{F.forEach(W=>{h(W.isIntersecting)})},V=new IntersectionObserver(Q,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[i]),z.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},Y=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:gh(p,M),onBlur:gh(g,Y),onMouseEnter:gh(y,M),onMouseLeave:gh(T,Y),onTouchStart:gh(S,M)}]:[!1,x,{}]}function gh(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function hx({page:i,...e}){let{router:n}=Cw(),s=z.useMemo(()=>yw(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(dx,{page:i,matches:s,...e}):null}function fx(i){let{manifest:e,routeModules:n}=xw(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return rx(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function dx({page:i,matches:e,...n}){let s=Xa(),{manifest:o,routeModules:u}=xw(),{basename:h}=Cw(),{loaderData:p,matches:g}=ux(),y=z.useMemo(()=>wE(i,e,g,o,s,"data"),[i,e,g,o,s]),T=z.useMemo(()=>wE(i,e,g,o,s,"assets"),[i,e,g,o,s]),S=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Y=new Set,Q=!1;if(e.forEach(F=>{let W=o.routes[F.route.id];!W||!W.hasLoader||(!y.some(te=>te.route.id===F.route.id)&&F.route.id in p&&u[F.route.id]?.shouldRevalidate||W.hasClientLoader?Q=!0:Y.add(F.route.id))}),Y.size===0)return[];let V=tx(i,h,"data");return Q&&Y.size>0&&V.searchParams.set("_routes",e.filter(F=>Y.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[h,p,s,o,y,e,i,u]),x=z.useMemo(()=>sx(T,o),[T,o]),M=fx(T);return z.createElement(z.Fragment,null,S.map(Y=>z.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),x.map(Y=>z.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),M.map(({key:Y,link:Q})=>z.createElement("link",{key:Y,nonce:n.nonce,...Q})))}function mx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rw&&(window.__reactRouterVersion="7.9.3")}catch{}function px({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=J1({window:n,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),p=z.useCallback(g=>{z.startTransition(()=>h(g))},[h]);return z.useLayoutEffect(()=>o.listen(p),[o,p]),z.createElement(GC,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lu=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:T,viewTransition:S,...x},M){let{basename:Y}=z.useContext(Is),Q=typeof y=="string"&&Dw.test(y),V,F=!1;if(typeof y=="string"&&Q&&(V=y,Rw))try{let j=new URL(window.location.href),L=y.startsWith("//")?new URL(j.protocol+y):new URL(y),U=Ga(L.pathname,Y);L.origin===j.origin&&U!=null?y=U+L.search+L.hash:F=!0}catch{xs(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=AC(y,{relative:o}),[te,_e,we]=cx(s,x),be=_x(y,{replace:h,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:S});function k(j){e&&e(j),j.defaultPrevented||be(j)}let O=z.createElement("a",{...x,...we,href:V||W,onClick:F||u?e:k,ref:mx(M,_e),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return te&&!Q?z.createElement(z.Fragment,null,O,z.createElement(hx,{page:W})):O});Lu.displayName="Link";var ws=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},T){let S=Qh(h,{relative:y.relative}),x=Xa(),M=z.useContext(am),{navigator:Y,basename:Q}=z.useContext(Is),V=M!=null&&wx(S)&&p===!0,F=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,W=x.pathname,te=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(W=W.toLowerCase(),te=te?te.toLowerCase():null,F=F.toLowerCase()),te&&Q&&(te=Ga(te,Q)||te);const _e=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let we=W===F||!o&&W.startsWith(F)&&W.charAt(_e)==="/",be=te!=null&&(te===F||!o&&te.startsWith(F)&&te.charAt(F.length)==="/"),k={isActive:we,isPending:be,isTransitioning:V},O=we?e:void 0,j;typeof s=="function"?j=s(k):j=[s,we?"active":null,be?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(k):u;return z.createElement(Lu,{...y,"aria-current":O,className:j,ref:T,style:L,to:h,viewTransition:p},typeof g=="function"?g(k):g)});ws.displayName="NavLink";var gx=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Cd,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:S,...x},M)=>{let Y=Ex(),Q=Tx(p,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",F=typeof p=="string"&&Dw.test(p),W=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let _e=te.nativeEvent.submitter,we=_e?.getAttribute("formmethod")||h;Y(_e||te.currentTarget,{fetcherKey:e,method:we,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:S})};return z.createElement("form",{ref:M,method:V,action:Q,onSubmit:s?g:W,...x,"data-discover":!F&&i==="render"?"true":void 0})});gx.displayName="Form";function yx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(i){let e=z.useContext(nc);return cn(e,yx(i)),e}function _x(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Yl(),g=Xa(),y=Qh(i,{relative:u});return z.useCallback(T=>{if(XC(T,e)){T.preventDefault();let S=n!==void 0?n:Mh(g)===Mh(y);p(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,n,s,e,i,o,u,h])}var vx=0,bx=()=>`__${String(++vx)}__`;function Ex(){let{router:i}=Iw("useSubmit"),{basename:e}=z.useContext(Is),n=UC();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=ex(s,e);if(o.navigate===!1){let T=o.fetcherKey||bx();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Tx(i,{relative:e}={}){let{basename:n}=z.useContext(Is),s=z.useContext(rs);cn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Qh(i||".",{relative:e})},h=Xa();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Fa([n,u.pathname])),Mh(u)}function wx(i,{relative:e}={}){let n=z.useContext(Ew);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iw("useViewTransitionState"),o=Qh(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ga(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ga(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zd(o.pathname,h)!=null||zd(o.pathname,u)!=null}const Sx=()=>{};var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ax=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let x=(p&15)<<2|y>>6,M=y&63;g||(M=64,h||(x=64)),s.push(n[T],n[S],n[x],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Nw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Ax(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new Cx;const x=u<<2|p>>4;if(s.push(x),y!==64){const M=p<<4&240|y>>2;if(s.push(M),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Cx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(i){const e=Nw(i);return Ow.encodeByteArray(e,!0)},Bd=function(i){return xx(i).replace(/\./g,"")},Mw=function(i){try{return Ow.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=()=>Rx().__FIREBASE_DEFAULTS__,Ix=()=>{if(typeof process>"u"||typeof SE>"u")return;const i=SE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Nx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Mw(i[1]);return e&&JSON.parse(e)},lm=()=>{try{return Sx()||Dx()||Ix()||Nx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jw=i=>lm()?.emulatorHosts?.[i],Ox=i=>{const e=jw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kw=()=>lm()?.config,Pw=i=>lm()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bd(JSON.stringify(n)),Bd(JSON.stringify(h)),""].join(".")}const xh={};function kx(){const i={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?i.emulator.push(e):i.prod.push(e);return i}function Px(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let AE=!1;function Vw(i,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||xh[i]===e||xh[i]||AE)return;xh[i]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=kx().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{AE=!0,h()},x}function T(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=Px(s),M=n("text"),Y=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),V=document.getElementById(Q)||document.createElement("a"),F=n("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const te=x.element;p(te),T(V,Q);const _e=y();g(W,F),te.append(W,Y,V,_e),document.body.appendChild(te)}u?(Y.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())}function Vx(){const i=lm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ux(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Bx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qx(){const i=Li();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Fx(){return!Vx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hx(){try{return typeof indexedDB=="object"}catch{return!1}}function Gx(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="FirebaseError";class Ja extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$x,Object.setPrototypeOf(this,Ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kh.prototype.create)}}class Kh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Yx(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Ja(o,p,s)}}function Yx(i,e){return i.replace(Qx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Qx=/\{\$([^}]+)}/g;function Kx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Bl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(CE(u)&&CE(h)){if(!Bl(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bh(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Eh(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Wx(i,e){const n=new Xx(i,e);return n.subscribe.bind(n)}class Xx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Jx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=cg),o.error===void 0&&(o.error=cg),o.complete===void 0&&(o.complete=cg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(i){return i&&i._delegate?i._delegate:i}class ql{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Mx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eR(i){return i===Ll?void 0:i}function tR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ht||(ht={}));const iR={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},rR=ht.INFO,sR={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},aR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=sR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const oR=(i,e)=>e.some(n=>i instanceof n);let xE,RE;function lR(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uw=new WeakMap,Ng=new WeakMap,zw=new WeakMap,hg=new WeakMap,Cy=new WeakMap;function cR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Yo(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Uw.set(n,i)}).catch(()=>{}),Cy.set(e,i),e}function hR(i){if(Ng.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Ng.set(i,e)}let Og={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ng.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zw.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fR(i){Og=i(Og)}function dR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(fg(this),e,...n);return zw.set(s,e.sort?e.sort():[e]),Yo(s)}:uR().includes(i)?function(...e){return i.apply(fg(this),e),Yo(Uw.get(this))}:function(...e){return Yo(i.apply(fg(this),e))}}function mR(i){return typeof i=="function"?dR(i):(i instanceof IDBTransaction&&hR(i),oR(i,lR())?new Proxy(i,Og):i)}function Yo(i){if(i instanceof IDBRequest)return cR(i);if(hg.has(i))return hg.get(i);const e=mR(i);return e!==i&&(hg.set(i,e),Cy.set(e,i)),e}const fg=i=>Cy.get(i);function pR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),p=Yo(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Yo(h.result),g.oldVersion,g.newVersion,Yo(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],dg=new Map;function DE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gR.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return dg.set(e,u),u}fR(i=>({...i,get:(e,n,s)=>DE(e,n)||i.get(e,n,s),has:(e,n)=>!!DE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vR(i){return i.getComponent()?.type==="VERSION"}const Mg="@firebase/app",IE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Ay("@firebase/app"),bR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",wR="@firebase/app-check-compat",SR="@firebase/app-check",AR="@firebase/auth",CR="@firebase/auth-compat",xR="@firebase/database",RR="@firebase/data-connect",DR="@firebase/database-compat",IR="@firebase/functions",NR="@firebase/functions-compat",OR="@firebase/installations",MR="@firebase/installations-compat",jR="@firebase/messaging",kR="@firebase/messaging-compat",PR="@firebase/performance",LR="@firebase/performance-compat",VR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",qR="@firebase/firestore",FR="@firebase/ai",HR="@firebase/firestore-compat",GR="firebase",$R="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]",YR={[Mg]:"fire-core",[bR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[SR]:"fire-app-check",[wR]:"fire-app-check-compat",[AR]:"fire-auth",[CR]:"fire-auth-compat",[xR]:"fire-rtdb",[RR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[IR]:"fire-fn",[NR]:"fire-fn-compat",[OR]:"fire-iid",[MR]:"fire-iid-compat",[jR]:"fire-fcm",[kR]:"fire-fcm-compat",[PR]:"fire-perf",[LR]:"fire-perf-compat",[VR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[qR]:"fire-fst",[HR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,QR=new Map,kg=new Map;function NE(i,e){try{i.container.addComponent(e)}catch(n){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function $u(i){const e=i.name;if(kg.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,i);for(const n of jh.values())NE(n,i);for(const n of QR.values())NE(n,i);return!0}function xy(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ss(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Kh("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=$R;function Bw(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:jg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qo.create("bad-app-name",{appName:String(o)});if(n||(n=kw()),!n)throw Qo.create("no-options");const u=jh.get(o);if(u){if(Bl(n,u.options)&&Bl(s,u.config))return u;throw Qo.create("duplicate-app",{appName:o})}const h=new nR(o);for(const g of kg.values())h.addComponent(g);const p=new WR(n,s,h);return jh.set(o,p),p}function Ry(i=jg){const e=jh.get(i);if(!e&&i===jg&&kw())return Bw();if(!e)throw Qo.create("no-app",{appName:i});return e}function XR(){return Array.from(jh.values())}function Ko(i,e,n){let s=YR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(h.join(" "));return}$u(new ql(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",ZR=1,kh="firebase-heartbeat-store";let mg=null;function qw(){return mg||(mg=pR(JR,ZR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qo.create("idb-open",{originalErrorMessage:i.message})})),mg}async function eD(i){try{const n=(await qw()).transaction(kh),s=await n.objectStore(kh).get(Fw(i));return await n.done,s}catch(e){if(e instanceof Ja)$a.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e?.message});$a.warn(n.message)}}}async function OE(i,e){try{const s=(await qw()).transaction(kh,"readwrite");await s.objectStore(kh).put(e,Fw(i)),await s.done}catch(n){if(n instanceof Ja)$a.warn(n.message);else{const s=Qo.create("idb-set",{originalErrorMessage:n?.message});$a.warn(s.message)}}}function Fw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=1024,nD=30;class iD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ME();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>nD){const o=aD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ME(),{heartbeatsToSend:n,unsentEntries:s}=rD(this._heartbeatsCache.heartbeats),o=Bd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $a.warn(e),""}}}function ME(){return new Date().toISOString().substring(0,10)}function rD(i,e=tD){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),jE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class sD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hx()?Gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jE(i){return Bd(JSON.stringify({version:2,heartbeats:i})).length}function aD(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(i){$u(new ql("platform-logger",e=>new _R(e),"PRIVATE")),$u(new ql("heartbeat",e=>new iD(e),"PRIVATE")),Ko(Mg,IE,i),Ko(Mg,IE,"esm2020"),Ko("fire-js","")}oD("");var lD="firebase",uD="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko(lD,uD,"app");function Hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cD=Hw,Gw=new Kh("auth","Firebase",Hw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Ay("@firebase/auth");function hD(i,...e){qd.logLevel<=ht.WARN&&qd.warn(`Auth (${sc}): ${i}`,...e)}function Rd(i,...e){qd.logLevel<=ht.ERROR&&qd.error(`Auth (${sc}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(i,...e){throw Dy(i,...e)}function ta(i,...e){return Dy(i,...e)}function $w(i,e,n){const s={...cD(),[e]:n};return new Kh("auth","Firebase",s).create(e,{appName:i.name})}function Wo(i){return $w(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dy(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Gw.create(i,...e)}function Fe(i,e,...n){if(!i)throw Dy(e,...n)}function Ba(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rd(e),new Error(e)}function Ya(i,e){i||Ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){return typeof self<"u"&&self.location?.href||""}function fD(){return kE()==="http:"||kE()==="https:"}function kE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fD()||zx()||"connection"in navigator)?navigator.onLine:!0}function mD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ya(n>e,"Short delay should be less than long delay!"),this.isMobile=Lx()||Bx()}get(){return dD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(i,e){Ya(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yD=new Xh(3e4,6e4);function Ql(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Za(i,e,n,s,o={}){return Qw(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=Wh({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return Ux()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&rc(i.emulatorConfig.host)&&(y.credentials="include"),Yw.fetch()(await Kw(i,i.config.apiHost,n,p),y)})}async function Qw(i,e,n){i._canInitEmulator=!1;const s={...pD,...e};try{const o=new vD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw _d(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _d(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw _d(i,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $w(i,T,y);Rs(i,T)}}catch(o){if(o instanceof Ja)throw o;Rs(i,"network-request-failed",{message:String(o)})}}async function um(i,e,n,s,o={}){const u=await Za(i,e,n,s,o);return"mfaPendingCredential"in u&&Rs(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Kw(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Iy(i.config,o):`${i.config.apiScheme}://${o}`;return gD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function _D(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ta(this.auth,"network-request-failed")),yD.get())})}}function _d(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ta(i,e,s);return o.customData._tokenResponse=n,o}function PE(i){return i!==void 0&&i.enterprise!==void 0}class bD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _D(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ED(i,e){return Za(i,"GET","/v2/recaptchaConfig",Ql(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(i,e){return Za(i,"POST","/v1/accounts:delete",e)}async function Fd(i,e){return Za(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wD(i,e=!1){const n=Hn(i),s=await n.getIdToken(e),o=Ny(s);Fe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Rh(pg(o.auth_time)),issuedAtTime:Rh(pg(o.iat)),expirationTime:Rh(pg(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pg(i){return Number(i)*1e3}function Ny(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mw(n);return o?JSON.parse(o):(Rd("Failed to decode base64 JWT payload"),null)}catch(o){return Rd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function LE(i){const e=Ny(i);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ja&&SD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function SD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(i){const e=i.auth,n=await i.getIdToken(),s=await Yu(i,Fd(e,{idToken:n}));Fe(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ww(o.providerUserInfo):[],h=xD(i.providerData,u),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Lg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,T)}async function CD(i){const e=Hn(i);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Ww(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(i,e){const n=await Qw(i,{},async()=>{const s=Wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await Kw(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&rc(i.emulatorConfig.host)&&(g.credentials="include"),Yw.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DD(i,e){return Za(i,"POST","/v2/accounts:revokeToken",Ql(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=LE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Bu;return s&&(Fe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Fe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Fe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(i,e){Fe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class As{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wD(this,e)}reload(){return CD(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(Wo(this.auth));const e=await this.getIdToken();return await Yu(this,TD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:M,providerData:Y,stsTokenManager:Q}=n;Fe(S&&Q,e,"internal-error");const V=Bu.fromJSON(this.name,Q);Fe(typeof S=="string",e,"internal-error"),Bo(s,e.name),Bo(o,e.name),Fe(typeof x=="boolean",e,"internal-error"),Fe(typeof M=="boolean",e,"internal-error"),Bo(u,e.name),Bo(h,e.name),Bo(p,e.name),Bo(g,e.name),Bo(y,e.name),Bo(T,e.name);const F=new As({uid:S,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:V,createdAt:y,lastLoginAt:T});return Y&&Array.isArray(Y)&&(F.providerData=Y.map(W=>({...W}))),g&&(F._redirectEventId=g),F}static async _fromIdTokenResponse(e,n,s=!1){const o=new Bu;o.updateFromServerResponse(n);const u=new As({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Fe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ww(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Bu;p.updateFromIdToken(s);const g=new As({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function qa(i){Ya(i instanceof Function,"Expected a class definition");let e=VE.get(i);return e?(Ya(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,VE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xw.type="NONE";const UE=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(i,e,n){return`firebase:${i}:${e}:${n}`}class qu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fd(this.auth,{idToken:e}).catch(()=>{});return n?As._fromGetAccountInfoResponse(this.auth,n,e):null}return As._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new qu(qa(UE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||qa(UE);const h=Dd(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(h);if(T){let S;if(typeof T=="string"){const x=await Fd(e,{idToken:T}).catch(()=>{});if(!x)break;S=await As._fromGetAccountInfoResponse(e,x,T)}else S=As._fromJSON(e,T);y!==u&&(p=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new qu(u,e,s):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new qu(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i0(e))return"Blackberry";if(r0(e))return"Webos";if(Zw(e))return"Safari";if((e.includes("chrome/")||e0(e))&&!e.includes("edge/"))return"Chrome";if(n0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Jw(i=Li()){return/firefox\//i.test(i)}function Zw(i=Li()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e0(i=Li()){return/crios\//i.test(i)}function t0(i=Li()){return/iemobile/i.test(i)}function n0(i=Li()){return/android/i.test(i)}function i0(i=Li()){return/blackberry/i.test(i)}function r0(i=Li()){return/webos/i.test(i)}function Oy(i=Li()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ID(i=Li()){return Oy(i)&&!!window.navigator?.standalone}function ND(){return qx()&&document.documentMode===10}function s0(i=Li()){return Oy(i)||n0(i)||r0(i)||i0(i)||/windows phone/i.test(i)||t0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i,e=[]){let n;switch(i){case"Browser":n=zE(Li());break;case"Worker":n=`${zE(Li())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(i,e={}){return Za(i,"GET","/v2/passwordPolicy",Ql(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=6;class kD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new OD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fd(this,{idToken:e}),s=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ss(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(Wo(this));const n=e?Hn(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(Wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(Wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MD(this),n=new kD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await DD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qa(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[qa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ac(i){return Hn(i)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wx(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LD(i){cm=i}function o0(i){return cm.loadJS(i)}function VD(){return cm.recaptchaEnterpriseScript}function UD(){return cm.gapiScript}function zD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class BD{constructor(){this.enterprise=new qD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FD="recaptcha-enterprise",l0="NO_RECAPTCHA";class HD{constructor(e){this.type=FD,this.auth=ac(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{ED(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new bD(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;PE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(l0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!n&&PE(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=VD();g.length!==0&&(g+=p),o0(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function qE(i,e,n,s=!1,o=!1){const u=new HD(i);let h;if(o)h=l0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function FE(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await qE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i,e){const n=xy(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bl(u,e??{}))return o;Rs(o,"already-initialized")}return n.initialize({options:e})}function $D(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(qa);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function YD(i,e,n){const s=ac(i);Fe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=u0(e),{host:h,port:p}=QD(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Fe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Fe(Bl(y,s.config.emulator)&&Bl(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,rc(h)?(Lw(`${u}//${h}${g}`),Vw("Auth",!0)):KD()}function u0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function QD(i){const e=u0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:HE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:HE(h)}}}function HE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function KD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,n){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}async function WD(i,e){return Za(i,"POST","/v1/accounts:update",e)}async function XD(i,e){return Za(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(i,e){return um(i,"POST","/v1/accounts:signInWithPassword",Ql(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(i,e){return um(i,"POST","/v1/accounts:signInWithEmailLink",Ql(i,e))}async function eI(i,e){return um(i,"POST","/v1/accounts:signInWithEmailLink",Ql(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends My{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ph(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ph(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,n,"signInWithPassword",JD);case"emailLink":return ZD(e,{email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,s,"signUpPassword",XD);case"emailLink":return eI(e,{idToken:n,email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(i,e){return um(i,"POST","/v1/accounts:signInWithIdp",Ql(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="http://localhost";class Fl extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Fl(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iI(i){const e=bh(Eh(i)).link,n=e?bh(Eh(e)).deep_link_id:null,s=bh(Eh(i)).deep_link_id;return(s?bh(Eh(s)).link:null)||s||n||e||i}class jy{constructor(e){const n=bh(Eh(e)),s=n.apiKey??null,o=n.oobCode??null,u=nI(n.mode??null);Fe(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iI(e);try{return new jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,n){return Ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jy.parseLink(n);return Fe(s,"argument-error"),Ph._fromEmailAndCode(e,s.code,s.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Jh{constructor(){super("facebook.com")}static credential(e){return Fl._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Jh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fo.credential(n,s)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Jh{constructor(){super("github.com")}static credential(e){return Fl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Jh{constructor(){super("twitter.com")}static credential(e,n){return Fl._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Go.credential(n,s)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await As._fromIdTokenResponse(e,s,o),h=GE(s);return new Qu({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=GE(s);return new Qu({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function GE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Ja{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Gd(e,n,s,o)}}function h0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(i,u,e,s):u})}async function rI(i,e,n=!1){const s=await Yu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Qu._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(i,e,n=!1){const{auth:s}=i;if(Ss(s.app))return Promise.reject(Wo(s));const o="reauthenticate";try{const u=await Yu(i,h0(s,o,e,i),n);Fe(u.idToken,s,"internal-error");const h=Ny(u.idToken);Fe(h,s,"internal-error");const{sub:p}=h;return Fe(i.uid===p,s,"user-mismatch"),Qu._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Rs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(i,e,n=!1){if(Ss(i.app))return Promise.reject(Wo(i));const s="signIn",o=await h0(i,s,e),u=await Qu._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function sI(i,e){return d0(ac(i),e)}async function aI(i,e){return f0(Hn(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(i){const e=ac(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lI(i,e,n){return Ss(i.app)?Promise.reject(Wo(i)):sI(Hn(i),Kl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&oI(i),s})}function uI(i,e){return cI(Hn(i),null,e)}async function cI(i,e,n){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await Yu(i,WD(s,u));await i._updateTokensIfNecessary(h,!0)}function hI(i,e,n,s){return Hn(i).onIdTokenChanged(e,n,s)}function fI(i,e,n){return Hn(i).beforeAuthStateChanged(e,n)}function dI(i,e,n,s){return Hn(i).onAuthStateChanged(e,n,s)}function ky(i){return Hn(i).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1e3,pI=10;class p0 extends m0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);ND()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p0.type="LOCAL";const gI=p0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends m0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g0.type="SESSION";const y0=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new hm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,u)),g=await yI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=Py("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function vI(i){na().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function bI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EI(){return navigator?.serviceWorker?.controller||null}function TI(){return _0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firebaseLocalStorageDb",wI=1,Yd="firebaseLocalStorage",b0="fbase_key";class Zh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(i,e){return i.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function SI(){const i=indexedDB.deleteDatabase(v0);return new Zh(i).toPromise()}function Vg(){const i=indexedDB.open(v0,wI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Yd,{keyPath:b0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Yd)?e(s):(s.close(),await SI(),e(await Vg()))})})}async function $E(i,e,n){const s=fm(i,!0).put({[b0]:e,value:n});return new Zh(s).toPromise()}async function AI(i,e){const n=fm(i,!1).get(e),s=await new Zh(n).toPromise();return s===void 0?null:s.value}function YE(i,e){const n=fm(i,!0).delete(e);return new Zh(n).toPromise()}const CI=800,xI=3;class E0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(TI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bI(),!this.activeServiceWorker)return;this.sender=new _I(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await $E(e,$d,"1"),await YE(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$E(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=fm(o,!1).getAll();return new Zh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E0.type="LOCAL";const RI=E0;new Xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(i,e){return e?qa(e):(Fe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function II(i){return d0(i.auth,new Ly(i),i.bypassAuthState)}function NI(i){const{auth:e,user:n}=i;return Fe(n,e,"internal-error"),f0(n,new Ly(i),i.bypassAuthState)}async function OI(i){const{auth:e,user:n}=i;return Fe(n,e,"internal-error"),rI(n,new Ly(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return II;case"linkViaPopup":case"linkViaRedirect":return OI;case"reauthViaPopup":case"reauthViaRedirect":return NI;default:Rs(this.auth,"internal-error")}}resolve(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Xh(2e3,1e4);class Vu extends T0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ya(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MI.get())};e()}}Vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="pendingRedirect",Id=new Map;class kI extends T0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const s=await PI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PI(i,e){const n=UI(e),s=VI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function LI(i,e){Id.set(i._key(),e)}function VI(i){return qa(i._redirectPersistence)}function UI(i){return Dd(jI,i.config.apiKey,i.name)}async function zI(i,e,n=!1){if(Ss(i.app))return Promise.reject(Wo(i));const s=ac(i),o=DI(s,e),h=await new kI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=600*1e3;class qI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!w0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ta(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BI&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function w0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function FI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e={}){return Za(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function YI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await HI(i);for(const n of e)try{if(QI(n))return}catch{}Rs(i,"unauthorized-domain")}function QI(i){const e=Pg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!$I.test(n))return!1;if(GI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Xh(3e4,6e4);function KE(){const i=na().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function WI(i){return new Promise((e,n)=>{function s(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),n(ta(i,"network-request-failed"))},timeout:KI.get()})}if(na().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(na().gapi?.load)s();else{const o=zD("iframefcb");return na()[o]=()=>{gapi.load?s():n(ta(i,"network-request-failed"))},o0(`${UD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function XI(i){return Nd=Nd||WI(i),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Xh(5e3,15e3),ZI="__/auth/iframe",eN="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iN(i){const e=i.config;Fe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Iy(e,eN):`https://${i.config.authDomain}/${ZI}`,s={apiKey:e.apiKey,appName:i.name,v:sc},o=nN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wh(s).slice(1)}`}async function rN(i){const e=await XI(i),n=na().gapi;return Fe(n,i,"internal-error"),e.open({where:document.body,url:iN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ta(i,"network-request-failed"),p=na().setTimeout(()=>{u(h)},JI.get());function g(){na().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aN=500,oN=600,lN="_blank",uN="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cN(i,e,n,s=aN,o=oN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...sN,width:s.toString(),height:o.toString(),top:u,left:h},y=Li().toLowerCase();n&&(p=e0(y)?lN:n),Jw(y)&&(e=e||uN,g.scrollbars="yes");const T=Object.entries(g).reduce((x,[M,Y])=>`${x}${M}=${Y},`,"");if(ID(y)&&p!=="_self")return hN(e||"",p),new WE(null);const S=window.open(e||"",p,T);Fe(S,i,"popup-blocked");try{S.focus()}catch{}return new WE(S)}function hN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="__/auth/handler",dN="emulator/auth/handler",mN=encodeURIComponent("fac");async function XE(i,e,n,s,o,u){Fe(i.config.authDomain,i,"auth-domain-config-required"),Fe(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:sc,eventId:o};if(e instanceof c0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Kx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(e instanceof Jh){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await i._getAppCheckToken(),y=g?`#${mN}=${encodeURIComponent(g)}`:"";return`${pN(i)}?${Wh(p).slice(1)}${y}`}function pN({config:i}){return i.emulator?Iy(i,dN):`https://${i.authDomain}/${fN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class gN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y0,this._completeRedirectFn=zI,this._overrideRedirectResult=LI}async _openPopup(e,n,s,o){Ya(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await XE(e,n,s,Pg(),o);return cN(e,u,Py())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await XE(e,n,s,Pg(),o);return vI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ya(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await rN(e),s=new qI(e);return n.register("authEvent",o=>(Fe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},o=>{const u=o?.[0]?.[gg];u!==void 0&&n(!!u),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s0()||Zw()||Oy()}}const yN=gN;var JE="@firebase/auth",ZE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bN(i){$u(new ql("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Fe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a0(i)},y=new PD(s,o,u,g);return $D(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$u(new ql("auth-internal",e=>{const n=ac(e.getProvider("auth").getImmediate());return(s=>new _N(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ko(JE,ZE,vN(i)),Ko(JE,ZE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=300,TN=Pw("authIdTokenMaxAge")||EN;let eT=null;const wN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>TN)return;const o=n?.token;eT!==o&&(eT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SN(i=Ry()){const e=xy(i,"auth");if(e.isInitialized())return e.getImmediate();const n=GD(i,{popupRedirectResolver:yN,persistence:[RI,gI,y0]}),s=Pw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=wN(u.toString());fI(n,h,()=>h(n.currentUser)),hI(n,p=>h(p))}}const o=jw("auth");return o&&YD(n,`http://${o}`),n}function AN(){return document.getElementsByTagName("head")?.[0]??document}LD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ta("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bN("Browser");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,S0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function j(){}j.prototype=O.prototype,k.F=O.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(L,U,H){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return O.prototype[U].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,O,j){j||(j=0);const L=Array(16);if(typeof O=="string")for(var U=0;U<16;++U)L[U]=O.charCodeAt(j++)|O.charCodeAt(j++)<<8|O.charCodeAt(j++)<<16|O.charCodeAt(j++)<<24;else for(U=0;U<16;++U)L[U]=O[j++]|O[j++]<<8|O[j++]<<16|O[j++]<<24;O=k.g[0],j=k.g[1],U=k.g[2];let H=k.g[3],N;N=O+(H^j&(U^H))+L[0]+3614090360&4294967295,O=j+(N<<7&4294967295|N>>>25),N=H+(U^O&(j^U))+L[1]+3905402710&4294967295,H=O+(N<<12&4294967295|N>>>20),N=U+(j^H&(O^j))+L[2]+606105819&4294967295,U=H+(N<<17&4294967295|N>>>15),N=j+(O^U&(H^O))+L[3]+3250441966&4294967295,j=U+(N<<22&4294967295|N>>>10),N=O+(H^j&(U^H))+L[4]+4118548399&4294967295,O=j+(N<<7&4294967295|N>>>25),N=H+(U^O&(j^U))+L[5]+1200080426&4294967295,H=O+(N<<12&4294967295|N>>>20),N=U+(j^H&(O^j))+L[6]+2821735955&4294967295,U=H+(N<<17&4294967295|N>>>15),N=j+(O^U&(H^O))+L[7]+4249261313&4294967295,j=U+(N<<22&4294967295|N>>>10),N=O+(H^j&(U^H))+L[8]+1770035416&4294967295,O=j+(N<<7&4294967295|N>>>25),N=H+(U^O&(j^U))+L[9]+2336552879&4294967295,H=O+(N<<12&4294967295|N>>>20),N=U+(j^H&(O^j))+L[10]+4294925233&4294967295,U=H+(N<<17&4294967295|N>>>15),N=j+(O^U&(H^O))+L[11]+2304563134&4294967295,j=U+(N<<22&4294967295|N>>>10),N=O+(H^j&(U^H))+L[12]+1804603682&4294967295,O=j+(N<<7&4294967295|N>>>25),N=H+(U^O&(j^U))+L[13]+4254626195&4294967295,H=O+(N<<12&4294967295|N>>>20),N=U+(j^H&(O^j))+L[14]+2792965006&4294967295,U=H+(N<<17&4294967295|N>>>15),N=j+(O^U&(H^O))+L[15]+1236535329&4294967295,j=U+(N<<22&4294967295|N>>>10),N=O+(U^H&(j^U))+L[1]+4129170786&4294967295,O=j+(N<<5&4294967295|N>>>27),N=H+(j^U&(O^j))+L[6]+3225465664&4294967295,H=O+(N<<9&4294967295|N>>>23),N=U+(O^j&(H^O))+L[11]+643717713&4294967295,U=H+(N<<14&4294967295|N>>>18),N=j+(H^O&(U^H))+L[0]+3921069994&4294967295,j=U+(N<<20&4294967295|N>>>12),N=O+(U^H&(j^U))+L[5]+3593408605&4294967295,O=j+(N<<5&4294967295|N>>>27),N=H+(j^U&(O^j))+L[10]+38016083&4294967295,H=O+(N<<9&4294967295|N>>>23),N=U+(O^j&(H^O))+L[15]+3634488961&4294967295,U=H+(N<<14&4294967295|N>>>18),N=j+(H^O&(U^H))+L[4]+3889429448&4294967295,j=U+(N<<20&4294967295|N>>>12),N=O+(U^H&(j^U))+L[9]+568446438&4294967295,O=j+(N<<5&4294967295|N>>>27),N=H+(j^U&(O^j))+L[14]+3275163606&4294967295,H=O+(N<<9&4294967295|N>>>23),N=U+(O^j&(H^O))+L[3]+4107603335&4294967295,U=H+(N<<14&4294967295|N>>>18),N=j+(H^O&(U^H))+L[8]+1163531501&4294967295,j=U+(N<<20&4294967295|N>>>12),N=O+(U^H&(j^U))+L[13]+2850285829&4294967295,O=j+(N<<5&4294967295|N>>>27),N=H+(j^U&(O^j))+L[2]+4243563512&4294967295,H=O+(N<<9&4294967295|N>>>23),N=U+(O^j&(H^O))+L[7]+1735328473&4294967295,U=H+(N<<14&4294967295|N>>>18),N=j+(H^O&(U^H))+L[12]+2368359562&4294967295,j=U+(N<<20&4294967295|N>>>12),N=O+(j^U^H)+L[5]+4294588738&4294967295,O=j+(N<<4&4294967295|N>>>28),N=H+(O^j^U)+L[8]+2272392833&4294967295,H=O+(N<<11&4294967295|N>>>21),N=U+(H^O^j)+L[11]+1839030562&4294967295,U=H+(N<<16&4294967295|N>>>16),N=j+(U^H^O)+L[14]+4259657740&4294967295,j=U+(N<<23&4294967295|N>>>9),N=O+(j^U^H)+L[1]+2763975236&4294967295,O=j+(N<<4&4294967295|N>>>28),N=H+(O^j^U)+L[4]+1272893353&4294967295,H=O+(N<<11&4294967295|N>>>21),N=U+(H^O^j)+L[7]+4139469664&4294967295,U=H+(N<<16&4294967295|N>>>16),N=j+(U^H^O)+L[10]+3200236656&4294967295,j=U+(N<<23&4294967295|N>>>9),N=O+(j^U^H)+L[13]+681279174&4294967295,O=j+(N<<4&4294967295|N>>>28),N=H+(O^j^U)+L[0]+3936430074&4294967295,H=O+(N<<11&4294967295|N>>>21),N=U+(H^O^j)+L[3]+3572445317&4294967295,U=H+(N<<16&4294967295|N>>>16),N=j+(U^H^O)+L[6]+76029189&4294967295,j=U+(N<<23&4294967295|N>>>9),N=O+(j^U^H)+L[9]+3654602809&4294967295,O=j+(N<<4&4294967295|N>>>28),N=H+(O^j^U)+L[12]+3873151461&4294967295,H=O+(N<<11&4294967295|N>>>21),N=U+(H^O^j)+L[15]+530742520&4294967295,U=H+(N<<16&4294967295|N>>>16),N=j+(U^H^O)+L[2]+3299628645&4294967295,j=U+(N<<23&4294967295|N>>>9),N=O+(U^(j|~H))+L[0]+4096336452&4294967295,O=j+(N<<6&4294967295|N>>>26),N=H+(j^(O|~U))+L[7]+1126891415&4294967295,H=O+(N<<10&4294967295|N>>>22),N=U+(O^(H|~j))+L[14]+2878612391&4294967295,U=H+(N<<15&4294967295|N>>>17),N=j+(H^(U|~O))+L[5]+4237533241&4294967295,j=U+(N<<21&4294967295|N>>>11),N=O+(U^(j|~H))+L[12]+1700485571&4294967295,O=j+(N<<6&4294967295|N>>>26),N=H+(j^(O|~U))+L[3]+2399980690&4294967295,H=O+(N<<10&4294967295|N>>>22),N=U+(O^(H|~j))+L[10]+4293915773&4294967295,U=H+(N<<15&4294967295|N>>>17),N=j+(H^(U|~O))+L[1]+2240044497&4294967295,j=U+(N<<21&4294967295|N>>>11),N=O+(U^(j|~H))+L[8]+1873313359&4294967295,O=j+(N<<6&4294967295|N>>>26),N=H+(j^(O|~U))+L[15]+4264355552&4294967295,H=O+(N<<10&4294967295|N>>>22),N=U+(O^(H|~j))+L[6]+2734768916&4294967295,U=H+(N<<15&4294967295|N>>>17),N=j+(H^(U|~O))+L[13]+1309151649&4294967295,j=U+(N<<21&4294967295|N>>>11),N=O+(U^(j|~H))+L[4]+4149444226&4294967295,O=j+(N<<6&4294967295|N>>>26),N=H+(j^(O|~U))+L[11]+3174756917&4294967295,H=O+(N<<10&4294967295|N>>>22),N=U+(O^(H|~j))+L[2]+718787259&4294967295,U=H+(N<<15&4294967295|N>>>17),N=j+(H^(U|~O))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+H&4294967295}s.prototype.v=function(k,O){O===void 0&&(O=k.length);const j=O-this.blockSize,L=this.C;let U=this.h,H=0;for(;H<O;){if(U==0)for(;H<=j;)o(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<O;)if(L[U++]=k.charCodeAt(H++),U==this.blockSize){o(this,L),U=0;break}}else for(;H<O;)if(L[U++]=k[H++],U==this.blockSize){o(this,L),U=0;break}}this.h=U,this.o+=O},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)k[O++]=this.g[j]>>>L&255;return k};function u(k,O){var j=p;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=O(k)}function h(k,O){this.h=O;const j=[];let L=!0;for(let U=k.length-1;U>=0;U--){const H=k[U]|0;L&&H==O||(j[U]=H,L=!1)}this.g=j}var p={};function g(k){return-128<=k&&k<128?u(k,function(O){return new h([O|0],O<0?-1:0)}):new h([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return S;if(k<0)return V(y(-k));const O=[];let j=1;for(let L=0;k>=j;L++)O[L]=k/j|0,j*=4294967296;return new h(O,0)}function T(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return V(T(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(O,8));let L=S;for(let H=0;H<k.length;H+=8){var U=Math.min(8,k.length-H);const N=parseInt(k.substring(H,H+U),O);U<8?(U=y(Math.pow(O,U)),L=L.j(U).add(y(N))):(L=L.j(j),L=L.add(y(N)))}return L}var S=g(0),x=g(1),M=g(16777216);i=h.prototype,i.m=function(){if(Q(this))return-V(this).m();let k=0,O=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);k+=(L>=0?L:4294967296+L)*O,O*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(Q(this))return"-"+V(this).toString(k);const O=y(Math.pow(k,6));var j=this;let L="";for(;;){const U=_e(j,O).g;j=F(j,U.j(O));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=U,Y(j))return H+L;for(;H.length<6;)H="0"+H;L=H+L}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function Q(k){return k.h==-1}i.l=function(k){return k=F(this,k),Q(k)?-1:Y(k)?0:1};function V(k){const O=k.g.length,j=[];for(let L=0;L<O;L++)j[L]=~k.g[L];return new h(j,~k.h).add(x)}i.abs=function(){return Q(this)?V(this):this},i.add=function(k){const O=Math.max(this.g.length,k.g.length),j=[];let L=0;for(let U=0;U<=O;U++){let H=L+(this.i(U)&65535)+(k.i(U)&65535),N=(H>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);L=N>>>16,H&=65535,N&=65535,j[U]=N<<16|H}return new h(j,j[j.length-1]&-2147483648?-1:0)};function F(k,O){return k.add(V(O))}i.j=function(k){if(Y(this)||Y(k))return S;if(Q(this))return Q(k)?V(this).j(V(k)):V(V(this).j(k));if(Q(k))return V(this.j(V(k)));if(this.l(M)<0&&k.l(M)<0)return y(this.m()*k.m());const O=this.g.length+k.g.length,j=[];for(var L=0;L<2*O;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let U=0;U<k.g.length;U++){const H=this.i(L)>>>16,N=this.i(L)&65535,de=k.i(U)>>>16,Pe=k.i(U)&65535;j[2*L+2*U]+=N*Pe,W(j,2*L+2*U),j[2*L+2*U+1]+=H*Pe,W(j,2*L+2*U+1),j[2*L+2*U+1]+=N*de,W(j,2*L+2*U+1),j[2*L+2*U+2]+=H*de,W(j,2*L+2*U+2)}for(k=0;k<O;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=O;k<2*O;k++)j[k]=0;return new h(j,0)};function W(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function te(k,O){this.g=k,this.h=O}function _e(k,O){if(Y(O))throw Error("division by zero");if(Y(k))return new te(S,S);if(Q(k))return O=_e(V(k),O),new te(V(O.g),V(O.h));if(Q(O))return O=_e(k,V(O)),new te(V(O.g),O.h);if(k.g.length>30){if(Q(k)||Q(O))throw Error("slowDivide_ only works with positive integers.");for(var j=x,L=O;L.l(k)<=0;)j=we(j),L=we(L);var U=be(j,1),H=be(L,1);for(L=be(L,2),j=be(j,2);!Y(L);){var N=H.add(L);N.l(k)<=0&&(U=U.add(j),H=N),L=be(L,1),j=be(j,1)}return O=F(k,U.j(O)),new te(U,O)}for(U=S;k.l(O)>=0;){for(j=Math.max(1,Math.floor(k.m()/O.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),H=y(j),N=H.j(O);Q(N)||N.l(k)>0;)j-=L,H=y(j),N=H.j(O);Y(H)&&(H=x),U=U.add(H),k=F(k,N)}return new te(U,k)}i.B=function(k){return _e(this,k).h},i.and=function(k){const O=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<O;L++)j[L]=this.i(L)&k.i(L);return new h(j,this.h&k.h)},i.or=function(k){const O=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<O;L++)j[L]=this.i(L)|k.i(L);return new h(j,this.h|k.h)},i.xor=function(k){const O=Math.max(this.g.length,k.g.length),j=[];for(let L=0;L<O;L++)j[L]=this.i(L)^k.i(L);return new h(j,this.h^k.h)};function we(k){const O=k.g.length+1,j=[];for(let L=0;L<O;L++)j[L]=k.i(L)<<1|k.i(L-1)>>>31;return new h(j,k.h)}function be(k,O){const j=O>>5;O%=32;const L=k.g.length-j,U=[];for(let H=0;H<L;H++)U[H]=O>0?k.i(H+j)>>>O|k.i(H+j+1)<<32-O:k.i(H+j);return new h(U,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,S0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=T,Xo=h}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A0,Th,C0,Od,Ug,x0,R0,D0;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)e:{var w=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var K=c[I];if(!(K in w))break e;w=w[K]}c=c[c.length-1],I=w[c],v=v(I),v!=I&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,w){return c.call.apply(c.bind,arguments)}function y(c,v,w){return y=g,y.apply(null,arguments)}function T(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function S(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,K,ne){for(var ye=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ye[Ke-2]=arguments[Ke];return v.prototype[K].apply(I,ye)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const v=c.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=c[I];return w}return[]}function Y(c,v){for(let I=1;I<arguments.length;I++){const K=arguments[I];var w=typeof K;if(w=w!="object"?w:K?Array.isArray(K)?"array":w:"null",w=="array"||w=="object"&&typeof K.length=="number"){w=c.length||0;const ne=K.length||0;c.length=w+ne;for(let ye=0;ye<ne;ye++)c[w+ye]=K[ye]}else c.push(K)}}class Q{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(c){h.setTimeout(()=>{throw c},0)}function F(){var c=k;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,w){const I=te.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var te=new Q(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let we,be=!1,k=new W,O=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(j)}};function j(){for(var c;c=F();){try{c.h.call(c.g)}catch(w){V(w)}var v=te;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}be=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function de(c,v){U.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}S(de,U),de.prototype.init=function(c,v){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ae(c,v,w,I,K){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=K,this.key=++Z,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,v,w){for(const I in c)v.call(w,c[I],I,c)}function Oe(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function D(c){const v={};for(const w in c)v[w]=c[w];return v}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(c,v){let w,I;for(let K=1;K<arguments.length;K++){I=arguments[K];for(w in I)c[w]=I[w];for(let ne=0;ne<se.length;ne++)w=se[ne],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,v,w,I,K){const ne=c.toString();c=this.g[ne],c||(c=this.g[ne]=[],this.h++);const ye=Le(c,v,I,K);return ye>-1?(v=c[ye],w||(v.fa=!1)):(v=new ae(v,this.src,ne,!!I,K),v.fa=w,c.push(v)),v};function Ie(c,v){const w=v.type;if(w in c.g){var I=c.g[w],K=Array.prototype.indexOf.call(I,v,void 0),ne;(ne=K>=0)&&Array.prototype.splice.call(I,K,1),ne&&(ve(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Le(c,v,w,I){for(let K=0;K<c.length;++K){const ne=c[K];if(!ne.da&&ne.listener==v&&ne.capture==!!w&&ne.ha==I)return K}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Pt={};function ge(c,v,w,I,K){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)ge(c,v[ne],w,I,K);return null}return w=Ns(w),c&&c[Pe]?c.J(v,w,p(I)?!!I.capture:!1,K):Ai(c,v,w,!1,I,K)}function Ai(c,v,w,I,K,ne){if(!v)throw Error("Invalid event type");const ye=p(K)?!!K.capture:!!K;let Ke=Qt(c);if(Ke||(c[Ve]=Ke=new Te(c)),w=Ke.add(v,w,I,ye,ne),w.proxy)return w;if(I=gr(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)H||(K=ye),K===void 0&&(K=!1),c.addEventListener(v.toString(),I,K);else if(c.attachEvent)c.attachEvent(ot(v.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function gr(){function c(w){return v.call(c.src,c.listener,w)}const v=Qi;return c}function yr(c,v,w,I,K){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)yr(c,v[ne],w,I,K);else I=p(I)?!!I.capture:!!I,w=Ns(w),c&&c[Pe]?(c=c.i,ne=String(v).toString(),ne in c.g&&(v=c.g[ne],w=Le(v,w,I,K),w>-1&&(ve(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[ne],c.h--)))):c&&(c=Qt(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Le(v,w,I,K)),(w=c>-1?v[c]:null)&&Ur(w))}function Ur(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Pe])Ie(v.i,c);else{var w=c.type,I=c.proxy;v.removeEventListener?v.removeEventListener(w,I,c.capture):v.detachEvent?v.detachEvent(ot(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Qt(v))?(Ie(w,c),w.h==0&&(w.src=null,v[Ve]=null)):ve(c)}}}function ot(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function Qi(c,v){if(c.da)c=!0;else{v=new de(v,this);const w=c.listener,I=c.ha||c.src;c.fa&&Ur(c),c=w.call(I,v)}return c}function Qt(c){return c=c[Ve],c instanceof Te?c:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ns(c){return typeof c=="function"?c:(c[hi]||(c[hi]=function(v){return c.handleEvent(v)}),c[hi])}function en(){L.call(this),this.i=new Te(this),this.M=this,this.G=null}S(en,L),en.prototype[Pe]=!0,en.prototype.removeEventListener=function(c,v,w,I){yr(this,c,v,w,I)};function fn(c,v){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=v.type||v,typeof v=="string")v=new U(v,c);else if(v instanceof U)v.target=v.target||c;else{var K=v;v=new U(I,c),me(v,K)}K=!0;let ne,ye;if(w)for(ye=w.length-1;ye>=0;ye--)ne=v.g=w[ye],K=zr(ne,I,!0,v)&&K;if(ne=v.g=c,K=zr(ne,I,!0,v)&&K,K=zr(ne,I,!1,v)&&K,w)for(ye=0;ye<w.length;ye++)ne=v.g=w[ye],K=zr(ne,I,!1,v)&&K}en.prototype.N=function(){if(en.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let I=0;I<w.length;I++)ve(w[I]);delete c.g[v],c.h--}}this.G=null},en.prototype.J=function(c,v,w,I){return this.i.add(String(c),v,!1,w,I)},en.prototype.K=function(c,v,w,I){return this.i.add(String(c),v,!0,w,I)};function zr(c,v,w,I){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let K=!0;for(let ne=0;ne<v.length;++ne){const ye=v[ne];if(ye&&!ye.da&&ye.capture==w){const Ke=ye.listener,mn=ye.ha||ye.src;ye.fa&&Ie(c.i,ye),K=Ke.call(mn,I)!==!1&&K}}return K&&!I.defaultPrevented}function hl(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(c,v||0)}function ca(c){c.g=hl(()=>{c.g=null,c.i&&(c.i=!1,ca(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Gn extends L{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(c){L.call(this),this.h=c,this.g={}}S(Ki,L);var Ci=[];function Os(c){Ne(c.g,function(v,w){this.g.hasOwnProperty(w)&&Ur(v)},c),c.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),Os(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=h.JSON.stringify,ha=h.JSON.parse,_r=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Wi(){}function vr(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yn(){U.call(this,"d")}S(yn,U);function ti(){U.call(this,"c")}S(ti,U);var Kt={},fa=null;function qr(){return fa=fa||new en}Kt.Ia="serverreachability";function to(c){U.call(this,Kt.Ia,c)}S(to,U);function Vi(c){const v=qr();fn(v,new to(v))}Kt.STAT_EVENT="statevent";function as(c,v){U.call(this,Kt.STAT_EVENT,c),this.stat=v}S(as,U);function Wt(c){const v=qr();fn(v,new as(v,c))}Kt.Ja="timingevent";function Nt(c,v){U.call(this,Kt.Ja,c),this.size=v}S(Nt,U);function zt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Lt(c,v,w,I,K,ne){c.info(function(){if(c.g)if(ne){var ye="",Ke=ne.split("&");for(let rt=0;rt<Ke.length;rt++){var mn=Ke[rt].split("=");if(mn.length>1){const wt=mn[0];mn=mn[1];const rr=wt.split("_");ye=rr.length>=2&&rr[1]=="type"?ye+(wt+"="+mn+"&"):ye+(wt+"=redacted&")}}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+I+") [attempt "+K+"]: "+v+`
`+w+`
`+ye})}function fi(c,v,w,I,K,ne,ye){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+K+"]: "+v+`
`+w+`
`+ne+" "+ye})}function Xi(c,v,w,I){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Er(c,w)+(I?" "+I:"")})}function br(c,v){c.info(function(){return"TIMEOUT: "+v})}$n.prototype.info=function(){};function Er(c,v){if(!c.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(c=0;c<ne.length;c++)if(Array.isArray(ne[c])){var w=ne[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var K=I[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ye=1;ye<I.length;ye++)I[ye]=""}}}}return Br(ne)}catch{return v}}var xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},os={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fr;function Tr(){}S(Tr,Wi),Tr.prototype.g=function(){return new XMLHttpRequest},Fr=new Tr;function Ui(c){return encodeURIComponent(String(c))}function Ms(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function di(c,v,w,I){this.j=c,this.i=v,this.l=w,this.S=I||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _n}function _n(){this.i=null,this.g="",this.h=!1}var Bt={},vn={};function Ri(c,v,w){c.M=1,c.A=js(dn(v)),c.u=w,c.R=!0,Qe(c,null)}function Qe(c,v){c.F=Date.now(),lt(c),c.B=dn(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),ks(w.i,"t",I),c.C=0,w=c.j.L,c.h=new _n,c.g=nu(c.j,w?v:null,!c.u),c.P>0&&(c.O=new Gn(y(c.Y,c,c.g),c.P)),v=c.V,w=c.g,I=c.ba;var K="readystatechange";Array.isArray(K)||(K&&(Ci[0]=K.toString()),K=Ci);for(let ne=0;ne<K.length;ne++){const ye=ge(w,K[ne],I||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Vi(),Lt(c.i,c.v,c.B,c.l,c.S,c.u)}di.prototype.ba=function(c){c=c.target;const v=this.O;v&&nr(c)==3?v.j():this.Y(c)},di.prototype.Y=function(c){try{if(c==this.g)e:{const Ke=nr(this.g),mn=this.g.ya(),rt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||In(this.g)))){this.K||Ke!=4||mn==7||(mn==8||rt<=0?Vi(3):Vi(2)),Ft(this);var v=this.g.ca();this.X=v;var w=qt(this);if(this.o=v==200,fi(this.i,this.v,this.B,this.l,this.S,Ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,K=this.g;if((I=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(I)){var ne=I;break t}}ne=null}if(c=ne)Xi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,c);else{this.o=!1,this.m=3,Wt(12),On(this),Yn(this);break e}}if(this.R){c=!0;let wt;for(;!this.K&&this.C<w.length;)if(wt=Et(this,w),wt==vn){Ke==4&&(this.m=4,Wt(14),c=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Bt){this.m=4,Wt(15),Xi(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Xi(this.i,this.l,wt,null),ni(this,wt);if(bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||w.length!=0||this.h.h||(this.m=1,Wt(16),c=!1),this.o=this.o&&c,!c)Xi(this.i,this.l,w,"[Invalid Chunked Response]"),On(this),Yn(this);else if(w.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),uo(ye),ye.P=!0,Wt(11))}}else Xi(this.i,this.l,w,null),ni(this,w);Ke==4&&On(this),this.o&&!this.K&&(Ke==4?eu(this.j,this):(this.o=!1,lt(this)))}else Cr(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),On(this),Yn(this)}}}catch{}finally{}};function qt(c){if(!bt(c))return c.g.la();const v=In(c.g);if(v==="")return"";let w="";const I=v.length,K=nr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return On(c),Yn(c),"";c.h.i=new h.TextDecoder}for(let ne=0;ne<I;ne++)c.h.h=!0,w+=c.h.i.decode(v[ne],{stream:!(K&&ne==I-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function bt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Et(c,v){var w=c.C,I=v.indexOf(`
`,w);return I==-1?vn:(w=Number(v.substring(w,I)),isNaN(w)?Bt:(I+=1,I+w>v.length?vn:(v=v.slice(I,I+w),c.C=I+w,v)))}di.prototype.cancel=function(){this.K=!0,On(this)};function lt(c){c.T=Date.now()+c.H,nn(c,c.H)}function nn(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=zt(y(c.aa,c),v)}function Ft(c){c.D&&(h.clearTimeout(c.D),c.D=null)}di.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(br(this.i,this.B),this.M!=2&&(Vi(),Wt(17)),On(this),this.m=2,Yn(this)):nn(this,this.T-c)};function Yn(c){c.j.I==0||c.K||eu(c.j,c)}function On(c){Ft(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Os(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function ni(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||wr(w.h,c))){if(!c.L&&wr(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var K=I;if(K[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)Ea(w),Yr(w);else break e;Us(w),Wt(18)}}else w.xa=K[1],0<w.xa-w.K&&K[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=zt(y(w.Va,w),6e3));mi(w.h)<=1&&w.ta&&(w.ta=void 0)}else Dr(w,11)}else if((c.L||w.g==c)&&Ea(w),!N(v))for(K=w.Ba.g.parse(v),v=0;v<K.length;v++){let rt=K[v];const wt=rt[0];if(!(wt<=w.K))if(w.K=wt,rt=rt[1],w.I==2)if(rt[0]=="c"){w.M=rt[1],w.ba=rt[2];const rr=rt[3];rr!=null&&(w.ka=rr,w.j.info("VER="+w.ka));const Bi=rt[4];Bi!=null&&(w.za=Bi,w.j.info("SVER="+w.za));const Nr=rt[5];Nr!=null&&typeof Nr=="number"&&Nr>0&&(I=1.5*Nr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Or=c.g;if(Or){const wa=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var ne=I.h;ne.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ma(ne,ne.h),ne.h=null))}if(I.G){const ho=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(I.wa=ho,Tt(I.J,I.G,ho))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var ye=c;if(I.na=Ta(I,I.L?I.ba:null,I.W),ye.L){pa(I.h,ye);var Ke=ye,mn=I.O;mn&&(Ke.H=mn),Ke.D&&(Ft(Ke),lt(Ke)),I.g=ye}else yl(I);w.i.length>0&&xr(w)}else rt[0]!="stop"&&rt[0]!="close"||Dr(w,7);else w.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Dr(w,7):ds(w):rt[0]!="noop"&&w.l&&w.l.qa(rt),w.A=0)}}Vi(4)}catch{}}var $t=class{constructor(c,v){this.g=c,this.map=v}};function no(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function wr(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ma(c,v){c.g?c.g.add(v):c.h=v}function pa(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}no.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function io(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return M(c.i)}var fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let K,ne=null;I>=0?(K=c[w].substring(0,I),ne=c[w].substring(I+1)):K=c[w],v(K,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Di(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Di?(this.l=c.l,Cn(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,ro(this,dl(c.i)),this.m=c.m):c&&(v=String(c).match(fl))?(this.l=!1,Cn(this,v[1]||"",!0),this.o=xn(v[2]||""),this.g=xn(v[3]||"",!0),ls(this,v[4]),this.h=xn(v[5]||"",!0),ro(this,v[6]||"",!0),this.m=xn(v[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}Di.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Rn(v,Qn,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Rn(v,Qn,!0),"@"),c.push(Ui(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Rn(w,w.charAt(0)=="/"?ya:so,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Rn(w,Hr)),c.join("")},Di.prototype.resolve=function(c){const v=dn(this);let w=!!c.j;w?Cn(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var I=c.h;if(w)ls(v,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var K=v.h.lastIndexOf("/");K!=-1&&(I=v.h.slice(0,K+1)+I)}if(K=I,K==".."||K==".")I="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){I=K.lastIndexOf("/",0)==0,K=K.split("/");const ne=[];for(let ye=0;ye<K.length;){const Ke=K[ye++];Ke=="."?I&&ye==K.length&&ne.push(""):Ke==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),I&&ye==K.length&&ne.push("")):(ne.push(Ke),I=!0)}I=ne.join("/")}else I=K}return w?v.h=I:w=c.i.toString()!=="",w?ro(v,dl(c.i)):w=!!c.m,w&&(v.m=c.m),v};function dn(c){return new Di(c)}function Cn(c,v,w){c.j=w?xn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function ro(c,v,w){v instanceof Sr?(c.i=v,lo(c.i,c.l)):(w||(v=Rn(v,Kn)),c.i=new Sr(v,c.l))}function Tt(c,v,w){c.i.set(v,w)}function js(c){return Tt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rn(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,bn),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qn=/[#\/\?@]/g,so=/[#\?:]/g,ya=/[#\?]/g,Kn=/[#\?@]/g,Hr=/#/g;function Sr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}i=Sr.prototype,i.add=function(c,v){Dn(this),this.i=null,c=ii(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function ao(c,v){Dn(c),v=ii(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function oo(c,v){return Dn(c),v=ii(c,v),c.g.has(v)}i.forEach=function(c,v){Dn(this),this.g.forEach(function(w,I){w.forEach(function(K){c.call(v,K,I,this)},this)},this)};function Gr(c,v){Dn(c);let w=[];if(typeof v=="string")oo(c,v)&&(w=w.concat(c.g.get(ii(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}i.set=function(c,v){return Dn(this),this.i=null,c=ii(this,c),oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=Gr(this,c),c.length>0?String(c[0]):v):v};function ks(c,v,w){ao(c,v),w.length>0&&(c.i=null,c.g.set(ii(c,v),M(w)),c.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const K=Ui(w);w=Gr(this,w);for(let ne=0;ne<w.length;ne++){let ye=K;w[ne]!==""&&(ye+="="+Ui(w[ne])),c.push(ye)}}return this.i=c.join("&")};function dl(c){const v=new Sr;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function ii(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function lo(c,v){v&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(w,I){const K=I.toLowerCase();I!=K&&(ao(this,I),ks(this,K,w))},c)),c.j=v}function Mn(c,v){const w=new $n;if(h.Image){const I=new Image;I.onload=T(zi,w,"TestLoadImage: loaded",!0,v,I),I.onerror=T(zi,w,"TestLoadImage: error",!1,v,I),I.onabort=T(zi,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=T(zi,w,"TestLoadImage: timeout",!1,v,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else v(!1)}function Ps(c,v){const w=new $n,I=new AbortController,K=setTimeout(()=>{I.abort(),zi(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:I.signal}).then(ne=>{clearTimeout(K),ne.ok?zi(w,"TestPingServer: ok",!0,v):zi(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),zi(w,"TestPingServer: error",!1,v)})}function zi(c,v,w,I,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),I(w)}catch{}}function Ji(){this.g=new _r}function Zi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Zi,Wi),Zi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(c,v){en.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ar,en),i=Ar.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,er(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?us(this):er(this),this.readyState==3&&_a(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,us(this))},i.Na=function(c){this.g&&(this.response=c,us(this))},i.ga=function(){this.g&&us(this)};function us(c){c.readyState=4,c.l=null,c.j=null,c.B=null,er(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wn(c){let v="";return Ne(c,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function va(c,v,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=Wn(w),typeof c=="string"?w!=null&&Ui(w):Tt(c,v,w))}function Rt(c){en.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Rt,en);var tr=/^https?$/i,Ls=["POST","PUT"];i=Rt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fr.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ne){cs(this,ne);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var K in I)w.set(K,I[K]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ne of I.keys())w.set(ne,I.get(ne));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),K=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Ls,v,void 0)>=0)||I||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of w)this.g.setRequestHeader(ne,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(ne){cs(this,ne)}};function cs(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,ml(c),hs(c)}function ml(c){c.A||(c.A=!0,fn(c,"complete"),fn(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,fn(this,"complete"),fn(this,"abort"),hs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},i.Xa=function(){$r(this)};function $r(c){if(c.h&&typeof u<"u"){if(c.v&&nr(c)==4)setTimeout(c.Ca.bind(c),0);else if(fn(c,"readystatechange"),nr(c)==4){c.h=!1;try{const ne=c.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var I;if(I=ne===0){let ye=String(c.D).match(fl)[1]||null;!ye&&h.self&&h.self.location&&(ye=h.self.location.protocol.slice(0,-1)),I=!tr.test(ye?ye.toLowerCase():"")}w=I}if(w)fn(c,"complete"),fn(c,"success");else{c.o=6;try{var K=nr(c)>2?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.ca()+"]",ml(c)}}finally{hs(c)}}}}function hs(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||fn(c,"ready");try{w.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}i.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ha(v)}};function In(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cr(c){const v={};c=(c.g&&nr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(N(c[I]))continue;var w=Ms(c[I]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=v[K]||[];v[K]=ne,ne.push(w)}Oe(v,function(I){return I.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function fs(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,c),this.Za=ir("retryDelaySeedMs",1e4,c),this.Ta=ir("forwardChannelMaxRetries",2,c),this.va=ir("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new no(c&&c.concurrentRequestLimit),this.Ba=new Ji,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=fs.prototype,i.ka=8,i.I=1,i.connect=function(c,v,w,I){Wt(0),this.W=c,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Ta(this,null,this.W),xr(this)};function ds(c){if(ba(c),c.I==3){var v=c.V++,w=dn(c.J);if(Tt(w,"SID",c.M),Tt(w,"RID",v),Tt(w,"TYPE","terminate"),Vs(c,w),v=new di(c,c.j,v),v.M=2,v.A=js(dn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.A,w=!0),w||(v.g=nu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),lt(v)}_l(c)}function Yr(c){c.g&&(uo(c),c.g.cancel(),c.g=null)}function ba(c){Yr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function xr(c){if(!da(c.h)&&!c.m){c.m=!0;var v=c.Ea;we||O(),be||(we(),be=!0),k.add(v,c),c.D=0}}function Rr(c,v){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=zt(y(c.Ea,c,v),tu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const K=new di(this,this.j,c);let ne=this.o;if(this.U&&(ne?(ne=D(ne),me(ne,this.U)):ne=this.U),this.u!==null||this.R||(K.J=ne,ne=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=gl(this,K,v),w=dn(this.J),Tt(w,"RID",c),Tt(w,"CVER",22),this.G&&Tt(w,"X-HTTP-Session-Id",this.G),Vs(this,w),ne&&(this.R?v="headers="+Ui(Wn(ne))+"&"+v:this.u&&va(w,this.u,ne)),ma(this.h,K),this.Ra&&Tt(w,"TYPE","init"),this.S?(Tt(w,"$req",v),Tt(w,"SID","null"),K.U=!0,Ri(K,w,null)):Ri(K,w,v),this.I=2}}else this.I==3&&(c?pl(this,c):this.i.length==0||da(this.h)||pl(this))};function pl(c,v){var w;v?w=v.l:w=c.V++;const I=dn(c.J);Tt(I,"SID",c.M),Tt(I,"RID",w),Tt(I,"AID",c.K),Vs(c,I),c.u&&c.o&&va(I,c.u,c.o),w=new di(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=gl(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ma(c.h,w),Ri(w,I,v)}function Vs(c,v){c.H&&Ne(c.H,function(w,I){Tt(v,I,w)}),c.l&&Ne({},function(w,I){Tt(v,I,w)})}function gl(c,v,w){w=Math.min(c.i.length,w);const I=c.l?y(c.l.Ka,c.l,c):null;e:{var K=c.i;let Ke=-1;for(;;){const mn=["count="+w];Ke==-1?w>0?(Ke=K[0].g,mn.push("ofs="+Ke)):Ke=0:mn.push("ofs="+Ke);let rt=!0;for(let wt=0;wt<w;wt++){var ne=K[wt].g;const rr=K[wt].map;if(ne-=Ke,ne<0)Ke=Math.max(0,K[wt].g-100),rt=!1;else try{ne="req"+ne+"_"||"";try{var ye=rr instanceof Map?rr:Object.entries(rr);for(const[Bi,Nr]of ye){let Or=Nr;p(Nr)&&(Or=Br(Nr)),mn.push(ne+Bi+"="+encodeURIComponent(Or))}}catch(Bi){throw mn.push(ne+"type="+encodeURIComponent("_badmap")),Bi}}catch{I&&I(rr)}}if(rt){ye=mn.join("&");break e}}ye=void 0}return c=c.i.splice(0,w),v.G=c,ye}function yl(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;we||O(),be||(we(),be=!0),k.add(v,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=zt(y(c.Da,c),tu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=zt(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),Yr(this),co(this))};function uo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function co(c){c.g=new di(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=dn(c.na);Tt(v,"RID","rpc"),Tt(v,"SID",c.M),Tt(v,"AID",c.K),Tt(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Tt(v,"TO",c.ia),Tt(v,"TYPE","xmlhttp"),Vs(c,v),c.u&&c.o&&va(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=js(dn(v)),w.u=null,w.R=!0,Qe(w,c)}i.Va=function(){this.C!=null&&(this.C=null,Yr(this),Us(this),Wt(19))};function Ea(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function eu(c,v){var w=null;if(c.g==v){Ea(c),uo(c),c.g=null;var I=2}else if(wr(c.h,v))w=v.G,pa(c.h,v),I=1;else return;if(c.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var K=c.D;I=qr(),fn(I,new Nt(I,w)),xr(c)}else yl(c);else if(K=v.m,K==3||K==0&&v.X>0||!(I==1&&Rr(c,v)||I==2&&Us(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),K){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function tu(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function Dr(c,v){if(c.j.info("Error code "+v),v==2){var w=y(c.bb,c),I=c.Ua;const K=!I;I=new Di(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Cn(I,"https"),js(I),K?Mn(I.toString(),w):Ps(I.toString(),w)}else Wt(2);c.I=0,c.l&&c.l.pa(v),_l(c),ba(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function _l(c){if(c.I=0,c.ja=[],c.l){const v=io(c.h);(v.length!=0||c.i.length!=0)&&(Y(c.ja,v),Y(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Ta(c,v,w){var I=w instanceof Di?dn(w):new Di(w);if(I.g!="")v&&(I.g=v+"."+I.g),ls(I,I.u);else{var K=h.location;I=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;const ne=new Di(null);I&&Cn(ne,I),v&&(ne.g=v),K&&ls(ne,K),w&&(ne.h=w),I=ne}return w=c.G,v=c.wa,w&&v&&Tt(I,w,v),Tt(I,"VER",c.ka),Vs(c,I),I}function nu(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Rt(new Zi({ab:w})):new Rt(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}i=iu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Qr(){}Qr.prototype.g=function(c,v){return new ri(c,v)};function ri(c,v){en.call(this),this.g=new fs(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!N(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ir(this)}S(ri,en),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ri.prototype.close=function(){ds(this.g)},ri.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=Br(c),c=w);v.i.push(new $t(v.Ya++,c)),v.I==3&&xr(v)},ri.prototype.N=function(){this.g.l=null,delete this.j,ds(this.g),delete this.g,ri.Z.N.call(this)};function vl(c){yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}S(vl,yn);function Kr(){ti.call(this),this.status=1}S(Kr,ti);function Ir(c){this.g=c}S(Ir,iu),Ir.prototype.ra=function(){fn(this.g,"a")},Ir.prototype.qa=function(c){fn(this.g,new vl(c))},Ir.prototype.pa=function(c){fn(this.g,new Kr)},Ir.prototype.oa=function(){fn(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,ri.prototype.send=ri.prototype.o,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,D0=function(){return new Qr},R0=function(){return qr()},x0=Kt,Ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Od=xi,os.COMPLETE="complete",C0=os,vr.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",en.prototype.listen=en.prototype.J,Th=vr,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,A0=Rt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore",iT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Ay("@firebase/firestore");function Mu(){return Hl.logLevel}function xe(i,...e){if(Hl.logLevel<=ht.DEBUG){const n=e.map(Vy);Hl.debug(`Firestore (${oc}): ${i}`,...n)}}function Qa(i,...e){if(Hl.logLevel<=ht.ERROR){const n=e.map(Vy);Hl.error(`Firestore (${oc}): ${i}`,...n)}}function Ku(i,...e){if(Hl.logLevel<=ht.WARN){const n=e.map(Vy);Hl.warn(`Firestore (${oc}): ${i}`,...n)}}function Vy(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,I0(i,s,n)}function I0(i,e,n){let s=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Qa(s),new Error(s)}function kt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||I0(e,o,s)}function Ze(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ja{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ji.UNAUTHENTICATED)))}shutdown(){}}class xN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ha,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ha)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt(typeof s.accessToken=="string",31837,{l:s}),new N0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new ji(e)}}class DN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ji.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const s=u=>{u.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,xe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ON(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ft(i,e){return i<e?-1:i>e?1:0}function zg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return yg(o)===yg(u)?ft(o,u):yg(o)?1:-1}return ft(i.length,e.length)}const MN=55296,jN=57343;function yg(i){const e=i.charCodeAt(0);return e>=MN&&e<=jN}function Wu(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class ea{constructor(e,n,s){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&He(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ea.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ft(e.length,n.length)}static compareSegments(e,n){const s=ea.isNumericId(e),o=ea.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ea.extractNumericId(e).compare(ea.extractNumericId(n)):zg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xo.fromString(e.substring(4,e.length-2))}}class Zt extends ea{construct(e,n,s){return new Zt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Zt(n)}static emptyPath(){return new Zt([])}}const kN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends ea{construct(e,n,s){return new Ei(e,n,s)}static isValidIdentifier(e){return kN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new Ei([sT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(n)}static emptyPath(){return new Ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Zt.fromString(e))}static fromName(e){return new je(Zt.fromString(e).popFirst(5))}static empty(){return new je(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(i,e,n){if(!n)throw new Ae(ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function PN(i,e,n,s){if(e===!0&&s===!0)throw new Ae(ce.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function aT(i){if(!je.isDocumentKey(i))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function oT(i){if(je.isDocumentKey(i))throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function M0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function dm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":He(12329,{type:typeof i})}function Ka(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dm(i);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(i,e){const n={typeString:i};return e&&(n.value=e),n}function ef(i,e){if(!M0(i))throw new Ae(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ae(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=-62135596800,uT=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uT);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lT)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ef(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:qn("string",It._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new It(0,0))}static max(){return new Xe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function LN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Xe.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new Zo(o,je.empty(),e)}function VN(i){return new Zo(i.readTime,i.key,Lh)}class Zo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zo(Xe.min(),je.empty(),Lh)}static max(){return new Zo(Xe.max(),je.empty(),Lh)}}function UN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(i.documentKey,e.documentKey),n!==0?n:ft(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(i){if(i.code!==ce.FAILED_PRECONDITION||i.message!==zN)throw i;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,s)=>{n(e)}))}static reject(e){return new he(((n,s)=>{s(e)}))}static waitFor(e){return new he(((n,s)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=he.resolve(!1);for(const s of e)n=n.next((o=>o?he.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new he(((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((T=>{h[y]=T,++p,p===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new he(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function qN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function pm(i){return i==null}function Qd(i){return i===0&&1/i==-1/0}function FN(i){return typeof i=="number"&&Number.isInteger(i)&&!Qd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="";function HN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=cT(e)),e=GN(i.get(n),e);return cT(e)}function GN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case j0:n+="";break;default:n+=u}}return n}function cT(i){return i+j0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ol(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function k0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||bi.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??bi.RED,this.left=o??bi.EMPTY,this.right=u??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new bi(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return bi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new bi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ei(this.comparator);return n.data=e,n}}class fT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new ei(Ei.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new P0("Invalid base64 string: "+u):u}})(e);return new Si(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(i){if(kt(!!i,39018),typeof i=="string"){let e=0;const n=$N.exec(i);if(kt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nn(i.seconds),nanos:Nn(i.nanos)}}function Nn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function tl(i){return typeof i=="string"?Si.fromBase64String(i):Si.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="server_timestamp",V0="__type__",U0="__previous_value__",z0="__local_write_time__";function By(i){return(i?.mapValue?.fields||{})[V0]?.stringValue===L0}function gm(i){const e=i.mapValue.fields[U0];return By(e)?gm(e):e}function Vh(i){const e=el(i.mapValue.fields[z0].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,s,o,u,h,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Kd="(default)";class Uh{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new Uh("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof Uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__type__",QN="__max__",Ed={mapValue:{}},q0="__vector__",Wd="value";function nl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?By(i)?4:WN(i)?9007199254740991:KN(i)?10:11:He(28295,{value:i})}function oa(i,e){if(i===e)return!0;const n=nl(i);if(n!==nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Vh(i).isEqual(Vh(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=el(o.timestampValue),p=el(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return tl(o.bytesValue).isEqual(tl(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Nn(o.geoPointValue.latitude)===Nn(u.geoPointValue.latitude)&&Nn(o.geoPointValue.longitude)===Nn(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Nn(o.integerValue)===Nn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Nn(o.doubleValue),p=Nn(u.doubleValue);return h===p?Qd(h)===Qd(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Wu(i.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(hT(h)!==hT(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!oa(h[g],p[g])))return!1;return!0})(i,e);default:return He(52216,{left:i})}}function zh(i,e){return(i.values||[]).find((n=>oa(n,e)))!==void 0}function Xu(i,e){if(i===e)return 0;const n=nl(i),s=nl(e);if(n!==s)return ft(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Nn(u.integerValue||u.doubleValue),g=Nn(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return dT(i.timestampValue,e.timestampValue);case 4:return dT(Vh(i),Vh(e));case 5:return zg(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=tl(u),g=tl(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=ft(p[y],g[y]);if(T!==0)return T}return ft(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ft(Nn(u.latitude),Nn(h.latitude));return p!==0?p:ft(Nn(u.longitude),Nn(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return mT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[Wd]?.arrayValue,T=g[Wd]?.arrayValue,S=ft(y?.values?.length||0,T?.values?.length||0);return S!==0?S:mT(y,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ed.mapValue&&h===Ed.mapValue)return 0;if(u===Ed.mapValue)return 1;if(h===Ed.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const x=zg(g[S],T[S]);if(x!==0)return x;const M=Xu(p[g[S]],y[T[S]]);if(M!==0)return M}return ft(g.length,T.length)})(i.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function dT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ft(i,e);const n=el(i),s=el(e),o=ft(n.seconds,s.seconds);return o!==0?o:ft(n.nanos,s.nanos)}function mT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Xu(n[o],s[o]);if(u)return u}return ft(n.length,s.length)}function Ju(i){return Bg(i)}function Bg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=el(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return tl(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return je.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Bg(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Bg(n.fields[h])}`;return o+"}"})(i.mapValue):He(61005,{value:i})}function Md(i){switch(nl(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gm(i);return e?16+Md(e):16;case 5:return 2*i.stringValue.length;case 6:return tl(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Md(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ol(s.fields,((u,h)=>{o+=u.length+Md(h)})),o})(i.mapValue);default:throw He(13486,{value:i})}}function pT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qg(i){return!!i&&"integerValue"in i}function qy(i){return!!i&&"arrayValue"in i}function gT(i){return!!i&&"nullValue"in i}function yT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jd(i){return!!i&&"mapValue"in i}function KN(i){return(i?.mapValue?.fields||{})[B0]?.stringValue===q0}function Dh(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ol(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Dh(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dh(i.arrayValue.values[n]);return e}return{...i}}function WN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===QN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(n)}setAll(e){let n=Ei.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=Dh(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ol(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pr(Dh(this.value))}}function F0(i){const e=[];return ol(i.fields,((n,s)=>{const o=new Ei([n]);if(jd(s)){const u=F0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new ki(e,0,Xe.min(),Xe.min(),Xe.min(),pr.empty(),0)}static newFoundDocument(e,n,s,o){return new ki(e,1,n,Xe.min(),s,o,0)}static newNoDocument(e,n){return new ki(e,2,n,Xe.min(),Xe.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new ki(e,3,n,Xe.min(),Xe.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function _T(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=je.comparator(je.fromName(h.referenceValue),n.key):s=Xu(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!oa(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function XN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{}class zn extends H0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ZN(e,n,s):n==="array-contains"?new nO(e,s):n==="in"?new iO(e,s):n==="not-in"?new rO(e,s):n==="array-contains-any"?new sO(e,s):new zn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new eO(e,s):new tO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xu(n,this.value)):n!==null&&nl(this.value)===nl(n)&&this.matchesComparison(Xu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends H0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ds(e,n)}matches(e){return G0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G0(i){return i.op==="and"}function $0(i){return JN(i)&&G0(i)}function JN(i){for(const e of i.filters)if(e instanceof Ds)return!1;return!0}function Fg(i){if(i instanceof zn)return i.field.canonicalString()+i.op.toString()+Ju(i.value);if($0(i))return i.filters.map((e=>Fg(e))).join(",");{const e=i.filters.map((n=>Fg(n))).join(",");return`${i.op}(${e})`}}function Y0(i,e){return i instanceof zn?(function(s,o){return o instanceof zn&&s.op===o.op&&s.field.isEqual(o.field)&&oa(s.value,o.value)})(i,e):i instanceof Ds?(function(s,o){return o instanceof Ds&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,p)=>u&&Y0(h,o.filters[p])),!0):!1})(i,e):void He(19439)}function Q0(i){return i instanceof zn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ju(n.value)}`})(i):i instanceof Ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(Q0).join(" ,")+"}"})(i):"Filter"}class ZN extends zn{constructor(e,n,s){super(e,n,s),this.key=je.fromName(s.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class eO extends zn{constructor(e,n){super(e,"in",n),this.keys=K0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tO extends zn{constructor(e,n){super(e,"not-in",n),this.keys=K0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function K0(i,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class nO extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&zh(n.arrayValue,this.value)}}class iO extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class rO extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zh(this.value.arrayValue,n)}}class sO extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function bT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new aO(i,e,n,s,o,u,h)}function Fy(i){const e=Ze(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),pm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ju(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ju(s))).join(",")),e.Te=n}return e.Te}function Hy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!XN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Y0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vT(i.startAt,e.startAt)&&vT(i.endAt,e.endAt)}function Hg(i){return je.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oO(i,e,n,s,o,u,h,p){return new tf(i,e,n,s,o,u,h,p)}function Gy(i){return new tf(i)}function ET(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function W0(i){return i.collectionGroup!==null}function Ih(i){const e=Ze(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new ei(Ei.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Jd(u,s))})),n.has(Ei.keyField().canonicalString())||e.Ie.push(new Jd(Ei.keyField(),s))}return e.Ie}function ia(i){const e=Ze(i);return e.Ee||(e.Ee=lO(e,Ih(i))),e.Ee}function lO(i,e){if(i.limitType==="F")return bT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Jd(o.field,u)}));const n=i.endAt?new Xd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Xd(i.startAt.position,i.startAt.inclusive):null;return bT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Gg(i,e){const n=i.filters.concat([e]);return new tf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function $g(i,e,n){return new tf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ym(i,e){return Hy(ia(i),ia(e))&&i.limitType===e.limitType}function X0(i){return`${Fy(ia(i))}|lt:${i.limitType}`}function ju(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Q0(o))).join(", ")}]`),pm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ju(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ju(o))).join(",")),`Target(${s})`})(ia(i))}; limitType=${i.limitType})`}function _m(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):je.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Ih(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=_T(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,Ih(s),o)||s.endAt&&!(function(h,p,g){const y=_T(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,Ih(s),o))})(i,e)}function uO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function J0(i){return(e,n)=>{let s=!1;for(const o of Ih(i)){const u=cO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cO(i,e,n){const s=i.field.isKeyField()?je.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Xu(g,y):He(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return He(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return k0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new gn(je.comparator);function Wa(){return hO}const Z0=new gn(je.comparator);function wh(...i){let e=Z0;for(const n of i)e=e.insert(n.key,n);return e}function eS(i){let e=Z0;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Vl(){return Nh()}function tS(){return Nh()}function Nh(){return new Wl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const fO=new gn(je.comparator),dO=new ei(je.comparator);function mt(...i){let e=dO;for(const n of i)e=e.add(n);return e}const mO=new ei(ft);function pO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function nS(i){return{integerValue:""+i}}function gO(i,e){return FN(e)?nS(e):$y(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function yO(i,e,n){return i instanceof Bh?(function(o,u){const h={fields:{[V0]:{stringValue:L0},[z0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&By(u)&&(u=gm(u)),u&&(h.fields[U0]=u),{mapValue:h}})(n,e):i instanceof qh?rS(i,e):i instanceof Fh?sS(i,e):(function(o,u){const h=iS(o,u),p=TT(h)+TT(o.Ae);return qg(h)&&qg(o.Ae)?nS(p):$y(o.serializer,p)})(i,e)}function _O(i,e,n){return i instanceof qh?rS(i,e):i instanceof Fh?sS(i,e):n}function iS(i,e){return i instanceof Zd?(function(s){return qg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bh extends vm{}class qh extends vm{constructor(e){super(),this.elements=e}}function rS(i,e){const n=aS(e);for(const s of i.elements)n.some((o=>oa(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Fh extends vm{constructor(e){super(),this.elements=e}}function sS(i,e){let n=aS(e);for(const s of i.elements)n=n.filter((o=>!oa(o,s)));return{arrayValue:{values:n}}}class Zd extends vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TT(i){return Nn(i.integerValue||i.doubleValue)}function aS(i){return qy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.field=e,this.transform=n}}function bO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof qh&&o instanceof qh||s instanceof Fh&&o instanceof Fh?Wu(s.elements,o.elements,oa):s instanceof Zd&&o instanceof Zd?oa(s.Ae,o.Ae):s instanceof Bh&&o instanceof Bh})(i.transform,e.transform)}class EO{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bm{}function oS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Yy(i.key,Cs.none()):new nf(i.key,i.data,Cs.none());{const n=i.data,s=pr.empty();let o=new ei(Ei.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ll(i.key,s,new Vr(o.toArray()),Cs.none())}}function TO(i,e,n){i instanceof nf?(function(o,u,h){const p=o.value.clone(),g=ST(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof ll?(function(o,u,h){if(!kd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=ST(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(lS(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Oh(i,e,n,s){return i instanceof nf?(function(u,h,p,g){if(!kd(u.precondition,h))return p;const y=u.value.clone(),T=AT(u.fieldTransforms,g,h);return y.setAll(T),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof ll?(function(u,h,p,g){if(!kd(u.precondition,h))return p;const y=AT(u.fieldTransforms,g,h),T=h.data;return T.setAll(lS(u)),T.setAll(y),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,h,p){return kd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function wO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=iS(s.transform,o||null);u!=null&&(n===null&&(n=pr.empty()),n.set(s.field,u))}return n||null}function wT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wu(s,o,((u,h)=>bO(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class nf extends bm{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ll extends bm{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function ST(i,e,n){const s=new Map;kt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,_O(h,p,n[o]))}return s}function AT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,yO(u,h,e))}return s}class Yy extends bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Oh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Oh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=oS(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,((n,s)=>wT(n,s)))&&Wu(this.baseMutations,e.baseMutations,((n,s)=>wT(n,s)))}}class Qy{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){kt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return fO})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Qy(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,yt;function RO(i){switch(i){case ce.OK:return He(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return He(15467,{code:i})}}function uS(i){if(i===void 0)return Qa("GRPC error has no .code"),ce.UNKNOWN;switch(i){case Un.OK:return ce.OK;case Un.CANCELLED:return ce.CANCELLED;case Un.UNKNOWN:return ce.UNKNOWN;case Un.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Un.INTERNAL:return ce.INTERNAL;case Un.UNAVAILABLE:return ce.UNAVAILABLE;case Un.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Un.NOT_FOUND:return ce.NOT_FOUND;case Un.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Un.ABORTED:return ce.ABORTED;case Un.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Un.DATA_LOSS:return ce.DATA_LOSS;default:return He(39323,{code:i})}}(yt=Un||(Un={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new Xo([4294967295,4294967295],0);function CT(i){const e=DO().encode(i),n=new S0;return n.update(e),new Uint8Array(n.digest())}function xT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xo([n,s],0),new Xo([o,u],0)]}class Ky{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sh(`Invalid padding: ${n}`);if(s<0)throw new Sh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Sh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xo.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Xo.fromNumber(s)));return o.compare(IO)===1&&(o=new Xo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CT(e),[s,o]=xT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ky(u,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=CT(e),[s,o]=xT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Em(Xe.min(),o,new gn(ft),Wa(),mt())}}class rf{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new rf(s,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class cS{constructor(e,n){this.targetId=e,this.Ce=n}}class hS{constructor(e,n,s=Si.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class RT{constructor(){this.ve=0,this.Fe=DT(),this.Me=Si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),n=mt(),s=mt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:He(38017,{changeType:u})}})),new rf(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=DT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wa(),this.Je=Td(),this.He=Td(),this.Ye=new gn(ft)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Hg(u))if(s===0){const h=new je(u.path);this.et(n,h,ki.newNoDocument(h,Xe.min()))}else kt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=tl(s).toUint8Array()}catch(g){if(g instanceof P0)return Ku("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Ky(h,o,u)}catch(g){return Ku(g instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Hg(p.target)){const g=new je(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ki.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=mt();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Em(e,n,this.Ye,this.je,s);return this.je=Wa(),this.Je=Td(),this.He=Td(),this.Ye=new gn(ft),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new RT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ei(ft),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ei(ft),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new gn(je.comparator)}function DT(){return new gn(je.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},MO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class kO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(i,e){return i.useProto3Json||pm(e)?e:{value:e}}function em(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function PO(i,e){return em(i,e.toTimestamp())}function ra(i){return kt(!!i,49232),Xe.fromTimestamp((function(n){const s=el(n);return new It(s.seconds,s.nanos)})(i))}function Wy(i,e){return Qg(i,e).canonicalString()}function Qg(i,e){const n=(function(o){return new Zt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function dS(i){const e=Zt.fromString(i);return kt(_S(e),10190,{key:e.toString()}),e}function Kg(i,e){return Wy(i.databaseId,e.path)}function _g(i,e){const n=dS(e);if(n.get(1)!==i.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new je(pS(n))}function mS(i,e){return Wy(i.databaseId,e)}function LO(i){const e=dS(i);return e.length===4?Zt.emptyPath():pS(e)}function Wg(i){return new Zt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pS(i){return kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function IT(i,e,n){return{name:Kg(i,e),fields:n.value.mapValue.fields}}function VO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:He(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(kt(T===void 0||typeof T=="string",58123),Si.fromBase64String(T||"")):(kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Si.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const T=y.code===void 0?ce.UNKNOWN:uS(y.code);return new Ae(T,y.message||"")})(h);n=new hS(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_g(i,s.document.name),u=ra(s.document.updateTime),h=s.document.createTime?ra(s.document.createTime):Xe.min(),p=new pr({mapValue:{fields:s.document.fields}}),g=ki.newFoundDocument(o,u,h,p),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Pd(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_g(i,s.document),u=s.readTime?ra(s.readTime):Xe.min(),h=ki.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Pd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_g(i,s.document),u=s.removedTargetIds||[];n=new Pd([],u,o,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xO(o,u),p=s.targetId;n=new cS(p,h)}}return n}function UO(i,e){let n;if(e instanceof nf)n={update:IT(i,e.key,e.value)};else if(e instanceof Yy)n={delete:Kg(i,e.key)};else if(e instanceof ll)n={update:IT(i,e.key,e.data),updateMask:QO(e.fieldMask)};else{if(!(e instanceof SO))return He(16599,{Vt:e.type});n={verify:Kg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof Bh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof qh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw He(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:PO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:He(27497)})(i,e.precondition)),n}function zO(i,e){return i&&i.length>0?(kt(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?ra(o.updateTime):ra(u);return h.isEqual(Xe.min())&&(h=ra(u)),new EO(h,o.transformResults||[])})(n,e)))):[]}function BO(i,e){return{documents:[mS(i,e.path)]}}function qO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mS(i,o);const u=(function(y){if(y.length!==0)return yS(Ds.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((T=>(function(x){return{field:ku(x.field),direction:GO(x.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Yg(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function FO(i){let e=LO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){kt(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const x=gS(S);return x instanceof Ds&&$0(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((x=>(function(Y){return new Jd(Pu(Y.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(x)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,pm(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(S){const x=!!S.before,M=S.values||[];return new Xd(M,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const x=!S.before,M=S.values||[];return new Xd(M,x)})(n.endAt)),oO(e,o,h,u,p,"F",g,y)}function HO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pu(n.unaryFilter.field);return zn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Pu(n.unaryFilter.field);return zn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Pu(n.unaryFilter.field);return zn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Pu(n.unaryFilter.field);return zn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(i):i.fieldFilter!==void 0?(function(n){return zn.create(Pu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ds.create(n.compositeFilter.filters.map((s=>gS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(i):He(30097,{filter:i})}function GO(i){return OO[i]}function $O(i){return MO[i]}function YO(i){return jO[i]}function ku(i){return{fieldPath:i.canonicalString()}}function Pu(i){return Ei.fromServerFormat(i.fieldPath)}function yS(i){return i instanceof zn?(function(n){if(n.op==="=="){if(yT(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NAN"}};if(gT(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yT(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NOT_NAN"}};if(gT(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(n.field),op:$O(n.op),value:n.value}}})(i):i instanceof Ds?(function(n){const s=n.getFilters().map((o=>yS(o)));return s.length===1?s[0]:{compositeFilter:{op:YO(n.op),filters:s}}})(i):He(54877,{filter:i})}function QO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _S(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,s,o,u=Xe.min(),h=Xe.min(),p=Si.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.yt=e}}function WO(i){const e=FO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$g(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Cn=new JO}addToCollectionParentIndex(e,n){return this.Cn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Zo.min())}updateCollectionGroup(e,n,s){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class JO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new ei(Zt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ei(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(vS,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zu(0)}static cr(){return new Zu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="LruGarbageCollector",ZO=1048576;function MT([i,e],[n,s]){const o=ft(i,n);return o===0?ft(e,s):o}class e2{constructor(e){this.Ir=e,this.buffer=new ei(MT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();MT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(OT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?xe(OT,"Ignoring IndexedDB error during garbage collection: ",n):await lc(n)}await this.Vr(3e5)}))}}class n2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(mm.ce);const s=new e2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(NT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Mu()<=ht.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function i2(i,e){return new n2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new Wl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?he.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Oh(s.mutation,o,Vr.empty(),It.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,mt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=mt()){const o=Vl();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=wh();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Vl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,mt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let u=Wa();const h=Nh(),p=(function(){return Nh()})();return n.forEach(((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ll)?u=u.insert(y.key,y):T!==void 0?(h.set(y.key,T.mutation.getFieldMask()),Oh(T.mutation,y,T.mutation.getFieldMask(),It.now())):h.set(y.key,Vr.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>h.set(y,T))),n.forEach(((y,T)=>p.set(y,new s2(T,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Nh();let o=new gn(((h,p)=>h-p)),u=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||Vr.empty();T=p.applyToLocalView(y,T),s.set(g,T);const S=(o.get(p.batchId)||mt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=tS();T.forEach((x=>{if(!u.has(x)){const M=oS(n.get(x),s.get(x));M!==null&&S.set(x,M),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return he.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return je.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):he.resolve(Vl());let p=Lh,g=u;return h.next((y=>he.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?he.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{g=g.insert(T,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,mt()))).next((T=>({batchId:p,changes:eS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((s=>{let o=wh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=wh();return this.indexManager.getCollectionParents(e,u).next((p=>he.forEach(p,(g=>{const y=(function(S,x){return new tf(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((S,x)=>{h=h.insert(S,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,y)=>{const T=y.getKey();h.get(T)===null&&(h=h.insert(T,ki.newInvalidDocument(T)))}));let p=wh();return h.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Oh(T.mutation,y,Vr.empty(),It.now()),_m(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return he.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ra(o.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:WO(o.bundledQuery),readTime:ra(o.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.overlays=new gn(je.comparator),this.qr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vl();return he.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),he.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),he.resolve()}getOverlaysForCollection(e,n,s){const o=Vl(),u=n.length+1,h=new je(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return he.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new gn(((y,T)=>y-T));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Vl(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Vl(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return he.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new CO(n,s));let u=this.qr.get(n);u===void 0&&(u=mt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Qr=new ei(ci.$r),this.Ur=new ei(ci.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ci(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new ci(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new je(new Zt([])),s=new ci(n,e),o=new ci(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new je(new Zt([])),s=new ci(n,e),o=new ci(n,e+1);let u=mt();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new ci(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ci{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return je.comparator(e.key,n.key)||ft(e.Yr,n.Yr)}static Kr(e,n){return ft(e.Yr,n.Yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ei(ci.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new AO(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new ci(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return he.resolve(h)}lookupMutationBatch(e,n){return he.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return he.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?zy:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ci(n,0),o=new ci(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),he.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ei(ft);return n.forEach((o=>{const u=new ci(o,0),h=new ci(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),he.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;je.isDocumentKey(u)||(u=u.child(""));const h=new ci(new je(u),0);let p=new ei(ft);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),he.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return he.forEach(n.mutations,(o=>{const u=new ci(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new ci(n,0),o=this.Zr.firstAfterOrEqual(s);return he.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.ri=e,this.docs=(function(){return new gn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return he.resolve(s?s.document.mutableCopy():ki.newInvalidDocument(n))}getEntries(e,n){let s=Wa();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ki.newInvalidDocument(o))})),he.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Wa();const h=n.path,p=new je(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||UN(VN(T),s)<=0||(o.has(T.key)||_m(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return he.resolve(u)}getAllFromCollectionGroup(e,n,s,o){He(9500)}ii(e,n){return he.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new f2(this)}getSize(e){return he.resolve(this.size)}}class f2 extends r2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),he.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.persistence=e,this.si=new Wl((n=>Fy(n)),Hy),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=Zu.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),he.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Pr(n),he.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),he.waitFor(u).next((()=>o))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return he.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),he.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),he.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return he.resolve(s)}containsKey(e,n){return he.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.ui={},this.overlays={},this.ci=new mm(0),this.li=!1,this.li=!0,this.hi=new u2,this.referenceDelegate=e(this),this.Pi=new d2(this),this.indexManager=new XO,this.remoteDocumentCache=(function(o){return new h2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KO(n),this.Ii=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new c2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){xe("MemoryPersistence","Starting transaction:",e);const o=new m2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return he.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class m2 extends BN{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Ri=new Xy,this.Vi=null}static mi(e){return new Jy(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),he.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,(s=>{const o=je.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class tm{constructor(e,n){this.persistence=e,this.pi=new Wl((s=>HN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=i2(this,n)}static mi(e,n){return new tm(e,n)}Ei(){}di(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return he.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?he.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,u.removeEntry(h,Xe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),he.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Md(e.data.value)),n}br(e,n,s){return he.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return he.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=mt(),o=mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zy(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Fx()?8:qN(Li())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new p2;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Mu()<=ht.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Mu()<=ht.DEBUG&&xe("QueryEngine","Query:",ju(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Mu()<=ht.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(n))):he.resolve())}ys(e,n){if(ET(n))return he.resolve(null);let s=ia(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$g(n,null,"F"),s=ia(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=mt(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,$g(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return ET(n)||o.isEqual(Xe.min())?he.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?he.resolve(null):(Mu()<=ht.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ju(n)),this.vs(e,h,n,LN(o,Lh)).next((p=>p)))}))}Ds(e,n){let s=new ei(J0(e));return n.forEach(((o,u)=>{_m(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Mu()<=ht.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",ju(n)),this.ps.getDocumentsMatchingQuery(e,n,Zo.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LocalStore",y2=3e8;class _2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new gn(ft),this.xs=new Wl((u=>Fy(u)),Hy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function v2(i,e,n,s){return new _2(i,e,n,s)}async function ES(i,e){const n=Ze(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let g=mt();for(const y of o){h.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function b2(i,e){const n=Ze(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,x=S.keys();let M=he.resolve();return x.forEach((Y=>{M=M.next((()=>T.getEntry(g,Y))).next((Q=>{const V=y.docVersions.get(Y);kt(V!==null,48541),Q.version.compareTo(V)<0&&(S.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),T.addEntry(Q)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function TS(i){const e=Ze(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function E2(i,e){const n=Ze(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const x=o.get(S);if(!x)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let M=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Si.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(S,M),(function(Q,V,F){return Q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=y2?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(x,M,T)&&p.push(n.Pi.updateTargetData(u,M))}));let g=Wa(),y=mt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(T2(u,h,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!s.isEqual(Xe.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return he.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function T2(i,e,n){let s=mt(),o=mt();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Wa();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):xe(e_,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function w2(i,e){const n=Ze(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function S2(i,e){const n=Ze(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,he.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new $o(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Xg(i,e,n){const s=Ze(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!uc(h))throw h;xe(e_,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function jT(i,e,n){const s=Ze(i);let o=Xe.min(),u=mt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,T){const S=Ze(g),x=S.xs.get(T);return x!==void 0?he.resolve(S.Ms.get(x)):S.Pi.getTargetData(y,T)})(s,h,ia(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Xe.min(),n?u:mt()))).next((p=>(A2(s,uO(e),p),{documents:p,Qs:u})))))}function A2(i,e,n){let s=i.Os.get(e)||Xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class kT{constructor(){this.activeTargetIds=pO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C2{constructor(){this.Mo=new kT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class LT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(PT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(PT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function Jg(){return wd===null?wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="RestConnection",R2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Jg(),p=this.zo(e,n.toUriEncodedString());xe(vg,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),T=rc(y);return this.Jo(e,p,g,s,T).then((S=>(xe(vg,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Ku(vg,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=R2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="WebChannelConnection";class N2 extends D2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Jg();return new Promise(((p,g)=>{const y=new A0;y.setWithCredentials(!0),y.listenOnce(C0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Od.NO_ERROR:const S=y.getResponseJson();xe(Mi,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case Od.TIMEOUT:xe(Mi,`RPC '${e}' ${h} timed out`),g(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const x=y.getStatus();if(xe(Mi,`RPC '${e}' ${h} failed with status:`,x,"response text:",y.getResponseText()),x>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const Y=M?.error;if(Y&&Y.status&&Y.message){const Q=(function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(W)>=0?W:ce.UNKNOWN})(Y.status);g(new Ae(Q,Y.message))}else g(new Ae(ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{xe(Mi,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);xe(Mi,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=Jg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=D0(),p=R0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");xe(Mi,`Creating RPC '${e}' stream ${o}: ${T}`,g);const S=h.createWebChannel(T,g);this.I_(S);let x=!1,M=!1;const Y=new I2({Yo:V=>{M?xe(Mi,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(x||(xe(Mi,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),xe(Mi,`RPC '${e}' stream ${o} sending:`,V),S.send(V))},Zo:()=>S.close()}),Q=(V,F,W)=>{V.listen(F,(te=>{try{W(te)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return Q(S,Th.EventType.OPEN,(()=>{M||(xe(Mi,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),Q(S,Th.EventType.CLOSE,(()=>{M||(M=!0,xe(Mi,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),Q(S,Th.EventType.ERROR,(V=>{M||(M=!0,Ku(Mi,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),Y.a_(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))})),Q(S,Th.EventType.MESSAGE,(V=>{if(!M){const F=V.data[0];kt(!!F,16349);const W=F,te=W?.error||W[0]?.error;if(te){xe(Mi,`RPC '${e}' stream ${o} received error:`,te);const _e=te.status;let we=(function(O){const j=Un[O];if(j!==void 0)return uS(j)})(_e),be=te.message;we===void 0&&(we=ce.INTERNAL,be="Unknown error status: "+_e+" with message "+te.message),M=!0,Y.a_(new Ae(we,be)),S.close()}else xe(Mi,`RPC '${e}' stream ${o} received:`,F),Y.u_(F)}})),Q(p,x0.STAT_EVENT,(V=>{V.stat===Ug.PROXY?xe(Mi,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Ug.NOPROXY&&xe(Mi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(i){return new kO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class SS{constructor(e,n,s,o,u,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends SS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Xe.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Xe.min():h.readTime?ra(h.readTime):Xe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wg(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=Hg(g)?{documents:BO(u,g)}:{query:qO(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=fS(u,h.resumeToken);const y=Yg(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Xe.min())>0){p.readTime=em(u,h.snapshotVersion.toTimestamp());const y=Yg(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=HO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.q_(n)}}class M2 extends SS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zO(e.writeResults,e.commitTime),s=ra(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>UO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class k2 extends j2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Qg(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ce.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Qg(n,s),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ae(ce.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class P2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="RemoteStore";class L2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Xl(this)&&(xe(Gl,"Restarting streams for network reachability change."),await(async function(g){const y=Ze(g);y.Ea.add(4),await sf(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wm(y)})(this))}))})),this.Ra=new P2(s,o)}}async function wm(i){if(Xl(i))for(const e of i.da)await e(!0)}async function sf(i){for(const e of i.da)await e(!1)}function AS(i,e){const n=Ze(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),r_(n)?i_(n):cc(n).O_()&&n_(n,e))}function t_(i,e){const n=Ze(i),s=cc(n);n.Ia.delete(e),s.O_()&&CS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xl(n)&&n.Ra.set("Unknown"))}function n_(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cc(i).Y_(e)}function CS(i,e){i.Va.Ue(e),cc(i).Z_(e)}function i_(i){i.Va=new NO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),cc(i).start(),i.Ra.ua()}function r_(i){return Xl(i)&&!cc(i).x_()&&i.Ia.size>0}function Xl(i){return Ze(i).Ea.size===0}function xS(i){i.Va=void 0}async function V2(i){i.Ra.set("Online")}async function U2(i){i.Ia.forEach(((e,n)=>{n_(i,e)}))}async function z2(i,e){xS(i),r_(i)?(i.Ra.ha(e),i_(i)):i.Ra.set("Unknown")}async function B2(i,e,n){if(i.Ra.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){xe(Gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nm(i,s)}else if(e instanceof Pd?i.Va.Ze(e):e instanceof cS?i.Va.st(e):i.Va.tt(e),!n.isEqual(Xe.min()))try{const s=await TS(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Si.EMPTY_BYTE_STRING,T.snapshotVersion)),CS(u,g);const S=new $o(T.target,g,y,T.sequenceNumber);n_(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){xe(Gl,"Failed to raise snapshot:",s),await nm(i,s)}}async function nm(i,e,n){if(!uc(e))throw e;i.Ea.add(1),await sf(i),i.Ra.set("Offline"),n||(n=()=>TS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{xe(Gl,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await wm(i)}))}function RS(i,e){return e().catch((n=>nm(i,n,e)))}async function Sm(i){const e=Ze(i),n=il(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zy;for(;q2(e);)try{const o=await w2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,F2(e,o)}catch(o){await nm(e,o)}DS(e)&&IS(e)}function q2(i){return Xl(i)&&i.Ta.length<10}function F2(i,e){i.Ta.push(e);const n=il(i);n.O_()&&n.X_&&n.ea(e.mutations)}function DS(i){return Xl(i)&&!il(i).x_()&&i.Ta.length>0}function IS(i){il(i).start()}async function H2(i){il(i).ra()}async function G2(i){const e=il(i);for(const n of i.Ta)e.ea(n.mutations)}async function $2(i,e,n){const s=i.Ta.shift(),o=Qy.from(s,e,n);await RS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Sm(i)}async function Y2(i,e){e&&il(i).X_&&await(async function(s,o){if((function(h){return RO(h)&&h!==ce.ABORTED})(o.code)){const u=s.Ta.shift();il(s).B_(),await RS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Sm(s)}})(i,e),DS(i)&&IS(i)}async function UT(i,e){const n=Ze(i);n.asyncQueue.verifyOperationInProgress(),xe(Gl,"RemoteStore received new credentials");const s=Xl(n);n.Ea.add(3),await sf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wm(n)}async function Q2(i,e){const n=Ze(i);e?(n.Ea.delete(2),await wm(n)):e||(n.Ea.add(2),await sf(n),n.Ra.set("Unknown"))}function cc(i){return i.ma||(i.ma=(function(n,s,o){const u=Ze(n);return u.sa(),new O2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:V2.bind(null,i),t_:U2.bind(null,i),r_:z2.bind(null,i),H_:B2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),r_(i)?i_(i):i.Ra.set("Unknown")):(await i.ma.stop(),xS(i))}))),i.ma}function il(i){return i.fa||(i.fa=(function(n,s,o){const u=Ze(n);return u.sa(),new M2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:H2.bind(null,i),r_:Y2.bind(null,i),ta:G2.bind(null,i),na:$2.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Sm(i)):(await i.fa.stop(),i.Ta.length>0&&(xe(Gl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new s_(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(i,e){if(Qa("AsyncQueue",`${e}: ${i}`),uc(i))return new Ae(ce.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||je.comparator(n.key,s.key):(n,s)=>je.comparator(n.key,s.key),this.keyedMap=wh(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Hu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.ga=new gn(je.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ec{constructor(e,n,s,o,u,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new ec(e,n,Hu.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W2{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ze(n),u=o.queries;o.queries=BT(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new Ae(ce.ABORTED,"Firestore shutting down"))}}function BT(){return new Wl((i=>X0(i)),ym)}async function NS(i,e){const n=Ze(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new K2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=a_(h,`Initialization of query '${ju(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&o_(n)}async function OS(i,e){const n=Ze(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function X2(i,e){const n=Ze(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&o_(n)}function J2(i,e,n){const s=Ze(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function o_(i){i.Ca.forEach((e=>{e.next()}))}var Zg,qT;(qT=Zg||(Zg={})).Ma="default",qT.Cache="cache";class MS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ec(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.key=e}}class kS{constructor(e){this.key=e}}class Z2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=J0(e),this.tu=new Hu(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new zT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const x=o.get(T),M=_m(this.query,S)?S:null,Y=!!x&&this.mutatedKeys.has(x.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let V=!1;x&&M?x.data.isEqual(M.data)?Y!==Q&&(s.track({type:3,doc:M}),V=!0):this.su(x,M)||(s.track({type:2,doc:M}),V=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(p=!0)):!x&&M?(s.track({type:0,doc:M}),V=!0):x&&!M&&(s.track({type:1,doc:x}),V=!0,(g||y)&&(p=!0)),V&&(M?(h=h.add(M),u=Q?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,S)=>(function(M,Y){const Q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:V})}};return Q(M)-Q(Y)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new ec(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new kS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new jS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=mt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ec.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const l_="SyncEngine";class eM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class tM{constructor(e){this.key=e,this.hu=!1}}class nM{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Wl((p=>X0(p)),ym),this.Iu=new Map,this.Eu=new Set,this.du=new gn(je.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=Zu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iM(i,e,n=!0){const s=BS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await PS(s,e,n,!0),o}async function rM(i,e){const n=BS(i);await PS(n,e,!0,!1)}async function PS(i,e,n,s){const o=await S2(i.localStore,ia(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await sM(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&AS(i.remoteStore,o),p}async function sM(i,e,n,s,o){i.pu=(S,x,M)=>(async function(Q,V,F,W){let te=V.view.ru(F);te.Cs&&(te=await jT(Q.localStore,V.query,!1).then((({documents:k})=>V.view.ru(k,te))));const _e=W&&W.targetChanges.get(V.targetId),we=W&&W.targetMismatches.get(V.targetId)!=null,be=V.view.applyChanges(te,Q.isPrimaryClient,_e,we);return HT(Q,V.targetId,be.au),be.snapshot})(i,S,x,M);const u=await jT(i.localStore,e,!0),h=new Z2(e,u.Qs),p=h.ru(u.documents),g=rf.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);HT(i,n,y.au);const T=new eM(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function aM(i,e,n){const s=Ze(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ym(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&t_(s.remoteStore,o.targetId),ey(s,o.targetId)})).catch(lc)):(ey(s,o.targetId),await Xg(s.localStore,o.targetId,!0))}async function oM(i,e){const n=Ze(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),t_(n.remoteStore,s.targetId))}async function lM(i,e,n){const s=pM(i);try{const o=await(function(h,p){const g=Ze(h),y=It.now(),T=p.reduce(((M,Y)=>M.add(Y.key)),mt());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let Y=Wa(),Q=mt();return g.Ns.getEntries(M,T).next((V=>{Y=V,Y.forEach(((F,W)=>{W.isValidDocument()||(Q=Q.add(F))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,Y))).next((V=>{S=V;const F=[];for(const W of p){const te=wO(W,S.get(W.key).overlayedDocument);te!=null&&F.push(new ll(W.key,te,F0(te.value.mapValue),Cs.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,F,p)})).next((V=>{x=V;const F=V.applyToLocalDocumentSet(S,Q);return g.documentOverlayCache.saveOverlays(M,V.batchId,F)}))})).then((()=>({batchId:x.batchId,changes:eS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new gn(ft)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,n),await af(s,o.changes),await Sm(s.remoteStore)}catch(o){const u=a_(o,"Failed to persist write");n.reject(u)}}async function LS(i,e){const n=Ze(i);try{const s=await E2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?kt(h.hu,14607):o.removedDocuments.size>0&&(kt(h.hu,42227),h.hu=!1))})),await af(n,s,e)}catch(s){await lc(s)}}function FT(i,e,n){const s=Ze(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ze(h);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const x of S.Sa)x.va(p)&&(y=!0)})),y&&o_(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uM(i,e,n){const s=Ze(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new gn(je.comparator);h=h.insert(u,ki.newNoDocument(u,Xe.min()));const p=mt().add(u),g=new Em(Xe.min(),new Map,new gn(ft),h,p);await LS(s,g),s.du=s.du.remove(u),s.Au.delete(e),u_(s)}else await Xg(s.localStore,e,!1).then((()=>ey(s,e,n))).catch(lc)}async function cM(i,e){const n=Ze(i),s=e.batch.batchId;try{const o=await b2(n.localStore,e);US(n,s,null),VS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await af(n,o)}catch(o){await lc(o)}}async function hM(i,e,n){const s=Ze(i);try{const o=await(function(h,p){const g=Ze(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(kt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);US(s,e,n),VS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await af(s,o)}catch(o){await lc(o)}}function VS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function US(i,e,n){const s=Ze(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ey(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||zS(i,s)}))}function zS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(t_(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),u_(i))}function HT(i,e,n){for(const s of n)s instanceof jS?(i.Ru.addReference(s.key,e),fM(i,s)):s instanceof kS?(xe(l_,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||zS(i,s.key)):He(19791,{wu:s})}function fM(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(xe(l_,"New document in limbo: "+n),i.Eu.add(s),u_(i))}function u_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new je(Zt.fromString(e)),s=i.fu.next();i.Au.set(s,new tM(n)),i.du=i.du.insert(n,s),AS(i.remoteStore,new $o(ia(Gy(n.path)),s,"TargetPurposeLimboResolution",mm.ce))}}async function af(i,e,n){const s=Ze(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Zy.As(g.targetId,y);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const T=Ze(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>he.forEach(y,(x=>he.forEach(x.Es,(M=>T.persistence.referenceDelegate.addReference(S,x.targetId,M))).next((()=>he.forEach(x.ds,(M=>T.persistence.referenceDelegate.removeReference(S,x.targetId,M)))))))))}catch(S){if(!uc(S))throw S;xe(e_,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const M=T.Ms.get(x),Y=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(Y);T.Ms=T.Ms.insert(x,Q)}}})(s.localStore,u))}async function dM(i,e){const n=Ze(i);if(!n.currentUser.isEqual(e)){xe(l_,"User change. New user:",e.toKey());const s=await ES(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ae(ce.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await af(n,s.Ls)}}function mM(i,e){const n=Ze(i),s=n.Au.get(e);if(s&&s.hu)return mt().add(s.key);{let o=mt();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function BS(i){const e=Ze(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uM.bind(null,e),e.Pu.H_=X2.bind(null,e.eventManager),e.Pu.yu=J2.bind(null,e.eventManager),e}function pM(i){const e=Ze(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hM.bind(null,e),e}class im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return v2(this.persistence,new g2,e.initialUser,this.serializer)}Cu(e){return new bS(Jy.mi,this.serializer)}Du(e){return new C2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}im.provider={build:()=>new im};class gM extends im{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof tm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new t2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new bS((s=>tm.mi(s,n)),this.serializer)}}class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,this.syncEngine),await Q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W2})()}createDatastore(e){const n=Tm(e.databaseInfo.databaseId),s=(function(u){return new N2(u)})(e.databaseInfo);return(function(u,h,p,g){return new k2(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,p){return new L2(s,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>FT(this.syncEngine,n,0)),(function(){return LT.v()?new LT:new x2})())}createSyncEngine(e,n){return(function(o,u,h,p,g,y,T){const S=new nM(o,u,h,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ze(n);xe(Gl,"RemoteStore shutting down."),s.Ea.add(5),await sf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="FirestoreClient";class yM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ji.UNAUTHENTICATED,this.clientId=Uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{xe(rl,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(xe(rl,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=a_(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Eg(i,e){i.asyncQueue.verifyOperationInProgress(),xe(rl,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ES(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function GT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await _M(i);xe(rl,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>UT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>UT(e.remoteStore,o))),i._onlineComponents=e}async function _M(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){xe(rl,"Using user provided OfflineComponentProvider");try{await Eg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ku("Error using user provided cache. Falling back to memory cache: "+n),await Eg(i,new im)}}else xe(rl,"Using default OfflineComponentProvider"),await Eg(i,new gM(void 0));return i._offlineComponents}async function FS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(xe(rl,"Using user provided OnlineComponentProvider"),await GT(i,i._uninitializedComponentsProvider._online)):(xe(rl,"Using default OnlineComponentProvider"),await GT(i,new ty))),i._onlineComponents}function vM(i){return FS(i).then((e=>e.syncEngine))}async function HS(i){const e=await FS(i),n=e.eventManager;return n.onListen=iM.bind(null,e.syncEngine),n.onUnlisten=aM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oM.bind(null,e.syncEngine),n}function bM(i,e,n={}){const s=new Ha;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const T=new qS({next:x=>{T.Nu(),h.enqueueAndForget((()=>OS(u,S)));const M=x.docs.has(p);!M&&x.fromCache?y.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&g&&g.source==="server"?y.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new MS(Gy(p.path),T,{includeMetadataChanges:!0,qa:!0});return NS(u,S)})(await HS(i),i.asyncQueue,e,n,s))),s.promise}function EM(i,e,n={}){const s=new Ha;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const T=new qS({next:x=>{T.Nu(),h.enqueueAndForget((()=>OS(u,S))),x.fromCache&&g.source==="server"?y.reject(new Ae(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new MS(p,T,{includeMetadataChanges:!0,qa:!0});return NS(u,S)})(await HS(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firestore.googleapis.com",YT=!0;class QT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$S,this.ssl=YT}else this.host=e.host,this.ssl=e.ssl??YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZO)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Am{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CN;switch(s.type){case"firstParty":return new IN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=$T.get(n);s&&(xe("ComponentProvider","Removing Datastore"),$T.delete(n),s.terminate())})(this),Promise.resolve()}}function TM(i,e,n,s={}){i=Ka(i,Am);const o=rc(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(Lw(`https://${p}`),Vw("Firestore",!0)),u.host!==$S&&u.host!==p&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!Bl(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=ji.MOCK_USER;else{y=jx(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ji(S)}i._authCredentials=new xN(new N0(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class Fn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}toJSON(){return{type:Fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ef(n,Fn._jsonSchema))return new Fn(e,s||null,new je(Zt.fromString(n.referencePath)))}}Fn._jsonSchemaVersion="firestore/documentReference/1.0",Fn._jsonSchema={type:qn("string",Fn._jsonSchemaVersion),referencePath:qn("string")};class Jo extends hc{constructor(e,n,s){super(e,n,Gy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new je(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function wi(i,e,...n){if(i=Hn(i),O0("collection","path",e),i instanceof Am){const s=Zt.fromString(e,...n);return oT(s),new Jo(i,null,s)}{if(!(i instanceof Fn||i instanceof Jo))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(e,...n));return oT(s),new Jo(i.firestore,null,s)}}function Bn(i,e,...n){if(i=Hn(i),arguments.length===1&&(e=Uy.newId()),O0("doc","path",e),i instanceof Am){const s=Zt.fromString(e,...n);return aT(s),new Fn(i,null,new je(s))}{if(!(i instanceof Fn||i instanceof Jo))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(e,...n));return aT(s),new Fn(i.firestore,i instanceof Jo?i.converter:null,new je(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="AsyncQueue";class WT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wS(this,"async_queue_retry"),this._c=()=>{const s=bg();s&&xe(KT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;xe(KT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",XT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=s_.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&He(47125,{Pc:XT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class fc extends Am{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new WT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WT(e),this._firestoreClient=void 0,await e}}}function wM(i,e){const n=typeof i=="object"?i:Ry(),s=typeof i=="string"?i:Kd,o=xy(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ox("firestore");u&&TM(o,...u)}return o}function c_(i){if(i._terminated)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||SM(i),i._firestoreClient}function SM(i){const e=i._freezeSettings(),n=(function(o,u,h,p){return new YN(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,GS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new yM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new is(Si.fromBase64String(e))}catch(n){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new is(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ef(e,is._jsonSchema))return is.fromBase64String(e.bytes)}}is._jsonSchemaVersion="firestore/bytes/1.0",is._jsonSchema={type:qn("string",is._jsonSchemaVersion),bytes:qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sa._jsonSchemaVersion}}static fromJSON(e){if(ef(e,sa._jsonSchema))return new sa(e.latitude,e.longitude)}}sa._jsonSchemaVersion="firestore/geoPoint/1.0",sa._jsonSchema={type:qn("string",sa._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ef(e,aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new aa(e.vectorValues);throw new Ae(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}aa._jsonSchemaVersion="firestore/vectorValue/1.0",aa._jsonSchema={type:qn("string",aa._jsonSchemaVersion),vectorValues:qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^__.*__$/;class CM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ll(e,this.data,this.fieldMask,n,this.fieldTransforms):new nf(e,this.data,n,this.fieldTransforms)}}class YS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ll(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:i})}}class h_{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new h_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QS(this.Ac)&&AM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tm(e)}Cc(e,n,s,o=!1){return new h_({Ac:e,methodName:n,Dc:s,path:Ei.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f_(i){const e=i._freezeSettings(),n=Tm(i._databaseId);return new xM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function RM(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);m_("Data must be an object, but it was:",h,s);const p=KS(s,h);let g,y;if(u.merge)g=new Vr(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const x=ny(e,S,n);if(!h.contains(x))throw new Ae(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);XS(T,x)||T.push(x)}g=new Vr(T),y=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=h.fieldTransforms;return new CM(new pr(p),g,y)}class Rm extends xm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rm}}class d_ extends xm{_toFieldTransform(e){return new vO(e.path,new Bh)}isEqual(e){return e instanceof d_}}function DM(i,e,n,s){const o=i.Cc(1,e,n);m_("Data must be an object, but it was:",o,s);const u=[],h=pr.empty();ol(s,((g,y)=>{const T=p_(e,g,n);y=Hn(y);const S=o.yc(T);if(y instanceof Rm)u.push(T);else{const x=of(y,S);x!=null&&(u.push(T),h.set(T,x))}}));const p=new Vr(u);return new YS(h,p,o.fieldTransforms)}function IM(i,e,n,s,o,u){const h=i.Cc(1,e,n),p=[ny(e,s,n)],g=[o];if(u.length%2!=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(ny(e,u[x])),g.push(u[x+1]);const y=[],T=pr.empty();for(let x=p.length-1;x>=0;--x)if(!XS(y,p[x])){const M=p[x];let Y=g[x];Y=Hn(Y);const Q=h.yc(M);if(Y instanceof Rm)y.push(M);else{const V=of(Y,Q);V!=null&&(y.push(M),T.set(M,V))}}const S=new Vr(y);return new YS(T,S,h.fieldTransforms)}function NM(i,e,n,s=!1){return of(n,i.Cc(s?4:3,e))}function of(i,e){if(WS(i=Hn(i)))return m_("Unsupported field value:",e,i),KS(i,e);if(i instanceof xm)return(function(s,o){if(!QS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const p of s){let g=of(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:em(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:em(o.serializer,u)}}if(s instanceof sa)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof is)return{bytesValue:fS(o.serializer,s._byteString)};if(s instanceof Fn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof aa)return(function(h,p){return{mapValue:{fields:{[B0]:{stringValue:q0},[Wd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return $y(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${dm(s)}`)})(i,e)}function KS(i,e){const n={};return k0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(i,((s,o)=>{const u=of(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function WS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof sa||i instanceof is||i instanceof Fn||i instanceof xm||i instanceof aa)}function m_(i,e,n){if(!WS(n)||!M0(n)){const s=dm(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ny(i,e,n){if((e=Hn(e))instanceof Cm)return e._internalPath;if(typeof e=="string")return p_(i,e);throw rm("Field path arguments must be of type string or ",i,!1,void 0,n)}const OM=new RegExp("[~\\*/\\[\\]]");function p_(i,e,n){if(e.search(OM)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Cm(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rm(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new Ae(ce.INVALID_ARGUMENT,p+i+g)}function XS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MM extends JS{data(){return super.data()}}function g_(i,e){return typeof e=="string"?p_(i,e):e instanceof Cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ae(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}class kM extends y_{}function sl(i,e,...n){let s=[];e instanceof y_&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof __)).length,p=u.filter((g=>g instanceof Dm)).length;if(h>1||h>0&&p>0)throw new Ae(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Dm extends kM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Dm(e,n,s)}_apply(e){const n=this._parse(e);return ZS(e._query,n),new hc(e.firestore,e.converter,Gg(e._query,n))}_parse(e){const n=f_(e.firestore);return(function(u,h,p,g,y,T,S){let x;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){ZT(S,T);const Y=[];for(const Q of S)Y.push(JT(g,u,Q));x={arrayValue:{values:Y}}}else x=JT(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||ZT(S,T),x=NM(p,h,S,T==="in"||T==="not-in");return zn.create(y,T,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function al(i,e,n){const s=e,o=g_("where",i);return Dm._create(o,s,n)}class __ extends y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new __(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)ZS(h,g),h=Gg(h,g)})(e._query,n),new hc(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JT(i,e,n){if(typeof(n=Hn(n))=="string"){if(n==="")throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(e)&&n.indexOf("/")!==-1)throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Zt.fromString(n));if(!je.isDocumentKey(s))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pT(i,new je(s))}if(n instanceof Fn)return pT(i,n._key);throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(n)}.`)}function ZT(i,e){if(!Array.isArray(i)||i.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(i,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PM{convertValue(e,n="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ol(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Wd].arrayValue?.values?.map((s=>Nn(s.doubleValue)));return new aa(n)}convertGeoPoint(e){return new sa(Nn(e.latitude),Nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){const n=el(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Zt.fromString(e);kt(_S(s),9688,{name:e});const o=new Uh(s.get(1),s.get(3)),u=new je(s.popFirst(5));return o.isEqual(n)||Qa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends JS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(g_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ul._jsonSchema={type:qn("string",Ul._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class Ld extends Ul{data(e={}){return super.data(e)}}class Gu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ah(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ld(this._firestore,this._userDataWriter,s.key,s,new Ah(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Ld(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ah(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Ld(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ah(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),T=h.indexOf(p.doc.key)),{type:VM(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(i){i=Ka(i,Fn);const e=Ka(i.firestore,fc);return bM(c_(e),i._key).then((n=>UM(e,i,n)))}Gu._jsonSchemaVersion="firestore/querySnapshot/1.0",Gu._jsonSchema={type:qn("string",Gu._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class eA extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function Pi(i){i=Ka(i,hc);const e=Ka(i.firestore,fc),n=c_(e),s=new eA(e);return jM(i._query),EM(n,i._query).then((o=>new Gu(e,s,i,o)))}function $l(i,e,n,...s){i=Ka(i,Fn);const o=Ka(i.firestore,fc),u=f_(o);let h;return h=typeof(e=Hn(e))=="string"||e instanceof Cm?IM(u,"updateDoc",i._key,e,n,s):DM(u,"updateDoc",i._key,e),v_(o,[h.toMutation(i._key,Cs.exists(!0))])}function tA(i){return v_(Ka(i.firestore,fc),[new Yy(i._key,Cs.none())])}function nA(i,e){const n=Ka(i.firestore,fc),s=Bn(i),o=LM(i.converter,e);return v_(n,[RM(f_(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Cs.exists(!1))]).then((()=>s))}function v_(i,e){return(function(s,o){const u=new Ha;return s.asyncQueue.enqueueAndForget((async()=>lM(await vM(s),o,u))),u.promise})(c_(i),e)}function UM(i,e,n){const s=n.docs.get(e._key),o=new eA(i);return new Ul(i,o,e._key,s,new Ah(n.hasPendingWrites,n.fromCache),e.converter)}function Hh(){return new d_("serverTimestamp")}(function(e,n=!0){(function(o){oc=o})(sc),$u(new ql("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new fc(new RN(s.getProvider("auth-internal")),new NN(h,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(y.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ko(nT,iT,e),Ko(nT,iT,"esm2020")})();const zM={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},iA=XR().length?Ry():Bw(zM),ua=SN(iA),dt=wM(iA),rA=z.createContext(),ss=()=>z.useContext(rA);function BM({children:i}){const[e,n]=z.useState(null),[s,o]=z.useState(null),[u,h]=z.useState(!0);return z.useEffect(()=>{const p=dI(ua,async g=>{if(g){n(g);const y=await la(Bn(dt,"users",g.uid));y.exists()?o({uid:g.uid,...y.data()}):o({uid:g.uid})}else n(null),o(null);h(!1)});return()=>p()},[]),u?_.jsx("div",{className:"loading-screen",children:"Loading..."}):_.jsx(rA.Provider,{value:{user:e,profile:s,loading:u},children:i})}function qM(){const{logout:i}=ss(),e=Yl(),n=async()=>{try{await ky(ua),e("/login")}catch(s){console.error("Error logging out:",s)}};return _.jsxs("aside",{className:"sidebar",children:[_.jsx("h2",{className:"logo",children:"SalamatDoc"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(ws,{to:"/admin/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),_.jsx("li",{children:_.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}function FM(){const{user:i}=ss(),e=Yl(),n=async()=>{try{await ky(ua),e("/login")}catch(s){console.error("Error logging out:",s)}};return _.jsxs("aside",{className:"sidebar",children:[_.jsx("h2",{className:"logo",children:"SalamatDoc"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(ws,{to:"/doctor/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),_.jsx("li",{children:_.jsx(ws,{to:"/doctor/patients",className:({isActive:s})=>s?"active":"",children:"Patients"})}),_.jsx("li",{children:_.jsx(ws,{to:"/doctor/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),_.jsx("li",{children:_.jsx(ws,{to:"/doctor/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),_.jsx("li",{children:_.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}function HM(){const{logout:i}=ss(),e=Yl(),n=async()=>{try{await ky(ua),e("/login")}catch(s){console.error("Error logging out:",s)}};return _.jsxs("aside",{className:"sidebar",children:[_.jsx("h2",{className:"logo",children:"SalamatDoc"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(ws,{to:"/patient/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),_.jsx("li",{children:_.jsx(ws,{to:"/patient/dailies/medicine",className:({isActive:s})=>s?"active":"",children:"Dailies  Medicine"})}),_.jsx("li",{children:_.jsx(ws,{to:"/patient/dailies/food",className:({isActive:s})=>s?"active":"",children:"Dailies  Food"})}),_.jsx("li",{children:_.jsx(ws,{to:"/patient/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),_.jsx("li",{children:_.jsx(ws,{to:"/patient/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),_.jsx("li",{children:_.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}var Vd={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var GM=Vd.exports,ew;function $M(){return ew||(ew=1,(function(i,e){(function(n,s){i.exports=s()})(GM,function(){const n=new Map,s={set(A,d,b){n.has(A)||n.set(A,new Map);const R=n.get(A);R.has(d)||R.size===0?R.set(d,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(R.keys())[0]}.`)},get:(A,d)=>n.has(A)&&n.get(A).get(d)||null,remove(A,d){if(!n.has(A))return;const b=n.get(A);b.delete(d),b.size===0&&n.delete(A)}},o="transitionend",u=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,b)=>`#${CSS.escape(b)}`)),A),h=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),p=A=>{A.dispatchEvent(new Event(o))},g=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),y=A=>g(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(u(A)):null,T=A=>{if(!g(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",b=A.closest("details:not([open])");if(!b)return d;if(b!==A){const R=A.closest("summary");if(R&&R.parentNode!==b||R===null)return!1}return d},S=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),x=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?x(A.parentNode):null},M=()=>{},Y=A=>{A.offsetHeight},Q=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,V=[],F=()=>document.documentElement.dir==="rtl",W=A=>{var d;d=()=>{const b=Q();if(b){const R=A.NAME,q=b.fn[R];b.fn[R]=A.jQueryInterface,b.fn[R].Constructor=A,b.fn[R].noConflict=()=>(b.fn[R]=q,A.jQueryInterface)}},document.readyState==="loading"?(V.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of V)b()}),V.push(d)):d()},te=(A,d=[],b=A)=>typeof A=="function"?A.call(...d):b,_e=(A,d,b=!0)=>{if(!b)return void te(A);const R=(re=>{if(!re)return 0;let{transitionDuration:fe,transitionDelay:pe}=window.getComputedStyle(re);const Se=Number.parseFloat(fe),Ce=Number.parseFloat(pe);return Se||Ce?(fe=fe.split(",")[0],pe=pe.split(",")[0],1e3*(Number.parseFloat(fe)+Number.parseFloat(pe))):0})(d)+5;let q=!1;const G=({target:re})=>{re===d&&(q=!0,d.removeEventListener(o,G),te(A))};d.addEventListener(o,G),setTimeout(()=>{q||p(d)},R)},we=(A,d,b,R)=>{const q=A.length;let G=A.indexOf(d);return G===-1?!b&&R?A[q-1]:A[0]:(G+=b?1:-1,R&&(G=(G+q)%q),A[Math.max(0,Math.min(G,q-1))])},be=/[^.]*(?=\..*)\.|.*/,k=/\..*/,O=/::\d+$/,j={};let L=1;const U={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function N(A,d){return d&&`${d}::${L++}`||A.uidEvent||L++}function de(A){const d=N(A);return A.uidEvent=d,j[d]=j[d]||{},j[d]}function Pe(A,d,b=null){return Object.values(A).find(R=>R.callable===d&&R.delegationSelector===b)}function Z(A,d,b){const R=typeof d=="string",q=R?b:d||b;let G=Oe(A);return H.has(G)||(G=A),[R,q,G]}function ae(A,d,b,R,q){if(typeof d!="string"||!A)return;let[G,re,fe]=Z(d,b,R);d in U&&(re=(ze=>function(qe){if(!qe.relatedTarget||qe.relatedTarget!==qe.delegateTarget&&!qe.delegateTarget.contains(qe.relatedTarget))return ze.call(this,qe)})(re));const pe=de(A),Se=pe[fe]||(pe[fe]={}),Ce=Pe(Se,re,G?b:null);if(Ce)return void(Ce.oneOff=Ce.oneOff&&q);const Ee=N(re,d.replace(be,"")),$e=G?(function(Ue,ze,qe){return function ke(At){const Ot=Ue.querySelectorAll(ze);for(let{target:Ge}=At;Ge&&Ge!==this;Ge=Ge.parentNode)for(const tt of Ot)if(tt===Ge)return se(At,{delegateTarget:Ge}),ke.oneOff&&D.off(Ue,At.type,ze,qe),qe.apply(Ge,[At])}})(A,b,re):(function(Ue,ze){return function qe(ke){return se(ke,{delegateTarget:Ue}),qe.oneOff&&D.off(Ue,ke.type,ze),ze.apply(Ue,[ke])}})(A,re);$e.delegationSelector=G?b:null,$e.callable=re,$e.oneOff=q,$e.uidEvent=Ee,Se[Ee]=$e,A.addEventListener(fe,$e,G)}function ve(A,d,b,R,q){const G=Pe(d[b],R,q);G&&(A.removeEventListener(b,G,!!q),delete d[b][G.uidEvent])}function Ne(A,d,b,R){const q=d[b]||{};for(const[G,re]of Object.entries(q))G.includes(R)&&ve(A,d,b,re.callable,re.delegationSelector)}function Oe(A){return A=A.replace(k,""),U[A]||A}const D={on(A,d,b,R){ae(A,d,b,R,!1)},one(A,d,b,R){ae(A,d,b,R,!0)},off(A,d,b,R){if(typeof d!="string"||!A)return;const[q,G,re]=Z(d,b,R),fe=re!==d,pe=de(A),Se=pe[re]||{},Ce=d.startsWith(".");if(G===void 0){if(Ce)for(const Ee of Object.keys(pe))Ne(A,pe,Ee,d.slice(1));for(const[Ee,$e]of Object.entries(Se)){const Ue=Ee.replace(O,"");fe&&!d.includes(Ue)||ve(A,pe,re,$e.callable,$e.delegationSelector)}}else{if(!Object.keys(Se).length)return;ve(A,pe,re,G,q?b:null)}},trigger(A,d,b){if(typeof d!="string"||!A)return null;const R=Q();let q=null,G=!0,re=!0,fe=!1;d!==Oe(d)&&R&&(q=R.Event(d,b),R(A).trigger(q),G=!q.isPropagationStopped(),re=!q.isImmediatePropagationStopped(),fe=q.isDefaultPrevented());const pe=se(new Event(d,{bubbles:G,cancelable:!0}),b);return fe&&pe.preventDefault(),re&&A.dispatchEvent(pe),pe.defaultPrevented&&q&&q.preventDefault(),pe}};function se(A,d={}){for(const[b,R]of Object.entries(d))try{A[b]=R}catch{Object.defineProperty(A,b,{configurable:!0,get:()=>R})}return A}function me(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function Te(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Ie={setDataAttribute(A,d,b){A.setAttribute(`data-bs-${Te(d)}`,b)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${Te(d)}`)},getDataAttributes(A){if(!A)return{};const d={},b=Object.keys(A.dataset).filter(R=>R.startsWith("bs")&&!R.startsWith("bsConfig"));for(const R of b){let q=R.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1),d[q]=me(A.dataset[R])}return d},getDataAttribute:(A,d)=>me(A.getAttribute(`data-bs-${Te(d)}`))};class Le{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,b){const R=g(b)?Ie.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof R=="object"?R:{},...g(b)?Ie.getDataAttributes(b):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,b=this.constructor.DefaultType){for(const[R,q]of Object.entries(b)){const G=d[R],re=g(G)?"element":h(G);if(!new RegExp(q).test(re))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${R}" provided type "${re}" but expected type "${q}".`)}}}class Ve extends Le{constructor(d,b){super(),(d=y(d))&&(this._element=d,this._config=this._getConfig(b),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,b,R=!0){_e(d,b,R)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(y(d),this.DATA_KEY)}static getOrCreateInstance(d,b={}){return this.getInstance(d)||new this(d,typeof b=="object"?b:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Pt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let b=A.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),d=b&&b!=="#"?b.trim():null}return d?d.split(",").map(b=>u(b)).join(","):null},ge={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(b=>b.matches(d)),parents(A,d){const b=[];let R=A.parentNode.closest(d);for(;R;)b.push(R),R=R.parentNode.closest(d);return b},prev(A,d){let b=A.previousElementSibling;for(;b;){if(b.matches(d))return[b];b=b.previousElementSibling}return[]},next(A,d){let b=A.nextElementSibling;for(;b;){if(b.matches(d))return[b];b=b.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(b=>!S(b)&&T(b))},getSelectorFromElement(A){const d=Pt(A);return d&&ge.findOne(d)?d:null},getElementFromSelector(A){const d=Pt(A);return d?ge.findOne(d):null},getMultipleElementsFromSelector(A){const d=Pt(A);return d?ge.find(d):[]}},Ai=(A,d="hide")=>{const b=`click.dismiss${A.EVENT_KEY}`,R=A.NAME;D.on(document,b,`[data-bs-dismiss="${R}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),S(this))return;const G=ge.getElementFromSelector(this)||this.closest(`.${R}`);A.getOrCreateInstance(G)[d]()})},gr=".bs.alert",yr=`close${gr}`,Ur=`closed${gr}`;class ot extends Ve{static get NAME(){return"alert"}close(){if(D.trigger(this._element,yr).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),D.trigger(this._element,Ur),this.dispose()}static jQueryInterface(d){return this.each(function(){const b=ot.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}Ai(ot,"close"),W(ot);const Qi='[data-bs-toggle="button"]';class Qt extends Ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const b=Qt.getOrCreateInstance(this);d==="toggle"&&b[d]()})}}D.on(document,"click.bs.button.data-api",Qi,A=>{A.preventDefault();const d=A.target.closest(Qi);Qt.getOrCreateInstance(d).toggle()}),W(Qt);const hi=".bs.swipe",Ns=`touchstart${hi}`,en=`touchmove${hi}`,fn=`touchend${hi}`,zr=`pointerdown${hi}`,hl=`pointerup${hi}`,ca={endCallback:null,leftCallback:null,rightCallback:null},Gn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ki extends Le{constructor(d,b){super(),this._element=d,d&&Ki.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ca}static get DefaultType(){return Gn}static get NAME(){return"swipe"}dispose(){D.off(this._element,hi)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),te(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const b=d/this._deltaX;this._deltaX=0,b&&te(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,zr,d=>this._start(d)),D.on(this._element,hl,d=>this._end(d)),this._element.classList.add("pointer-event")):(D.on(this._element,Ns,d=>this._start(d)),D.on(this._element,en,d=>this._move(d)),D.on(this._element,fn,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ci=".bs.carousel",Os=".data-api",Br="ArrowLeft",ha="ArrowRight",_r="next",Wi="prev",vr="left",An="right",yn=`slide${Ci}`,ti=`slid${Ci}`,Kt=`keydown${Ci}`,fa=`mouseenter${Ci}`,qr=`mouseleave${Ci}`,to=`dragstart${Ci}`,Vi=`load${Ci}${Os}`,as=`click${Ci}${Os}`,Wt="carousel",Nt="active",zt=".active",$n=".carousel-item",Lt=zt+$n,fi={[Br]:An,[ha]:vr},Xi={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},br={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Er extends Ve{constructor(d,b){super(d,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Wt&&this.cycle()}static get Default(){return Xi}static get DefaultType(){return br}static get NAME(){return"carousel"}next(){this._slide(_r)}nextWhenVisible(){!document.hidden&&T(this._element)&&this.next()}prev(){this._slide(Wi)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?D.one(this._element,ti,()=>this.cycle()):this.cycle())}to(d){const b=this._getItems();if(d>b.length-1||d<0)return;if(this._isSliding)return void D.one(this._element,ti,()=>this.to(d));const R=this._getItemIndex(this._getActive());if(R===d)return;const q=d>R?_r:Wi;this._slide(q,b[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&D.on(this._element,Kt,d=>this._keydown(d)),this._config.pause==="hover"&&(D.on(this._element,fa,()=>this.pause()),D.on(this._element,qr,()=>this._maybeEnableCycle())),this._config.touch&&Ki.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of ge.find(".carousel-item img",this._element))D.on(b,to,R=>R.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(vr)),rightCallback:()=>this._slide(this._directionToOrder(An)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ki(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const b=fi[d.key];b&&(d.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const b=ge.findOne(zt,this._indicatorsElement);b.classList.remove(Nt),b.removeAttribute("aria-current");const R=ge.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);R&&(R.classList.add(Nt),R.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const b=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(d,b=null){if(this._isSliding)return;const R=this._getActive(),q=d===_r,G=b||we(this._getItems(),R,q,this._config.wrap);if(G===R)return;const re=this._getItemIndex(G),fe=Ee=>D.trigger(this._element,Ee,{relatedTarget:G,direction:this._orderToDirection(d),from:this._getItemIndex(R),to:re});if(fe(yn).defaultPrevented||!R||!G)return;const pe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(re),this._activeElement=G;const Se=q?"carousel-item-start":"carousel-item-end",Ce=q?"carousel-item-next":"carousel-item-prev";G.classList.add(Ce),Y(G),R.classList.add(Se),G.classList.add(Se),this._queueCallback(()=>{G.classList.remove(Se,Ce),G.classList.add(Nt),R.classList.remove(Nt,Ce,Se),this._isSliding=!1,fe(ti)},R,this._isAnimated()),pe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ge.findOne(Lt,this._element)}_getItems(){return ge.find($n,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return F()?d===vr?Wi:_r:d===vr?_r:Wi}_orderToDirection(d){return F()?d===Wi?vr:An:d===Wi?An:vr}static jQueryInterface(d){return this.each(function(){const b=Er.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}}else b.to(d)})}}D.on(document,as,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=ge.getElementFromSelector(this);if(!d||!d.classList.contains(Wt))return;A.preventDefault();const b=Er.getOrCreateInstance(d),R=this.getAttribute("data-bs-slide-to");return R?(b.to(R),void b._maybeEnableCycle()):Ie.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),D.on(window,Vi,()=>{const A=ge.find('[data-bs-ride="carousel"]');for(const d of A)Er.getOrCreateInstance(d)}),W(Er);const xi=".bs.collapse",os=`show${xi}`,Fr=`shown${xi}`,Tr=`hide${xi}`,Ui=`hidden${xi}`,Ms=`click${xi}.data-api`,di="show",_n="collapse",Bt="collapsing",vn=`:scope .${_n} .${_n}`,Ri='[data-bs-toggle="collapse"]',Qe={parent:null,toggle:!0},qt={parent:"(null|element)",toggle:"boolean"};class bt extends Ve{constructor(d,b){super(d,b),this._isTransitioning=!1,this._triggerArray=[];const R=ge.find(Ri);for(const q of R){const G=ge.getSelectorFromElement(q),re=ge.find(G).filter(fe=>fe===this._element);G!==null&&re.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Qe}static get DefaultType(){return qt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>bt.getOrCreateInstance(q,{toggle:!1}))),d.length&&d[0]._isTransitioning||D.trigger(this._element,os).defaultPrevented)return;for(const q of d)q.hide();const b=this._getDimension();this._element.classList.remove(_n),this._element.classList.add(Bt),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(_n,di),this._element.style[b]="",D.trigger(this._element,Fr)},this._element,!0),this._element.style[b]=`${this._element[R]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,Tr).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,Y(this._element),this._element.classList.add(Bt),this._element.classList.remove(_n,di);for(const b of this._triggerArray){const R=ge.getElementFromSelector(b);R&&!this._isShown(R)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(_n),D.trigger(this._element,Ui)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(di)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=y(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Ri);for(const b of d){const R=ge.getElementFromSelector(b);R&&this._addAriaAndCollapsedClass([b],this._isShown(R))}}_getFirstLevelChildren(d){const b=ge.find(vn,this._config.parent);return ge.find(d,this._config.parent).filter(R=>!b.includes(R))}_addAriaAndCollapsedClass(d,b){if(d.length)for(const R of d)R.classList.toggle("collapsed",!b),R.setAttribute("aria-expanded",b)}static jQueryInterface(d){const b={};return typeof d=="string"&&/show|hide/.test(d)&&(b.toggle=!1),this.each(function(){const R=bt.getOrCreateInstance(this,b);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d]()}})}}D.on(document,Ms,Ri,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of ge.getMultipleElementsFromSelector(this))bt.getOrCreateInstance(d,{toggle:!1}).toggle()}),W(bt);var Et="top",lt="bottom",nn="right",Ft="left",Yn="auto",On=[Et,lt,nn,Ft],ni="start",$t="end",no="clippingParents",da="viewport",mi="popper",wr="reference",ma=On.reduce(function(A,d){return A.concat([d+"-"+ni,d+"-"+$t])},[]),pa=[].concat(On,[Yn]).reduce(function(A,d){return A.concat([d,d+"-"+ni,d+"-"+$t])},[]),io="beforeRead",fl="read",ga="afterRead",Di="beforeMain",dn="main",Cn="afterMain",ls="beforeWrite",ro="write",Tt="afterWrite",js=[io,fl,ga,Di,dn,Cn,ls,ro,Tt];function xn(A){return A?(A.nodeName||"").toLowerCase():null}function Rn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function bn(A){return A instanceof Rn(A).Element||A instanceof Element}function Qn(A){return A instanceof Rn(A).HTMLElement||A instanceof HTMLElement}function so(A){return typeof ShadowRoot<"u"&&(A instanceof Rn(A).ShadowRoot||A instanceof ShadowRoot)}const ya={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(b){var R=d.styles[b]||{},q=d.attributes[b]||{},G=d.elements[b];Qn(G)&&xn(G)&&(Object.assign(G.style,R),Object.keys(q).forEach(function(re){var fe=q[re];fe===!1?G.removeAttribute(re):G.setAttribute(re,fe===!0?"":fe)}))})},effect:function(A){var d=A.state,b={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,b.popper),d.styles=b,d.elements.arrow&&Object.assign(d.elements.arrow.style,b.arrow),function(){Object.keys(d.elements).forEach(function(R){var q=d.elements[R],G=d.attributes[R]||{},re=Object.keys(d.styles.hasOwnProperty(R)?d.styles[R]:b[R]).reduce(function(fe,pe){return fe[pe]="",fe},{});Qn(q)&&xn(q)&&(Object.assign(q.style,re),Object.keys(G).forEach(function(fe){q.removeAttribute(fe)}))})}},requires:["computeStyles"]};function Kn(A){return A.split("-")[0]}var Hr=Math.max,Sr=Math.min,Dn=Math.round;function ao(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function oo(){return!/^((?!chrome|android).)*safari/i.test(ao())}function Gr(A,d,b){d===void 0&&(d=!1),b===void 0&&(b=!1);var R=A.getBoundingClientRect(),q=1,G=1;d&&Qn(A)&&(q=A.offsetWidth>0&&Dn(R.width)/A.offsetWidth||1,G=A.offsetHeight>0&&Dn(R.height)/A.offsetHeight||1);var re=(bn(A)?Rn(A):window).visualViewport,fe=!oo()&&b,pe=(R.left+(fe&&re?re.offsetLeft:0))/q,Se=(R.top+(fe&&re?re.offsetTop:0))/G,Ce=R.width/q,Ee=R.height/G;return{width:Ce,height:Ee,top:Se,right:pe+Ce,bottom:Se+Ee,left:pe,x:pe,y:Se}}function ks(A){var d=Gr(A),b=A.offsetWidth,R=A.offsetHeight;return Math.abs(d.width-b)<=1&&(b=d.width),Math.abs(d.height-R)<=1&&(R=d.height),{x:A.offsetLeft,y:A.offsetTop,width:b,height:R}}function dl(A,d){var b=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(b&&so(b)){var R=d;do{if(R&&A.isSameNode(R))return!0;R=R.parentNode||R.host}while(R)}return!1}function ii(A){return Rn(A).getComputedStyle(A)}function lo(A){return["table","td","th"].indexOf(xn(A))>=0}function Mn(A){return((bn(A)?A.ownerDocument:A.document)||window.document).documentElement}function Ps(A){return xn(A)==="html"?A:A.assignedSlot||A.parentNode||(so(A)?A.host:null)||Mn(A)}function zi(A){return Qn(A)&&ii(A).position!=="fixed"?A.offsetParent:null}function Ji(A){for(var d=Rn(A),b=zi(A);b&&lo(b)&&ii(b).position==="static";)b=zi(b);return b&&(xn(b)==="html"||xn(b)==="body"&&ii(b).position==="static")?d:b||(function(R){var q=/firefox/i.test(ao());if(/Trident/i.test(ao())&&Qn(R)&&ii(R).position==="fixed")return null;var G=Ps(R);for(so(G)&&(G=G.host);Qn(G)&&["html","body"].indexOf(xn(G))<0;){var re=ii(G);if(re.transform!=="none"||re.perspective!=="none"||re.contain==="paint"||["transform","perspective"].indexOf(re.willChange)!==-1||q&&re.willChange==="filter"||q&&re.filter&&re.filter!=="none")return G;G=G.parentNode}return null})(A)||d}function Zi(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function Ar(A,d,b){return Hr(A,Sr(d,b))}function _a(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function us(A,d){return d.reduce(function(b,R){return b[R]=A,b},{})}const er={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,b=A.state,R=A.name,q=A.options,G=b.elements.arrow,re=b.modifiersData.popperOffsets,fe=Kn(b.placement),pe=Zi(fe),Se=[Ft,nn].indexOf(fe)>=0?"height":"width";if(G&&re){var Ce=(function(gt,pt){return _a(typeof(gt=typeof gt=="function"?gt(Object.assign({},pt.rects,{placement:pt.placement})):gt)!="number"?gt:us(gt,On))})(q.padding,b),Ee=ks(G),$e=pe==="y"?Et:Ft,Ue=pe==="y"?lt:nn,ze=b.rects.reference[Se]+b.rects.reference[pe]-re[pe]-b.rects.popper[Se],qe=re[pe]-b.rects.reference[pe],ke=Ji(G),At=ke?pe==="y"?ke.clientHeight||0:ke.clientWidth||0:0,Ot=ze/2-qe/2,Ge=Ce[$e],tt=At-Ee[Se]-Ce[Ue],Ye=At/2-Ee[Se]/2+Ot,it=Ar(Ge,Ye,tt),_t=pe;b.modifiersData[R]=((d={})[_t]=it,d.centerOffset=it-Ye,d)}},effect:function(A){var d=A.state,b=A.options.element,R=b===void 0?"[data-popper-arrow]":b;R!=null&&(typeof R!="string"||(R=d.elements.popper.querySelector(R)))&&dl(d.elements.popper,R)&&(d.elements.arrow=R)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wn(A){return A.split("-")[1]}var va={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rt(A){var d,b=A.popper,R=A.popperRect,q=A.placement,G=A.variation,re=A.offsets,fe=A.position,pe=A.gpuAcceleration,Se=A.adaptive,Ce=A.roundOffsets,Ee=A.isFixed,$e=re.x,Ue=$e===void 0?0:$e,ze=re.y,qe=ze===void 0?0:ze,ke=typeof Ce=="function"?Ce({x:Ue,y:qe}):{x:Ue,y:qe};Ue=ke.x,qe=ke.y;var At=re.hasOwnProperty("x"),Ot=re.hasOwnProperty("y"),Ge=Ft,tt=Et,Ye=window;if(Se){var it=Ji(b),_t="clientHeight",gt="clientWidth";it===Rn(b)&&ii(it=Mn(b)).position!=="static"&&fe==="absolute"&&(_t="scrollHeight",gt="scrollWidth"),(q===Et||(q===Ft||q===nn)&&G===$t)&&(tt=lt,qe-=(Ee&&it===Ye&&Ye.visualViewport?Ye.visualViewport.height:it[_t])-R.height,qe*=pe?1:-1),q!==Ft&&(q!==Et&&q!==lt||G!==$t)||(Ge=nn,Ue-=(Ee&&it===Ye&&Ye.visualViewport?Ye.visualViewport.width:it[gt])-R.width,Ue*=pe?1:-1)}var pt,rn=Object.assign({position:fe},Se&&va),Ii=Ce===!0?(function(oi,Pn){var $i=oi.x,Ni=oi.y,Xt=Pn.devicePixelRatio||1;return{x:Dn($i*Xt)/Xt||0,y:Dn(Ni*Xt)/Xt||0}})({x:Ue,y:qe},Rn(b)):{x:Ue,y:qe};return Ue=Ii.x,qe=Ii.y,pe?Object.assign({},rn,((pt={})[tt]=Ot?"0":"",pt[Ge]=At?"0":"",pt.transform=(Ye.devicePixelRatio||1)<=1?"translate("+Ue+"px, "+qe+"px)":"translate3d("+Ue+"px, "+qe+"px, 0)",pt)):Object.assign({},rn,((d={})[tt]=Ot?qe+"px":"",d[Ge]=At?Ue+"px":"",d.transform="",d))}const tr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,b=A.options,R=b.gpuAcceleration,q=R===void 0||R,G=b.adaptive,re=G===void 0||G,fe=b.roundOffsets,pe=fe===void 0||fe,Se={placement:Kn(d.placement),variation:Wn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:q,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Rt(Object.assign({},Se,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:re,roundOffsets:pe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Rt(Object.assign({},Se,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Ls={passive:!0};const cs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,b=A.instance,R=A.options,q=R.scroll,G=q===void 0||q,re=R.resize,fe=re===void 0||re,pe=Rn(d.elements.popper),Se=[].concat(d.scrollParents.reference,d.scrollParents.popper);return G&&Se.forEach(function(Ce){Ce.addEventListener("scroll",b.update,Ls)}),fe&&pe.addEventListener("resize",b.update,Ls),function(){G&&Se.forEach(function(Ce){Ce.removeEventListener("scroll",b.update,Ls)}),fe&&pe.removeEventListener("resize",b.update,Ls)}},data:{}};var ml={left:"right",right:"left",bottom:"top",top:"bottom"};function $r(A){return A.replace(/left|right|bottom|top/g,function(d){return ml[d]})}var hs={start:"end",end:"start"};function nr(A){return A.replace(/start|end/g,function(d){return hs[d]})}function In(A){var d=Rn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Cr(A){return Gr(Mn(A)).left+In(A).scrollLeft}function ir(A){var d=ii(A),b=d.overflow,R=d.overflowX,q=d.overflowY;return/auto|scroll|overlay|hidden/.test(b+q+R)}function fs(A){return["html","body","#document"].indexOf(xn(A))>=0?A.ownerDocument.body:Qn(A)&&ir(A)?A:fs(Ps(A))}function ds(A,d){var b;d===void 0&&(d=[]);var R=fs(A),q=R===((b=A.ownerDocument)==null?void 0:b.body),G=Rn(R),re=q?[G].concat(G.visualViewport||[],ir(R)?R:[]):R,fe=d.concat(re);return q?fe:fe.concat(ds(Ps(re)))}function Yr(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function ba(A,d,b){return d===da?Yr((function(R,q){var G=Rn(R),re=Mn(R),fe=G.visualViewport,pe=re.clientWidth,Se=re.clientHeight,Ce=0,Ee=0;if(fe){pe=fe.width,Se=fe.height;var $e=oo();($e||!$e&&q==="fixed")&&(Ce=fe.offsetLeft,Ee=fe.offsetTop)}return{width:pe,height:Se,x:Ce+Cr(R),y:Ee}})(A,b)):bn(d)?(function(R,q){var G=Gr(R,!1,q==="fixed");return G.top=G.top+R.clientTop,G.left=G.left+R.clientLeft,G.bottom=G.top+R.clientHeight,G.right=G.left+R.clientWidth,G.width=R.clientWidth,G.height=R.clientHeight,G.x=G.left,G.y=G.top,G})(d,b):Yr((function(R){var q,G=Mn(R),re=In(R),fe=(q=R.ownerDocument)==null?void 0:q.body,pe=Hr(G.scrollWidth,G.clientWidth,fe?fe.scrollWidth:0,fe?fe.clientWidth:0),Se=Hr(G.scrollHeight,G.clientHeight,fe?fe.scrollHeight:0,fe?fe.clientHeight:0),Ce=-re.scrollLeft+Cr(R),Ee=-re.scrollTop;return ii(fe||G).direction==="rtl"&&(Ce+=Hr(G.clientWidth,fe?fe.clientWidth:0)-pe),{width:pe,height:Se,x:Ce,y:Ee}})(Mn(A)))}function xr(A){var d,b=A.reference,R=A.element,q=A.placement,G=q?Kn(q):null,re=q?Wn(q):null,fe=b.x+b.width/2-R.width/2,pe=b.y+b.height/2-R.height/2;switch(G){case Et:d={x:fe,y:b.y-R.height};break;case lt:d={x:fe,y:b.y+b.height};break;case nn:d={x:b.x+b.width,y:pe};break;case Ft:d={x:b.x-R.width,y:pe};break;default:d={x:b.x,y:b.y}}var Se=G?Zi(G):null;if(Se!=null){var Ce=Se==="y"?"height":"width";switch(re){case ni:d[Se]=d[Se]-(b[Ce]/2-R[Ce]/2);break;case $t:d[Se]=d[Se]+(b[Ce]/2-R[Ce]/2)}}return d}function Rr(A,d){d===void 0&&(d={});var b=d,R=b.placement,q=R===void 0?A.placement:R,G=b.strategy,re=G===void 0?A.strategy:G,fe=b.boundary,pe=fe===void 0?no:fe,Se=b.rootBoundary,Ce=Se===void 0?da:Se,Ee=b.elementContext,$e=Ee===void 0?mi:Ee,Ue=b.altBoundary,ze=Ue!==void 0&&Ue,qe=b.padding,ke=qe===void 0?0:qe,At=_a(typeof ke!="number"?ke:us(ke,On)),Ot=$e===mi?wr:mi,Ge=A.rects.popper,tt=A.elements[ze?Ot:$e],Ye=(function(Pn,$i,Ni,Xt){var sn=$i==="clippingParents"?(function(Mt){var an=ds(Ps(Mt)),Jt=["absolute","fixed"].indexOf(ii(Mt).position)>=0&&Qn(Mt)?Ji(Mt):Mt;return bn(Jt)?an.filter(function(jt){return bn(jt)&&dl(jt,Jt)&&xn(jt)!=="body"}):[]})(Pn):[].concat($i),pn=[].concat(sn,[Ni]),Yi=pn[0],Tn=pn.reduce(function(Mt,an){var Jt=ba(Pn,an,Xt);return Mt.top=Hr(Jt.top,Mt.top),Mt.right=Sr(Jt.right,Mt.right),Mt.bottom=Sr(Jt.bottom,Mt.bottom),Mt.left=Hr(Jt.left,Mt.left),Mt},ba(Pn,Yi,Xt));return Tn.width=Tn.right-Tn.left,Tn.height=Tn.bottom-Tn.top,Tn.x=Tn.left,Tn.y=Tn.top,Tn})(bn(tt)?tt:tt.contextElement||Mn(A.elements.popper),pe,Ce,re),it=Gr(A.elements.reference),_t=xr({reference:it,element:Ge,placement:q}),gt=Yr(Object.assign({},Ge,_t)),pt=$e===mi?gt:it,rn={top:Ye.top-pt.top+At.top,bottom:pt.bottom-Ye.bottom+At.bottom,left:Ye.left-pt.left+At.left,right:pt.right-Ye.right+At.right},Ii=A.modifiersData.offset;if($e===mi&&Ii){var oi=Ii[q];Object.keys(rn).forEach(function(Pn){var $i=[nn,lt].indexOf(Pn)>=0?1:-1,Ni=[Et,lt].indexOf(Pn)>=0?"y":"x";rn[Pn]+=oi[Ni]*$i})}return rn}function pl(A,d){d===void 0&&(d={});var b=d,R=b.placement,q=b.boundary,G=b.rootBoundary,re=b.padding,fe=b.flipVariations,pe=b.allowedAutoPlacements,Se=pe===void 0?pa:pe,Ce=Wn(R),Ee=Ce?fe?ma:ma.filter(function(ze){return Wn(ze)===Ce}):On,$e=Ee.filter(function(ze){return Se.indexOf(ze)>=0});$e.length===0&&($e=Ee);var Ue=$e.reduce(function(ze,qe){return ze[qe]=Rr(A,{placement:qe,boundary:q,rootBoundary:G,padding:re})[Kn(qe)],ze},{});return Object.keys(Ue).sort(function(ze,qe){return Ue[ze]-Ue[qe]})}const Vs={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,R=A.name;if(!d.modifiersData[R]._skip){for(var q=b.mainAxis,G=q===void 0||q,re=b.altAxis,fe=re===void 0||re,pe=b.fallbackPlacements,Se=b.padding,Ce=b.boundary,Ee=b.rootBoundary,$e=b.altBoundary,Ue=b.flipVariations,ze=Ue===void 0||Ue,qe=b.allowedAutoPlacements,ke=d.options.placement,At=Kn(ke),Ot=pe||(At!==ke&&ze?(function(Mt){if(Kn(Mt)===Yn)return[];var an=$r(Mt);return[nr(Mt),an,nr(an)]})(ke):[$r(ke)]),Ge=[ke].concat(Ot).reduce(function(Mt,an){return Mt.concat(Kn(an)===Yn?pl(d,{placement:an,boundary:Ce,rootBoundary:Ee,padding:Se,flipVariations:ze,allowedAutoPlacements:qe}):an)},[]),tt=d.rects.reference,Ye=d.rects.popper,it=new Map,_t=!0,gt=Ge[0],pt=0;pt<Ge.length;pt++){var rn=Ge[pt],Ii=Kn(rn),oi=Wn(rn)===ni,Pn=[Et,lt].indexOf(Ii)>=0,$i=Pn?"width":"height",Ni=Rr(d,{placement:rn,boundary:Ce,rootBoundary:Ee,altBoundary:$e,padding:Se}),Xt=Pn?oi?nn:Ft:oi?lt:Et;tt[$i]>Ye[$i]&&(Xt=$r(Xt));var sn=$r(Xt),pn=[];if(G&&pn.push(Ni[Ii]<=0),fe&&pn.push(Ni[Xt]<=0,Ni[sn]<=0),pn.every(function(Mt){return Mt})){gt=rn,_t=!1;break}it.set(rn,pn)}if(_t)for(var Yi=function(Mt){var an=Ge.find(function(Jt){var jt=it.get(Jt);if(jt)return jt.slice(0,Mt).every(function(Ra){return Ra})});if(an)return gt=an,"break"},Tn=ze?3:1;Tn>0&&Yi(Tn)!=="break";Tn--);d.placement!==gt&&(d.modifiersData[R]._skip=!0,d.placement=gt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gl(A,d,b){return b===void 0&&(b={x:0,y:0}),{top:A.top-d.height-b.y,right:A.right-d.width+b.x,bottom:A.bottom-d.height+b.y,left:A.left-d.width-b.x}}function yl(A){return[Et,nn,lt,Ft].some(function(d){return A[d]>=0})}const Us={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,b=A.name,R=d.rects.reference,q=d.rects.popper,G=d.modifiersData.preventOverflow,re=Rr(d,{elementContext:"reference"}),fe=Rr(d,{altBoundary:!0}),pe=gl(re,R),Se=gl(fe,q,G),Ce=yl(pe),Ee=yl(Se);d.modifiersData[b]={referenceClippingOffsets:pe,popperEscapeOffsets:Se,isReferenceHidden:Ce,hasPopperEscaped:Ee},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ce,"data-popper-escaped":Ee})}},uo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,b=A.options,R=A.name,q=b.offset,G=q===void 0?[0,0]:q,re=pa.reduce(function(Ce,Ee){return Ce[Ee]=(function($e,Ue,ze){var qe=Kn($e),ke=[Ft,Et].indexOf(qe)>=0?-1:1,At=typeof ze=="function"?ze(Object.assign({},Ue,{placement:$e})):ze,Ot=At[0],Ge=At[1];return Ot=Ot||0,Ge=(Ge||0)*ke,[Ft,nn].indexOf(qe)>=0?{x:Ge,y:Ot}:{x:Ot,y:Ge}})(Ee,d.rects,G),Ce},{}),fe=re[d.placement],pe=fe.x,Se=fe.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=pe,d.modifiersData.popperOffsets.y+=Se),d.modifiersData[R]=re}},co={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,b=A.name;d.modifiersData[b]=xr({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Ea={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,R=A.name,q=b.mainAxis,G=q===void 0||q,re=b.altAxis,fe=re!==void 0&&re,pe=b.boundary,Se=b.rootBoundary,Ce=b.altBoundary,Ee=b.padding,$e=b.tether,Ue=$e===void 0||$e,ze=b.tetherOffset,qe=ze===void 0?0:ze,ke=Rr(d,{boundary:pe,rootBoundary:Se,padding:Ee,altBoundary:Ce}),At=Kn(d.placement),Ot=Wn(d.placement),Ge=!Ot,tt=Zi(At),Ye=tt==="x"?"y":"x",it=d.modifiersData.popperOffsets,_t=d.rects.reference,gt=d.rects.popper,pt=typeof qe=="function"?qe(Object.assign({},d.rects,{placement:d.placement})):qe,rn=typeof pt=="number"?{mainAxis:pt,altAxis:pt}:Object.assign({mainAxis:0,altAxis:0},pt),Ii=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,oi={x:0,y:0};if(it){if(G){var Pn,$i=tt==="y"?Et:Ft,Ni=tt==="y"?lt:nn,Xt=tt==="y"?"height":"width",sn=it[tt],pn=sn+ke[$i],Yi=sn-ke[Ni],Tn=Ue?-gt[Xt]/2:0,Mt=Ot===ni?_t[Xt]:gt[Xt],an=Ot===ni?-gt[Xt]:-_t[Xt],Jt=d.elements.arrow,jt=Ue&&Jt?ks(Jt):{width:0,height:0},Ra=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},es=Ra[$i],We=Ra[Ni],vt=Ar(0,_t[Xt],jt[Xt]),wn=Ge?_t[Xt]/2-Tn-vt-es-rn.mainAxis:Mt-vt-es-rn.mainAxis,du=Ge?-_t[Xt]/2+Tn+vt+We+rn.mainAxis:an+vt+We+rn.mainAxis,Ws=d.elements.arrow&&Ji(d.elements.arrow),Da=Ws?tt==="y"?Ws.clientTop||0:Ws.clientLeft||0:0,Dl=(Pn=Ii?.[tt])!=null?Pn:0,Il=sn+du-Dl,Ia=Ar(Ue?Sr(pn,sn+wn-Dl-Da):pn,sn,Ue?Hr(Yi,Il):Yi);it[tt]=Ia,oi[tt]=Ia-sn}if(fe){var Of,on=tt==="x"?Et:Ft,Gc=tt==="x"?lt:nn,bs=it[Ye],Nl=Ye==="y"?"height":"width",$c=bs+ke[on],Mf=bs-ke[Gc],Ol=[Et,Ft].indexOf(At)!==-1,mu=(Of=Ii?.[Ye])!=null?Of:0,pu=Ol?$c:bs-_t[Nl]-gt[Nl]-mu+rn.altAxis,li=Ol?bs+_t[Nl]+gt[Nl]-mu-rn.altAxis:Mf,ln=Ue&&Ol?(function(gu,Ml,xo){var yu=Ar(gu,Ml,xo);return yu>xo?xo:yu})(pu,bs,li):Ar(Ue?pu:$c,bs,Ue?li:Mf);it[Ye]=ln,oi[Ye]=ln-bs}d.modifiersData[R]=oi}},requiresIfExists:["offset"]};function eu(A,d,b){b===void 0&&(b=!1);var R,q,G=Qn(d),re=Qn(d)&&(function(Ee){var $e=Ee.getBoundingClientRect(),Ue=Dn($e.width)/Ee.offsetWidth||1,ze=Dn($e.height)/Ee.offsetHeight||1;return Ue!==1||ze!==1})(d),fe=Mn(d),pe=Gr(A,re,b),Se={scrollLeft:0,scrollTop:0},Ce={x:0,y:0};return(G||!G&&!b)&&((xn(d)!=="body"||ir(fe))&&(Se=(R=d)!==Rn(R)&&Qn(R)?{scrollLeft:(q=R).scrollLeft,scrollTop:q.scrollTop}:In(R)),Qn(d)?((Ce=Gr(d,!0)).x+=d.clientLeft,Ce.y+=d.clientTop):fe&&(Ce.x=Cr(fe))),{x:pe.left+Se.scrollLeft-Ce.x,y:pe.top+Se.scrollTop-Ce.y,width:pe.width,height:pe.height}}function tu(A){var d=new Map,b=new Set,R=[];function q(G){b.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(re){if(!b.has(re)){var fe=d.get(re);fe&&q(fe)}}),R.push(G)}return A.forEach(function(G){d.set(G.name,G)}),A.forEach(function(G){b.has(G.name)||q(G)}),R}var Dr={placement:"bottom",modifiers:[],strategy:"absolute"};function _l(){for(var A=arguments.length,d=new Array(A),b=0;b<A;b++)d[b]=arguments[b];return!d.some(function(R){return!(R&&typeof R.getBoundingClientRect=="function")})}function Ta(A){A===void 0&&(A={});var d=A,b=d.defaultModifiers,R=b===void 0?[]:b,q=d.defaultOptions,G=q===void 0?Dr:q;return function(re,fe,pe){pe===void 0&&(pe=G);var Se,Ce,Ee={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dr,G),modifiersData:{},elements:{reference:re,popper:fe},attributes:{},styles:{}},$e=[],Ue=!1,ze={state:Ee,setOptions:function(ke){var At=typeof ke=="function"?ke(Ee.options):ke;qe(),Ee.options=Object.assign({},G,Ee.options,At),Ee.scrollParents={reference:bn(re)?ds(re):re.contextElement?ds(re.contextElement):[],popper:ds(fe)};var Ot,Ge,tt=(function(Ye){var it=tu(Ye);return js.reduce(function(_t,gt){return _t.concat(it.filter(function(pt){return pt.phase===gt}))},[])})((Ot=[].concat(R,Ee.options.modifiers),Ge=Ot.reduce(function(Ye,it){var _t=Ye[it.name];return Ye[it.name]=_t?Object.assign({},_t,it,{options:Object.assign({},_t.options,it.options),data:Object.assign({},_t.data,it.data)}):it,Ye},{}),Object.keys(Ge).map(function(Ye){return Ge[Ye]})));return Ee.orderedModifiers=tt.filter(function(Ye){return Ye.enabled}),Ee.orderedModifiers.forEach(function(Ye){var it=Ye.name,_t=Ye.options,gt=_t===void 0?{}:_t,pt=Ye.effect;if(typeof pt=="function"){var rn=pt({state:Ee,name:it,instance:ze,options:gt});$e.push(rn||function(){})}}),ze.update()},forceUpdate:function(){if(!Ue){var ke=Ee.elements,At=ke.reference,Ot=ke.popper;if(_l(At,Ot)){Ee.rects={reference:eu(At,Ji(Ot),Ee.options.strategy==="fixed"),popper:ks(Ot)},Ee.reset=!1,Ee.placement=Ee.options.placement,Ee.orderedModifiers.forEach(function(pt){return Ee.modifiersData[pt.name]=Object.assign({},pt.data)});for(var Ge=0;Ge<Ee.orderedModifiers.length;Ge++)if(Ee.reset!==!0){var tt=Ee.orderedModifiers[Ge],Ye=tt.fn,it=tt.options,_t=it===void 0?{}:it,gt=tt.name;typeof Ye=="function"&&(Ee=Ye({state:Ee,options:_t,name:gt,instance:ze})||Ee)}else Ee.reset=!1,Ge=-1}}},update:(Se=function(){return new Promise(function(ke){ze.forceUpdate(),ke(Ee)})},function(){return Ce||(Ce=new Promise(function(ke){Promise.resolve().then(function(){Ce=void 0,ke(Se())})})),Ce}),destroy:function(){qe(),Ue=!0}};if(!_l(re,fe))return ze;function qe(){$e.forEach(function(ke){return ke()}),$e=[]}return ze.setOptions(pe).then(function(ke){!Ue&&pe.onFirstUpdate&&pe.onFirstUpdate(ke)}),ze}}var nu=Ta(),iu=Ta({defaultModifiers:[cs,co,tr,ya]}),Qr=Ta({defaultModifiers:[cs,co,tr,ya,uo,Vs,Ea,er,Us]});const ri=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Cn,afterRead:ga,afterWrite:Tt,applyStyles:ya,arrow:er,auto:Yn,basePlacements:On,beforeMain:Di,beforeRead:io,beforeWrite:ls,bottom:lt,clippingParents:no,computeStyles:tr,createPopper:Qr,createPopperBase:nu,createPopperLite:iu,detectOverflow:Rr,end:$t,eventListeners:cs,flip:Vs,hide:Us,left:Ft,main:dn,modifierPhases:js,offset:uo,placements:pa,popper:mi,popperGenerator:Ta,popperOffsets:co,preventOverflow:Ea,read:fl,reference:wr,right:nn,start:ni,top:Et,variationPlacements:ma,viewport:da,write:ro},Symbol.toStringTag,{value:"Module"})),vl="dropdown",Kr=".bs.dropdown",Ir=".data-api",c="ArrowUp",v="ArrowDown",w=`hide${Kr}`,I=`hidden${Kr}`,K=`show${Kr}`,ne=`shown${Kr}`,ye=`click${Kr}${Ir}`,Ke=`keydown${Kr}${Ir}`,mn=`keyup${Kr}${Ir}`,rt="show",wt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rr=`${wt}.${rt}`,Bi=".dropdown-menu",Nr=F()?"top-end":"top-start",Or=F()?"top-start":"top-end",wa=F()?"bottom-end":"bottom-start",ho=F()?"bottom-start":"bottom-end",fo=F()?"left-start":"right-start",Lm=F()?"right-start":"left-start",Vm={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Um={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class sr extends Ve{constructor(d,b){super(d,b),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,Bi)[0]||ge.prev(this._element,Bi)[0]||ge.findOne(Bi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Vm}static get DefaultType(){return Um}static get NAME(){return vl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!D.trigger(this._element,K,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))D.on(b,"mouseover",M);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rt),this._element.classList.add(rt),D.trigger(this._element,ne,d)}}hide(){if(S(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!D.trigger(this._element,w,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))D.off(b,"mouseover",M);this._popper&&this._popper.destroy(),this._menu.classList.remove(rt),this._element.classList.remove(rt),this._element.setAttribute("aria-expanded","false"),Ie.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,I,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!g(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${vl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(ri===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:g(this._config.reference)?d=y(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const b=this._getPopperConfig();this._popper=Qr(d,this._menu,b)}_isShown(){return this._menu.classList.contains(rt)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return fo;if(d.classList.contains("dropstart"))return Lm;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?b?Or:Nr:b?ho:wa}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ie.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...te(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:b}){const R=ge.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>T(q));R.length&&we(R,b,d===v,!R.includes(b)).focus()}static jQueryInterface(d){return this.each(function(){const b=sr.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const b=ge.find(rr);for(const R of b){const q=sr.getInstance(R);if(!q||q._config.autoClose===!1)continue;const G=d.composedPath(),re=G.includes(q._menu);if(G.includes(q._element)||q._config.autoClose==="inside"&&!re||q._config.autoClose==="outside"&&re||q._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const fe={relatedTarget:q._element};d.type==="click"&&(fe.clickEvent=d),q._completeHide(fe)}}static dataApiKeydownHandler(d){const b=/input|textarea/i.test(d.target.tagName),R=d.key==="Escape",q=[c,v].includes(d.key);if(!q&&!R||b&&!R)return;d.preventDefault();const G=this.matches(wt)?this:ge.prev(this,wt)[0]||ge.next(this,wt)[0]||ge.findOne(wt,d.delegateTarget.parentNode),re=sr.getOrCreateInstance(G);if(q)return d.stopPropagation(),re.show(),void re._selectMenuItem(d);re._isShown()&&(d.stopPropagation(),re.hide(),G.focus())}}D.on(document,Ke,wt,sr.dataApiKeydownHandler),D.on(document,Ke,Bi,sr.dataApiKeydownHandler),D.on(document,ye,sr.clearMenus),D.on(document,mn,sr.clearMenus),D.on(document,ye,wt,function(A){A.preventDefault(),sr.getOrCreateInstance(this).toggle()}),W(sr);const pc="backdrop",mo="show",po=`mousedown.bs.${pc}`,zm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ru={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gc extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return zm}static get DefaultType(){return ru}static get NAME(){return pc}show(d){if(!this._config.isVisible)return void te(d);this._append();const b=this._getElement();this._config.isAnimated&&Y(b),b.classList.add(mo),this._emulateAnimation(()=>{te(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(mo),this._emulateAnimation(()=>{this.dispose(),te(d)})):te(d)}dispose(){this._isAppended&&(D.off(this._element,po),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=y(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),D.on(d,po,()=>{te(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){_e(d,this._getElement(),this._config.isAnimated)}}const bl=".bs.focustrap",yc=`focusin${bl}`,_c=`keydown.tab${bl}`,vc="backward",ff={autofocus:!0,trapElement:null},df={autofocus:"boolean",trapElement:"element"};class mf extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ff}static get DefaultType(){return df}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,bl),D.on(document,yc,d=>this._handleFocusin(d)),D.on(document,_c,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,bl))}_handleFocusin(d){const{trapElement:b}=this._config;if(d.target===document||d.target===b||b.contains(d.target))return;const R=ge.focusableChildren(b);R.length===0?b.focus():this._lastTabNavDirection===vc?R[R.length-1].focus():R[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?vc:"forward")}}const pf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gf=".sticky-top",su="padding-right",yf="margin-right";class pi{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,su,b=>b+d),this._setElementAttributes(pf,su,b=>b+d),this._setElementAttributes(gf,yf,b=>b-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,su),this._resetElementAttributes(pf,su),this._resetElementAttributes(gf,yf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,b,R){const q=this.getWidth();this._applyManipulationCallback(d,G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+q)return;this._saveInitialAttribute(G,b);const re=window.getComputedStyle(G).getPropertyValue(b);G.style.setProperty(b,`${R(Number.parseFloat(re))}px`)})}_saveInitialAttribute(d,b){const R=d.style.getPropertyValue(b);R&&Ie.setDataAttribute(d,b,R)}_resetElementAttributes(d,b){this._applyManipulationCallback(d,R=>{const q=Ie.getDataAttribute(R,b);q!==null?(Ie.removeDataAttribute(R,b),R.style.setProperty(b,q)):R.style.removeProperty(b)})}_applyManipulationCallback(d,b){if(g(d))b(d);else for(const R of ge.find(d,this._element))b(R)}}const si=".bs.modal",_f=`hide${si}`,vf=`hidePrevented${si}`,bc=`hidden${si}`,Ec=`show${si}`,Tc=`shown${si}`,Bm=`resize${si}`,go=`click.dismiss${si}`,wc=`mousedown.dismiss${si}`,El=`keydown.dismiss${si}`,Sc=`click${si}.data-api`,Ac="modal-open",zs="show",Bs="modal-static",Cc={backdrop:!0,focus:!0,keyboard:!0},bf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qi extends Ve{constructor(d,b){super(d,b),this._dialog=ge.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new pi,this._addEventListeners()}static get Default(){return Cc}static get DefaultType(){return bf}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||D.trigger(this._element,Ec,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ac),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(D.trigger(this._element,_f).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(zs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){D.off(window,si),D.off(this._dialog,si),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new mf({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=ge.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),Y(this._element),this._element.classList.add(zs),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,Tc,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,El,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),D.on(window,Bm,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,wc,d=>{D.one(this._element,go,b=>{this._element===d.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ac),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,bc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(D.trigger(this._element,vf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Bs)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Bs),this._queueCallback(()=>{this._element.classList.remove(Bs),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),R=b>0;if(R&&!d){const q=F()?"paddingLeft":"paddingRight";this._element.style[q]=`${b}px`}if(!R&&d){const q=F()?"paddingRight":"paddingLeft";this._element.style[q]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,b){return this.each(function(){const R=qi.getOrCreateInstance(this,d);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d](b)}})}}D.on(document,Sc,'[data-bs-toggle="modal"]',function(A){const d=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),D.one(d,Ec,R=>{R.defaultPrevented||D.one(d,bc,()=>{T(this)&&this.focus()})});const b=ge.findOne(".modal.show");b&&qi.getInstance(b).hide(),qi.getOrCreateInstance(d).toggle(this)}),Ai(qi),W(qi);const Wr=".bs.offcanvas",xc=".data-api",Ef=`load${Wr}${xc}`,Tf="show",wf="showing",Sf="hiding",Rc=".offcanvas.show",Af=`show${Wr}`,Dc=`shown${Wr}`,Mr=`hide${Wr}`,Tl=`hidePrevented${Wr}`,Fi=`hidden${Wr}`,yo=`resize${Wr}`,Ic=`click${Wr}${xc}`,au=`keydown.dismiss${Wr}`,ou={backdrop:!0,keyboard:!0,scroll:!1},Nc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gi extends Ve{constructor(d,b){super(d,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ou}static get DefaultType(){return Nc}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||D.trigger(this._element,Af,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new pi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Tf),this._element.classList.remove(wf),D.trigger(this._element,Dc,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(D.trigger(this._element,Mr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Sf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Tf,Sf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new pi().reset(),D.trigger(this._element,Fi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new gc({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():D.trigger(this._element,Tl)}:null})}_initializeFocusTrap(){return new mf({trapElement:this._element})}_addEventListeners(){D.on(this._element,au,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():D.trigger(this._element,Tl))})}static jQueryInterface(d){return this.each(function(){const b=gi.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}D.on(document,Ic,'[data-bs-toggle="offcanvas"]',function(A){const d=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this))return;D.one(d,Fi,()=>{T(this)&&this.focus()});const b=ge.findOne(Rc);b&&b!==d&&gi.getInstance(b).hide(),gi.getOrCreateInstance(d).toggle(this)}),D.on(window,Ef,()=>{for(const A of ge.find(Rc))gi.getOrCreateInstance(A).show()}),D.on(window,yo,()=>{for(const A of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&gi.getOrCreateInstance(A).hide()}),Ai(gi),W(gi);const Oc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},lu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_o=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qm=(A,d)=>{const b=A.nodeName.toLowerCase();return d.includes(b)?!lu.has(b)||!!_o.test(A.nodeValue):d.filter(R=>R instanceof RegExp).some(R=>R.test(b))},Hi={allowList:Oc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Mc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ms={entry:"(string|element|function|null)",selector:"(string|element)"};class Cf extends Le{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Hi}static get DefaultType(){return Mc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[q,G]of Object.entries(this._config.content))this._setContent(d,G,q);const b=d.children[0],R=this._resolvePossibleFunction(this._config.extraClass);return R&&b.classList.add(...R.split(" ")),b}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[b,R]of Object.entries(d))super._typeCheckConfig({selector:b,entry:R},ms)}_setContent(d,b,R){const q=ge.findOne(R,d);q&&((b=this._resolvePossibleFunction(b))?g(b)?this._putElementInTemplate(y(b),q):this._config.html?q.innerHTML=this._maybeSanitize(b):q.textContent=b:q.remove())}_maybeSanitize(d){return this._config.sanitize?(function(b,R,q){if(!b.length)return b;if(q&&typeof q=="function")return q(b);const G=new window.DOMParser().parseFromString(b,"text/html"),re=[].concat(...G.body.querySelectorAll("*"));for(const fe of re){const pe=fe.nodeName.toLowerCase();if(!Object.keys(R).includes(pe)){fe.remove();continue}const Se=[].concat(...fe.attributes),Ce=[].concat(R["*"]||[],R[pe]||[]);for(const Ee of Se)qm(Ee,Ce)||fe.removeAttribute(Ee.nodeName)}return G.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return te(d,[void 0,this])}_putElementInTemplate(d,b){if(this._config.html)return b.innerHTML="",void b.append(d);b.textContent=d.textContent}}const uu=new Set(["sanitize","allowList","sanitizeFn"]),ps="fade",vo="show",xf=".tooltip-inner",cu=".modal",jc="hide.bs.modal",ai="hover",qs="focus",Fs="click",hu={AUTO:"auto",TOP:"top",RIGHT:F()?"left":"right",BOTTOM:"bottom",LEFT:F()?"right":"left"},wl={allowList:Oc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ar={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class jn extends Ve{constructor(d,b){if(ri===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return wl}static get DefaultType(){return ar}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(cu),jc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=D.trigger(this._element,this.constructor.eventName("show")),b=(x(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!b)return;this._disposePopper();const R=this._getTipElement();this._element.setAttribute("aria-describedby",R.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(R),D.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(R),R.classList.add(vo),"ontouchstart"in document.documentElement)for(const G of[].concat(...document.body.children))D.on(G,"mouseover",M);this._queueCallback(()=>{D.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!D.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(vo),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))D.off(d,"mouseover",M);this._activeTrigger[Fs]=!1,this._activeTrigger[qs]=!1,this._activeTrigger[ai]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const b=this._getTemplateFactory(d).toHtml();if(!b)return null;b.classList.remove(ps,vo),b.classList.add(`bs-${this.constructor.NAME}-auto`);const R=(q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q})(this.constructor.NAME).toString();return b.setAttribute("id",R),this._isAnimated()&&b.classList.add(ps),b}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Cf({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[xf]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ps)}_isShown(){return this.tip&&this.tip.classList.contains(vo)}_createPopper(d){const b=te(this._config.placement,[this,d,this._element]),R=hu[b.toUpperCase()];return Qr(this._element,d,this._getPopperConfig(R))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_resolvePossibleFunction(d){return te(d,[this._element,this._element])}_getPopperConfig(d){const b={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:R=>{this._getTipElement().setAttribute("data-popper-placement",R.state.placement)}}]};return{...b,...te(this._config.popperConfig,[void 0,b])}}_setListeners(){const d=this._config.trigger.split(" ");for(const b of d)if(b==="click")D.on(this._element,this.constructor.eventName("click"),this._config.selector,R=>{const q=this._initializeOnDelegatedTarget(R);q._activeTrigger[Fs]=!(q._isShown()&&q._activeTrigger[Fs]),q.toggle()});else if(b!=="manual"){const R=b===ai?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),q=b===ai?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");D.on(this._element,R,this._config.selector,G=>{const re=this._initializeOnDelegatedTarget(G);re._activeTrigger[G.type==="focusin"?qs:ai]=!0,re._enter()}),D.on(this._element,q,this._config.selector,G=>{const re=this._initializeOnDelegatedTarget(G);re._activeTrigger[G.type==="focusout"?qs:ai]=re._element.contains(G.relatedTarget),re._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(cu),jc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,b){clearTimeout(this._timeout),this._timeout=setTimeout(d,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const b=Ie.getDataAttributes(this._element);for(const R of Object.keys(b))uu.has(R)&&delete b[R];return d={...b,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:y(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[b,R]of Object.entries(this._config))this.constructor.Default[b]!==R&&(d[b]=R);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const b=jn.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}W(jn);const Hs=".popover-header",Xr=".popover-body",Jr={...jn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gs={...jn.DefaultType,content:"(null|string|element|function)"};class Sl extends jn{static get Default(){return Jr}static get DefaultType(){return gs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Hs]:this._getTitle(),[Xr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const b=Sl.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}W(Sl);const Al=".bs.scrollspy",kc=`activate${Al}`,Pc=`click${Al}`,Xn=`load${Al}.data-api`,St="active",nt="[href]",ys=".nav-link",or=`${ys}, .nav-item > ${ys}, .list-group-item`,Lc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Gs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class bo extends Ve{constructor(d,b){super(d,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lc}static get DefaultType(){return Gs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=y(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(b=>Number.parseFloat(b))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,Pc),D.on(this._config.target,Pc,nt,d=>{const b=this._observableSections.get(d.target.hash);if(b){d.preventDefault();const R=this._rootElement||window,q=b.offsetTop-this._element.offsetTop;if(R.scrollTo)return void R.scrollTo({top:q,behavior:"smooth"});R.scrollTop=q}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),d)}_observerCallback(d){const b=re=>this._targetLinks.get(`#${re.target.id}`),R=re=>{this._previousScrollData.visibleEntryTop=re.target.offsetTop,this._process(b(re))},q=(this._rootElement||document.documentElement).scrollTop,G=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const re of d){if(!re.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(re));continue}const fe=re.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(G&&fe){if(R(re),!q)return}else G||fe||R(re)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ge.find(nt,this._config.target);for(const b of d){if(!b.hash||S(b))continue;const R=ge.findOne(decodeURI(b.hash),this._element);T(R)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,R))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(St),this._activateParents(d),D.trigger(this._element,kc,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ge.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(St);else for(const b of ge.parents(d,".nav, .list-group"))for(const R of ge.prev(b,or))R.classList.add(St)}_clearActiveClass(d){d.classList.remove(St);const b=ge.find(`${nt}.${St}`,d);for(const R of b)R.classList.remove(St)}static jQueryInterface(d){return this.each(function(){const b=bo.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}D.on(window,Xn,()=>{for(const A of ge.find('[data-bs-spy="scroll"]'))bo.getOrCreateInstance(A)}),W(bo);const $s=".bs.tab",Eo=`hide${$s}`,Sa=`hidden${$s}`,Vc=`show${$s}`,Cl=`shown${$s}`,Uc=`click${$s}`,Aa=`keydown${$s}`,_s=`load${$s}`,Ys="ArrowLeft",Zr="ArrowRight",zc="ArrowUp",fu="ArrowDown",Qs="Home",xl="End",Gi="active",kn="fade",To="show",Bc=".dropdown-toggle",qc=`:not(${Bc})`,Rf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Fc=`.nav-link${qc}, .list-group-item${qc}, [role="tab"]${qc}, ${Rf}`,En=`.${Gi}[data-bs-toggle="tab"], .${Gi}[data-bs-toggle="pill"], .${Gi}[data-bs-toggle="list"]`;class vs extends Ve{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,Aa,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const b=this._getActiveElem(),R=b?D.trigger(b,Eo,{relatedTarget:d}):null;D.trigger(d,Vc,{relatedTarget:b}).defaultPrevented||R&&R.defaultPrevented||(this._deactivate(b,d),this._activate(d,b))}_activate(d,b){d&&(d.classList.add(Gi),this._activate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),D.trigger(d,Cl,{relatedTarget:b})):d.classList.add(To)},d,d.classList.contains(kn)))}_deactivate(d,b){d&&(d.classList.remove(Gi),d.blur(),this._deactivate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),D.trigger(d,Sa,{relatedTarget:b})):d.classList.remove(To)},d,d.classList.contains(kn)))}_keydown(d){if(![Ys,Zr,zc,fu,Qs,xl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const b=this._getChildren().filter(q=>!S(q));let R;if([Qs,xl].includes(d.key))R=b[d.key===Qs?0:b.length-1];else{const q=[Zr,fu].includes(d.key);R=we(b,d.target,q,!0)}R&&(R.focus({preventScroll:!0}),vs.getOrCreateInstance(R).show())}_getChildren(){return ge.find(Fc,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,b){this._setAttributeIfNotExists(d,"role","tablist");for(const R of b)this._setInitialAttributesOnChild(R)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const b=this._elemIsActive(d),R=this._getOuterElement(d);d.setAttribute("aria-selected",b),R!==d&&this._setAttributeIfNotExists(R,"role","presentation"),b||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const b=ge.getElementFromSelector(d);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,b){const R=this._getOuterElement(d);if(!R.classList.contains("dropdown"))return;const q=(G,re)=>{const fe=ge.findOne(G,R);fe&&fe.classList.toggle(re,b)};q(Bc,Gi),q(".dropdown-menu",To),R.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(d,b,R){d.hasAttribute(b)||d.setAttribute(b,R)}_elemIsActive(d){return d.classList.contains(Gi)}_getInnerElement(d){return d.matches(Fc)?d:ge.findOne(Fc,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const b=vs.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}D.on(document,Uc,Rf,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this)||vs.getOrCreateInstance(this).show()}),D.on(window,_s,()=>{for(const A of ge.find(En))vs.getOrCreateInstance(A)}),W(vs);const lr=".bs.toast",Rl=`mouseover${lr}`,Hc=`mouseout${lr}`,wo=`focusin${lr}`,So=`focusout${lr}`,Fm=`hide${lr}`,Df=`hidden${lr}`,Hm=`show${lr}`,If=`shown${lr}`,Ks="hide",Ao="show",Ca="showing",Nf={animation:"boolean",autohide:"boolean",delay:"number"},Co={animation:!0,autohide:!0,delay:5e3};class xa extends Ve{constructor(d,b){super(d,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Co}static get DefaultType(){return Nf}static get NAME(){return"toast"}show(){D.trigger(this._element,Hm).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ks),Y(this._element),this._element.classList.add(Ao,Ca),this._queueCallback(()=>{this._element.classList.remove(Ca),D.trigger(this._element,If),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(D.trigger(this._element,Fm).defaultPrevented||(this._element.classList.add(Ca),this._queueCallback(()=>{this._element.classList.add(Ks),this._element.classList.remove(Ca,Ao),D.trigger(this._element,Df)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ao),super.dispose()}isShown(){return this._element.classList.contains(Ao)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,b){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const R=d.relatedTarget;this._element===R||this._element.contains(R)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,Rl,d=>this._onInteraction(d,!0)),D.on(this._element,Hc,d=>this._onInteraction(d,!1)),D.on(this._element,wo,d=>this._onInteraction(d,!0)),D.on(this._element,So,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const b=xa.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d](this)}})}}return Ai(xa),W(xa),{Alert:ot,Button:Qt,Carousel:Er,Collapse:bt,Dropdown:sr,Modal:qi,Offcanvas:gi,Popover:Sl,ScrollSpy:bo,Tab:vs,Toast:xa,Tooltip:jn}})})(Vd)),Vd.exports}$M();function YM(){return _.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:_.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[_.jsxs(Lu,{className:"navbar-brand fw-bold fs-1",to:"/",children:[_.jsx("span",{className:"text-dark",children:"Salamat"}),_.jsx("span",{className:"text-white",children:"Doc"})]}),_.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:_.jsx("span",{className:"navbar-toggler-icon"})}),_.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:_.jsxs("ul",{className:"navbar-nav",children:[_.jsx("li",{className:"nav-item",children:_.jsx(Lu,{className:"nav-link text-dark",to:"/login",children:"Login"})}),_.jsxs("li",{className:"nav-item dropdown",children:[_.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),_.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[_.jsx("li",{children:_.jsx(Lu,{className:"dropdown-item",to:"/about",children:"About Us"})}),_.jsx("li",{children:_.jsx(Lu,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function QM(){const{user:i,profile:e,loading:n}=ss(),s=Xa();if(n)return _.jsx("div",{children:"Loading..."});const o=e?.role||null;let u=null;o==="admin"&&s.pathname.startsWith("/admin")?u=_.jsx(qM,{}):o==="doctor"&&s.pathname.startsWith("/doctor")?u=_.jsx(FM,{}):o==="patient"&&s.pathname.startsWith("/patient")&&(u=_.jsx(HM,{}));const h=!u;return _.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[u&&_.jsx("div",{style:{width:"250px",flexShrink:0},children:u}),_.jsxs("div",{style:{flexGrow:1},children:[h&&_.jsx(YM,{}),_.jsx(HC,{})]})]})}function Lr({children:i}){const{user:e,loading:n}=ss();return n?_.jsx("div",{className:"loading-screen",children:"Loading..."}):e?i:_.jsx(FC,{to:"/login"})}function KM(){return _.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:_.jsxs("div",{className:"page-container",children:[_.jsx("h1",{className:"page-title",children:"Accessible Online Health"}),_.jsx("p",{className:"page-text",children:"Were dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective."}),_.jsx("p",{className:"page-text",children:"We allow you to remotely connect with our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."})]})})}const vi=[];for(let i=0;i<256;++i)vi.push((i+256).toString(16).slice(1));function WM(i,e=0){return(vi[i[e+0]]+vi[i[e+1]]+vi[i[e+2]]+vi[i[e+3]]+"-"+vi[i[e+4]]+vi[i[e+5]]+"-"+vi[i[e+6]]+vi[i[e+7]]+"-"+vi[i[e+8]]+vi[i[e+9]]+"-"+vi[i[e+10]]+vi[i[e+11]]+vi[i[e+12]]+vi[i[e+13]]+vi[i[e+14]]+vi[i[e+15]]).toLowerCase()}let Tg;const XM=new Uint8Array(16);function JM(){if(!Tg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tg=crypto.getRandomValues.bind(crypto)}return Tg(XM)}const ZM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tw={randomUUID:ZM};function ej(i,e,n){i=i||{};const s=i.random??i.rng?.()??JM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,WM(s)}function tj(i,e,n){return tw.randomUUID&&!i?tw.randomUUID():ej(i)}function nj(){const i=Yl(),[e,n]=z.useState(""),s=async o=>{o.preventDefault();const u=o.target.email.value,h=o.target.password.value;try{const g=(await lI(ua,u,h)).user,y=Bn(dt,"users",g.uid),T=await la(y);if(T.exists()){const S=T.data();if(!S.token){const x=tj();await $l(y,{token:x}),S.token=x}switch(localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("authToken",S.token),S.role){case"admin":i("/admin/dashboard");break;case"doctor":i("/doctor/dashboard");break;case"patient":i("/patient/dashboard");break;default:alert("No valid role found. Please contact support."),i("/login")}}}catch(p){console.error("Login failed:",p.message),n("Invalid email or password")}};return _.jsxs("div",{className:"login-page",children:[_.jsx("div",{className:"login-overlay"}),_.jsx("div",{className:"login-content",children:_.jsxs("div",{className:"login-box",children:[_.jsx("h2",{className:"text-center mb-4",children:"Login"}),_.jsxs("form",{onSubmit:s,children:[_.jsxs("div",{className:"mb-3 text-start",children:[_.jsx("label",{htmlFor:"email",className:"form-label fw-semibold",children:"Email address"}),_.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),_.jsxs("div",{className:"mb-3 text-start",children:[_.jsx("label",{htmlFor:"password",className:"form-label fw-semibold",children:"Password"}),_.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&_.jsx("p",{className:"text-danger text-center",children:e}),_.jsx("div",{className:"d-flex justify-content-center mt-4",children:_.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),_.jsx("div",{className:"text-center mt-3",children:_.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password? Contact an administrator."})})]})]})})]})}function ij(){return _.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:_.jsxs("div",{className:"page-container",children:[_.jsx("h2",{className:"page-title",children:"About Us"}),_.jsx("p",{className:"page-text",children:"Were dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective. With a mix of technology and classic human ingenuity and expertise, we made SalamatDoc. This has allowed us to remotely connect you to our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."}),_.jsx("p",{className:"page-text",children:"The SalamatDoc website only allows account creation through contacting us. This ensures that everyone on the platform is legitimate, trustworthy, and safe."}),_.jsx("p",{className:"page-text",children:"Better services, better care, better health. Salamat, Doc!"})]})})}function rj(){return _.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Contact.jpg')"},children:_.jsxs("div",{className:"page-container",children:[_.jsx("h2",{className:"page-title",children:"Contact"}),_.jsxs("p",{className:"page-text",children:[_.jsx("strong",{children:"Are you interested as a patient?"}),_.jsx("br",{}),"Email us through: ",_.jsx("strong",{children:"SalamatDoc@applications.com"}),_.jsx("br",{}),"Email us to get the application process started. Well guide you however much you need throughout the process."]}),_.jsxs("p",{className:"page-text",children:[_.jsx("strong",{children:"Are you interested in becoming a SalamatDoc doctor?"}),_.jsx("br",{}),"Email us through: ",_.jsx("strong",{children:"SalamatDoc@applications.com"}),_.jsx("br",{}),"Emailing us will begin the process. You will undergo an authentication and screening process for everyones safety, security, and health. We only accept qualified and certified doctors that will do their best to help patients."]})]})})}const sj=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)}),sA=wi(dt,"users"),aj=()=>`USR-${sj()}`,oj=async i=>{try{const e=aj(),n={...i,token:e,createdAt:Hh(),updatedAt:Hh(),status:"active"},s=await nA(sA,n);return console.log("User added with ID:",s.id),{success:!0,id:s.id,token:e}}catch(e){throw console.error("Error adding user:",e),e}},lj=async()=>{try{const i=await Pi(sA),e=[];return i.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(i){throw console.error("Error getting users:",i),i}},uj=async(i,e)=>{try{const n=Bn(dt,"users",i),s={...e,updatedAt:Hh()};return await $l(n,s),console.log("User updated successfully"),{success:!0}}catch(n){throw console.error("Error updating user:",n),n}},cj=async i=>{try{const e=Bn(dt,"users",i);return await tA(e),console.log("User deleted successfully"),{success:!0}}catch(e){throw console.error("Error deleting user:",e),e}};function hj(){const[i,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(!1),[h,p]=z.useState(null),[g,y]=z.useState({name:"",email:"",role:"user",phone:"",address:""});z.useEffect(()=>{T()},[]);const T=async()=>{try{s(!0);const F=await lj();e(F)}catch(F){console.error("Error fetching users:",F),alert("Failed to fetch users")}finally{s(!1)}},S=F=>{const{name:W,value:te}=F.target;y(_e=>({..._e,[W]:te}))},x=async F=>{F.preventDefault();try{if(h)await uj(h.id,g),alert("User updated successfully!");else{const W=await oj(g);alert(`User added successfully!
Token: ${W.token}`)}y({name:"",email:"",role:"user",phone:"",address:""}),u(!1),p(null),T()}catch(W){console.error("Error saving user:",W),alert("Failed to save user")}},M=F=>{p(F),y({name:F.name||"",email:F.email||"",role:F.role||"user",phone:F.phone||"",address:F.address||""}),u(!0)},Y=async F=>{if(window.confirm("Are you sure you want to delete this user?"))try{await cj(F),alert("User deleted successfully!"),T()}catch(W){console.error("Error deleting user:",W),alert("Failed to delete user")}},Q=()=>{p(null),y({name:"",email:"",role:"user",phone:"",address:""}),u(!0)},V=()=>{u(!1),p(null)};return _.jsxs("main",{style:{padding:"20px",width:"100%",backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[_.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[_.jsx("h1",{children:"Admin Dashboard"}),_.jsx("button",{onClick:Q,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add New User"})]}),n?_.jsx("p",{children:"Loading users..."}):_.jsx("div",{style:{overflowX:"auto"},children:_.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[_.jsx("thead",{children:_.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[_.jsx("th",{style:Nu,children:"Name"}),_.jsx("th",{style:Nu,children:"Email"}),_.jsx("th",{style:Nu,children:"Role"}),_.jsx("th",{style:Nu,children:"Token"}),_.jsx("th",{style:Nu,children:"Status"}),_.jsx("th",{style:Nu,children:"Actions"})]})}),_.jsx("tbody",{children:i.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):i.map(F=>_.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[_.jsx("td",{style:Ou,children:F.name}),_.jsx("td",{style:Ou,children:F.email}),_.jsx("td",{style:Ou,children:F.role}),_.jsx("td",{style:Ou,children:_.jsx("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px",fontSize:"12px"},children:F.token})}),_.jsx("td",{style:Ou,children:_.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:F.status==="active"?"#4CAF50":"#f44336",color:"white",fontSize:"12px"},children:F.status})}),_.jsxs("td",{style:Ou,children:[_.jsx("button",{onClick:()=>M(F),style:fj,children:"Edit"}),_.jsx("button",{onClick:()=>Y(F.id),style:dj,children:"Delete"})]})]},F.id))})]})})]}),o&&_.jsx("div",{style:mj,children:_.jsxs("div",{style:pj,children:[_.jsx("h2",{children:h?"Edit User":"Add New User"}),_.jsxs("form",{onSubmit:x,children:[_.jsxs("div",{style:yh,children:[_.jsx("label",{style:_h,children:"Name:"}),_.jsx("input",{type:"text",name:"name",value:g.name,onChange:S,required:!0,style:vh})]}),_.jsxs("div",{style:yh,children:[_.jsx("label",{style:_h,children:"Email:"}),_.jsx("input",{type:"email",name:"email",value:g.email,onChange:S,required:!0,style:vh})]}),_.jsxs("div",{style:yh,children:[_.jsx("label",{style:_h,children:"Role:"}),_.jsxs("select",{name:"role",value:g.role,onChange:S,style:vh,children:[_.jsx("option",{value:"user",children:"User"}),_.jsx("option",{value:"admin",children:"Admin"}),_.jsx("option",{value:"moderator",children:"Moderator"})]})]}),_.jsxs("div",{style:yh,children:[_.jsx("label",{style:_h,children:"Phone:"}),_.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:S,style:vh})]}),_.jsxs("div",{style:yh,children:[_.jsx("label",{style:_h,children:"Address:"}),_.jsx("textarea",{name:"address",value:g.address,onChange:S,style:{...vh,minHeight:"80px"}})]}),_.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[_.jsx("button",{type:"submit",style:gj,children:h?"Update":"Create"}),_.jsx("button",{type:"button",onClick:V,style:yj,children:"Cancel"})]})]})]})})]})}const Nu={padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},Ou={padding:"12px"},fj={padding:"6px 12px",marginRight:"8px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},dj={padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},mj={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},pj={backgroundColor:"white",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto"},yh={marginBottom:"15px"},_h={display:"block",marginBottom:"5px",fontWeight:"500"},vh={width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},gj={flex:1,padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},yj={flex:1,padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"};function aA(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=aA(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Im(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=aA(i))&&(s&&(s+=" "),s+=e);return s}const _j=(i,e,n,s)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(i,n),u=Object.getOwnPropertyDescriptor(e,n);!vj(o,u)&&s||Object.defineProperty(i,n,u)},vj=function(i,e){return i===void 0||i.configurable||i.writable===e.writable&&i.enumerable===e.enumerable&&i.configurable===e.configurable&&(i.writable||i.value===e.value)},bj=(i,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(i)&&Object.setPrototypeOf(i,n)},Ej=(i,e)=>`/* Wrapped ${i}*/
${e}`,Tj=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),wj=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Sj=(i,e,n)=>{const s=n===""?"":`with ${n.trim()}() `,o=Ej.bind(null,s,e.toString());Object.defineProperty(o,"name",wj);const{writable:u,enumerable:h,configurable:p}=Tj;Object.defineProperty(i,"toString",{value:o,writable:u,enumerable:h,configurable:p})};function Aj(i,e,{ignoreNonConfigurable:n=!1}={}){const{name:s}=i;for(const o of Reflect.ownKeys(e))_j(i,e,o,n);return bj(i,e),Sj(i,e,s),i}const Cj=new WeakMap,nw=new WeakMap;function oA(i,{cacheKey:e,cache:n=new Map,maxAge:s}={}){if(s===0)return i;if(typeof s=="number"){if(s>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(s<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const h=e?e(u):u[0],p=n.get(h);if(p)return p.data;const g=i.apply(this,u),y=typeof s=="function"?s(...u):s;if(n.set(h,{data:g,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),y&&y>0&&y!==Number.POSITIVE_INFINITY){const T=setTimeout(()=>{n.delete(h)},y);T.unref?.();const S=nw.get(i)??new Set;S.add(T),nw.set(i,S)}return g};return Aj(o,i,{ignoreNonConfigurable:!0}),Cj.set(o,n),o}function xj(i){return typeof i=="string"}function Rj(i,e,n){return n.indexOf(i)===e}function Dj(i){return i.toLowerCase()===i}function iw(i){return i.indexOf(",")===-1?i:i.split(",")}function iy(i){if(!i)return i;if(i==="C"||i==="posix"||i==="POSIX")return"en-US";if(i.indexOf(".")!==-1){var e=i.split(".")[0],n=e===void 0?"":e;return iy(n)}if(i.indexOf("@")!==-1){var s=i.split("@")[0],n=s===void 0?"":s;return iy(n)}if(i.indexOf("-")===-1||!Dj(i))return i;var o=i.split("-"),u=o[0],h=o[1],p=h===void 0?"":h;return"".concat(u,"-").concat(p.toUpperCase())}function Ij(i){var e=i===void 0?{}:i,n=e.useFallbackLocale,s=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],g=[],y=0,T=p;y<T.length;y++){var S=T[y];g=g.concat(iw(S))}var x=navigator.language,M=x&&iw(x);h=h.concat(g,M)}return s&&h.push(u),h.filter(xj).map(iy).filter(Rj)}var Nj=oA(Ij,{cacheKey:JSON.stringify});function Oj(i){return Nj(i)[0]||null}var lA=oA(Oj,{cacheKey:JSON.stringify});function eo(i,e,n){return function(o,u=n){const h=i(o)+u;return e(h)}}function lf(i){return function(n){return new Date(i(n).getTime()-1)}}function uf(i,e){return function(s){return[i(s),e(s)]}}function hn(i){if(i instanceof Date)return i.getFullYear();if(typeof i=="number")return i;const e=Number.parseInt(i,10);if(typeof i=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${i}.`)}function ul(i){if(i instanceof Date)return i.getMonth();throw new Error(`Failed to get month from date: ${i}.`)}function Nm(i){if(i instanceof Date)return i.getDate();throw new Error(`Failed to get year from date: ${i}.`)}function dc(i){const e=hn(i),n=e+(-e+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}const Mj=eo(hn,dc,-100),uA=eo(hn,dc,100),b_=lf(uA),jj=eo(hn,b_,-100),cA=uf(dc,b_);function cl(i){const e=hn(i),n=e+(-e+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}const hA=eo(hn,cl,-10),E_=eo(hn,cl,10),Om=lf(E_),fA=eo(hn,Om,-10),dA=uf(cl,Om);function mc(i){const e=hn(i),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const mA=eo(hn,mc,-1),T_=eo(hn,mc,1),Mm=lf(T_),pA=eo(hn,Mm,-1),kj=uf(mc,Mm);function w_(i,e){return function(s,o=e){const u=hn(s),h=ul(s)+o,p=new Date;return p.setFullYear(u,h,1),p.setHours(0,0,0,0),i(p)}}function Jl(i){const e=hn(i),n=ul(i),s=new Date;return s.setFullYear(e,n,1),s.setHours(0,0,0,0),s}const gA=w_(Jl,-1),S_=w_(Jl,1),cf=lf(S_),yA=w_(cf,-1),Pj=uf(Jl,cf);function Lj(i,e){return function(s,o=e){const u=hn(s),h=ul(s),p=Nm(s)+o,g=new Date;return g.setFullYear(u,h,p),g.setHours(0,0,0,0),i(g)}}function hf(i){const e=hn(i),n=ul(i),s=Nm(i),o=new Date;return o.setFullYear(e,n,s),o.setHours(0,0,0,0),o}const Vj=Lj(hf,1),A_=lf(Vj),Uj=uf(hf,A_);function _A(i){return Nm(cf(i))}var Ti={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},zj={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},C_=[0,1,2,3,4,5,6],wg=new Map;function Bj(i){return function(n,s){var o=n||lA();wg.has(o)||wg.set(o,new Map);var u=wg.get(o);return u.has(i)||u.set(i,new Intl.DateTimeFormat(o||void 0,i).format),u.get(i)(s)}}function qj(i){var e=new Date(i);return new Date(e.setHours(12))}function Zl(i){return function(e,n){return Bj(i)(e,qj(n))}}var Fj={day:"numeric"},Hj={day:"numeric",month:"long",year:"numeric"},Gj={month:"long"},$j={month:"long",year:"numeric"},Yj={weekday:"short"},Qj={weekday:"long"},Kj={year:"numeric"},Wj=Zl(Fj),Xj=Zl(Hj),Jj=Zl(Gj),vA=Zl($j),Zj=Zl(Yj),ek=Zl(Qj),jm=Zl(Kj),tk=C_[0],nk=C_[5],rw=C_[6];function Gh(i,e){e===void 0&&(e=Ti.ISO_8601);var n=i.getDay();switch(e){case Ti.ISO_8601:return(n+6)%7;case Ti.ISLAMIC:return(n+1)%7;case Ti.HEBREW:case Ti.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function ik(i){var e=dc(i);return hn(e)}function rk(i){var e=cl(i);return hn(e)}function ry(i,e){e===void 0&&(e=Ti.ISO_8601);var n=hn(i),s=ul(i),o=i.getDate()-Gh(i,e);return new Date(n,s,o)}function sk(i,e){e===void 0&&(e=Ti.ISO_8601);var n=e===Ti.GREGORY?Ti.GREGORY:Ti.ISO_8601,s=ry(i,e),o=hn(i)+1,u,h;do u=new Date(o,0,n===Ti.ISO_8601?4:1),h=ry(u,e),o-=1;while(i<h);return Math.round((s.getTime()-h.getTime())/(864e5*7))+1}function zl(i,e){switch(i){case"century":return dc(e);case"decade":return cl(e);case"year":return mc(e);case"month":return Jl(e);case"day":return hf(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function ak(i,e){switch(i){case"century":return Mj(e);case"decade":return hA(e);case"year":return mA(e);case"month":return gA(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function bA(i,e){switch(i){case"century":return uA(e);case"decade":return E_(e);case"year":return T_(e);case"month":return S_(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function ok(i,e){switch(i){case"decade":return hA(e,-100);case"year":return mA(e,-10);case"month":return gA(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function lk(i,e){switch(i){case"decade":return E_(e,100);case"year":return T_(e,10);case"month":return S_(e,12);default:throw new Error("Invalid rangeType: ".concat(i))}}function EA(i,e){switch(i){case"century":return b_(e);case"decade":return Om(e);case"year":return Mm(e);case"month":return cf(e);case"day":return A_(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function uk(i,e){switch(i){case"century":return jj(e);case"decade":return fA(e);case"year":return pA(e);case"month":return yA(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function ck(i,e){switch(i){case"decade":return fA(e,-100);case"year":return pA(e,-10);case"month":return yA(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function sw(i,e){switch(i){case"century":return cA(e);case"decade":return dA(e);case"year":return kj(e);case"month":return Pj(e);case"day":return Uj(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function hk(i,e,n){var s=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[zl(i,s[0]),EA(i,s[1])]}function TA(i,e,n){return n.map(function(s){return(e||jm)(i,s)}).join("  ")}function fk(i,e,n){return TA(i,e,cA(n))}function wA(i,e,n){return TA(i,e,dA(n))}function dk(i){return i.getDay()===new Date().getDay()}function SA(i,e){e===void 0&&(e=Ti.ISO_8601);var n=i.getDay();switch(e){case Ti.ISLAMIC:case Ti.HEBREW:return n===nk||n===rw;case Ti.ISO_8601:case Ti.GREGORY:return n===rw||n===tk;default:throw new Error("Unsupported calendar type.")}}var Zs="react-calendar__navigation";function mk(i){var e=i.activeStartDate,n=i.drillUp,s=i.formatMonthYear,o=s===void 0?vA:s,u=i.formatYear,h=u===void 0?jm:u,p=i.locale,g=i.maxDate,y=i.minDate,T=i.navigationAriaLabel,S=T===void 0?"":T,x=i.navigationAriaLive,M=i.navigationLabel,Y=i.next2AriaLabel,Q=Y===void 0?"":Y,V=i.next2Label,F=V===void 0?"":V,W=i.nextAriaLabel,te=W===void 0?"":W,_e=i.nextLabel,we=_e===void 0?"":_e,be=i.prev2AriaLabel,k=be===void 0?"":be,O=i.prev2Label,j=O===void 0?"":O,L=i.prevAriaLabel,U=L===void 0?"":L,H=i.prevLabel,N=H===void 0?"":H,de=i.setActiveStartDate,Pe=i.showDoubleView,Z=i.view,ae=i.views,ve=ae.indexOf(Z)>0,Ne=Z!=="century",Oe=ak(Z,e),D=Ne?ok(Z,e):void 0,se=bA(Z,e),me=Ne?lk(Z,e):void 0,Te=(function(){if(Oe.getFullYear()<0)return!0;var ot=uk(Z,e);return y&&y>=ot})(),Ie=Ne&&(function(){if(D.getFullYear()<0)return!0;var ot=ck(Z,e);return y&&y>=ot})(),Le=g&&g<se,Ve=Ne&&g&&g<me;function Pt(){de(Oe,"prev")}function ge(){de(D,"prev2")}function Ai(){de(se,"next")}function gr(){de(me,"next2")}function yr(ot){var Qi=(function(){switch(Z){case"century":return fk(p,h,ot);case"decade":return wA(p,h,ot);case"year":return h(p,ot);case"month":return o(p,ot);default:throw new Error("Invalid view: ".concat(Z,"."))}})();return M?M({date:ot,label:Qi,locale:p||lA()||void 0,view:Z}):Qi}function Ur(){var ot="".concat(Zs,"__label");return _.jsxs("button",{"aria-label":S,"aria-live":x,className:ot,disabled:!ve,onClick:n,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(ot,"__labelText ").concat(ot,"__labelText--from"),children:yr(e)}),Pe?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(ot,"__divider"),children:"  "}),_.jsx("span",{className:"".concat(ot,"__labelText ").concat(ot,"__labelText--to"),children:yr(se)})]}):null]})}return _.jsxs("div",{className:Zs,children:[j!==null&&Ne?_.jsx("button",{"aria-label":k,className:"".concat(Zs,"__arrow ").concat(Zs,"__prev2-button"),disabled:Ie,onClick:ge,type:"button",children:j}):null,N!==null&&_.jsx("button",{"aria-label":U,className:"".concat(Zs,"__arrow ").concat(Zs,"__prev-button"),disabled:Te,onClick:Pt,type:"button",children:N}),Ur(),we!==null&&_.jsx("button",{"aria-label":te,className:"".concat(Zs,"__arrow ").concat(Zs,"__next-button"),disabled:Le,onClick:Ai,type:"button",children:we}),F!==null&&Ne?_.jsx("button",{"aria-label":Q,className:"".concat(Zs,"__arrow ").concat(Zs,"__next2-button"),disabled:Ve,onClick:gr,type:"button",children:F}):null]})}var Uu=function(){return Uu=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Uu.apply(this,arguments)},pk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function aw(i){return"".concat(i,"%")}function x_(i){var e=i.children,n=i.className,s=i.count,o=i.direction,u=i.offset,h=i.style,p=i.wrap,g=pk(i,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",Uu({className:n,style:Uu({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},h)},g,{children:z.Children.map(e,function(y,T){var S=u&&T===0?aw(100*u/s):null;return z.cloneElement(y,Uu(Uu({},y.props),{style:{flexBasis:aw(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function gk(i,e,n){return e&&e>i?e:n&&n<i?n:i}function $h(i,e){return e[0]<=i&&e[1]>=i}function yk(i,e){return i[0]<=e[0]&&i[1]>=e[1]}function AA(i,e){return $h(i[0],e)||$h(i[1],e)}function ow(i,e,n){var s=AA(e,i),o=[];if(s){o.push(n);var u=$h(i[0],e),h=$h(i[1],e);u&&o.push("".concat(n,"Start")),h&&o.push("".concat(n,"End")),u&&h&&o.push("".concat(n,"BothEnds"))}return o}function _k(i){return Array.isArray(i)?i[0]!==null&&i[1]!==null:i!==null}function vk(i){if(!i)throw new Error("args is required");var e=i.value,n=i.date,s=i.hover,o="react-calendar__tile",u=[o];if(!n)return u;var h=new Date,p=(function(){if(Array.isArray(n))return n;var M=i.dateType;if(!M)throw new Error("dateType is required when date is not an array of two dates");return sw(M,n)})();if($h(h,p)&&u.push("".concat(o,"--now")),!e||!_k(e))return u;var g=(function(){if(Array.isArray(e))return e;var M=i.valueType;if(!M)throw new Error("valueType is required when value is not an array of two dates");return sw(M,e)})();yk(g,p)?u.push("".concat(o,"--active")):AA(g,p)&&u.push("".concat(o,"--hasActive"));var y=ow(g,p,"".concat(o,"--range"));u.push.apply(u,y);var T=Array.isArray(e)?e:[e];if(s&&T.length===1){var S=s>g[0]?[g[0],s]:[s,g[0]],x=ow(S,p,"".concat(o,"--hover"));u.push.apply(u,x)}return u}function km(i){for(var e=i.className,n=i.count,s=n===void 0?3:n,o=i.dateTransform,u=i.dateType,h=i.end,p=i.hover,g=i.offset,y=i.renderTile,T=i.start,S=i.step,x=S===void 0?1:S,M=i.value,Y=i.valueType,Q=[],V=T;V<=h;V+=x){var F=o(V);Q.push(y({classes:vk({date:F,dateType:u,hover:p,value:M,valueType:Y}),date:F}))}return _.jsx(x_,{className:e,count:s,offset:g,wrap:!0,children:Q})}function Pm(i){var e=i.activeStartDate,n=i.children,s=i.classes,o=i.date,u=i.formatAbbr,h=i.locale,p=i.maxDate,g=i.maxDateTransform,y=i.minDate,T=i.minDateTransform,S=i.onClick,x=i.onMouseOver,M=i.style,Y=i.tileClassName,Q=i.tileContent,V=i.tileDisabled,F=i.view,W=z.useMemo(function(){var _e={activeStartDate:e,date:o,view:F};return typeof Y=="function"?Y(_e):Y},[e,o,Y,F]),te=z.useMemo(function(){var _e={activeStartDate:e,date:o,view:F};return typeof Q=="function"?Q(_e):Q},[e,o,Q,F]);return _.jsxs("button",{className:Im(s,W),disabled:y&&T(y)>o||p&&g(p)<o||V?.({activeStartDate:e,date:o,view:F}),onClick:S?function(_e){return S(o,_e)}:void 0,onFocus:x?function(){return x(o)}:void 0,onMouseOver:x?function(){return x(o)}:void 0,style:M,type:"button",children:[u?_.jsx("abbr",{"aria-label":u(h,o),children:n}):n,te]})}var sy=function(){return sy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},sy.apply(this,arguments)},bk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},lw="react-calendar__century-view__decades__decade";function Ek(i){var e=i.classes,n=e===void 0?[]:e,s=i.currentCentury,o=i.formatYear,u=o===void 0?jm:o,h=bk(i,["classes","currentCentury","formatYear"]),p=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(lw),dc(p).getFullYear()!==s&&y.push("".concat(lw,"--neighboringCentury")),_.jsx(Pm,sy({},h,{classes:y,maxDateTransform:Om,minDateTransform:cl,view:"century",children:wA(g,u,p)}))}var ay=function(){return ay=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ay.apply(this,arguments)},uw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function Tk(i){var e=i.activeStartDate,n=i.hover,s=i.showNeighboringCentury,o=i.value,u=i.valueType,h=uw(i,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=ik(e),g=p+(s?119:99);return _.jsx(km,{className:"react-calendar__century-view__decades",dateTransform:cl,dateType:"decade",end:g,hover:n,renderTile:function(y){var T=y.date,S=uw(y,["date"]);return _.jsx(Ek,ay({},h,S,{activeStartDate:e,currentCentury:p,date:T}),T.getTime())},start:p,step:10,value:o,valueType:u})}var oy=function(){return oy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},oy.apply(this,arguments)};function wk(i){function e(){return _.jsx(Tk,oy({},i))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var ly=function(){return ly=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ly.apply(this,arguments)},Sk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},cw="react-calendar__decade-view__years__year";function Ak(i){var e=i.classes,n=e===void 0?[]:e,s=i.currentDecade,o=i.formatYear,u=o===void 0?jm:o,h=Sk(i,["classes","currentDecade","formatYear"]),p=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(cw),cl(p).getFullYear()!==s&&y.push("".concat(cw,"--neighboringDecade")),_.jsx(Pm,ly({},h,{classes:y,maxDateTransform:Mm,minDateTransform:mc,view:"decade",children:u(g,p)}))}var uy=function(){return uy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},uy.apply(this,arguments)},hw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function Ck(i){var e=i.activeStartDate,n=i.hover,s=i.showNeighboringDecade,o=i.value,u=i.valueType,h=hw(i,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=rk(e),g=p+(s?11:9);return _.jsx(km,{className:"react-calendar__decade-view__years",dateTransform:mc,dateType:"year",end:g,hover:n,renderTile:function(y){var T=y.date,S=hw(y,["date"]);return _.jsx(Ak,uy({},h,S,{activeStartDate:e,currentDecade:p,date:T}),T.getTime())},start:p,value:o,valueType:u})}var cy=function(){return cy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},cy.apply(this,arguments)};function xk(i){function e(){return _.jsx(Ck,cy({},i))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var hy=function(){return hy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},hy.apply(this,arguments)},Rk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},fw=function(i,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return i.concat(u||Array.prototype.slice.call(e))},Dk="react-calendar__year-view__months__month";function Ik(i){var e=i.classes,n=e===void 0?[]:e,s=i.formatMonth,o=s===void 0?Jj:s,u=i.formatMonthYear,h=u===void 0?vA:u,p=Rk(i,["classes","formatMonth","formatMonthYear"]),g=p.date,y=p.locale;return _.jsx(Pm,hy({},p,{classes:fw(fw([],n,!0),[Dk],!1),formatAbbr:h,maxDateTransform:cf,minDateTransform:Jl,view:"year",children:o(y,g)}))}var fy=function(){return fy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},fy.apply(this,arguments)},dw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function Nk(i){var e=i.activeStartDate,n=i.hover,s=i.value,o=i.valueType,u=dw(i,["activeStartDate","hover","value","valueType"]),h=0,p=11,g=hn(e);return _.jsx(km,{className:"react-calendar__year-view__months",dateTransform:function(y){var T=new Date;return T.setFullYear(g,y,1),Jl(T)},dateType:"month",end:p,hover:n,renderTile:function(y){var T=y.date,S=dw(y,["date"]);return _.jsx(Ik,fy({},u,S,{activeStartDate:e,date:T}),T.getTime())},start:h,value:s,valueType:o})}var dy=function(){return dy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},dy.apply(this,arguments)};function Ok(i){function e(){return _.jsx(Nk,dy({},i))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var my=function(){return my=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},my.apply(this,arguments)},Mk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},Sg="react-calendar__month-view__days__day";function jk(i){var e=i.calendarType,n=i.classes,s=n===void 0?[]:n,o=i.currentMonthIndex,u=i.formatDay,h=u===void 0?Wj:u,p=i.formatLongDate,g=p===void 0?Xj:p,y=Mk(i,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),T=y.date,S=y.locale,x=[];return s&&x.push.apply(x,s),x.push(Sg),SA(T,e)&&x.push("".concat(Sg,"--weekend")),T.getMonth()!==o&&x.push("".concat(Sg,"--neighboringMonth")),_.jsx(Pm,my({},y,{classes:x,formatAbbr:g,maxDateTransform:A_,minDateTransform:hf,view:"month",children:h(S,T)}))}var py=function(){return py=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},py.apply(this,arguments)},mw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function kk(i){var e=i.activeStartDate,n=i.calendarType,s=i.hover,o=i.showFixedNumberOfWeeks,u=i.showNeighboringMonth,h=i.value,p=i.valueType,g=mw(i,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=hn(e),T=ul(e),S=o||u,x=Gh(e,n),M=S?0:x,Y=(S?-x:0)+1,Q=(function(){if(o)return Y+42-1;var V=_A(e);if(u){var F=new Date;F.setFullYear(y,T,V),F.setHours(0,0,0,0);var W=7-Gh(F,n)-1;return V+W}return V})();return _.jsx(km,{className:"react-calendar__month-view__days",count:7,dateTransform:function(V){var F=new Date;return F.setFullYear(y,T,V),hf(F)},dateType:"day",hover:s,end:Q,renderTile:function(V){var F=V.date,W=mw(V,["date"]);return _.jsx(jk,py({},g,W,{activeStartDate:e,calendarType:n,currentMonthIndex:T,date:F}),F.getTime())},offset:M,start:Y,value:h,valueType:p})}var CA="react-calendar__month-view__weekdays",Ag="".concat(CA,"__weekday");function Pk(i){for(var e=i.calendarType,n=i.formatShortWeekday,s=n===void 0?Zj:n,o=i.formatWeekday,u=o===void 0?ek:o,h=i.locale,p=i.onMouseLeave,g=new Date,y=Jl(g),T=hn(y),S=ul(y),x=[],M=1;M<=7;M+=1){var Y=new Date(T,S,M-Gh(y,e)),Q=u(h,Y);x.push(_.jsx("div",{className:Im(Ag,dk(Y)&&"".concat(Ag,"--current"),SA(Y,e)&&"".concat(Ag,"--weekend")),children:_.jsx("abbr",{"aria-label":Q,title:Q,children:s(h,Y).replace(".","")})},M))}return _.jsx(x_,{className:CA,count:7,onFocus:p,onMouseOver:p,children:x})}var sm=function(){return sm=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},sm.apply(this,arguments)},pw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},gw="react-calendar__tile";function Lk(i){var e=i.onClickWeekNumber,n=i.weekNumber,s=_.jsx("span",{children:n});if(e){var o=i.date,u=i.onClickWeekNumber,h=i.weekNumber,p=pw(i,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",sm({},p,{className:gw,onClick:function(g){return u(h,o,g)},type:"button",children:s}))}else{i.date,i.onClickWeekNumber,i.weekNumber;var p=pw(i,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",sm({},p,{className:gw,children:s}))}}function Vk(i){var e=i.activeStartDate,n=i.calendarType,s=i.onClickWeekNumber,o=i.onMouseLeave,u=i.showFixedNumberOfWeeks,h=(function(){if(u)return 6;var y=_A(e),T=Gh(e,n),S=y-(7-T);return 1+Math.ceil(S/7)})(),p=(function(){for(var y=hn(e),T=ul(e),S=Nm(e),x=[],M=0;M<h;M+=1)x.push(ry(new Date(y,T,S+M*7),n));return x})(),g=p.map(function(y){return sk(y,n)});return _.jsx(x_,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,T){var S=p[T];if(!S)throw new Error("date is not defined");return _.jsx(Lk,{date:S,onClickWeekNumber:s,weekNumber:y},y)})})}var gy=function(){return gy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},gy.apply(this,arguments)},Uk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function zk(i){if(i)for(var e=0,n=Object.entries(zj);e<n.length;e++){var s=n[e],o=s[0],u=s[1];if(u.includes(i))return o}return Ti.ISO_8601}function Bk(i){var e=i.activeStartDate,n=i.locale,s=i.onMouseLeave,o=i.showFixedNumberOfWeeks,u=i.calendarType,h=u===void 0?zk(n):u,p=i.formatShortWeekday,g=i.formatWeekday,y=i.onClickWeekNumber,T=i.showWeekNumbers,S=Uk(i,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function x(){return _.jsx(Pk,{calendarType:h,formatShortWeekday:p,formatWeekday:g,locale:n,onMouseLeave:s})}function M(){return T?_.jsx(Vk,{activeStartDate:e,calendarType:h,onClickWeekNumber:y,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function Y(){return _.jsx(kk,gy({calendarType:h},S))}var Q="react-calendar__month-view";return _.jsx("div",{className:Im(Q,T?"".concat(Q,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[M(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[x(),Y()]})]})})}var zu=function(){return zu=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},zu.apply(this,arguments)},Sd="react-calendar",Ud=["century","decade","year","month"],qk=["decade","year","month","day"],R_=new Date;R_.setFullYear(1,0,1);R_.setHours(0,0,0,0);var Fk=new Date(864e13);function Ch(i){return i instanceof Date?i:new Date(i)}function xA(i,e){return Ud.slice(Ud.indexOf(i),Ud.indexOf(e)+1)}function Hk(i,e,n){var s=xA(e,n);return s.indexOf(i)!==-1}function D_(i,e,n){return i&&Hk(i,e,n)?i:n}function RA(i){var e=Ud.indexOf(i);return qk[e]}function Gk(i,e){var n=Array.isArray(i)?i[e]:i;if(!n)return null;var s=Ch(n);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(i));return s}function DA(i,e){var n=i.value,s=i.minDate,o=i.maxDate,u=i.maxDetail,h=Gk(n,e);if(!h)return null;var p=RA(u),g=(function(){switch(e){case 0:return zl(p,h);case 1:return EA(p,h);default:throw new Error("Invalid index value: ".concat(e))}})();return gk(g,s,o)}var I_=function(i){return DA(i,0)},IA=function(i){return DA(i,1)},$k=function(i){return[I_,IA].map(function(e){return e(i)})};function NA(i){var e=i.maxDate,n=i.maxDetail,s=i.minDate,o=i.minDetail,u=i.value,h=i.view,p=D_(h,o,n),g=I_({value:u,minDate:s,maxDate:e,maxDetail:n})||new Date;return zl(p,g)}function Yk(i){var e=i.activeStartDate,n=i.defaultActiveStartDate,s=i.defaultValue,o=i.defaultView,u=i.maxDate,h=i.maxDetail,p=i.minDate,g=i.minDetail,y=i.value,T=i.view,S=D_(T,g,h),x=e||n;return x?zl(S,x):NA({maxDate:u,maxDetail:h,minDate:p,minDetail:g,value:y||s,view:T||o})}function Cg(i){return i&&(!Array.isArray(i)||i.length===1)}function Ad(i,e){return i instanceof Date&&e instanceof Date&&i.getTime()===e.getTime()}var Qk=z.forwardRef(function(e,n){var s=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,h=e.className,p=e.defaultActiveStartDate,g=e.defaultValue,y=e.defaultView,T=e.formatDay,S=e.formatLongDate,x=e.formatMonth,M=e.formatMonthYear,Y=e.formatShortWeekday,Q=e.formatWeekday,V=e.formatYear,F=e.goToRangeStartOnSelect,W=F===void 0?!0:F,te=e.inputRef,_e=e.locale,we=e.maxDate,be=we===void 0?Fk:we,k=e.maxDetail,O=k===void 0?"month":k,j=e.minDate,L=j===void 0?R_:j,U=e.minDetail,H=U===void 0?"century":U,N=e.navigationAriaLabel,de=e.navigationAriaLive,Pe=e.navigationLabel,Z=e.next2AriaLabel,ae=e.next2Label,ve=e.nextAriaLabel,Ne=e.nextLabel,Oe=e.onActiveStartDateChange,D=e.onChange,se=e.onClickDay,me=e.onClickDecade,Te=e.onClickMonth,Ie=e.onClickWeekNumber,Le=e.onClickYear,Ve=e.onDrillDown,Pt=e.onDrillUp,ge=e.onViewChange,Ai=e.prev2AriaLabel,gr=e.prev2Label,yr=e.prevAriaLabel,Ur=e.prevLabel,ot=e.returnValue,Qi=ot===void 0?"start":ot,Qt=e.selectRange,hi=e.showDoubleView,Ns=e.showFixedNumberOfWeeks,en=e.showNavigation,fn=en===void 0?!0:en,zr=e.showNeighboringCentury,hl=e.showNeighboringDecade,ca=e.showNeighboringMonth,Gn=ca===void 0?!0:ca,Ki=e.showWeekNumbers,Ci=e.tileClassName,Os=e.tileContent,Br=e.tileDisabled,ha=e.value,_r=e.view,Wi=z.useState(p),vr=Wi[0],An=Wi[1],yn=z.useState(null),ti=yn[0],Kt=yn[1],fa=z.useState(Array.isArray(g)?g.map(function(Qe){return Qe!==null?Ch(Qe):null}):g!=null?Ch(g):null),qr=fa[0],to=fa[1],Vi=z.useState(y),as=Vi[0],Wt=Vi[1],Nt=s||vr||Yk({activeStartDate:s,defaultActiveStartDate:p,defaultValue:g,defaultView:y,maxDate:be,maxDetail:O,minDate:L,minDetail:H,value:ha,view:_r}),zt=(function(){var Qe=(function(){return Qt&&Cg(qr)?qr:ha!==void 0?ha:qr})();return Qe?Array.isArray(Qe)?Qe.map(function(qt){return qt!==null?Ch(qt):null}):Qe!==null?Ch(Qe):null:null})(),$n=RA(O),Lt=D_(_r||as,H,O),fi=xA(H,O),Xi=Qt?ti:null,br=fi.indexOf(Lt)<fi.length-1,Er=fi.indexOf(Lt)>0,xi=z.useCallback(function(Qe){var qt=(function(){switch(Qi){case"start":return I_;case"end":return IA;case"range":return $k;default:throw new Error("Invalid returnValue.")}})();return qt({maxDate:be,maxDetail:O,minDate:L,value:Qe})},[be,O,L,Qi]),os=z.useCallback(function(Qe,qt){An(Qe);var bt={action:qt,activeStartDate:Qe,value:zt,view:Lt};Oe&&!Ad(Nt,Qe)&&Oe(bt)},[Nt,Oe,zt,Lt]),Fr=z.useCallback(function(Qe,qt){var bt=(function(){switch(Lt){case"century":return me;case"decade":return Le;case"year":return Te;case"month":return se;default:throw new Error("Invalid view: ".concat(Lt,"."))}})();bt&&bt(Qe,qt)},[se,me,Te,Le,Lt]),Tr=z.useCallback(function(Qe,qt){if(br){Fr(Qe,qt);var bt=fi[fi.indexOf(Lt)+1];if(!bt)throw new Error("Attempted to drill down from the lowest view.");An(Qe),Wt(bt);var Et={action:"drillDown",activeStartDate:Qe,value:zt,view:bt};Oe&&!Ad(Nt,Qe)&&Oe(Et),ge&&Lt!==bt&&ge(Et),Ve&&Ve(Et)}},[Nt,br,Oe,Fr,Ve,ge,zt,Lt,fi]),Ui=z.useCallback(function(){if(Er){var Qe=fi[fi.indexOf(Lt)-1];if(!Qe)throw new Error("Attempted to drill up from the highest view.");var qt=zl(Qe,Nt);An(qt),Wt(Qe);var bt={action:"drillUp",activeStartDate:qt,value:zt,view:Qe};Oe&&!Ad(Nt,qt)&&Oe(bt),ge&&Lt!==Qe&&ge(bt),Pt&&Pt(bt)}},[Nt,Er,Oe,Pt,ge,zt,Lt,fi]),Ms=z.useCallback(function(Qe,qt){var bt=zt;Fr(Qe,qt);var Et=Qt&&!Cg(bt),lt;if(Qt)if(Et)lt=zl($n,Qe);else{if(!bt)throw new Error("previousValue is required");if(Array.isArray(bt))throw new Error("previousValue must not be an array");lt=hk($n,bt,Qe)}else lt=xi(Qe);var nn=!Qt||Et||W?NA({maxDate:be,maxDetail:O,minDate:L,minDetail:H,value:lt,view:Lt}):null;qt.persist(),An(nn),to(lt);var Ft={action:"onChange",activeStartDate:nn,value:lt,view:Lt};if(Oe&&!Ad(Nt,nn)&&Oe(Ft),D)if(Qt){var Yn=Cg(lt);if(!Yn)D(lt||null,qt);else if(o){if(Array.isArray(lt))throw new Error("value must not be an array");D([lt||null,null],qt)}}else D(lt||null,qt)},[Nt,o,xi,W,be,O,L,H,Oe,D,Fr,Qt,zt,$n,Lt]);function di(Qe){Kt(Qe)}function _n(){Kt(null)}z.useImperativeHandle(n,function(){return{activeStartDate:Nt,drillDown:Tr,drillUp:Ui,onChange:Ms,setActiveStartDate:os,value:zt,view:Lt}},[Nt,Tr,Ui,Ms,os,zt,Lt]);function Bt(Qe){var qt=Qe?bA(Lt,Nt):zl(Lt,Nt),bt=br?Tr:Ms,Et={activeStartDate:qt,hover:Xi,locale:_e,maxDate:be,minDate:L,onClick:bt,onMouseOver:Qt?di:void 0,tileClassName:Ci,tileContent:Os,tileDisabled:Br,value:zt,valueType:$n};switch(Lt){case"century":return _.jsx(wk,zu({formatYear:V,showNeighboringCentury:zr},Et));case"decade":return _.jsx(xk,zu({formatYear:V,showNeighboringDecade:hl},Et));case"year":return _.jsx(Ok,zu({formatMonth:x,formatMonthYear:M},Et));case"month":return _.jsx(Bk,zu({calendarType:u,formatDay:T,formatLongDate:S,formatShortWeekday:Y,formatWeekday:Q,onClickWeekNumber:Ie,onMouseLeave:Qt?_n:void 0,showFixedNumberOfWeeks:typeof Ns<"u"?Ns:hi,showNeighboringMonth:Gn,showWeekNumbers:Ki},Et));default:throw new Error("Invalid view: ".concat(Lt,"."))}}function vn(){return fn?_.jsx(mk,{activeStartDate:Nt,drillUp:Ui,formatMonthYear:M,formatYear:V,locale:_e,maxDate:be,minDate:L,navigationAriaLabel:N,navigationAriaLive:de,navigationLabel:Pe,next2AriaLabel:Z,next2Label:ae,nextAriaLabel:ve,nextLabel:Ne,prev2AriaLabel:Ai,prev2Label:gr,prevAriaLabel:yr,prevLabel:Ur,setActiveStartDate:os,showDoubleView:hi,view:Lt,views:fi}):null}var Ri=Array.isArray(zt)?zt:[zt];return _.jsxs("div",{className:Im(Sd,Qt&&Ri.length===1&&"".concat(Sd,"--selectRange"),hi&&"".concat(Sd,"--doubleView"),h),ref:te,children:[vn(),_.jsxs("div",{className:"".concat(Sd,"__viewContainer"),onBlur:Qt?_n:void 0,onMouseLeave:Qt?_n:void 0,children:[Bt(),hi?Bt(!0):null]})]})});function Kk(i){if(!i)return null;if(i instanceof It)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function Wk(){const[i,e]=z.useState([]),[n,s]=z.useState([]),[o,u]=z.useState(!0),[h,p]=z.useState(new Date);if(z.useEffect(()=>{(async()=>{const x=ua.currentUser;if(x)try{const Y=(await Pi(wi(dt,"users"))).docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.role==="patient");e(Y);const Q=Bn(dt,"users",x.uid),V=sl(wi(dt,"appointments"),al("doctorId","==",Q)),F=await Pi(V),W=await Promise.all(F.docs.map(async te=>{const _e=te.data();let we="Unknown",be=null;if(_e.patientId)try{const k=await la(_e.patientId);if(k.exists()){const O=k.data();we=`${O.firstName||""} ${O.lastName||""}`.trim(),be=k.id}}catch(k){console.error("Error fetching patient:",k)}return{id:te.id,patientName:we,patientId:be,dateTime:Kk(_e.dateTime),type:_e.type||"",location:_e.location||"",notes:_e.notes||"",reason:_e.reason||""}}));s(W)}catch(M){console.error("Error loading dashboard:",M)}finally{u(!1)}})()},[]),o)return _.jsx("p",{children:"Loading dashboard..."});const g=n.filter(S=>S.dateTime).map(S=>S.dateTime.toDateString()),y=n.filter(S=>S.dateTime&&S.dateTime.toDateString()===h.toDateString()),T=S=>{const x=i.find(M=>M.id===S);return x?`${x.firstName||""} ${x.lastName||""}`.trim():"Unknown"};return _.jsxs("div",{className:"dashboard-container",children:[_.jsxs("div",{className:"dashboard-card",children:[_.jsx("h2",{children:"Patient Overview"}),_.jsxs("p",{children:["Active Patients: ",i.length]}),_.jsxs("p",{children:["Pending Checkups: ",Math.floor(i.length/4)]})]}),_.jsxs("div",{className:"dashboard-card",children:[_.jsx("h2",{children:"Patients"}),_.jsxs("table",{className:"appointment-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Patient Name"}),_.jsx("th",{children:"Appointments"})]})}),_.jsx("tbody",{children:i.map(S=>{const x=n.filter(M=>M.patientId===S.id).map(M=>M.dateTime?M.dateTime.toLocaleDateString():"N/A").join(", ");return _.jsxs("tr",{children:[_.jsx("td",{children:T(S.id)}),_.jsx("td",{children:x||"No appointments"})]},S.id)})})]})]}),_.jsxs("div",{className:"dashboard-card",children:[_.jsx("h2",{children:"Appointment Calendar"}),_.jsx(Qk,{value:h,onChange:p,tileClassName:({date:S,view:x})=>x==="month"&&g.includes(S.toDateString())?"highlight-appointment":null}),y.length>0?_.jsx("ul",{children:y.map(S=>_.jsxs("li",{children:[S.dateTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"  ",S.patientName," (",S.type||"Checkup",")"]},S.id))}):_.jsx("p",{children:"No appointments on this day."})]})]})}function xg(i){if(!i)return"N/A";const e=new Date(i),n=Date.now()-e.getTime(),s=new Date(n);return Math.abs(s.getUTCFullYear()-1970)}function Xk(){const[i,e]=z.useState([]),[n,s]=z.useState([]),[o,u]=z.useState(!0),[h,p]=z.useState(""),[g,y]=z.useState({key:"name",direction:"asc"}),T=Yl();z.useEffect(()=>{S()},[]);const S=async()=>{try{if(!ua.currentUser)return;const W=(await Pi(wi(dt,"users"))).docs.map(we=>({id:we.id,...we.data()})).filter(we=>we.role==="patient");e(W);const _e=(await Pi(wi(dt,"appointments"))).docs.map(we=>({id:we.id,...we.data()}));s(_e)}catch(V){console.error("Error fetching data:",V)}finally{u(!1)}},x=V=>{let F="asc";g.key===V&&g.direction==="asc"&&(F="desc"),y({key:V,direction:F})},M=V=>g.key===V?g.direction==="asc"?" ":" ":"",Q=[...i].sort((V,F)=>{if(!V[g.key]&&!F[g.key])return 0;if(!V[g.key])return 1;if(!F[g.key])return-1;let W=V[g.key],te=F[g.key];if(g.key==="name")W=`${V.first_name||V.firstName||""} ${V.last_name||V.lastName||""}`.toLowerCase(),te=`${F.first_name||F.firstName||""} ${F.last_name||F.lastName||""}`.toLowerCase();else if(g.key==="age")W=xg(V.birthDate),te=xg(F.birthDate);else if(g.key==="nextAppointment"){const _e=n.filter(be=>be.patientID===V.id&&be.dateTime).map(be=>new Date(be.dateTime)).sort((be,k)=>be-k)[0],we=n.filter(be=>be.patientID===F.id&&be.dateTime).map(be=>new Date(be.dateTime)).sort((be,k)=>be-k)[0];W=_e||new Date(864e13),te=we||new Date(864e13)}return W<te?g.direction==="asc"?-1:1:W>te?g.direction==="asc"?1:-1:0}).filter(V=>`${V.first_name||V.firstName||""} ${V.last_name||V.lastName||""}`.toLowerCase().includes(h.toLowerCase()));return o?_.jsx("p",{className:"loading",children:"Loading patients..."}):_.jsxs("div",{className:"patients-container",children:[_.jsxs("div",{className:"patients-header",children:[_.jsxs("h2",{children:["Patients (",i.length,")"]}),_.jsx("input",{type:"text",placeholder:"Search by name...",value:h,onChange:V=>p(V.target.value)})]}),_.jsxs("table",{className:"patients-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsxs("th",{onClick:()=>x("name"),children:["Name",M("name")]}),_.jsxs("th",{onClick:()=>x("sex"),children:["Sex",M("sex")]}),_.jsxs("th",{onClick:()=>x("age"),children:["Age",M("age")]}),_.jsxs("th",{onClick:()=>x("nextAppointment"),children:["Next Appointment",M("nextAppointment")]}),_.jsxs("th",{onClick:()=>x("currentConcern"),children:["Current Concern",M("currentConcern")]}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:Q.map(V=>{const F=n.filter(te=>te.patientID===V.id&&te.dateTime).map(te=>new Date(te.dateTime)).sort((te,_e)=>te-_e),W=F[0]?F[0].toLocaleDateString():"N/A";return _.jsxs("tr",{children:[_.jsx("td",{children:`${V.first_name||V.firstName||""} ${V.last_name||V.lastName||""}`}),_.jsx("td",{children:V.sex||V.gender||"N/A"}),_.jsx("td",{children:xg(V.birthDate)}),_.jsx("td",{children:W}),_.jsx("td",{children:V.currentConcern||"N/A"}),_.jsx("td",{children:_.jsx("button",{className:"view-details-btn",onClick:()=>T(`/doctor/patient-management/${V.id}`),children:"View Details"})})]},V.id)})})]})]})}function Rg(i){if(!i)return null;if(i instanceof It)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function Jk(){const{user:i}=ss(),[e,n]=z.useState([]),[s,o]=z.useState([]),[u,h]=z.useState(!0),[p,g]=z.useState(""),[y,T]=z.useState(""),[S,x]=z.useState(""),[M,Y]=z.useState(""),[Q,V]=z.useState(""),[F,W]=z.useState(""),[te,_e]=z.useState(""),[we,be]=z.useState(!1),[k,O]=z.useState(null);z.useEffect(()=>{i?.uid?(j(i.uid.trim()),L()):(console.warn("User UID not available yet."),h(!1))},[i]);const j=async de=>{try{const Pe=Bn(dt,"users",de),Z=sl(wi(dt,"appointments"),al("doctorId","==",Pe)),ae=await Pi(Z),ve=await Promise.all(ae.docs.map(async Ne=>{const Oe={id:Ne.id,...Ne.data()};let D="Unknown";if(Oe.patientId)try{const se=await la(Oe.patientId);if(se.exists()){const me=se.data();D=`${me.firstName||""} ${me.lastName||""}`.trim()}}catch(se){console.error("Error fetching patient:",se)}return{...Oe,patientName:D}}));n(ve)}catch(Pe){console.error("Error loading appointments:",Pe)}finally{h(!1)}},L=async()=>{try{const Pe=(await Pi(wi(dt,"users"))).docs.map(Z=>({id:Z.id,...Z.data()})).filter(Z=>Z.role==="patient");o(Pe)}catch(de){console.error("Error fetching patients:",de)}},U=de=>{O(de.id),g(de.patientId?.id||""),T(de.dateTime?Rg(de.dateTime).toISOString().split("T")[0]:""),x(de.dateTime?Rg(de.dateTime).toTimeString().slice(0,5):""),Y(de.type||""),V(de.reason||""),W(de.location||""),_e(de.notes||""),window.scrollTo({top:0,behavior:"smooth"})},H=async de=>{if(window.confirm("Are you sure you want to delete this appointment?"))try{await tA(Bn(dt,"appointments",de)),j(i.uid)}catch(Pe){console.error("Error deleting appointment:",Pe)}},N=async de=>{if(de.preventDefault(),!p||!y||!S)return alert("Fill all required fields");be(!0);try{const[Pe,Z,ae]=y.split("-"),[ve,Ne]=S.split(":").map(Number),Oe=new Date(Pe,Z-1,ae,ve,Ne),D=Bn(dt,"users",i.uid),se=Bn(dt,"users",p),me={doctorId:D,patientId:se,dateTime:It.fromDate(Oe),type:M||"",reason:Q||"",location:F||"",notes:te||"",updatedAt:Hh()};k?(await $l(Bn(dt,"appointments",k),me),O(null)):(me.createdAt=Hh(),await nA(wi(dt,"appointments"),me)),j(i.uid),g(""),T(""),x(""),Y(""),V(""),W(""),_e("")}catch(Pe){console.error("Error saving appointment:",Pe)}finally{be(!1)}};return u?_.jsx("p",{className:"loading",children:"Loading appointments..."}):_.jsxs("div",{className:"dashboard-container",children:[e.length===0?_.jsx("p",{children:"No appointments scheduled."}):_.jsx("div",{className:"dashboard-card table-container",children:_.jsxs("table",{className:"appointment-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Date & Time"}),_.jsx("th",{children:"Type"}),_.jsx("th",{children:"Reason"}),_.jsx("th",{children:"Location"}),_.jsx("th",{children:"Patient"}),_.jsx("th",{children:"Notes"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:e.map(de=>{const Pe=Rg(de.dateTime);return _.jsxs("tr",{children:[_.jsx("td",{children:Pe?Pe.toLocaleString():"Invalid Date"}),_.jsx("td",{children:de.type||""}),_.jsx("td",{children:de.reason||""}),_.jsx("td",{children:de.location||""}),_.jsx("td",{children:de.patientName}),_.jsx("td",{children:de.notes||"N/A"}),_.jsxs("td",{className:"actions-cell",children:[_.jsx("button",{className:"action-btn edit-btn full-width-btn",onClick:()=>U(de),children:"Edit"}),_.jsx("button",{className:"action-btn delete-btn full-width-btn",onClick:()=>H(de.id),children:"Delete"})]})]},de.id)})})]})}),_.jsxs("div",{className:"dashboard-card add-appointment",children:[_.jsx("h3",{children:k?"Edit Appointment":"Add Appointment"}),_.jsxs("form",{className:"add-appointment-form",onSubmit:N,children:[_.jsxs("div",{className:"form-row",children:[_.jsxs("select",{value:p,onChange:de=>g(de.target.value),required:!0,children:[_.jsx("option",{value:"",children:"Select Patient"}),s.map(de=>_.jsxs("option",{value:de.id,children:[de.firstName," ",de.lastName]},de.id))]}),_.jsx("input",{type:"date",value:y,onChange:de=>T(de.target.value),required:!0}),_.jsx("input",{type:"time",value:S,onChange:de=>x(de.target.value),required:!0})]}),_.jsxs("div",{className:"form-row",children:[_.jsx("input",{type:"text",placeholder:"Type",value:M,onChange:de=>Y(de.target.value)}),_.jsx("input",{type:"text",placeholder:"Reason",value:Q,onChange:de=>V(de.target.value)})]}),_.jsxs("div",{className:"form-row",children:[_.jsx("input",{type:"text",placeholder:"Location",value:F,onChange:de=>W(de.target.value)}),_.jsx("textarea",{placeholder:"Notes",value:te,onChange:de=>_e(de.target.value)})]}),_.jsx("div",{className:"form-row",children:_.jsx("button",{type:"submit",disabled:we,children:we?k?"Updating...":"Adding...":k?"Update Appointment":"Add Appointment"})})]})]})]})}function Zk(){const{profile:i,loading:e}=ss(),[n,s]=z.useState(null),[o,u]=z.useState(null),[h,p]=z.useState(null),[g,y]=z.useState(!0),[T,S]=z.useState(!1),[x,M]=z.useState(!1),[Y,Q]=z.useState(""),[V,F]=z.useState(!1),[W,te]=z.useState({current:"",new:"",confirm:""}),[_e,we]=z.useState(""),[be,k]=z.useState("");z.useEffect(()=>{if(!i)return;(async()=>{try{const de=Bn(dt,"users",i.uid),Pe=await la(de);Pe.exists()&&u(Pe.data());const Z=sl(wi(dt,"doctors"),al("uid","==",de)),ae=await Pi(Z);if(ae.empty)console.warn("No doctor profile found");else{const ve=ae.docs[0].data();s(ve),p({...Pe.data(),...ve})}}catch(de){console.error("Error fetching doctor profile:",de),Q("Failed to load profile")}finally{y(!1)}})()},[i]);const O=()=>{S(!0),Q("")},j=()=>{p({...o,...n}),S(!1),Q("")},L=(N,de)=>{p(Pe=>({...Pe,[N]:de}))},U=async()=>{if(Q(""),!h.firstName||!h.lastName)return Q("Name is required");if(!h.medicalField)return Q("Medical field is required");if(!h.officeAddress)return Q("Office address is required");M(!0);try{const N=Bn(dt,"users",i.uid),de=sl(wi(dt,"doctors"),al("uid","==",N)),Pe=await Pi(de);if(!Pe.empty){const Z=Pe.docs[0].ref;await $l(Z,{medicalField:h.medicalField,placeOfEmployment:h.placeOfEmployment,officeAddress:h.officeAddress,officeRoomNo:h.officeRoomNo,officeContactNo:h.officeContactNo,yearsExperience:h.yearsExperience}),s({...h})}await $l(N,{firstName:h.firstName,lastName:h.lastName,email:h.email,contactNumber:h.contactNumber,address:h.address,birthDate:h.birthDate,gender:h.gender}),u({...h}),S(!1)}catch(N){console.error("Error saving profile:",N),Q("Failed to save changes")}finally{M(!1)}},H=async()=>{if(we(""),k(""),!W.current||!W.new||!W.confirm)return we("All fields are required");if(W.new!==W.confirm)return we("New passwords do not match");if(W.new.length<6)return we("New password must be at least 6 characters");try{const N=ua.currentUser,de=Kl.credential(N.email,W.current);await aI(N,de),await uI(N,W.new),k("Password updated successfully"),te({current:"",new:"",confirm:""}),F(!1)}catch(N){console.error(N),we("Failed to change password. Check your current password.")}};return e||g?_.jsx("p",{children:"Loading profile..."}):o?_.jsx("div",{className:"profile-container",children:_.jsxs("div",{className:"profile-card",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("h3",{children:"Doctor Profile"}),T?_.jsxs("div",{style:{display:"flex",gap:"10px"},children:[_.jsx("button",{onClick:U,disabled:x,children:x?"Saving...":"Save"}),_.jsx("button",{onClick:j,disabled:x,children:"Cancel"})]}):_.jsx("button",{onClick:O,children:"Edit Profile"})]}),Y&&_.jsx("div",{className:"error-message",children:Y}),_.jsx("hr",{}),_.jsxs("p",{children:[_.jsx("strong",{children:"First Name:"})," ",T?_.jsx("input",{value:h.firstName,onChange:N=>L("firstName",N.target.value)}):o.firstName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Last Name:"})," ",T?_.jsx("input",{value:h.lastName,onChange:N=>L("lastName",N.target.value)}):o.lastName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",T?_.jsx("input",{value:h.email,onChange:N=>L("email",N.target.value)}):o.email]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Contact Number:"})," ",T?_.jsx("input",{value:h.contactNumber,onChange:N=>L("contactNumber",N.target.value)}):o.contactNumber]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Address:"})," ",T?_.jsx("input",{value:h.address,onChange:N=>L("address",N.target.value)}):o.address]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Birth Date:"})," ",T?_.jsx("input",{type:"date",value:h.birthDate,onChange:N=>L("birthDate",N.target.value)}):o.birthDate]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Gender:"})," ",T?_.jsxs("select",{value:h.gender,onChange:N=>L("gender",N.target.value),children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"Male",children:"Male"}),_.jsx("option",{value:"Female",children:"Female"}),_.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Password:"})," ********",!V&&_.jsx("span",{className:"change-password",onClick:()=>F(!0),children:"Change Password"})]}),V&&_.jsxs("div",{style:{marginTop:"0.5rem"},children:[_.jsx("input",{type:"password",placeholder:"Current password",value:W.current,onChange:N=>te({...W,current:N.target.value})}),_.jsx("input",{type:"password",placeholder:"New password",value:W.new,onChange:N=>te({...W,new:N.target.value})}),_.jsx("input",{type:"password",placeholder:"Confirm new password",value:W.confirm,onChange:N=>te({...W,confirm:N.target.value})}),_.jsx("button",{onClick:H,children:"Save Password"}),_.jsx("button",{onClick:()=>{F(!1),te({current:"",new:"",confirm:""})},children:"Cancel"}),_e&&_.jsx("p",{style:{color:"red"},children:_e}),be&&_.jsx("p",{style:{color:"green"},children:be})]}),_.jsx("hr",{}),n?_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Field of Specialization:"})," ",T?_.jsx("input",{value:h.medicalField,onChange:N=>L("medicalField",N.target.value)}):n.medicalField]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Hospital / Office:"})," ",T?_.jsx("input",{value:h.placeOfEmployment,onChange:N=>L("placeOfEmployment",N.target.value)}):n.placeOfEmployment]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Office Address:"})," ",T?_.jsx("input",{value:h.officeAddress,onChange:N=>L("officeAddress",N.target.value)}):n.officeAddress]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Office Room:"})," ",T?_.jsx("input",{value:h.officeRoomNo,onChange:N=>L("officeRoomNo",N.target.value)}):n.officeRoomNo]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Office Contact:"})," ",T?_.jsx("input",{value:h.officeContactNo,onChange:N=>L("officeContactNo",N.target.value)}):n.officeContactNo]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Years Experience:"})," ",T?_.jsx("input",{type:"number",value:h.yearsExperience,onChange:N=>L("yearsExperience",N.target.value)}):n.yearsExperience]})]}):_.jsx("p",{children:"No doctor profile found."})]})}):_.jsx("p",{children:"No profile data found."})}function eP(){return _.jsxs("div",{children:[_.jsx("h1",{children:"Management Dashboard"}),_.jsx("p",{children:"Welcome to the admin management panel."})]})}function tP(){return _.jsxs("div",{children:[_.jsx("h1",{children:"Management Profile"}),_.jsx("p",{children:"Admin details and management profile info go here."})]})}function nP(){const{id:i}=DC(),[e,n]=z.useState(null),[s,o]=z.useState([]),[u,h]=z.useState([]),[p,g]=z.useState(!0);z.useEffect(()=>{i&&y(i)},[i]);const y=async T=>{try{console.log("Fetching data for UID:",T);const S=Bn(dt,"users",T),x=await la(S);if(console.log("User snapshot exists?",x.exists()),!x.exists()){console.warn("No user found with that ID"),n(null),g(!1);return}const M={id:x.id,...x.data()};console.log("User data fetched:",M);const Y=await Pi(wi(dt,"patients"));console.log("Total patients in collection:",Y.size);let Q=null;Y.forEach(te=>{console.log("Checking patient doc ID:",te.id),te.id===T&&(Q=te.data(),console.log("Found matching patient data:",Q))});let V={...M};Q?(console.log("Raw patient data from Firestore:",Q),console.log("Type of chronicIllness:",typeof Q.chronicIllness),console.log("Is array?",Array.isArray(Q.chronicIllness)),V={...M,...Q,chronicIllness:Array.isArray(Q.chronicIllness)?Q.chronicIllness.join(", "):Q.chronicIllness||"None"}):console.warn("No patient document found with matching ID:",T),console.log("Final combined patient data:",V),n(V);const F=await Pi(wi(dt,"appointments")),W=await Pi(wi(dt,"prescriptions"));o(F.docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.patientID===T)),h(W.docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.patientID===T))}catch(S){console.error("Error fetching patient data:",S)}finally{g(!1)}};return p?_.jsx("p",{children:"Loading patient data..."}):e?_.jsxs("div",{className:"patient-management-page",children:[_.jsx("h2",{className:"page-header",children:"Patient Management"}),_.jsxs("div",{className:"info-grid",children:[_.jsxs("div",{className:"card",children:[_.jsx("h4",{children:"Prescriptions"}),u.length>0?u.map((T,S)=>_.jsxs("div",{className:"data-item",children:[_.jsx("p",{children:_.jsx("b",{children:T.medicationName||"Unnamed Medicine"})}),_.jsxs("p",{children:["Dosage: ",T.dosage||"N/A"]}),_.jsxs("p",{children:["Duration: ",T.duration||"N/A"]})]},S)):_.jsx("p",{children:"No prescriptions"})]}),_.jsxs("div",{className:"card",children:[_.jsx("h4",{children:"Meals"}),_.jsx("p",{children:"No meal data available."})]}),_.jsxs("div",{className:"card",children:[_.jsx("h4",{children:"Appointments"}),s.length>0?s.map((T,S)=>_.jsxs("p",{children:[new Date(T.dateTime).toLocaleString(),"  ",T.concern||"N/A"]},S)):_.jsx("p",{children:"No upcoming appointments"})]}),_.jsxs("div",{className:"card",children:[_.jsx("h4",{children:"Patient Information"}),_.jsxs("p",{children:[_.jsx("b",{children:"Name:"})," ",`${e.firstName||e.first_name||e.name||""} ${e.lastName||e.last_name||""}`]}),_.jsxs("p",{children:[_.jsx("b",{children:"Email:"})," ",e.email||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Contact:"})," ",e.contactNumber||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Gender:"})," ",e.gender||e.sex||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Birth Date:"})," ",e.birthDate||"N/A"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Age:"})," ",iP(e.birthDate)]}),_.jsxs("p",{children:[_.jsx("b",{children:"Allergies:"})," ",e.allergies||"None"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Chronic Illness:"})," ",e.chronicIllness||"None"]}),_.jsxs("p",{children:[_.jsx("b",{children:"Insurance:"})," ",e.insuranceProvider||"N/A"]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h4",{children:"Medical History"}),_.jsx("ul",{children:_.jsx("li",{children:"10 years ago: Diagnosed with Diabetes Type 2"})}),_.jsx("h4",{children:"Surgical History"}),_.jsx("ul",{children:_.jsx("li",{children:"N/A"})})]})]})]}):_.jsx("p",{children:"No patient found."})}function iP(i){if(!i)return"N/A";const e=new Date(i),n=Date.now()-e.getTime(),s=new Date(n);return Math.abs(s.getUTCFullYear()-1970)}function rP(){const{user:i}=ss(),[e,n]=z.useState(null),[s,o]=z.useState(!0);z.useEffect(()=>{i&&u()},[i]);const u=async()=>{try{const h=Bn(dt,"users",i.uid),p=await la(h);p.exists()?n(p.data()):console.warn("User document not found.")}catch(h){console.error("Error loading profile:",h)}finally{o(!1)}};return s?_.jsx("p",{className:"loading",children:"Loading dashboard..."}):_.jsxs("div",{className:"patient-dashboard",children:[_.jsx("h3",{className:"dashboard-title",children:"Patient Dashboard"}),_.jsxs("div",{className:"dashboard-grid",children:[_.jsxs("div",{className:"dashboard-card",children:[_.jsxs("h2",{children:["Good Morning, ",e?.name||"User","!"]}),_.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),_.jsxs("div",{className:"dashboard-card",children:[_.jsx("h2",{children:"Notifications"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Your morning medication is almost due"}),_.jsx("li",{children:"You missed your medicine yesterday"})]})]}),_.jsxs("div",{className:"dashboard-card",children:[_.jsx("h2",{children:"Calendar"}),_.jsx("p",{children:"[Calendar Component will go here]"})]}),_.jsxs("div",{className:"dashboard-card",children:[_.jsx("h2",{children:"Checklist"}),_.jsxs("ul",{children:[_.jsx("li",{children:"Medicine"}),_.jsx("li",{children:"Food"})]})]})]})]})}function sP(){const{user:i}=ss(),[e,n]=z.useState(null),[s,o]=z.useState(null),[u,h]=z.useState(!0);if(z.useEffect(()=>{const y=async()=>{try{const T=Bn(dt,"users",i.uid),S=sl(wi(dt,"appointments"),al("patientId","==",T)),x=await Pi(S);if(!x.empty){const M=x.docs[0],Y={id:M.id,...M.data()};if(n(Y),Y.doctorId)try{const Q=await la(Y.doctorId);let V={};Q.exists()&&(V={id:Q.id,...Q.data()});const F=await la(Bn(dt,"doctors",Q.id));F.exists()&&(V={...V,...F.data()}),o(V)}catch(Q){console.error("Error fetching doctor details:",Q)}}}catch(T){console.error("Error loading appointment:",T)}finally{h(!1)}};i?.uid&&y()},[i]),u)return _.jsx("div",{className:"appointment-loading",children:"Loading..."});if(!e||!s)return _.jsx("div",{className:"appointment-container",children:_.jsx("h2",{children:"No upcoming appointments found."})});const p=e.dateTime?.toDate?.().toLocaleDateString?.()||"N/A",g=e.dateTime?.toDate?.().toLocaleTimeString?.([],{hour:"2-digit",minute:"2-digit"})||"N/A";return _.jsxs("div",{className:"appointment-container",children:[_.jsx("h1",{children:"Appointments"}),_.jsxs("div",{className:"appointment-card",children:[_.jsx("h2",{children:"Assigned Doctor"}),_.jsx("p",{children:_.jsxs("strong",{children:["Dr. ",s.fullName||`${s.firstName||""} ${s.lastName||""}`]})}),_.jsxs("p",{children:[_.jsx("strong",{children:"Field:"})," ",s.medicalField||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",s.email||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Contact Number:"})," ",s.officeContactNo||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Hospital Address & Office:"})," ",s.placeOfEmployment||"N/A",", Room ",s.officeRoomNo||"N/A",","," ",s.officeAddress||"N/A"]}),_.jsx("hr",{className:"appointment-divider"}),_.jsx("h2",{children:"Upcoming Appointment Details"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Time:"})," ",g]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Date:"})," ",p]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Location:"})," ",e.location||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Type:"})," ",e.type||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Reason:"})," ",e.reason||"N/A"]}),_.jsx("p",{className:"appointment-note",children:"To reschedule, please contact your assigned doctor."})]})]})}function aP(){const{profile:i,loading:e}=ss(),[n,s]=z.useState(null),[o,u]=z.useState(null),[h,p]=z.useState(null),[g,y]=z.useState(!0),[T,S]=z.useState(!1),[x,M]=z.useState(!1),[Y,Q]=z.useState(""),[V,F]=z.useState(!1),[W,te]=z.useState(""),[_e,we]=z.useState(""),[be,k]=z.useState(""),[O,j]=z.useState(""),[L,U]=z.useState(!1);z.useEffect(()=>{if(!i)return;(async()=>{try{const ve=Bn(dt,"users",i.uid),Ne=await la(ve);Ne.exists()&&u(Ne.data());const Oe=sl(wi(dt,"patients"),al("uid","==",ve)),D=await Pi(Oe);if(D.empty)console.warn("No patient profile found");else{const se=D.docs[0].data();s(se),p({...Ne.data(),...se})}}catch(ve){console.error("Error fetching patient profile:",ve),Q("Failed to load profile")}finally{y(!1)}})()},[i]);const H=()=>{S(!0),Q("")},N=()=>{p({...o,...n}),S(!1),Q("")},de=(ae,ve)=>{p(Ne=>({...Ne,[ae]:ve}))},Pe=async()=>{Q(""),M(!0);try{const ae=Bn(dt,"users",i.uid),ve=sl(wi(dt,"patients"),al("uid","==",ae)),Ne=await Pi(ve);if(!Ne.empty){const Oe=Ne.docs[0].ref;await $l(Oe,{chronicIllness:h.chronicIllness||[],allergies:h.allergies||[],insuranceProvider:h.insuranceProvider||"",seniorCitizenStatus:h.seniorCitizenStatus||!1,pwdStatus:h.pwdStatus||!1}),s({...h})}await $l(ae,{firstName:h.firstName,lastName:h.lastName,email:h.email,contactNumber:h.contactNumber,address:h.address,birthDate:h.birthDate,gender:h.gender}),u({...h}),S(!1)}catch(ae){console.error("Error saving profile:",ae),Q("Failed to save changes")}finally{M(!1)}},Z=async()=>{if(j(""),!W||!_e||!be){j("All fields are required");return}if(_e!==be){j("Passwords do not match");return}U(!0);try{const ae=ua.currentUser,ve=ua.EmailAuthProvider.credential(ae.email,W);await ae.reauthenticateWithCredential(ve),await ae.updatePassword(_e),F(!1),te(""),we(""),k(""),alert("Password updated successfully!")}catch(ae){console.error(ae),j("Failed to update password. Check current password.")}finally{U(!1)}};return e||g?_.jsx("p",{children:"Loading profile..."}):o?_.jsx("div",{className:"profile-container",style:{textAlign:"left"},children:_.jsxs("div",{className:"profile-card",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("h3",{children:"Patient Profile"}),T?_.jsxs("div",{style:{display:"flex",gap:"10px"},children:[_.jsx("button",{onClick:Pe,disabled:x,children:x?"Saving...":"Save"}),_.jsx("button",{onClick:N,disabled:x,children:"Cancel"})]}):_.jsx("button",{onClick:H,children:"Edit Profile"})]}),Y&&_.jsx("div",{className:"error-message",children:Y}),_.jsx("hr",{}),_.jsxs("p",{children:[_.jsx("strong",{children:"First Name:"})," ",T?_.jsx("input",{value:h.firstName,onChange:ae=>de("firstName",ae.target.value)}):o.firstName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Last Name:"})," ",T?_.jsx("input",{value:h.lastName,onChange:ae=>de("lastName",ae.target.value)}):o.lastName]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",T?_.jsx("input",{value:h.email,onChange:ae=>de("email",ae.target.value)}):o.email]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Contact Number:"})," ",T?_.jsx("input",{value:h.contactNumber,onChange:ae=>de("contactNumber",ae.target.value)}):o.contactNumber]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Password:"})," ********"," ",V?null:_.jsx("span",{className:"change-password",style:{cursor:"pointer",color:"blue"},onClick:()=>F(!0),children:"(Change Password)"})]}),V&&_.jsxs("div",{style:{marginTop:"10px",marginBottom:"10px"},children:[O&&_.jsx("p",{className:"error-message",children:O}),_.jsx("input",{type:"password",placeholder:"Current Password",value:W,onChange:ae=>te(ae.target.value)}),_.jsx("input",{type:"password",placeholder:"New Password",value:_e,onChange:ae=>we(ae.target.value)}),_.jsx("input",{type:"password",placeholder:"Confirm New Password",value:be,onChange:ae=>k(ae.target.value)}),_.jsxs("div",{style:{marginTop:"5px"},children:[_.jsx("button",{onClick:Z,disabled:L,children:L?"Updating...":"Update Password"}),_.jsx("button",{onClick:()=>F(!1),disabled:L,children:"Cancel"})]})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Birth Date:"})," ",T?_.jsx("input",{type:"date",value:h.birthDate,onChange:ae=>de("birthDate",ae.target.value)}):o.birthDate]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Gender:"})," ",T?_.jsxs("select",{value:h.gender,onChange:ae=>de("gender",ae.target.value),children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"Male",children:"Male"}),_.jsx("option",{value:"Female",children:"Female"}),_.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),_.jsx("hr",{}),n?_.jsxs(_.Fragment,{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Chronic Illness:"})," ",T?_.jsx("input",{value:(h.chronicIllness||[]).join(", "),onChange:ae=>de("chronicIllness",ae.target.value.split(",").map(ve=>ve.trim()))}):(n.chronicIllness||[]).join(", ")]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Allergies:"})," ",T?_.jsx("input",{value:(h.allergies||[]).join(", "),onChange:ae=>de("allergies",ae.target.value.split(",").map(ve=>ve.trim()))}):(n.allergies||[]).join(", ")]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Insurance Provider:"})," ",T?_.jsx("input",{value:h.insuranceProvider||"",onChange:ae=>de("insuranceProvider",ae.target.value)}):n.insuranceProvider]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Senior Citizen:"})," ",T?_.jsxs("select",{value:h.seniorCitizenStatus?"Yes":"No",onChange:ae=>de("seniorCitizenStatus",ae.target.value==="Yes"),children:[_.jsx("option",{value:"No",children:"No"}),_.jsx("option",{value:"Yes",children:"Yes"})]}):n.seniorCitizenStatus?"Yes":"No"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"PWD:"})," ",T?_.jsxs("select",{value:h.pwdStatus?"Yes":"No",onChange:ae=>de("pwdStatus",ae.target.value==="Yes"),children:[_.jsx("option",{value:"No",children:"No"}),_.jsx("option",{value:"Yes",children:"Yes"})]}):n.pwdStatus?"Yes":"No"]})]}):_.jsx("p",{children:"No patient profile found."})]})}):_.jsx("p",{children:"No profile data found."})}async function OA(i,e,n,s){const o=Bn(dt,n,s),u=sl(wi(dt,i),al(e,"==",o));return(await Pi(u)).docs.map(p=>({id:p.id,...p.data()}))}function oP(){const{user:i}=ss(),[e,n]=z.useState([]),[s,o]=z.useState([]),[u,h]=z.useState(!0);return z.useEffect(()=>{if(!i?.uid){h(!1);return}(async()=>{try{const g=await OA("dailyFoodLog","patient","patients",i.uid),y=new Date,T=g.map(M=>{const Y=M.dateTime instanceof It?M.dateTime.toDate():null;return{id:M.id,mealType:M.mealType||"Unknown",description:M.mealDescription||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:M.status||"Pending",date:Y}}),S=T.filter(M=>M.status.toLowerCase()!=="completed"&&(!M.date||M.date>=y)),x=T.filter(M=>M.status.toLowerCase()==="completed"||M.date&&M.date<y);n(S),o(x)}catch(g){console.error("Error fetching daily foods:",g)}finally{h(!1)}})()},[i]),u?_.jsx("p",{className:"loading",children:"Loading daily food log..."}):_.jsx("div",{className:"profile-container",children:_.jsxs("div",{className:"profile-card",children:[_.jsx("h1",{className:"profile-title",children:"Daily Food Log"}),_.jsxs("div",{className:"table-section",children:[_.jsx("h2",{className:"section-title",children:"Upcoming / Not Completed"}),e.length===0?_.jsx("p",{className:"empty-message",children:"No upcoming meals."}):_.jsxs("table",{className:"dashboard-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Meal Type"}),_.jsx("th",{children:"Description"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:e.map(p=>_.jsxs("tr",{children:[_.jsx("td",{children:p.mealType}),_.jsx("td",{children:p.description}),_.jsx("td",{children:p.time}),_.jsx("td",{children:_.jsx("span",{className:"status pending",children:p.status})})]},p.id))})]})]}),_.jsxs("div",{className:"table-section",children:[_.jsx("h2",{className:"section-title",children:"Completed Meals"}),s.length===0?_.jsx("p",{className:"empty-message",children:"No completed meals yet."}):_.jsxs("table",{className:"dashboard-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Meal Type"}),_.jsx("th",{children:"Description"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:s.map(p=>_.jsxs("tr",{children:[_.jsx("td",{children:p.mealType}),_.jsx("td",{children:p.description}),_.jsx("td",{children:p.time}),_.jsx("td",{children:_.jsx("span",{className:"status taken",children:p.status})})]},p.id))})]})]})]})})}function lP(){const{user:i}=ss(),[e,n]=z.useState([]),[s,o]=z.useState([]),[u,h]=z.useState(!0);return z.useEffect(()=>{if(!i?.uid){h(!1);return}(async()=>{try{const g=await OA("dailyIntakeMonitor","patient","patients",i.uid),y=new Date,T=g.map(M=>{const Y=M.dateTime instanceof It?M.dateTime.toDate():null,Q=M.endDate instanceof It?M.endDate.toDate():null;return{id:M.id,name:M.medication||"Unknown",dosage:M.dosage||"-",frequency:M.frequency||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:M.status||"Not taken",endDate:Q}}),S=T.filter(M=>M.status.toLowerCase()!=="taken"&&(!M.endDate||M.endDate>=y)),x=T.filter(M=>M.status.toLowerCase()==="taken"||M.endDate&&M.endDate<y);n(S),o(x)}catch(g){console.error("Error fetching daily meds:",g)}finally{h(!1)}})()},[i]),u?_.jsx("p",{className:"loading",children:"Loading daily medicines..."}):_.jsx("div",{className:"profile-container",children:_.jsxs("div",{className:"profile-card",children:[_.jsx("h1",{className:"profile-title",children:"Daily Medicine Log"}),_.jsxs("div",{className:"table-section",children:[_.jsx("h2",{className:"section-title",children:"Upcoming / Not Taken"}),e.length===0?_.jsx("p",{className:"empty-message",children:"No upcoming medicines."}):_.jsxs("table",{className:"dashboard-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Medicine"}),_.jsx("th",{children:"Dosage"}),_.jsx("th",{children:"Frequency"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:e.map(p=>_.jsxs("tr",{children:[_.jsx("td",{children:p.name}),_.jsx("td",{children:p.dosage}),_.jsx("td",{children:p.frequency}),_.jsx("td",{children:p.time}),_.jsx("td",{children:_.jsx("span",{className:"status pending",children:p.status})})]},p.id))})]})]}),_.jsxs("div",{className:"table-section",children:[_.jsx("h2",{className:"section-title",children:"Completed / Taken"}),s.length===0?_.jsx("p",{className:"empty-message",children:"No completed medicines yet."}):_.jsxs("table",{className:"dashboard-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Medicine"}),_.jsx("th",{children:"Dosage"}),_.jsx("th",{children:"Frequency"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:s.map(p=>_.jsxs("tr",{children:[_.jsx("td",{children:p.name}),_.jsx("td",{children:p.dosage}),_.jsx("td",{children:p.frequency}),_.jsx("td",{children:p.time}),_.jsx("td",{children:_.jsx("span",{className:"status taken",children:p.status})})]},p.id))})]})]})]})})}function uP(){return _.jsx(BM,{children:_.jsx(px,{children:_.jsx($C,{children:_.jsxs(Zn,{path:"/",element:_.jsx(QM,{}),children:[_.jsx(Zn,{index:!0,element:_.jsx(KM,{})}),_.jsx(Zn,{path:"login",element:_.jsx(nj,{})}),_.jsx(Zn,{path:"about",element:_.jsx(ij,{})}),_.jsx(Zn,{path:"contact",element:_.jsx(rj,{})}),_.jsx(Zn,{path:"admin/dashboard",element:_.jsx(Lr,{children:_.jsx(hj,{})})}),_.jsx(Zn,{path:"doctor/dashboard",element:_.jsx(Lr,{children:_.jsx(Wk,{})})}),_.jsx(Zn,{path:"doctor/patients",element:_.jsx(Lr,{children:_.jsx(Xk,{})})}),_.jsx(Zn,{path:"doctor/patient-management/:id",element:_.jsx(Lr,{children:_.jsx(nP,{})})}),_.jsx(Zn,{path:"doctor/appointments",element:_.jsx(Lr,{children:_.jsx(Jk,{})})}),_.jsx(Zn,{path:"doctor/management",element:_.jsx(Lr,{children:_.jsx(eP,{})})}),_.jsx(Zn,{path:"doctor/management-profile",element:_.jsx(Lr,{children:_.jsx(tP,{})})}),_.jsx(Zn,{path:"doctor/profile",element:_.jsx(Lr,{children:_.jsx(Zk,{})})}),_.jsx(Zn,{path:"patient/dashboard",element:_.jsx(Lr,{children:_.jsx(rP,{})})}),_.jsx(Zn,{path:"patient/appointments",element:_.jsx(Lr,{children:_.jsx(sP,{})})}),_.jsx(Zn,{path:"patient/dailies/food",element:_.jsx(Lr,{children:_.jsx(oP,{})})}),_.jsx(Zn,{path:"patient/dailies/medicine",element:_.jsx(Lr,{children:_.jsx(lP,{})})}),_.jsx(Zn,{path:"patient/profile",element:_.jsx(Lr,{children:_.jsx(aP,{})})})]})})})})}X1.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(uP,{})}));
