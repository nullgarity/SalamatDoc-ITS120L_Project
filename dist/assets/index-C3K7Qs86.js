(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function ux(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function hx(){if(YE)return Th;YE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Th.Fragment=e,Th.jsx=t,Th.jsxs=t,Th}var KE;function fx(){return KE||(KE=1,Eg.exports=hx()),Eg.exports}var g=fx(),wg={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function dx(){if(QE)return Ze;QE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,B={};function P(D,ae,ve){this.props=D,this.context=ae,this.refs=B,this.updater=ve||Y}P.prototype.isReactComponent={},P.prototype.setState=function(D,ae){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ae,"setState")},P.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=P.prototype;function te(D,ae,ve){this.props=D,this.context=ae,this.refs=B,this.updater=ve||Y}var ye=te.prototype=new H;ye.constructor=te,Q(ye,P.prototype),ye.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function M(D,ae,ve){var Te=ve.ref;return{$$typeof:n,type:D,key:ae,ref:Te!==void 0?Te:null,props:ve}}function L(D,ae){return M(D.type,ae,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function $(D){var ae={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ve){return ae[ve]})}var R=/\/+/g;function fe(D,ae){return typeof D=="object"&&D!==null&&D.key!=null?$(""+D.key):ae.toString(36)}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(pe,pe):(D.status="pending",D.then(function(ae){D.status==="pending"&&(D.status="fulfilled",D.value=ae)},function(ae){D.status==="pending"&&(D.status="rejected",D.reason=ae)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function X(D,ae,ve,Te,Re){var Le=typeof D;(Le==="undefined"||Le==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Le){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case n:case e:Ve=!0;break;case E:return Ve=D._init,X(Ve(D._payload),ae,ve,Te,Re)}}if(Ve)return Re=Re(D),Ve=Te===""?"."+fe(D,0):Te,le(Re)?(ve="",Ve!=null&&(ve=Ve.replace(R,"$&/")+"/"),X(Re,ae,ve,"",function(Ci){return Ci})):Re!=null&&(V(Re)&&(Re=L(Re,ve+(Re.key==null||D&&D.key===Re.key?"":(""+Re.key).replace(R,"$&/")+"/")+Ve)),ae.push(Re)),1;Ve=0;var Pt=Te===""?".":Te+":";if(le(D))for(var be=0;be<D.length;be++)Te=D[be],Le=Pt+fe(Te,be),Ve+=X(Te,ae,ve,Le,Re);else if(be=j(D),typeof be=="function")for(D=be.call(D),be=0;!(Te=D.next()).done;)Te=Te.value,Le=Pt+fe(Te,be++),Ve+=X(Te,ae,ve,Le,Re);else if(Le==="object"){if(typeof D.then=="function")return X(Oe(D),ae,ve,Te,Re);throw ae=String(D),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(D,ae,ve){if(D==null)return D;var Te=[],Re=0;return X(D,Te,"","",function(Le){return ae.call(ve,Le,Re++)}),Te}function de(D){if(D._status===-1){var ae=D._result;ae=ae(),ae.then(function(ve){(D._status===0||D._status===-1)&&(D._status=1,D._result=ve)},function(ve){(D._status===0||D._status===-1)&&(D._status=2,D._result=ve)}),D._status===-1&&(D._status=0,D._result=ae)}if(D._status===1)return D._result.default;throw D._result}var Ie=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ke={map:re,forEach:function(D,ae,ve){re(D,function(){ae.apply(this,arguments)},ve)},count:function(D){var ae=0;return re(D,function(){ae++}),ae},toArray:function(D){return re(D,function(ae){return ae})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ze.Activity=S,Ze.Children=ke,Ze.Component=P,Ze.Fragment=t,Ze.Profiler=o,Ze.PureComponent=te,Ze.StrictMode=s,Ze.Suspense=v,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},Ze.cache=function(D){return function(){return D.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(D,ae,ve){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Te=Q({},D.props),Re=D.key;if(ae!=null)for(Le in ae.key!==void 0&&(Re=""+ae.key),ae)!O.call(ae,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ae.ref===void 0||(Te[Le]=ae[Le]);var Le=arguments.length-2;if(Le===1)Te.children=ve;else if(1<Le){for(var Ve=Array(Le),Pt=0;Pt<Le;Pt++)Ve[Pt]=arguments[Pt+2];Te.children=Ve}return M(D.type,Re,Te)},Ze.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ze.createElement=function(D,ae,ve){var Te,Re={},Le=null;if(ae!=null)for(Te in ae.key!==void 0&&(Le=""+ae.key),ae)O.call(ae,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Re[Te]=ae[Te]);var Ve=arguments.length-2;if(Ve===1)Re.children=ve;else if(1<Ve){for(var Pt=Array(Ve),be=0;be<Ve;be++)Pt[be]=arguments[be+2];Re.children=Pt}if(D&&D.defaultProps)for(Te in Ve=D.defaultProps,Ve)Re[Te]===void 0&&(Re[Te]=Ve[Te]);return M(D,Le,Re)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(D){return{$$typeof:p,render:D}},Ze.isValidElement=V,Ze.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:de}},Ze.memo=function(D,ae){return{$$typeof:y,type:D,compare:ae===void 0?null:ae}},Ze.startTransition=function(D){var ae=k.T,ve={};k.T=ve;try{var Te=D(),Re=k.S;Re!==null&&Re(ve,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(pe,Ie)}catch(Le){Ie(Le)}finally{ae!==null&&ve.types!==null&&(ae.types=ve.types),k.T=ae}},Ze.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ze.use=function(D){return k.H.use(D)},Ze.useActionState=function(D,ae,ve){return k.H.useActionState(D,ae,ve)},Ze.useCallback=function(D,ae){return k.H.useCallback(D,ae)},Ze.useContext=function(D){return k.H.useContext(D)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(D,ae){return k.H.useDeferredValue(D,ae)},Ze.useEffect=function(D,ae){return k.H.useEffect(D,ae)},Ze.useEffectEvent=function(D){return k.H.useEffectEvent(D)},Ze.useId=function(){return k.H.useId()},Ze.useImperativeHandle=function(D,ae,ve){return k.H.useImperativeHandle(D,ae,ve)},Ze.useInsertionEffect=function(D,ae){return k.H.useInsertionEffect(D,ae)},Ze.useLayoutEffect=function(D,ae){return k.H.useLayoutEffect(D,ae)},Ze.useMemo=function(D,ae){return k.H.useMemo(D,ae)},Ze.useOptimistic=function(D,ae){return k.H.useOptimistic(D,ae)},Ze.useReducer=function(D,ae,ve){return k.H.useReducer(D,ae,ve)},Ze.useRef=function(D){return k.H.useRef(D)},Ze.useState=function(D){return k.H.useState(D)},Ze.useSyncExternalStore=function(D,ae,ve){return k.H.useSyncExternalStore(D,ae,ve)},Ze.useTransition=function(){return k.H.useTransition()},Ze.version="19.2.0",Ze}var WE;function Hy(){return WE||(WE=1,wg.exports=dx()),wg.exports}var U=Hy();const Gl=ux(U);var Tg={exports:{}},Sh={},Sg={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function mx(){return XE||(XE=1,(function(n){function e(X,re){var de=X.length;X.push(re);e:for(;0<de;){var Ie=de-1>>>1,ke=X[Ie];if(0<o(ke,re))X[Ie]=re,X[de]=ke,de=Ie;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],de=X.pop();if(de!==re){X[0]=de;e:for(var Ie=0,ke=X.length,D=ke>>>1;Ie<D;){var ae=2*(Ie+1)-1,ve=X[ae],Te=ae+1,Re=X[Te];if(0>o(ve,de))Te<ke&&0>o(Re,ve)?(X[Ie]=Re,X[Te]=de,Ie=Te):(X[Ie]=ve,X[ae]=de,Ie=ae);else if(Te<ke&&0>o(Re,de))X[Ie]=Re,X[Te]=de,Ie=Te;else break e}}return re}function o(X,re){var de=X.sortIndex-re.sortIndex;return de!==0?de:X.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var v=[],y=[],E=1,S=null,x=3,j=!1,Y=!1,Q=!1,B=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ye(X){for(var re=t(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=X)s(y),re.sortIndex=re.expirationTime,e(v,re);else break;re=t(y)}}function le(X){if(Q=!1,ye(X),!Y)if(t(v)!==null)Y=!0,pe||(pe=!0,$());else{var re=t(y);re!==null&&Oe(le,re.startTime-X)}}var pe=!1,k=-1,O=5,M=-1;function L(){return B?!0:!(n.unstable_now()-M<O)}function V(){if(B=!1,pe){var X=n.unstable_now();M=X;var re=!0;try{e:{Y=!1,Q&&(Q=!1,H(k),k=-1),j=!0;var de=x;try{t:{for(ye(X),S=t(v);S!==null&&!(S.expirationTime>X&&L());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,x=S.priorityLevel;var ke=Ie(S.expirationTime<=X);if(X=n.unstable_now(),typeof ke=="function"){S.callback=ke,ye(X),re=!0;break t}S===t(v)&&s(v),ye(X)}else s(v);S=t(v)}if(S!==null)re=!0;else{var D=t(y);D!==null&&Oe(le,D.startTime-X),re=!1}}break e}finally{S=null,x=de,j=!1}re=void 0}}finally{re?$():pe=!1}}}var $;if(typeof te=="function")$=function(){te(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,fe=R.port2;R.port1.onmessage=V,$=function(){fe.postMessage(null)}}else $=function(){P(V,0)};function Oe(X,re){k=P(function(){X(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(X){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var de=x;x=re;try{return X()}finally{x=de}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=x;x=X;try{return re()}finally{x=de}},n.unstable_scheduleCallback=function(X,re,de){var Ie=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,X={id:E++,callback:re,priorityLevel:X,startTime:de,expirationTime:ke,sortIndex:-1},de>Ie?(X.sortIndex=de,e(y,X),t(v)===null&&X===t(y)&&(Q?(H(k),k=-1):Q=!0,Oe(le,de-Ie))):(X.sortIndex=ke,e(v,X),Y||j||(Y=!0,pe||(pe=!0,$()))),X},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(X){var re=x;return function(){var de=x;x=re;try{return X.apply(this,arguments)}finally{x=de}}}})(Ag)),Ag}var JE;function px(){return JE||(JE=1,Sg.exports=mx()),Sg.exports}var Cg={exports:{}},ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function gx(){if(ZE)return ki;ZE=1;var n=Hy();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:E}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ki.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,E)},ki.flushSync=function(v){var y=u.T,E=s.p;try{if(u.T=null,s.p=2,v)return v()}finally{u.T=y,s.p=E,s.d.f()}},ki.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},ki.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},ki.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:j}):E==="script"&&s.d.X(v,{crossOrigin:S,integrity:x,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ki.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},ki.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(v,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ki.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},ki.requestFormReset=function(v){s.d.r(v)},ki.unstable_batchedUpdates=function(v,y){return v(y)},ki.useFormState=function(v,y,E){return u.H.useFormState(v,y,E)},ki.useFormStatus=function(){return u.H.useHostTransitionStatus()},ki.version="19.2.0",ki}var ew;function yx(){if(ew)return Cg.exports;ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cg.exports=gx(),Cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function vx(){if(tw)return Sh;tw=1;var n=px(),e=Hy(),t=yx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function v(i){if(c(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return v(f),i;if(m===l)return v(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var w=!1,C=f.child;C;){if(C===a){w=!0,a=f,l=m;break}if(C===l){w=!0,l=f,a=m;break}C=C.sibling}if(!w){for(C=m.child;C;){if(C===a){w=!0,a=m,l=f;break}if(C===l){w=!0,l=m,a=f;break}C=C.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function E(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=E(i),r!==null)return r;i=i.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case Y:return"Portal";case te:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case ye:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:fe(i.type)||"Memo";case O:r=i._payload,i=i._init;try{return fe(i(r))}catch{}}return null}var Oe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],ke=-1;function D(i){return{current:i}}function ae(i){0>ke||(i.current=Ie[ke],Ie[ke]=null,ke--)}function ve(i,r){ke++,Ie[ke]=i.current,i.current=r}var Te=D(null),Re=D(null),Le=D(null),Ve=D(null);function Pt(i,r){switch(ve(Le,r),ve(Re,i),ve(Te,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?gE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=gE(r),i=yE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(Te),ve(Te,i)}function be(){ae(Te),ae(Re),ae(Le)}function Ci(i){i.memoizedState!==null&&ve(Ve,i);var r=Te.current,a=yE(r,i.type);r!==a&&(ve(Re,i),ve(Te,a))}function wr(i){Re.current===i&&(ae(Te),ae(Re)),Ve.current===i&&(ae(Ve),_h._currentValue=de)}var Tr,Hr;function lt(i){if(Tr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Tr=r&&r[1]||"",Hr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+i+Hr}var Zi=!1;function Qt(i,r){if(!i||Zi)return"";Zi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ee=ie}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(ie){ee=ie}i.call(ue.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],C=m[1];if(w&&C){var z=w.split(`
`),Z=C.split(`
`);for(f=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(l===z.length||f===Z.length)for(l=z.length-1,f=Z.length-1;1<=l&&0<=f&&z[l]!==Z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(z[l]!==Z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||z[l]!==Z[f]){var oe=`
`+z[l].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=l&&0<=f);break}}}finally{Zi=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?lt(a):""}function di(i,r){switch(i.tag){case 26:case 27:case 5:return lt(i.type);case 16:return lt("Lazy");case 13:return i.child!==r&&r!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Qt(i.type,!1);case 11:return Qt(i.type.render,!1);case 1:return Qt(i.type,!0);case 31:return lt("Activity");default:return""}}function Vs(i){try{var r="",a=null;do r+=di(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tn=Object.prototype.hasOwnProperty,mn=n.unstable_scheduleCallback,$r=n.unstable_cancelCallback,yl=n.unstable_shouldYield,_a=n.unstable_requestPaint,Kn=n.unstable_now,er=n.unstable_getCurrentPriorityLevel,xi=n.unstable_ImmediatePriority,Us=n.unstable_UserBlockingPriority,Gr=n.unstable_NormalPriority,ba=n.unstable_LowPriority,Sr=n.unstable_IdlePriority,tr=n.log,Ar=n.unstable_setDisableYieldValue,In=null,_n=null;function ii(i){if(typeof tr=="function"&&Ar(i),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(In,i)}catch{}}var Wt=Math.clz32?Math.clz32:uo,Ea=Math.log,Yr=Math.LN2;function uo(i){return i>>>=0,i===0?32:31-(Ea(i)/Yr|0)|0}var zi=256,ms=262144,Xt=4194304;function Rt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zt(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var C=l&134217727;return C!==0?(l=C&~m,l!==0?f=Rt(l):(w&=C,w!==0?f=Rt(w):a||(a=C&~i,a!==0&&(f=Rt(a))))):(C=l&~m,C!==0?f=Rt(C):w!==0?f=Rt(w):a||(a=l&~i,a!==0&&(f=Rt(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Qn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Lt(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var i=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),i}function nr(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Cr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xr(i,r,a,l,f,m){var w=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var C=i.entanglements,z=i.expirationTimes,Z=i.hiddenUpdates;for(a=w&~a;0<a;){var oe=31-Wt(a),ue=1<<oe;C[oe]=0,z[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var ie=ee[oe];ie!==null&&(ie.lane&=-536870913)}a&=~ue}l!==0&&Ii(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(w&~r))}function Ii(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Wt(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function ps(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Wt(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function Kr(i,r){var a=r&-r;return a=(a&42)!==0?1:Ir(a),(a&(i.suspendedLanes|r))!==0?0:a}function Ir(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Bi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zs(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:zE(i.type))}function pi(i,r){var a=re.p;try{return re.p=i,r()}finally{re.p=a}}var bn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+bn,En="__reactProps$"+bn,Di="__reactContainer$"+bn,Qe="__reactEvents$"+bn,Ft="__reactListeners$"+bn,bt="__reactHandles$"+bn,Et="__reactResources$"+bn,ct="__reactMarker$"+bn;function rn(i){delete i[Bt],delete i[En],delete i[Qe],delete i[Ft],delete i[bt]}function qt(i){var r=i[Bt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Di]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=SE(i);i!==null;){if(a=i[Bt])return a;i=SE(i)}return r}i=a,a=i.parentNode}return null}function Wn(i){if(i=i[Bt]||i[Di]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Vn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ri(i){var r=i[Et];return r||(r=i[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Yt(i){i[ct]=!0}var ho=new Set,wa={};function gi(i,r){Dr(i,r),Dr(i+"Capture",r)}function Dr(i,r){for(wa[i]=r,i=0;i<r.length;i++)ho.add(r[i])}var Ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sa={},fo={};function vl(i){return tn.call(fo,i)?!0:tn.call(Sa,i)?!1:Ta.test(i)?fo[i]=!0:(Sa[i]=!0,!1)}function Aa(i,r,a){if(vl(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Ni(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function pn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mo(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){a=""+w,m.call(this,w)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function wt(i){if(!i._valueTracker){var r=gs(i)?"checked":"value";i._valueTracker=mo(i,r,""+i[r])}}function Bs(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=gs(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Nn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rn=/[\n"\\]/g;function wn(i){return i.replace(Rn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xn(i,r,a,l,f,m,w,C){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Dn(r)):i.value!==""+Dn(r)&&(i.value=""+Dn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Ca(i,w,Dn(r)):a!=null?Ca(i,w,Dn(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Dn(C):i.removeAttribute("name")}function po(i,r,a,l,f,m,w,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){wt(i);return}a=a!=null?""+Dn(a):"",r=r!=null?""+Dn(r):a,C||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=C?i.checked:!!l,i.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),wt(i)}function Ca(i,r,a){r==="number"&&Nn(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Jn(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Dn(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Qr(i,r,a){if(r!=null&&(r=""+Dn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Dn(a):""}function Nr(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Dn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),wt(i)}function On(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||go.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Wr(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&yo(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&yo(i,m,r[m])}function Fs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(i){return si.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Un(){}var qs=null;function Fi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ir=null,rr=null;function Rr(i){var r=Wn(i);if(r&&(i=r.stateNode)){var a=i[En]||null;e:switch(i=r.stateNode,r.type){case"input":if(Xn(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[En]||null;if(!f)throw Error(s(90));Xn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&Bs(l)}break e;case"textarea":Qr(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Jn(i,!!a.multiple,r,!1)}}}var xa=!1;function ys(i,r,a){if(xa)return i(r,a);xa=!0;try{var l=i(r);return l}finally{if(xa=!1,(ir!==null||rr!==null)&&(rd(),ir&&(r=ir,i=rr,rr=ir=null,Rr(r),i)))for(r=0;r<i.length;r++)Rr(i[r])}}function sr(i,r){var a=i.stateNode;if(a===null)return null;var l=a[En]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(Zn)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Ia=!1}var ar=null,Hs=null,vs=null;function bl(){if(vs)return vs;var i,r=Hs,a=r.length,l,f="value"in ar?ar.value:ar.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var w=a-i;for(l=1;l<=w&&r[a-l]===f[m-l];l++);return vs=f.slice(i,1<l?1-l:void 0)}function Xr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function _s(){return!0}function or(){return!1}function kn(i){function r(a,l,f,m,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(a=i[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_s:or,this.isPropagationStopped=or,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),r}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=kn(Or),bs=S({},Or,{view:0,detail:0}),Es=kn(bs),Jr,Da,kr,jr=S({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==kr&&(kr&&i.type==="mousemove"?(Jr=i.screenX-kr.screenX,Da=i.screenY-kr.screenY):Da=Jr=0,kr=i),Jr)},movementY:function(i){return"movementY"in i?i.movementY:Da}}),El=kn(jr),$s=S({},jr,{dataTransfer:0}),wl=kn($s),Tl=S({},bs,{relatedTarget:0}),Gs=kn(Tl),_o=S({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),bo=kn(_o),Na=S({},Or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hc=kn(Na),fc=S({},Or,{data:0}),Mr=kn(fc),Sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dc[i])?!!r[i]:!1}function Zr(){return mc}var ai=S({},bs,{key:function(i){if(i.key){var r=Sl[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Xr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ra[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(i){return i.type==="keypress"?Xr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Al=kn(ai),es=S({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=kn(es),h=S({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),_=kn(h),T=S({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=kn(T),W=S({},jr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=kn(W),Ee=S({},Or,{newState:0,oldState:0}),We=kn(Ee),gn=[9,13,27,32],st=Zn&&"CompositionEvent"in window,Tt=null;Zn&&"documentMode"in document&&(Tt=document.documentMode);var cr=Zn&&"TextEvent"in window&&!Tt,qi=Zn&&(!st||Tt&&8<Tt&&11>=Tt),Lr=" ",Vr=!1;function Oa(i,r){switch(i){case"keyup":return gn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wo=!1;function np(i,r){switch(i){case"compositionend":return Eo(r);case"keypress":return r.which!==32?null:(Vr=!0,Lr);case"textInput":return i=r.data,i===Lr&&Vr?null:i;default:return null}}function ip(i,r){if(wo)return i==="compositionend"||!st&&Oa(i,r)?(i=bl(),vs=Hs=ar=null,wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!rp[i.type]:r==="textarea"}function Su(i,r,a,l){ir?rr?rr.push(l):rr=[l]:ir=l,r=hd(r,"onChange"),0<r.length&&(a=new lr("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var To=null,So=null;function sp(i){uE(i,0)}function pc(i){var r=Vn(i);if(Bs(r))return i}function Au(i,r){if(i==="change")return r}var Cl=!1;if(Zn){var Cu;if(Zn){var xu="oninput"in document;if(!xu){var Iu=document.createElement("div");Iu.setAttribute("oninput","return;"),xu=typeof Iu.oninput=="function"}Cu=xu}else Cu=!1;Cl=Cu&&(!document.documentMode||9<document.documentMode)}function Ef(){To&&(To.detachEvent("onpropertychange",wf),So=To=null)}function wf(i){if(i.propertyName==="value"&&pc(So)){var r=[];Su(r,So,i,Fi(i)),ys(sp,r)}}function Tf(i,r,a){i==="focusin"?(Ef(),To=r,So=a,To.attachEvent("onpropertychange",wf)):i==="focusout"&&Ef()}function Sf(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(So)}function Af(i,r){if(i==="click")return pc(r)}function gc(i,r){if(i==="input"||i==="change")return pc(r)}function Cf(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var yi=typeof Object.is=="function"?Object.is:Cf;function oi(i,r){if(yi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!tn.call(r,f)||!yi(i[f],r[f]))return!1}return!0}function xf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function If(i,r){var a=xf(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xf(a)}}function Du(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Du(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Nu(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Nn(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Nn(i.document)}return r}function Ru(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ap=Zn&&"documentMode"in document&&11>=document.documentMode,Ao=null,Ou=null,xl=null,ku=!1;function ju(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ku||Ao==null||Ao!==Nn(l)||(l=Ao,"selectionStart"in l&&Ru(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&oi(xl,l)||(xl=l,l=hd(Ou,"onSelect"),0<l.length&&(r=new lr("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=Ao)))}function Ys(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Ks={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Mu={},Df={};Zn&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Hi(i){if(Mu[i])return Mu[i];if(!Ks[i])return i;var r=Ks[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Df)return Mu[i]=r[a];return i}var ts=Hi("animationend"),Pu=Hi("animationiteration"),Nf=Hi("animationstart"),Rf=Hi("transitionrun"),Of=Hi("transitionstart"),kf=Hi("transitioncancel"),Lu=Hi("transitionend"),jf=new Map,Vu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vu.push("scrollEnd");function Ur(i,r){jf.set(i,r),gi(r,[i])}var Il=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$i=[],Co=0,Uu=0;function yc(){for(var i=Co,r=Uu=Co=0;r<i;){var a=$i[r];$i[r++]=null;var l=$i[r];$i[r++]=null;var f=$i[r];$i[r++]=null;var m=$i[r];if($i[r++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}m!==0&&Bu(a,f,m)}}function vc(i,r,a,l){$i[Co++]=i,$i[Co++]=r,$i[Co++]=a,$i[Co++]=l,Uu|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function zu(i,r,a,l){return vc(i,r,a,l),_c(i)}function vi(i,r){return vc(i,null,null,r),_c(i)}function Bu(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-Wt(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function _c(i){if(50<fh)throw fh=0,$p=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var xo={};function op(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(i,r,a,l){return new op(i,r,a,l)}function Fu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ws(i,r){var a=i.alternate;return a===null?(a=Gi(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Mf(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function bc(i,r,a,l,f,m){var w=0;if(l=i,typeof i=="function")Fu(i)&&(w=1);else if(typeof i=="string")w=J1(i,a,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Gi(31,a,r,f),i.elementType=M,i.lanes=m,i;case Q:return Ts(a.children,f,m,r);case B:w=8,f|=24;break;case P:return i=Gi(12,a,r,f|2),i.elementType=P,i.lanes=m,i;case le:return i=Gi(13,a,r,f),i.elementType=le,i.lanes=m,i;case pe:return i=Gi(19,a,r,f),i.elementType=pe,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case te:w=10;break e;case H:w=9;break e;case ye:w=11;break e;case k:w=14;break e;case O:w=16,l=null;break e}w=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Gi(w,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function Ts(i,r,a,l){return i=Gi(7,i,l,r),i.lanes=a,i}function Io(i,r,a){return i=Gi(6,i,null,r),i.lanes=a,i}function Pf(i){var r=Gi(18,null,null,0);return r.stateNode=i,r}function Ec(i,r,a){return r=Gi(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var qu=new WeakMap;function li(i,r){if(typeof i=="object"&&i!==null){var a=qu.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Vs(r)},qu.set(i,r),r)}return{value:i,source:r,stack:Vs(r)}}var Qs=[],Ws=0,wc=null,Dl=0,hr=[],zn=0,Xs=null,ns=1,is="";function Ss(i,r){Qs[Ws++]=Dl,Qs[Ws++]=wc,wc=i,Dl=r}function Nl(i,r,a){hr[zn++]=ns,hr[zn++]=is,hr[zn++]=Xs,Xs=i;var l=ns;i=is;var f=32-Wt(l)-1;l&=~(1<<f),a+=1;var m=32-Wt(r)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,ns=1<<32-Wt(r)+f|a<<f|l,is=m+i}else ns=1<<m|a<<f|l,is=i}function Rl(i){i.return!==null&&(Ss(i,1),Nl(i,1,0))}function Hu(i){for(;i===wc;)wc=Qs[--Ws],Qs[Ws]=null,Dl=Qs[--Ws],Qs[Ws]=null;for(;i===Xs;)Xs=hr[--zn],hr[zn]=null,is=hr[--zn],hr[zn]=null,ns=hr[--zn],hr[zn]=null}function $u(i,r){hr[zn++]=ns,hr[zn++]=is,hr[zn++]=Xs,ns=r.id,is=r.overflow,Xs=i}var ei=null,St=null,it=!1,As=null,fr=!1,Gu=Error(s(519));function Js(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(li(r,i)),Gu}function Do(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Bt]=i,r[En]=l,a){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(a=0;a<mh.length;a++)ot(mh[a],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":ot("invalid",r),po(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ot("invalid",r);break;case"textarea":ot("invalid",r),Nr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||mE(r.textContent,a)?(l.popover!=null&&(ot("beforetoggle",r),ot("toggle",r)),l.onScroll!=null&&ot("scroll",r),l.onScrollEnd!=null&&ot("scrollend",r),l.onClick!=null&&(r.onclick=Un),r=!0):r=!1,r||Js(i,!0)}function Zs(i){for(ei=i.return;ei;)switch(ei.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:ei=ei.return}}function No(i){if(i!==ei)return!1;if(!it)return Zs(i),it=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||ag(i.type,i.memoizedProps)),a=!a),a&&St&&Js(i),Zs(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=TE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=TE(i)}else r===27?(r=St,Ho(i.type)?(i=hg,hg=null,St=i):St=r):St=ei?as(i.stateNode.nextSibling):null;return!0}function ka(){St=ei=null,it=!1}function Yu(){var i=As;return i!==null&&(yr===null?yr=i:yr.push.apply(yr,i),As=null),i}function Ol(i){As===null?As=[i]:As.push(i)}var Ku=D(null),ja=null,Cs=null;function ea(i,r,a){ve(Ku,r._currentValue),r._currentValue=a}function rs(i){i._currentValue=Ku.current,ae(Ku)}function Qu(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function Tc(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var w=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var z=0;z<r.length;z++)if(C.context===r[z]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),Qu(m.return,a,i),l||(w=null);break e}m=C.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Qu(w,a,i),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===i){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function ta(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=f.type;yi(f.pendingProps.value,w.value)||(i!==null?i.push(C):i=[C])}}else if(f===Ve.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(_h):i=[_h])}f=f.return}i!==null&&Tc(r,i,a,l),r.flags|=262144}function kl(i){for(i=i.firstContext;i!==null;){if(!yi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yi(i){ja=i,Cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return Wu(ja,i)}function Ro(i,r){return ja===null&&Yi(i),Wu(i,r)}function Wu(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Cs===null){if(i===null)throw Error(s(308));Cs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Cs=Cs.next=r;return a}var Xu=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},Lf=n.unstable_scheduleCallback,Ju=n.unstable_NormalPriority,Tn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xs(){return{controller:new Xu,data:new Map,refCount:0}}function dr(i){i.refCount--,i.refCount===0&&Lf(Ju,function(){i.controller.abort()})}var jl=null,Zu=0,Oo=0,ko=null;function lp(i,r){if(jl===null){var a=jl=[];Zu=0,Oo=Xp(),ko={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zu++,r.then(Vf,Vf),r}function Vf(){if(--Zu===0&&jl!==null){ko!==null&&(ko.status="fulfilled");var i=jl;jl=null,Oo=0,ko=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function cp(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Uf=X.S;X.S=function(i,r){Vb=Kn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&lp(i,r),Uf!==null&&Uf(i,r)};var na=D(null);function jo(){var i=na.current;return i!==null?i:Kt.pooledCache}function Ma(i,r){r===null?ve(na,na.current):ve(na,r.pool)}function zf(){var i=jo();return i===null?null:{parent:Tn._currentValue,pool:i}}var Mo=Error(s(460)),Pa=Error(s(474)),A=Error(s(542)),d={then:function(){}};function b(i){return i=i.status,i==="fulfilled"||i==="rejected"}function I(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Un,Un),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,ge(i),i;default:if(typeof r.status=="string")r.then(Un,Un);else{if(i=Kt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,ge(i),i}throw G=r,Mo}}function q(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(G=a,Mo):a}}var G=null;function se(){if(G===null)throw Error(s(459));var i=G;return G=null,i}function ge(i){if(i===Mo||i===A)throw Error(s(483))}var _e=null,Se=0;function Ce(i){var r=Se;return Se+=1,_e===null&&(_e=[]),I(_e,i,r)}function we(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ye(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ue(i){function r(K,F){if(i){var J=K.deletions;J===null?(K.deletions=[F],K.flags|=16):J.push(F)}}function a(K,F){if(!i)return null;for(;F!==null;)r(K,F),F=F.sibling;return null}function l(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function f(K,F){return K=ws(K,F),K.index=0,K.sibling=null,K}function m(K,F,J){return K.index=J,i?(J=K.alternate,J!==null?(J=J.index,J<F?(K.flags|=67108866,F):J):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function w(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function C(K,F,J,ce){return F===null||F.tag!==6?(F=Io(J,K.mode,ce),F.return=K,F):(F=f(F,J),F.return=K,F)}function z(K,F,J,ce){var je=J.type;return je===Q?oe(K,F,J.props.children,ce,J.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&q(je)===F.type)?(F=f(F,J.props),we(F,J),F.return=K,F):(F=bc(J.type,J.key,J.props,null,K.mode,ce),we(F,J),F.return=K,F)}function Z(K,F,J,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==J.containerInfo||F.stateNode.implementation!==J.implementation?(F=Ec(J,K.mode,ce),F.return=K,F):(F=f(F,J.children||[]),F.return=K,F)}function oe(K,F,J,ce,je){return F===null||F.tag!==7?(F=Ts(J,K.mode,ce,je),F.return=K,F):(F=f(F,J),F.return=K,F)}function ue(K,F,J){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Io(""+F,K.mode,J),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return J=bc(F.type,F.key,F.props,null,K.mode,J),we(J,F),J.return=K,J;case Y:return F=Ec(F,K.mode,J),F.return=K,F;case O:return F=q(F),ue(K,F,J)}if(Oe(F)||$(F))return F=Ts(F,K.mode,J,null),F.return=K,F;if(typeof F.then=="function")return ue(K,Ce(F),J);if(F.$$typeof===te)return ue(K,Ro(K,F),J);Ye(K,F)}return null}function ee(K,F,J,ce){var je=F!==null?F.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return je!==null?null:C(K,F,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return J.key===je?z(K,F,J,ce):null;case Y:return J.key===je?Z(K,F,J,ce):null;case O:return J=q(J),ee(K,F,J,ce)}if(Oe(J)||$(J))return je!==null?null:oe(K,F,J,ce,null);if(typeof J.then=="function")return ee(K,F,Ce(J),ce);if(J.$$typeof===te)return ee(K,F,Ro(K,J),ce);Ye(K,J)}return null}function ie(K,F,J,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(J)||null,C(F,K,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return K=K.get(ce.key===null?J:ce.key)||null,z(F,K,ce,je);case Y:return K=K.get(ce.key===null?J:ce.key)||null,Z(F,K,ce,je);case O:return ce=q(ce),ie(K,F,J,ce,je)}if(Oe(ce)||$(ce))return K=K.get(J)||null,oe(F,K,ce,je,null);if(typeof ce.then=="function")return ie(K,F,J,Ce(ce),je);if(ce.$$typeof===te)return ie(K,F,J,Ro(F,ce),je);Ye(F,ce)}return null}function De(K,F,J,ce){for(var je=null,Ct=null,Ne=F,tt=F=0,ht=null;Ne!==null&&tt<J.length;tt++){Ne.index>tt?(ht=Ne,Ne=null):ht=Ne.sibling;var xt=ee(K,Ne,J[tt],ce);if(xt===null){Ne===null&&(Ne=ht);break}i&&Ne&&xt.alternate===null&&r(K,Ne),F=m(xt,F,tt),Ct===null?je=xt:Ct.sibling=xt,Ct=xt,Ne=ht}if(tt===J.length)return a(K,Ne),it&&Ss(K,tt),je;if(Ne===null){for(;tt<J.length;tt++)Ne=ue(K,J[tt],ce),Ne!==null&&(F=m(Ne,F,tt),Ct===null?je=Ne:Ct.sibling=Ne,Ct=Ne);return it&&Ss(K,tt),je}for(Ne=l(Ne);tt<J.length;tt++)ht=ie(Ne,K,tt,J[tt],ce),ht!==null&&(i&&ht.alternate!==null&&Ne.delete(ht.key===null?tt:ht.key),F=m(ht,F,tt),Ct===null?je=ht:Ct.sibling=ht,Ct=ht);return i&&Ne.forEach(function(Qo){return r(K,Qo)}),it&&Ss(K,tt),je}function Be(K,F,J,ce){if(J==null)throw Error(s(151));for(var je=null,Ct=null,Ne=F,tt=F=0,ht=null,xt=J.next();Ne!==null&&!xt.done;tt++,xt=J.next()){Ne.index>tt?(ht=Ne,Ne=null):ht=Ne.sibling;var Qo=ee(K,Ne,xt.value,ce);if(Qo===null){Ne===null&&(Ne=ht);break}i&&Ne&&Qo.alternate===null&&r(K,Ne),F=m(Qo,F,tt),Ct===null?je=Qo:Ct.sibling=Qo,Ct=Qo,Ne=ht}if(xt.done)return a(K,Ne),it&&Ss(K,tt),je;if(Ne===null){for(;!xt.done;tt++,xt=J.next())xt=ue(K,xt.value,ce),xt!==null&&(F=m(xt,F,tt),Ct===null?je=xt:Ct.sibling=xt,Ct=xt);return it&&Ss(K,tt),je}for(Ne=l(Ne);!xt.done;tt++,xt=J.next())xt=ie(Ne,K,tt,xt.value,ce),xt!==null&&(i&&xt.alternate!==null&&Ne.delete(xt.key===null?tt:xt.key),F=m(xt,F,tt),Ct===null?je=xt:Ct.sibling=xt,Ct=xt);return i&&Ne.forEach(function(cx){return r(K,cx)}),it&&Ss(K,tt),je}function $t(K,F,J,ce){if(typeof J=="object"&&J!==null&&J.type===Q&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case j:e:{for(var je=J.key;F!==null;){if(F.key===je){if(je=J.type,je===Q){if(F.tag===7){a(K,F.sibling),ce=f(F,J.props.children),ce.return=K,K=ce;break e}}else if(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&q(je)===F.type){a(K,F.sibling),ce=f(F,J.props),we(ce,J),ce.return=K,K=ce;break e}a(K,F);break}else r(K,F);F=F.sibling}J.type===Q?(ce=Ts(J.props.children,K.mode,ce,J.key),ce.return=K,K=ce):(ce=bc(J.type,J.key,J.props,null,K.mode,ce),we(ce,J),ce.return=K,K=ce)}return w(K);case Y:e:{for(je=J.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===J.containerInfo&&F.stateNode.implementation===J.implementation){a(K,F.sibling),ce=f(F,J.children||[]),ce.return=K,K=ce;break e}else{a(K,F);break}else r(K,F);F=F.sibling}ce=Ec(J,K.mode,ce),ce.return=K,K=ce}return w(K);case O:return J=q(J),$t(K,F,J,ce)}if(Oe(J))return De(K,F,J,ce);if($(J)){if(je=$(J),typeof je!="function")throw Error(s(150));return J=je.call(J),Be(K,F,J,ce)}if(typeof J.then=="function")return $t(K,F,Ce(J),ce);if(J.$$typeof===te)return $t(K,F,Ro(K,J),ce);Ye(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,F!==null&&F.tag===6?(a(K,F.sibling),ce=f(F,J),ce.return=K,K=ce):(a(K,F),ce=Io(J,K.mode,ce),ce.return=K,K=ce),w(K)):a(K,F)}return function(K,F,J,ce){try{Se=0;var je=$t(K,F,J,ce);return _e=null,je}catch(Ne){if(Ne===Mo||Ne===A)throw Ne;var Ct=Gi(29,Ne,null,K.mode);return Ct.lanes=ce,Ct.return=K,Ct}finally{}}}var ze=Ue(!0),qe=Ue(!1),Pe=!1;function At(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ge(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function nt(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Nt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=_c(i),Bu(i,null,a),r}return vc(i,l,r,a),_c(i)}function Ke(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,ps(i,a)}}function rt(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var vt=!1;function gt(){if(vt){var i=ko;if(i!==null)throw i}}function pt(i,r,a,l){vt=!1;var f=i.updateQueue;Pe=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var z=C,Z=z.next;z.next=null,w===null?m=Z:w.next=Z,w=z;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,C=oe.lastBaseUpdate,C!==w&&(C===null?oe.firstBaseUpdate=Z:C.next=Z,oe.lastBaseUpdate=z))}if(m!==null){var ue=f.baseState;w=0,oe=Z=z=null,C=m;do{var ee=C.lane&-536870913,ie=ee!==C.lane;if(ie?(ut&ee)===ee:(l&ee)===ee){ee!==0&&ee===Oo&&(vt=!0),oe!==null&&(oe=oe.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var De=i,Be=C;ee=r;var $t=a;switch(Be.tag){case 1:if(De=Be.payload,typeof De=="function"){ue=De.call($t,ue,ee);break e}ue=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,ee=typeof De=="function"?De.call($t,ue,ee):De,ee==null)break e;ue=S({},ue,ee);break e;case 2:Pe=!0}}ee=C.callback,ee!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},oe===null?(Z=oe=ie,z=ue):oe=oe.next=ie,w|=ee;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);oe===null&&(z=ue),f.baseState=z,f.firstBaseUpdate=Z,f.lastBaseUpdate=oe,m===null&&(f.shared.lanes=0),Uo|=w,i.lanes=w,i.memoizedState=ue}}function sn(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Ri(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)sn(a[i],r)}var ci=D(null),Fn=D(0);function Ki(i,r){i=Ya,ve(Fn,i),ve(ci,r),Ya=i|r.baseLanes}function Oi(){ve(Fn,Ya),ve(ci,ci.current)}function Jt(){Ya=Fn.current,ae(ci),ae(Fn)}var an=D(null),yn=null;function Qi(i){var r=i.alternate;ve(jt,jt.current&1),ve(an,i),yn===null&&(r===null||ci.current!==null||r.memoizedState!==null)&&(yn=i)}function Sn(i){ve(jt,jt.current),ve(an,i),yn===null&&(yn=i)}function kt(i){i.tag===22?(ve(jt,jt.current),ve(an,i),yn===null&&(yn=i)):on()}function on(){ve(jt,jt.current),ve(an,an.current)}function Zt(i){ae(an),yn===i&&(yn=null),ae(jt)}var jt=D(0);function La(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cg(a)||ug(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ss=0,Xe=null,_t=null,An=null,Sc=!1,ia=!1,Va=!1,Ml=0,Pl=0,Ua=null,Bf=0;function ln(){throw Error(s(321))}function eh(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!yi(i[a],r[a]))return!1;return!0}function Is(i,r,a,l,f,m){return ss=m,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?Q_:bp,Va=!1,m=a(l,f),Va=!1,ia&&(m=th(r,a,l,f)),Ll(i),m}function Ll(i){X.H=ih;var r=_t!==null&&_t.next!==null;if(ss=0,An=_t=Xe=null,Sc=!1,Pl=0,Ua=null,r)throw Error(s(300));i===null||qn||(i=i.dependencies,i!==null&&kl(i)&&(qn=!0))}function th(i,r,a,l){Xe=i;var f=0;do{if(ia&&(Ua=null),Pl=0,ia=!1,25<=f)throw Error(s(301));if(f+=1,An=_t=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=W_,m=r(a,l)}while(ia);return m}function Ff(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Ul(r):r,i=i.useState()[0],(_t!==null?_t.memoizedState:null)!==i&&(Xe.flags|=1024),r}function Vl(){var i=Ml!==0;return Ml=0,i}function Ac(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Cc(i){if(Sc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Sc=!1}ss=0,An=_t=Xe=null,ia=!1,Pl=Ml=0,Ua=null}function ui(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Xe.memoizedState=An=i:An=An.next=i,An}function cn(){if(_t===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var r=An===null?Xe.memoizedState:An.next;if(r!==null)An=r,_t=i;else{if(i===null)throw Xe.alternate===null?Error(s(467)):Error(s(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},An===null?Xe.memoizedState=An=i:An=An.next=i}return An}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(i){var r=Pl;return Pl+=1,Ua===null&&(Ua=[]),i=I(Ua,i,r),r=Xe,(An===null?r.memoizedState:An.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Q_:bp),i}function Po(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ul(i);if(i.$$typeof===te)return Bn(i)}throw Error(s(438,String(i)))}function Ic(i){var r=null,a=Xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=xc(),Xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=L;return r.index++,a}function za(i,r){return typeof r=="function"?r(i):r}function qf(i){var r=cn();return up(r,_t,i)}function up(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var C=w=null,z=null,Z=r,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ut&ue)===ue:(ss&ue)===ue){var ee=Z.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Oo&&(oe=!0);else if((ss&ee)===ee){Z=Z.next,ee===Oo&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(C=z=ue,w=m):z=z.next=ue,Xe.lanes|=ee,Uo|=ee;ue=Z.action,Va&&a(m,ue),m=Z.hasEagerState?Z.eagerState:a(m,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(C=z=ee,w=m):z=z.next=ee,Xe.lanes|=ue,Uo|=ue;Z=Z.next}while(Z!==null&&Z!==r);if(z===null?w=m:z.next=C,!yi(m,i.memoizedState)&&(qn=!0,oe&&(a=ko,a!==null)))throw a;i.memoizedState=m,i.baseState=w,i.baseQueue=z,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function hp(i){var r=cn(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=i(m,w.action),w=w.next;while(w!==f);yi(m,r.memoizedState)||(qn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function p_(i,r,a){var l=Xe,f=cn(),m=it;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!yi((_t||f).memoizedState,a);if(w&&(f.memoizedState=a,qn=!0),f=f.queue,mp(v_.bind(null,l,f,i),[i]),f.getSnapshot!==r||w||An!==null&&An.memoizedState.tag&1){if(l.flags|=2048,Dc(9,{destroy:void 0},y_.bind(null,l,f,a,r),null),Kt===null)throw Error(s(349));m||(ss&127)!==0||g_(l,r,a)}return a}function g_(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Xe.updateQueue,r===null?(r=xc(),Xe.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function y_(i,r,a,l){r.value=a,r.getSnapshot=l,__(r)&&b_(i)}function v_(i,r,a){return a(function(){__(r)&&b_(i)})}function __(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!yi(i,a)}catch{return!0}}function b_(i){var r=vi(i,2);r!==null&&vr(r,i,2)}function fp(i){var r=ui();if(typeof i=="function"){var a=i;if(i=a(),Va){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:i},r}function E_(i,r,a,l){return i.baseState=a,up(i,_t,typeof l=="function"?l:za)}function t1(i,r,a,l,f){if(Gf(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,w_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function w_(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=X.T,w={};X.T=w;try{var C=a(f,l),z=X.S;z!==null&&z(w,C),T_(i,r,C)}catch(Z){dp(i,r,Z)}finally{m!==null&&w.types!==null&&(m.types=w.types),X.T=m}}else try{m=a(f,l),T_(i,r,m)}catch(Z){dp(i,r,Z)}}function T_(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){S_(i,r,l)},function(l){return dp(i,r,l)}):S_(i,r,a)}function S_(i,r,a){r.status="fulfilled",r.value=a,A_(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,w_(i,a)))}function dp(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,A_(r),r=r.next;while(r!==l)}i.action=null}function A_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function C_(i,r){return r}function x_(i,r){if(it){var a=Kt.formState;if(a!==null){e:{var l=Xe;if(it){if(St){t:{for(var f=St,m=fr;f.nodeType!==8;){if(!m){f=null;break t}if(f=as(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=as(f.nextSibling),l=f.data==="F!";break e}}Js(l)}l=!1}l&&(r=a[0])}}return a=ui(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:r},a.queue=l,a=G_.bind(null,Xe,l),l.dispatch=a,l=fp(!1),m=_p.bind(null,Xe,!1,l.queue),l=ui(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=t1.bind(null,Xe,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function I_(i){var r=cn();return D_(r,_t,i)}function D_(i,r,a){if(r=up(i,r,C_)[0],i=qf(za)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ul(r)}catch(w){throw w===Mo?A:w}else l=r;r=cn();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Xe.flags|=2048,Dc(9,{destroy:void 0},n1.bind(null,f,a),null)),[l,m,i]}function n1(i,r){i.action=r}function N_(i){var r=cn(),a=_t;if(a!==null)return D_(r,a,i);cn(),r=r.memoizedState,a=cn();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Dc(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Xe.updateQueue,r===null&&(r=xc(),Xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function R_(){return cn().memoizedState}function Hf(i,r,a,l){var f=ui();Xe.flags|=i,f.memoizedState=Dc(1|r,{destroy:void 0},a,l===void 0?null:l)}function $f(i,r,a,l){var f=cn();l=l===void 0?null:l;var m=f.memoizedState.inst;_t!==null&&l!==null&&eh(l,_t.memoizedState.deps)?f.memoizedState=Dc(r,m,a,l):(Xe.flags|=i,f.memoizedState=Dc(1|r,m,a,l))}function O_(i,r){Hf(8390656,8,i,r)}function mp(i,r){$f(2048,8,i,r)}function i1(i){Xe.flags|=4;var r=Xe.updateQueue;if(r===null)r=xc(),Xe.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function k_(i){var r=cn().memoizedState;return i1({ref:r,nextImpl:i}),function(){if((Nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function j_(i,r){return $f(4,2,i,r)}function M_(i,r){return $f(4,4,i,r)}function P_(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function L_(i,r,a){a=a!=null?a.concat([i]):null,$f(4,4,P_.bind(null,r,i),a)}function pp(){}function V_(i,r){var a=cn();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&eh(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function U_(i,r){var a=cn();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&eh(r,l[1]))return l[0];if(l=i(),Va){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[l,r],l}function gp(i,r,a){return a===void 0||(ss&1073741824)!==0&&(ut&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=zb(),Xe.lanes|=i,Uo|=i,a)}function z_(i,r,a,l){return yi(a,r)?a:ci.current!==null?(i=gp(i,a,l),yi(i,r)||(qn=!0),i):(ss&42)===0||(ss&1073741824)!==0&&(ut&261930)===0?(qn=!0,i.memoizedState=a):(i=zb(),Xe.lanes|=i,Uo|=i,r)}function B_(i,r,a,l,f){var m=re.p;re.p=m!==0&&8>m?m:8;var w=X.T,C={};X.T=C,_p(i,!1,r,a);try{var z=f(),Z=X.S;if(Z!==null&&Z(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=cp(z,l);nh(i,r,oe,Fr(i))}else nh(i,r,l,Fr(i))}catch(ue){nh(i,r,{then:function(){},status:"rejected",reason:ue},Fr())}finally{re.p=m,w!==null&&C.types!==null&&(w.types=C.types),X.T=w}}function r1(){}function yp(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=F_(i).queue;B_(i,f,r,de,a===null?r1:function(){return q_(i),a(l)})}function F_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function q_(i){var r=F_(i);r.next===null&&(r=i.alternate.memoizedState),nh(i,r.next.queue,{},Fr())}function vp(){return Bn(_h)}function H_(){return cn().memoizedState}function $_(){return cn().memoizedState}function s1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Fr();i=Ge(a);var l=nt(r,i,a);l!==null&&(vr(l,r,a),Ke(l,r,a)),r={cache:xs()},i.payload=r;return}r=r.return}}function a1(i,r,a){var l=Fr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gf(i)?Y_(r,a):(a=zu(i,r,a,l),a!==null&&(vr(a,i,l),K_(a,r,l)))}function G_(i,r,a){var l=Fr();nh(i,r,a,l)}function nh(i,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gf(i))Y_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,C=m(w,a);if(f.hasEagerState=!0,f.eagerState=C,yi(C,w))return vc(i,r,f,0),Kt===null&&yc(),!1}catch{}finally{}if(a=zu(i,r,f,l),a!==null)return vr(a,i,l),K_(a,r,l),!0}return!1}function _p(i,r,a,l){if(l={lane:2,revertLane:Xp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gf(i)){if(r)throw Error(s(479))}else r=zu(i,a,l,2),r!==null&&vr(r,i,2)}function Gf(i){var r=i.alternate;return i===Xe||r!==null&&r===Xe}function Y_(i,r){ia=Sc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function K_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,ps(i,a)}}var ih={readContext:Bn,use:Po,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};ih.useEffectEvent=ln;var Q_={readContext:Bn,use:Po,useCallback:function(i,r){return ui().memoizedState=[i,r===void 0?null:r],i},useContext:Bn,useEffect:O_,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Hf(4194308,4,P_.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Hf(4194308,4,i,r)},useInsertionEffect:function(i,r){Hf(4,2,i,r)},useMemo:function(i,r){var a=ui();r=r===void 0?null:r;var l=i();if(Va){ii(!0);try{i()}finally{ii(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=ui();if(a!==void 0){var f=a(r);if(Va){ii(!0);try{a(r)}finally{ii(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=a1.bind(null,Xe,i),[l.memoizedState,i]},useRef:function(i){var r=ui();return i={current:i},r.memoizedState=i},useState:function(i){i=fp(i);var r=i.queue,a=G_.bind(null,Xe,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:pp,useDeferredValue:function(i,r){var a=ui();return gp(a,i,r)},useTransition:function(){var i=fp(!1);return i=B_.bind(null,Xe,i.queue,!0,!1),ui().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Xe,f=ui();if(it){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Kt===null)throw Error(s(349));(ut&127)!==0||g_(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,O_(v_.bind(null,l,m,i),[i]),l.flags|=2048,Dc(9,{destroy:void 0},y_.bind(null,l,m,a,r),null),a},useId:function(){var i=ui(),r=Kt.identifierPrefix;if(it){var a=is,l=ns;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ml++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Bf++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:vp,useFormState:x_,useActionState:x_,useOptimistic:function(i){var r=ui();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=_p.bind(null,Xe,!0,a),a.dispatch=r,[i,r]},useMemoCache:Ic,useCacheRefresh:function(){return ui().memoizedState=s1.bind(null,Xe)},useEffectEvent:function(i){var r=ui(),a={impl:i};return r.memoizedState=a,function(){if((Nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},bp={readContext:Bn,use:Po,useCallback:V_,useContext:Bn,useEffect:mp,useImperativeHandle:L_,useInsertionEffect:j_,useLayoutEffect:M_,useMemo:U_,useReducer:qf,useRef:R_,useState:function(){return qf(za)},useDebugValue:pp,useDeferredValue:function(i,r){var a=cn();return z_(a,_t.memoizedState,i,r)},useTransition:function(){var i=qf(za)[0],r=cn().memoizedState;return[typeof i=="boolean"?i:Ul(i),r]},useSyncExternalStore:p_,useId:H_,useHostTransitionStatus:vp,useFormState:I_,useActionState:I_,useOptimistic:function(i,r){var a=cn();return E_(a,_t,i,r)},useMemoCache:Ic,useCacheRefresh:$_};bp.useEffectEvent=k_;var W_={readContext:Bn,use:Po,useCallback:V_,useContext:Bn,useEffect:mp,useImperativeHandle:L_,useInsertionEffect:j_,useLayoutEffect:M_,useMemo:U_,useReducer:hp,useRef:R_,useState:function(){return hp(za)},useDebugValue:pp,useDeferredValue:function(i,r){var a=cn();return _t===null?gp(a,i,r):z_(a,_t.memoizedState,i,r)},useTransition:function(){var i=hp(za)[0],r=cn().memoizedState;return[typeof i=="boolean"?i:Ul(i),r]},useSyncExternalStore:p_,useId:H_,useHostTransitionStatus:vp,useFormState:N_,useActionState:N_,useOptimistic:function(i,r){var a=cn();return _t!==null?E_(a,_t,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:$_};W_.useEffectEvent=k_;function Ep(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var wp={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Fr(),f=Ge(l);f.payload=r,a!=null&&(f.callback=a),r=nt(i,f,l),r!==null&&(vr(r,i,l),Ke(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Fr(),f=Ge(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=nt(i,f,l),r!==null&&(vr(r,i,l),Ke(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Fr(),l=Ge(a);l.tag=2,r!=null&&(l.callback=r),r=nt(i,l,a),r!==null&&(vr(r,i,a),Ke(r,i,a))}};function X_(i,r,a,l,f,m,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!oi(a,l)||!oi(f,m):!0}function J_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&wp.enqueueReplaceState(r,r.state,null)}function zl(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=S({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Z_(i){Il(i)}function eb(i){console.error(i)}function tb(i){Il(i)}function Yf(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function nb(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tp(i,r,a){return a=Ge(a),a.tag=3,a.payload={element:null},a.callback=function(){Yf(i,r)},a}function ib(i){return i=Ge(i),i.tag=3,i}function rb(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){nb(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){nb(r,a,l),typeof f!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function o1(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ta(r,a,f,!0),a=an.current,a!==null){switch(a.tag){case 31:case 13:return yn===null?sd():a.alternate===null&&Cn===0&&(Cn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kp(i,l,f)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kp(i,l,f)),!1}throw Error(s(435,a.tag))}return Kp(i,l,f),sd(),!1}if(it)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Gu&&(i=Error(s(422),{cause:l}),Ol(li(i,a)))):(l!==Gu&&(r=Error(s(423),{cause:l}),Ol(li(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=li(l,a),f=Tp(i.stateNode,l,f),rt(i,f),Cn!==4&&(Cn=2)),!1;var m=Error(s(520),{cause:l});if(m=li(m,a),hh===null?hh=[m]:hh.push(m),Cn!==4&&(Cn=2),r===null)return!0;l=li(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Tp(a.stateNode,l,i),rt(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zo===null||!zo.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ib(f),rb(f,i,a,l),rt(a,f),!1}a=a.return}while(a!==null);return!1}var Sp=Error(s(461)),qn=!1;function _i(i,r,a,l){r.child=i===null?qe(r,null,a,l):ze(r,i.child,a,l)}function sb(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var C in l)C!=="ref"&&(w[C]=l[C])}else w=l;return Yi(r),l=Is(i,r,a,w,m,f),C=Vl(),i!==null&&!qn?(Ac(i,r,f),Ba(i,r,f)):(it&&C&&Rl(r),r.flags|=1,_i(i,r,l,f),r.child)}function ab(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!Fu(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,ob(i,r,m,l,f)):(i=bc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Op(i,f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:oi,a(w,l)&&i.ref===r.ref)return Ba(i,r,f)}return r.flags|=1,i=ws(m,l),i.ref=r.ref,i.return=r,r.child=i}function ob(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(oi(m,l)&&i.ref===r.ref)if(qn=!1,r.pendingProps=l=m,Op(i,f))(i.flags&131072)!==0&&(qn=!0);else return r.lanes=i.lanes,Ba(i,r,f)}return Ap(i,r,a,l,f)}function lb(i,r,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return cb(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ma(r,m!==null?m.cachePool:null),m!==null?Ki(r,m):Oi(),kt(r);else return l=r.lanes=536870912,cb(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ma(r,m.cachePool),Ki(r,m),on(),r.memoizedState=null):(i!==null&&Ma(r,null),Oi(),on());return _i(i,r,f,a),r.child}function rh(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cb(i,r,a,l,f){var m=jo();return m=m===null?null:{parent:Tn._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Ma(r,null),Oi(),kt(r),i!==null&&ta(i,r,l,!0),r.childLanes=f,null}function Kf(i,r){return r=Wf({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ub(i,r,a){return ze(r,i.child,null,a),i=Kf(r,r.pendingProps),i.flags|=2,Zt(r),r.memoizedState=null,i}function l1(i,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(it){if(l.mode==="hidden")return i=Kf(r,l),r.lanes=536870912,rh(null,i);if(Sn(r),(i=St)?(i=wE(i,fr),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Xs!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},a=Pf(i),a.return=r,r.child=a,ei=r,St=null)):i=null,i===null)throw Js(r);return r.lanes=536870912,null}return Kf(r,l)}var m=i.memoizedState;if(m!==null){var w=m.dehydrated;if(Sn(r),f)if(r.flags&256)r.flags&=-257,r=ub(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(qn||ta(i,r,a,!1),f=(a&i.childLanes)!==0,qn||f){if(l=Kt,l!==null&&(w=Kr(l,a),w!==0&&w!==m.retryLane))throw m.retryLane=w,vi(i,w),vr(l,i,w),Sp;sd(),r=ub(i,r,a)}else i=m.treeContext,St=as(w.nextSibling),ei=r,it=!0,As=null,fr=!1,i!==null&&$u(r,i),r=Kf(r,l),r.flags|=4096;return r}return i=ws(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Qf(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Ap(i,r,a,l,f){return Yi(r),a=Is(i,r,a,l,void 0,f),l=Vl(),i!==null&&!qn?(Ac(i,r,f),Ba(i,r,f)):(it&&l&&Rl(r),r.flags|=1,_i(i,r,a,f),r.child)}function hb(i,r,a,l,f,m){return Yi(r),r.updateQueue=null,a=th(r,l,a,f),Ll(i),l=Vl(),i!==null&&!qn?(Ac(i,r,m),Ba(i,r,m)):(it&&l&&Rl(r),r.flags|=1,_i(i,r,a,m),r.child)}function fb(i,r,a,l,f){if(Yi(r),r.stateNode===null){var m=xo,w=a.contextType;typeof w=="object"&&w!==null&&(m=Bn(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wp,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},At(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?Bn(w):xo,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Ep(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&wp.enqueueReplaceState(m,m.state,null),pt(r,l,m,f),gt(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var C=r.memoizedProps,z=zl(a,C);m.props=z;var Z=m.context,oe=a.contextType;w=xo,typeof oe=="object"&&oe!==null&&(w=Bn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||Z!==w)&&J_(r,m,l,w),Pe=!1;var ee=r.memoizedState;m.state=ee,pt(r,l,m,f),gt(),Z=r.memoizedState,C||ee!==Z||Pe?(typeof ue=="function"&&(Ep(r,a,ue,l),Z=r.memoizedState),(z=Pe||X_(r,a,z,l,ee,Z,w))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=Z),m.props=l,m.state=Z,m.context=w,l=z):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Ot(i,r),w=r.memoizedProps,oe=zl(a,w),m.props=oe,ue=r.pendingProps,ee=m.context,Z=a.contextType,z=xo,typeof Z=="object"&&Z!==null&&(z=Bn(Z)),C=a.getDerivedStateFromProps,(Z=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ue||ee!==z)&&J_(r,m,l,z),Pe=!1,ee=r.memoizedState,m.state=ee,pt(r,l,m,f),gt();var ie=r.memoizedState;w!==ue||ee!==ie||Pe||i!==null&&i.dependencies!==null&&kl(i.dependencies)?(typeof C=="function"&&(Ep(r,a,C,l),ie=r.memoizedState),(oe=Pe||X_(r,a,oe,l,ee,ie,z)||i!==null&&i.dependencies!==null&&kl(i.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ie,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ie,z)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&ee===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ee===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),m.props=l,m.state=ie,m.context=z,l=oe):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&ee===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ee===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,Qf(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=ze(r,i.child,null,f),r.child=ze(r,null,a,f)):_i(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Ba(i,r,f),i}function db(i,r,a,l){return ka(),r.flags|=256,_i(i,r,a,l),r.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(i){return{baseLanes:i,cachePool:zf()}}function Ip(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Br),i}function mb(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(it){if(f?Qi(r):on(),(i=St)?(i=wE(i,fr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Xs!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},a=Pf(i),a.return=r,r.child=a,ei=r,St=null)):i=null,i===null)throw Js(r);return ug(i)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(on(),f=r.mode,C=Wf({mode:"hidden",children:C},f),l=Ts(l,f,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=xp(a),l.childLanes=Ip(i,w,a),r.memoizedState=Cp,rh(null,l)):(Qi(r),Dp(r,C))}var z=i.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(m)r.flags&256?(Qi(r),r.flags&=-257,r=Np(i,r,a)):r.memoizedState!==null?(on(),r.child=i.child,r.flags|=128,r=null):(on(),C=l.fallback,f=r.mode,l=Wf({mode:"visible",children:l.children},f),C=Ts(C,f,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,ze(r,i.child,null,a),l=r.child,l.memoizedState=xp(a),l.childLanes=Ip(i,w,a),r.memoizedState=Cp,r=rh(null,l));else if(Qi(r),ug(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Z=w.dgst;w=Z,l=Error(s(419)),l.stack="",l.digest=w,Ol({value:l,source:null,stack:null}),r=Np(i,r,a)}else if(qn||ta(i,r,a,!1),w=(a&i.childLanes)!==0,qn||w){if(w=Kt,w!==null&&(l=Kr(w,a),l!==0&&l!==z.retryLane))throw z.retryLane=l,vi(i,l),vr(w,i,l),Sp;cg(C)||sd(),r=Np(i,r,a)}else cg(C)?(r.flags|=192,r.child=i.child,r=null):(i=z.treeContext,St=as(C.nextSibling),ei=r,it=!0,As=null,fr=!1,i!==null&&$u(r,i),r=Dp(r,l.children),r.flags|=4096);return r}return f?(on(),C=l.fallback,f=r.mode,z=i.child,Z=z.sibling,l=ws(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?C=ws(Z,C):(C=Ts(C,f,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,rh(null,l),l=r.child,C=i.child.memoizedState,C===null?C=xp(a):(f=C.cachePool,f!==null?(z=Tn._currentValue,f=f.parent!==z?{parent:z,pool:z}:f):f=zf(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=Ip(i,w,a),r.memoizedState=Cp,rh(i.child,l)):(Qi(r),a=i.child,i=a.sibling,a=ws(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=a,r.memoizedState=null,a)}function Dp(i,r){return r=Wf({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Wf(i,r){return i=Gi(22,i,null,r),i.lanes=0,i}function Np(i,r,a){return ze(r,i.child,null,a),i=Dp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function pb(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Qu(i.return,r,a)}function Rp(i,r,a,l,f,m){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=f,w.treeForkCount=m)}function gb(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var w=jt.current,C=(w&2)!==0;if(C?(w=w&1|2,r.flags|=128):w&=1,ve(jt,w),_i(i,r,l,a),l=it?Dl:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pb(i,a,r);else if(i.tag===19)pb(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&La(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Rp(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&La(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Rp(r,!0,a,null,m,l);break;case"together":Rp(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ba(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Uo|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(ta(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=ws(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=ws(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Op(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&kl(i)))}function c1(i,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),ea(r,Tn,i.memoizedState.cache),ka();break;case 27:case 5:Ci(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:ea(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sn(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?mb(i,r,a):(Qi(r),i=Ba(i,r,a),i!==null?i.sibling:null);Qi(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ta(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return gb(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ve(jt,jt.current),l)break;return null;case 22:return r.lanes=0,lb(i,r,a,r.pendingProps);case 24:ea(r,Tn,i.memoizedState.cache)}return Ba(i,r,a)}function yb(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)qn=!0;else{if(!Op(i,a)&&(r.flags&128)===0)return qn=!1,c1(i,r,a);qn=(i.flags&131072)!==0}else qn=!1,it&&(r.flags&1048576)!==0&&Nl(r,Dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(i=q(r.elementType),r.type=i,typeof i=="function")Fu(i)?(l=zl(i,l),r.tag=1,r=fb(null,r,i,l,a)):(r.tag=0,r=Ap(null,r,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===ye){r.tag=11,r=sb(null,r,i,l,a);break e}else if(f===k){r.tag=14,r=ab(null,r,i,l,a);break e}}throw r=fe(i)||i,Error(s(306,r,""))}}return r;case 0:return Ap(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=zl(l,r.pendingProps),fb(i,r,l,f,a);case 3:e:{if(Pt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Ot(i,r),pt(r,l,null,a);var w=r.memoizedState;if(l=w.cache,ea(r,Tn,l),l!==m.cache&&Tc(r,[Tn],a,!0),gt(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=db(i,r,l,a);break e}else if(l!==f){f=li(Error(s(424)),r),Ol(f),r=db(i,r,l,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(St=as(i.firstChild),ei=r,it=!0,As=null,fr=!0,a=qe(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ka(),l===f){r=Ba(i,r,a);break e}_i(i,r,l,a)}r=r.child}return r;case 26:return Qf(i,r),i===null?(a=IE(r.type,null,r.pendingProps,null))?r.memoizedState=a:it||(a=r.type,i=r.pendingProps,l=fd(Le.current).createElement(a),l[Bt]=r,l[En]=i,bi(l,a,i),Yt(l),r.stateNode=l):r.memoizedState=IE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ci(r),i===null&&it&&(l=r.stateNode=AE(r.type,r.pendingProps,Le.current),ei=r,fr=!0,f=St,Ho(r.type)?(hg=f,St=as(l.firstChild)):St=f),_i(i,r,r.pendingProps.children,a),Qf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&it&&((f=l=St)&&(l=U1(l,r.type,r.pendingProps,fr),l!==null?(r.stateNode=l,ei=r,St=as(l.firstChild),fr=!1,f=!0):f=!1),f||Js(r)),Ci(r),f=r.type,m=r.pendingProps,w=i!==null?i.memoizedProps:null,l=m.children,ag(f,m)?l=null:w!==null&&ag(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=Is(i,r,Ff,null,null,a),_h._currentValue=f),Qf(i,r),_i(i,r,l,a),r.child;case 6:return i===null&&it&&((i=a=St)&&(a=z1(a,r.pendingProps,fr),a!==null?(r.stateNode=a,ei=r,St=null,i=!0):i=!1),i||Js(r)),null;case 13:return mb(i,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=ze(r,null,l,a):_i(i,r,l,a),r.child;case 11:return sb(i,r,r.type,r.pendingProps,a);case 7:return _i(i,r,r.pendingProps,a),r.child;case 8:return _i(i,r,r.pendingProps.children,a),r.child;case 12:return _i(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ea(r,r.type,l.value),_i(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Yi(r),f=Bn(f),l=l(f),r.flags|=1,_i(i,r,l,a),r.child;case 14:return ab(i,r,r.type,r.pendingProps,a);case 15:return ob(i,r,r.type,r.pendingProps,a);case 19:return gb(i,r,a);case 31:return l1(i,r,a);case 22:return lb(i,r,a,r.pendingProps);case 24:return Yi(r),l=Bn(Tn),i===null?(f=jo(),f===null&&(f=Kt,m=xs(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},At(r),ea(r,Tn,f)):((i.lanes&a)!==0&&(Ot(i,r),pt(r,null,null,a),gt()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ea(r,Tn,l)):(l=m.cache,ea(r,Tn,l),l!==f.cache&&Tc(r,[Tn],a,!0))),_i(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fa(i){i.flags|=4}function kp(i,r,a,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Hb())i.flags|=8192;else throw G=d,Pa}else i.flags&=-16777217}function vb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!kE(r))if(Hb())i.flags|=8192;else throw G=d,Pa}function Xf(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?mi():536870912,i.lanes|=r,kc|=r)}function sh(i,r){if(!it)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function nn(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function u1(i,r,a){var l=r.pendingProps;switch(Hu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(r),null;case 1:return nn(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rs(Tn),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(No(r)?Fa(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yu())),nn(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(Fa(r),m!==null?(nn(r),vb(r,m)):(nn(r),kp(r,f,null,l,a))):m?m!==i.memoizedState?(Fa(r),nn(r),vb(r,m)):(nn(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&Fa(r),nn(r),kp(r,f,i,l,a)),null;case 27:if(wr(r),a=Le.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Fa(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nn(r),null}i=Te.current,No(r)?Do(r):(i=AE(f,l,a),r.stateNode=i,Fa(r))}return nn(r),null;case 5:if(wr(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Fa(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nn(r),null}if(m=Te.current,No(r))Do(r);else{var w=fd(Le.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(f,{is:l.is}):w.createElement(f)}}m[Bt]=r,m[En]=l;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=m;e:switch(bi(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fa(r)}}return nn(r),kp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Fa(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Le.current,No(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=ei,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Bt]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mE(i.nodeValue,a)),i||Js(r,!0)}else i=fd(i).createTextNode(l),i[Bt]=r,r.stateNode=i}return nn(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=No(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Bt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nn(r),i=!1}else a=Yu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Zt(r),r):(Zt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nn(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=No(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nn(r),f=!1}else f=Yu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Zt(r),r):(Zt(r),null)}return Zt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),Xf(r,r.updateQueue),nn(r),null);case 4:return be(),i===null&&tg(r.stateNode.containerInfo),nn(r),null;case 10:return rs(r.type),nn(r),null;case 19:if(ae(jt),l=r.memoizedState,l===null)return nn(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)sh(l,!1);else{if(Cn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=La(i),m!==null){for(r.flags|=128,sh(l,!1),i=m.updateQueue,r.updateQueue=i,Xf(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Mf(a,i),a=a.sibling;return ve(jt,jt.current&1|2),it&&Ss(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&Kn()>nd&&(r.flags|=128,f=!0,sh(l,!1),r.lanes=4194304)}else{if(!f)if(i=La(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Xf(r,i),sh(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!it)return nn(r),null}else 2*Kn()-l.renderingStartTime>nd&&a!==536870912&&(r.flags|=128,f=!0,sh(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Kn(),i.sibling=null,a=jt.current,ve(jt,f?a&1|2:a&1),it&&Ss(r,l.treeForkCount),i):(nn(r),null);case 22:case 23:return Zt(r),Jt(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nn(r),r.subtreeFlags&6&&(r.flags|=8192)):nn(r),a=r.updateQueue,a!==null&&Xf(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&ae(na),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rs(Tn),nn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function h1(i,r){switch(Hu(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return rs(Tn),be(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wr(r),null;case 31:if(r.memoizedState!==null){if(Zt(r),r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Zt(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ae(jt),null;case 4:return be(),null;case 10:return rs(r.type),null;case 22:case 23:return Zt(r),Jt(),i!==null&&ae(na),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return rs(Tn),null;case 25:return null;default:return null}}function _b(i,r){switch(Hu(r),r.tag){case 3:rs(Tn),be();break;case 26:case 27:case 5:wr(r);break;case 4:be();break;case 31:r.memoizedState!==null&&Zt(r);break;case 13:Zt(r);break;case 19:ae(jt);break;case 10:rs(r.type);break;case 22:case 23:Zt(r),Jt(),i!==null&&ae(na);break;case 24:rs(Tn)}}function ah(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==f)}}catch(C){Ut(r,r.return,C)}}function Lo(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var w=l.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,f=r;var z=a,Z=C;try{Z()}catch(oe){Ut(f,z,oe)}}}l=l.next}while(l!==m)}}catch(oe){Ut(r,r.return,oe)}}function bb(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Ri(r,a)}catch(l){Ut(i,i.return,l)}}}function Eb(i,r,a){a.props=zl(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Ut(i,r,l)}}function oh(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Ut(i,r,f)}}function ra(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ut(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ut(i,r,f)}else a.current=null}function wb(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ut(i,i.return,f)}}function jp(i,r,a){try{var l=i.stateNode;k1(l,i.type,a,r),l[En]=r}catch(f){Ut(i,i.return,f)}}function Tb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ho(i.type)||i.tag===4}function Mp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ho(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pp(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Un));else if(l!==4&&(l===27&&Ho(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Pp(i,r,a),i=i.sibling;i!==null;)Pp(i,r,a),i=i.sibling}function Jf(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&Ho(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Jf(i,r,a),i=i.sibling;i!==null;)Jf(i,r,a),i=i.sibling}function Sb(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);bi(r,l,a),r[Bt]=i,r[En]=a}catch(m){Ut(i,i.return,m)}}var qa=!1,Hn=!1,Lp=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,hi=null;function f1(i,r){if(i=i.containerInfo,rg=_d,i=Nu(i),Ru(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,C=-1,z=-1,Z=0,oe=0,ue=i,ee=null;t:for(;;){for(var ie;ue!==a||f!==0&&ue.nodeType!==3||(C=w+f),ue!==m||l!==0&&ue.nodeType!==3||(z=w+l),ue.nodeType===3&&(w+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ee=ue,ue=ie;for(;;){if(ue===i)break t;if(ee===a&&++Z===f&&(C=w),ee===m&&++oe===l&&(z=w),(ie=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ie}a=C===-1||z===-1?null:{start:C,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(sg={focusedElem:i,selectionRange:a},_d=!1,hi=r;hi!==null;)if(r=hi,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,hi=i;else for(;hi!==null;){switch(r=hi,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var De=zl(a.type,f);i=l.getSnapshotBeforeUpdate(De,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(Be){Ut(a,a.return,Be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)lg(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,hi=i;break}hi=r.return}}function Cb(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$a(i,a),l&4&&ah(5,a);break;case 1:if($a(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(w){Ut(a,a.return,w)}else{var f=zl(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Ut(a,a.return,w)}}l&64&&bb(a),l&512&&oh(a,a.return);break;case 3:if($a(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ri(i,r)}catch(w){Ut(a,a.return,w)}}break;case 27:r===null&&l&4&&Sb(a);case 26:case 5:$a(i,a),r===null&&l&4&&wb(a),l&512&&oh(a,a.return);break;case 12:$a(i,a);break;case 31:$a(i,a),l&4&&Db(i,a);break;case 13:$a(i,a),l&4&&Nb(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=E1.bind(null,a),B1(i,a))));break;case 22:if(l=a.memoizedState!==null||qa,!l){r=r!==null&&r.memoizedState!==null||Hn,f=qa;var m=Hn;qa=l,(Hn=r)&&!m?Ga(i,a,(a.subtreeFlags&8772)!==0):$a(i,a),qa=f,Hn=m}break;case 30:break;default:$a(i,a)}}function xb(i){var r=i.alternate;r!==null&&(i.alternate=null,xb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&rn(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var un=null,mr=!1;function Ha(i,r,a){for(a=a.child;a!==null;)Ib(i,r,a),a=a.sibling}function Ib(i,r,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 26:Hn||ra(a,r),Ha(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Hn||ra(a,r);var l=un,f=mr;Ho(a.type)&&(un=a.stateNode,mr=!1),Ha(i,r,a),gh(a.stateNode),un=l,mr=f;break;case 5:Hn||ra(a,r);case 6:if(l=un,f=mr,un=null,Ha(i,r,a),un=l,mr=f,un!==null)if(mr)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(a.stateNode)}catch(m){Ut(a,r,m)}else try{un.removeChild(a.stateNode)}catch(m){Ut(a,r,m)}break;case 18:un!==null&&(mr?(i=un,bE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Bc(i)):bE(un,a.stateNode));break;case 4:l=un,f=mr,un=a.stateNode.containerInfo,mr=!0,Ha(i,r,a),un=l,mr=f;break;case 0:case 11:case 14:case 15:Lo(2,a,r),Hn||Lo(4,a,r),Ha(i,r,a);break;case 1:Hn||(ra(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Eb(a,r,l)),Ha(i,r,a);break;case 21:Ha(i,r,a);break;case 22:Hn=(l=Hn)||a.memoizedState!==null,Ha(i,r,a),Hn=l;break;default:Ha(i,r,a)}}function Db(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bc(i)}catch(a){Ut(r,r.return,a)}}}function Nb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bc(i)}catch(a){Ut(r,r.return,a)}}function d1(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Ab),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Ab),r;default:throw Error(s(435,i.tag))}}function Zf(i,r){var a=d1(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=w1.bind(null,i,l);l.then(f,f)}})}function pr(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,w=r,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(Ho(C.type)){un=C.stateNode,mr=!1;break e}break;case 5:un=C.stateNode,mr=!1;break e;case 3:case 4:un=C.stateNode.containerInfo,mr=!0;break e}C=C.return}if(un===null)throw Error(s(160));Ib(m,w,f),un=null,mr=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Rb(r,i),r=r.sibling}var Ds=null;function Rb(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pr(r,i),gr(i),l&4&&(Lo(3,i,i.return),ah(3,i),Lo(5,i,i.return));break;case 1:pr(r,i),gr(i),l&512&&(Hn||a===null||ra(a,a.return)),l&64&&qa&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ds;if(pr(r,i),gr(i),l&512&&(Hn||a===null||ra(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ct]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),bi(m,l,a),m[Bt]=i,Yt(m),l=m;break e;case"link":var w=RE("link","href",f).get(l+(a.href||""));if(w){for(var C=0;C<w.length;C++)if(m=w[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(C,1);break t}}m=f.createElement(l),bi(m,l,a),f.head.appendChild(m);break;case"meta":if(w=RE("meta","content",f).get(l+(a.content||""))){for(C=0;C<w.length;C++)if(m=w[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(C,1);break t}}m=f.createElement(l),bi(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Bt]=i,Yt(m),l=m}i.stateNode=l}else OE(f,i.type,i.stateNode);else i.stateNode=NE(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?OE(f,i.type,i.stateNode):NE(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&jp(i,i.memoizedProps,a.memoizedProps)}break;case 27:pr(r,i),gr(i),l&512&&(Hn||a===null||ra(a,a.return)),a!==null&&l&4&&jp(i,i.memoizedProps,a.memoizedProps);break;case 5:if(pr(r,i),gr(i),l&512&&(Hn||a===null||ra(a,a.return)),i.flags&32){f=i.stateNode;try{On(f,"")}catch(De){Ut(i,i.return,De)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,jp(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Lp=!0);break;case 6:if(pr(r,i),gr(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(De){Ut(i,i.return,De)}}break;case 3:if(pd=null,f=Ds,Ds=dd(r.containerInfo),pr(r,i),Ds=f,gr(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Bc(r.containerInfo)}catch(De){Ut(i,i.return,De)}Lp&&(Lp=!1,Ob(i));break;case 4:l=Ds,Ds=dd(i.stateNode.containerInfo),pr(r,i),gr(i),Ds=l;break;case 12:pr(r,i),gr(i);break;case 31:pr(r,i),gr(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zf(i,l)));break;case 13:pr(r,i),gr(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(td=Kn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zf(i,l)));break;case 22:f=i.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Z=qa,oe=Hn;if(qa=Z||f,Hn=oe||z,pr(r,i),Hn=oe,qa=Z,gr(i),l&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||z||qa||Hn||Bl(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){z=a=r;try{if(m=z.stateNode,f)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=z.stateNode;var ue=z.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(De){Ut(z,z.return,De)}}}else if(r.tag===6){if(a===null){z=r;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(De){Ut(z,z.return,De)}}}else if(r.tag===18){if(a===null){z=r;try{var ie=z.stateNode;f?EE(ie,!0):EE(z.stateNode,!1)}catch(De){Ut(z,z.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zf(i,a))));break;case 19:pr(r,i),gr(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Zf(i,l)));break;case 30:break;case 21:break;default:pr(r,i),gr(i)}}function gr(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(Tb(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Mp(i);Jf(i,m,f);break;case 5:var w=a.stateNode;a.flags&32&&(On(w,""),a.flags&=-33);var C=Mp(i);Jf(i,C,w);break;case 3:case 4:var z=a.stateNode.containerInfo,Z=Mp(i);Pp(i,Z,z);break;default:throw Error(s(161))}}catch(oe){Ut(i,i.return,oe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Ob(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Ob(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function $a(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cb(i,r.alternate,r),r=r.sibling}function Bl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Lo(4,r,r.return),Bl(r);break;case 1:ra(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Eb(r,r.return,a),Bl(r);break;case 27:gh(r.stateNode);case 26:case 5:ra(r,r.return),Bl(r);break;case 22:r.memoizedState===null&&Bl(r);break;case 30:Bl(r);break;default:Bl(r)}i=i.sibling}}function Ga(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:Ga(f,m,a),ah(4,m);break;case 1:if(Ga(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){Ut(l,l.return,Z)}if(l=m,f=l.updateQueue,f!==null){var C=l.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)sn(z[f],C)}catch(Z){Ut(l,l.return,Z)}}a&&w&64&&bb(m),oh(m,m.return);break;case 27:Sb(m);case 26:case 5:Ga(f,m,a),a&&l===null&&w&4&&wb(m),oh(m,m.return);break;case 12:Ga(f,m,a);break;case 31:Ga(f,m,a),a&&w&4&&Db(f,m);break;case 13:Ga(f,m,a),a&&w&4&&Nb(f,m);break;case 22:m.memoizedState===null&&Ga(f,m,a),oh(m,m.return);break;case 30:break;default:Ga(f,m,a)}r=r.sibling}}function Vp(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&dr(a))}function Up(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dr(i))}function Ns(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kb(i,r,a,l),r=r.sibling}function kb(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(i,r,a,l),f&2048&&ah(9,r);break;case 1:Ns(i,r,a,l);break;case 3:Ns(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&dr(i)));break;case 12:if(f&2048){Ns(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,w=m.id,C=m.onPostCommit;typeof C=="function"&&C(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ut(r,r.return,z)}}else Ns(i,r,a,l);break;case 31:Ns(i,r,a,l);break;case 13:Ns(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Ns(i,r,a,l):lh(i,r):m._visibility&2?Ns(i,r,a,l):(m._visibility|=2,Nc(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Vp(w,r);break;case 24:Ns(i,r,a,l),f&2048&&Up(r.alternate,r);break;default:Ns(i,r,a,l)}}function Nc(i,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,w=r,C=a,z=l,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Nc(m,w,C,z,f),ah(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?Nc(m,w,C,z,f):lh(m,w):(oe._visibility|=2,Nc(m,w,C,z,f)),f&&Z&2048&&Vp(w.alternate,w);break;case 24:Nc(m,w,C,z,f),f&&Z&2048&&Up(w.alternate,w);break;default:Nc(m,w,C,z,f)}r=r.sibling}}function lh(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:lh(a,l),f&2048&&Vp(l.alternate,l);break;case 24:lh(a,l),f&2048&&Up(l.alternate,l);break;default:lh(a,l)}r=r.sibling}}var ch=8192;function Rc(i,r,a){if(i.subtreeFlags&ch)for(i=i.child;i!==null;)jb(i,r,a),i=i.sibling}function jb(i,r,a){switch(i.tag){case 26:Rc(i,r,a),i.flags&ch&&i.memoizedState!==null&&Z1(a,Ds,i.memoizedState,i.memoizedProps);break;case 5:Rc(i,r,a);break;case 3:case 4:var l=Ds;Ds=dd(i.stateNode.containerInfo),Rc(i,r,a),Ds=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=ch,ch=16777216,Rc(i,r,a),ch=l):Rc(i,r,a));break;default:Rc(i,r,a)}}function Mb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function uh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];hi=l,Lb(l,i)}Mb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pb(i),i=i.sibling}function Pb(i){switch(i.tag){case 0:case 11:case 15:uh(i),i.flags&2048&&Lo(9,i,i.return);break;case 3:uh(i);break;case 12:uh(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ed(i)):uh(i);break;default:uh(i)}}function ed(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];hi=l,Lb(l,i)}Mb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Lo(8,r,r.return),ed(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ed(r));break;default:ed(r)}i=i.sibling}}function Lb(i,r){for(;hi!==null;){var a=hi;switch(a.tag){case 0:case 11:case 15:Lo(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,hi=l;else e:for(a=i;hi!==null;){l=hi;var f=l.sibling,m=l.return;if(xb(l),l===a){hi=null;break e}if(f!==null){f.return=m,hi=f;break e}hi=m}}}var m1={getCacheForType:function(i){var r=Bn(Tn),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Bn(Tn).controller.signal}},p1=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Kt=null,at=null,ut=0,Vt=0,zr=null,Vo=!1,Oc=!1,zp=!1,Ya=0,Cn=0,Uo=0,Fl=0,Bp=0,Br=0,kc=0,hh=null,yr=null,Fp=!1,td=0,Vb=0,nd=1/0,id=null,zo=null,ti=0,Bo=null,jc=null,Ka=0,qp=0,Hp=null,Ub=null,fh=0,$p=null;function Fr(){return(Nt&2)!==0&&ut!==0?ut&-ut:X.T!==null?Xp():zs()}function zb(){if(Br===0)if((ut&536870912)===0||it){var i=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),Br=i}else Br=536870912;return i=an.current,i!==null&&(i.flags|=32),Br}function vr(i,r,a){(i===Kt&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)&&(Mc(i,0),Fo(i,ut,Br,!1)),Cr(i,a),((Nt&2)===0||i!==Kt)&&(i===Kt&&((Nt&2)===0&&(Fl|=a),Cn===4&&Fo(i,ut,Br,!1)),sa(i))}function Bb(i,r,a){if((Nt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||Qn(i,r),f=l?v1(i,r):Yp(i,r,!0),m=l;do{if(f===0){Oc&&!l&&Fo(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!g1(a)){f=Yp(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var C=i;f=hh;var z=C.current.memoizedState.isDehydrated;if(z&&(Mc(C,w).flags|=256),w=Yp(C,w,!1),w!==2){if(zp&&!z){C.errorRecoveryDisabledLanes|=m,Fl|=m,f=4;break e}m=yr,yr=f,m!==null&&(yr===null?yr=m:yr.push.apply(yr,m))}f=w}if(m=!1,f!==2)continue}}if(f===1){Mc(i,0),Fo(i,r,0,!0);break}e:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fo(l,r,Br,!Vo);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=td+300-Kn(),10<f)){if(Fo(l,r,Br,!Vo),zt(l,0,!0)!==0)break e;Ka=r,l.timeoutHandle=vE(Fb.bind(null,l,a,yr,id,Fp,r,Br,Fl,kc,Vo,m,"Throttled",-0,0),f);break e}Fb(l,a,yr,id,Fp,r,Br,Fl,kc,Vo,m,null,-0,0)}}break}while(!0);sa(i)}function Fb(i,r,a,l,f,m,w,C,z,Z,oe,ue,ee,ie){if(i.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},jb(r,m,ue);var De=(m&62914560)===m?td-Kn():(m&4194048)===m?Vb-Kn():0;if(De=ex(ue,De),De!==null){Ka=m,i.cancelPendingCommit=De(Wb.bind(null,i,r,m,a,l,f,w,C,z,oe,ue,null,ee,ie)),Fo(i,m,w,!Z);return}}Wb(i,r,m,a,l,f,w,C,z)}function g1(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!yi(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fo(i,r,a,l){r&=~Bp,r&=~Fl,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-Wt(f),w=1<<m;l[m]=-1,f&=~w}a!==0&&Ii(i,a,r)}function rd(){return(Nt&6)===0?(dh(0),!1):!0}function Gp(){if(at!==null){if(Vt===0)var i=at.return;else i=at,Cs=ja=null,Cc(i),_e=null,Se=0,i=at;for(;i!==null;)_b(i.alternate,i),i=i.return;at=null}}function Mc(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,P1(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Ka=0,Gp(),Kt=i,at=a=ws(i.current,null),ut=r,Vt=0,zr=null,Vo=!1,Oc=Qn(i,r),zp=!1,kc=Br=Bp=Fl=Uo=Cn=0,yr=hh=null,Fp=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Wt(l),m=1<<f;r|=i[f],l&=~m}return Ya=r,yc(),a}function qb(i,r){Xe=null,X.H=ih,r===Mo||r===A?(r=se(),Vt=3):r===Pa?(r=se(),Vt=4):Vt=r===Sp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zr=r,at===null&&(Cn=1,Yf(i,li(r,i.current)))}function Hb(){var i=an.current;return i===null?!0:(ut&4194048)===ut?yn===null:(ut&62914560)===ut||(ut&536870912)!==0?i===yn:!1}function $b(){var i=X.H;return X.H=ih,i===null?ih:i}function Gb(){var i=X.A;return X.A=m1,i}function sd(){Cn=4,Vo||(ut&4194048)!==ut&&an.current!==null||(Oc=!0),(Uo&134217727)===0&&(Fl&134217727)===0||Kt===null||Fo(Kt,ut,Br,!1)}function Yp(i,r,a){var l=Nt;Nt|=2;var f=$b(),m=Gb();(Kt!==i||ut!==r)&&(id=null,Mc(i,r)),r=!1;var w=Cn;e:do try{if(Vt!==0&&at!==null){var C=at,z=zr;switch(Vt){case 8:Gp(),w=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(r=!0);var Z=Vt;if(Vt=0,zr=null,Pc(i,C,z,Z),a&&Oc){w=0;break e}break;default:Z=Vt,Vt=0,zr=null,Pc(i,C,z,Z)}}y1(),w=Cn;break}catch(oe){qb(i,oe)}while(!0);return r&&i.shellSuspendCounter++,Cs=ja=null,Nt=l,X.H=f,X.A=m,at===null&&(Kt=null,ut=0,yc()),w}function y1(){for(;at!==null;)Yb(at)}function v1(i,r){var a=Nt;Nt|=2;var l=$b(),f=Gb();Kt!==i||ut!==r?(id=null,nd=Kn()+500,Mc(i,r)):Oc=Qn(i,r);e:do try{if(Vt!==0&&at!==null){r=at;var m=zr;t:switch(Vt){case 1:Vt=0,zr=null,Pc(i,r,m,1);break;case 2:case 9:if(b(m)){Vt=0,zr=null,Kb(r);break}r=function(){Vt!==2&&Vt!==9||Kt!==i||(Vt=7),sa(i)},m.then(r,r);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:b(m)?(Vt=0,zr=null,Kb(r)):(Vt=0,zr=null,Pc(i,r,m,7));break;case 5:var w=null;switch(at.tag){case 26:w=at.memoizedState;case 5:case 27:var C=at;if(w?kE(w):C.stateNode.complete){Vt=0,zr=null;var z=C.sibling;if(z!==null)at=z;else{var Z=C.return;Z!==null?(at=Z,ad(Z)):at=null}break t}}Vt=0,zr=null,Pc(i,r,m,5);break;case 6:Vt=0,zr=null,Pc(i,r,m,6);break;case 8:Gp(),Cn=6;break e;default:throw Error(s(462))}}_1();break}catch(oe){qb(i,oe)}while(!0);return Cs=ja=null,X.H=l,X.A=f,Nt=a,at!==null?0:(Kt=null,ut=0,yc(),Cn)}function _1(){for(;at!==null&&!yl();)Yb(at)}function Yb(i){var r=yb(i.alternate,i,Ya);i.memoizedProps=i.pendingProps,r===null?ad(i):at=r}function Kb(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=hb(a,r,r.pendingProps,r.type,void 0,ut);break;case 11:r=hb(a,r,r.pendingProps,r.type.render,r.ref,ut);break;case 5:Cc(r);default:_b(a,r),r=at=Mf(r,Ya),r=yb(a,r,Ya)}i.memoizedProps=i.pendingProps,r===null?ad(i):at=r}function Pc(i,r,a,l){Cs=ja=null,Cc(r),_e=null,Se=0;var f=r.return;try{if(o1(i,f,r,a,ut)){Cn=1,Yf(i,li(a,i.current)),at=null;return}}catch(m){if(f!==null)throw at=f,m;Cn=1,Yf(i,li(a,i.current)),at=null;return}r.flags&32768?(it||l===1?i=!0:Oc||(ut&536870912)!==0?i=!1:(Vo=i=!0,(l===2||l===9||l===3||l===6)&&(l=an.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qb(r,i)):ad(r)}function ad(i){var r=i;do{if((r.flags&32768)!==0){Qb(r,Vo);return}i=r.return;var a=u1(r.alternate,r,Ya);if(a!==null){at=a;return}if(r=r.sibling,r!==null){at=r;return}at=r=i}while(r!==null);Cn===0&&(Cn=5)}function Qb(i,r){do{var a=h1(i.alternate,i);if(a!==null){a.flags&=32767,at=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){at=i;return}at=i=a}while(i!==null);Cn=6,at=null}function Wb(i,r,a,l,f,m,w,C,z){i.cancelPendingCommit=null;do od();while(ti!==0);if((Nt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Uu,xr(i,a,m,w,C,z),i===Kt&&(at=Kt=null,ut=0),jc=r,Bo=i,Ka=a,qp=m,Hp=f,Ub=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,T1(Gr,function(){return tE(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,w=Nt,Nt|=4;try{f1(i,r,a)}finally{Nt=w,re.p=f,X.T=l}}ti=1,Xb(),Jb(),Zb()}}function Xb(){if(ti===1){ti=0;var i=Bo,r=jc,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Nt;Nt|=4;try{Rb(r,i);var m=sg,w=Nu(i.containerInfo),C=m.focusedElem,z=m.selectionRange;if(w!==C&&C&&C.ownerDocument&&Du(C.ownerDocument.documentElement,C)){if(z!==null&&Ru(C)){var Z=z.start,oe=z.end;if(oe===void 0&&(oe=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(oe,C.value.length);else{var ue=C.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),De=C.textContent.length,Be=Math.min(z.start,De),$t=z.end===void 0?Be:Math.min(z.end,De);!ie.extend&&Be>$t&&(w=$t,$t=Be,Be=w);var K=If(C,Be),F=If(C,$t);if(K&&F&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==F.node||ie.focusOffset!==F.offset)){var J=ue.createRange();J.setStart(K.node,K.offset),ie.removeAllRanges(),Be>$t?(ie.addRange(J),ie.extend(F.node,F.offset)):(J.setEnd(F.node,F.offset),ie.addRange(J))}}}}for(ue=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var ce=ue[C];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}_d=!!rg,sg=rg=null}finally{Nt=f,re.p=l,X.T=a}}i.current=r,ti=2}}function Jb(){if(ti===2){ti=0;var i=Bo,r=jc,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Nt;Nt|=4;try{Cb(i,r.alternate,r)}finally{Nt=f,re.p=l,X.T=a}}ti=3}}function Zb(){if(ti===4||ti===3){ti=0,_a();var i=Bo,r=jc,a=Ka,l=Ub;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ti=5:(ti=0,jc=Bo=null,eE(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(zo=null),Bi(a),r=r.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(In,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=re.p,re.p=2,X.T=null;try{for(var m=i.onRecoverableError,w=0;w<l.length;w++){var C=l[w];m(C.value,{componentStack:C.stack})}}finally{X.T=r,re.p=f}}(Ka&3)!==0&&od(),sa(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===$p?fh++:(fh=0,$p=i):fh=0,dh(0)}}function eE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,dr(r)))}function od(){return Xb(),Jb(),Zb(),tE()}function tE(){if(ti!==5)return!1;var i=Bo,r=qp;qp=0;var a=Bi(Ka),l=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=Hp,Hp=null;var m=Bo,w=Ka;if(ti=0,jc=Bo=null,Ka=0,(Nt&6)!==0)throw Error(s(331));var C=Nt;if(Nt|=4,Pb(m.current),kb(m,m.current,w,a),Nt=C,dh(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(In,m)}catch{}return!0}finally{re.p=f,X.T=l,eE(i,r)}}function nE(i,r,a){r=li(a,r),r=Tp(i.stateNode,r,2),i=nt(i,r,2),i!==null&&(Cr(i,2),sa(i))}function Ut(i,r,a){if(i.tag===3)nE(i,i,a);else for(;r!==null;){if(r.tag===3){nE(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zo===null||!zo.has(l))){i=li(a,i),a=ib(2),l=nt(r,a,2),l!==null&&(rb(a,l,r,i),Cr(l,2),sa(l));break}}r=r.return}}function Kp(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new p1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(zp=!0,f.add(a),i=b1.bind(null,i,r,a),r.then(i,i))}function b1(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Kt===i&&(ut&a)===a&&(Cn===4||Cn===3&&(ut&62914560)===ut&&300>Kn()-td?(Nt&2)===0&&Mc(i,0):Bp|=a,kc===ut&&(kc=0)),sa(i)}function iE(i,r){r===0&&(r=mi()),i=vi(i,r),i!==null&&(Cr(i,r),sa(i))}function E1(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),iE(i,a)}function w1(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),iE(i,a)}function T1(i,r){return mn(i,r)}var ld=null,Lc=null,Qp=!1,cd=!1,Wp=!1,qo=0;function sa(i){i!==Lc&&i.next===null&&(Lc===null?ld=Lc=i:Lc=Lc.next=i),cd=!0,Qp||(Qp=!0,A1())}function dh(i,r){if(!Wp&&cd){Wp=!0;do for(var a=!1,l=ld;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var w=l.suspendedLanes,C=l.pingedLanes;m=(1<<31-Wt(42|i)+1)-1,m&=f&~(w&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,oE(l,m))}else m=ut,m=zt(l,l===Kt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Qn(l,m)||(a=!0,oE(l,m));l=l.next}while(a);Wp=!1}}function S1(){rE()}function rE(){cd=Qp=!1;var i=0;qo!==0&&M1()&&(i=qo);for(var r=Kn(),a=null,l=ld;l!==null;){var f=l.next,m=sE(l,r);m===0?(l.next=null,a===null?ld=f:a.next=f,f===null&&(Lc=a)):(a=l,(i!==0||(m&3)!==0)&&(cd=!0)),l=f}ti!==0&&ti!==5||dh(i),qo!==0&&(qo=0)}function sE(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var w=31-Wt(m),C=1<<w,z=f[w];z===-1?((C&a)===0||(C&l)!==0)&&(f[w]=Lt(C,r)):z<=r&&(i.expiredLanes|=C),m&=~C}if(r=Kt,a=ut,a=zt(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&$r(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Qn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&$r(l),Bi(a)){case 2:case 8:a=Us;break;case 32:a=Gr;break;case 268435456:a=Sr;break;default:a=Gr}return l=aE.bind(null,i),a=mn(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&$r(l),i.callbackPriority=2,i.callbackNode=null,2}function aE(i,r){if(ti!==0&&ti!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(od()&&i.callbackNode!==a)return null;var l=ut;return l=zt(i,i===Kt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(Bb(i,l,r),sE(i,Kn()),i.callbackNode!=null&&i.callbackNode===a?aE.bind(null,i):null)}function oE(i,r){if(od())return null;Bb(i,r,!0)}function A1(){L1(function(){(Nt&6)!==0?mn(xi,S1):rE()})}function Xp(){if(qo===0){var i=Oo;i===0&&(i=zi,zi<<=1,(zi&261888)===0&&(zi=256)),qo=i}return qo}function lE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:vo(""+i)}function cE(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function C1(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=lE((f[En]||null).action),w=l.submitter;w&&(r=(r=w[En]||null)?lE(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var C=new lr("action","action",null,l,f);i.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qo!==0){var z=w?cE(f,w):new FormData(f);yp(a,{pending:!0,data:z,method:f.method,action:m},null,z)}}else typeof m=="function"&&(C.preventDefault(),z=w?cE(f,w):new FormData(f),yp(a,{pending:!0,data:z,method:f.method,action:m},m,z))},currentTarget:f}]})}}for(var Jp=0;Jp<Vu.length;Jp++){var Zp=Vu[Jp],x1=Zp.toLowerCase(),I1=Zp[0].toUpperCase()+Zp.slice(1);Ur(x1,"on"+I1)}Ur(ts,"onAnimationEnd"),Ur(Pu,"onAnimationIteration"),Ur(Nf,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Rf,"onTransitionRun"),Ur(Of,"onTransitionStart"),Ur(kf,"onTransitionCancel"),Ur(Lu,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mh));function uE(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var C=l[w],z=C.instance,Z=C.currentTarget;if(C=C.listener,z!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=Z;try{m(f)}catch(oe){Il(oe)}f.currentTarget=null,m=z}else for(w=0;w<l.length;w++){if(C=l[w],z=C.instance,Z=C.currentTarget,C=C.listener,z!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=Z;try{m(f)}catch(oe){Il(oe)}f.currentTarget=null,m=z}}}}function ot(i,r){var a=r[Qe];a===void 0&&(a=r[Qe]=new Set);var l=i+"__bubble";a.has(l)||(hE(r,i,2,!1),a.add(l))}function eg(i,r,a){var l=0;r&&(l|=4),hE(a,i,l,r)}var ud="_reactListening"+Math.random().toString(36).slice(2);function tg(i){if(!i[ud]){i[ud]=!0,ho.forEach(function(a){a!=="selectionchange"&&(D1.has(a)||eg(a,!1,i),eg(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ud]||(r[ud]=!0,eg("selectionchange",!1,r))}}function hE(i,r,a,l){switch(zE(r)){case 2:var f=ix;break;case 8:f=rx;break;default:f=gg}a=f.bind(null,r,a,i),f=void 0,!Ia||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function ng(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var C=l.stateNode.containerInfo;if(C===f)break;if(w===4)for(w=l.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;C!==null;){if(w=qt(C),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){l=m=w;continue e}C=C.parentNode}}l=l.return}ys(function(){var Z=m,oe=Fi(a),ue=[];e:{var ee=jf.get(i);if(ee!==void 0){var ie=lr,De=i;switch(i){case"keypress":if(Xr(a)===0)break e;case"keydown":case"keyup":ie=Al;break;case"focusin":De="focus",ie=Gs;break;case"focusout":De="blur",ie=Gs;break;case"beforeblur":case"afterblur":ie=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_;break;case ts:case Pu:case Nf:ie=bo;break;case Lu:ie=N;break;case"scroll":case"scrollend":ie=Es;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Pr;break;case"toggle":case"beforetoggle":ie=We}var Be=(r&4)!==0,$t=!Be&&(i==="scroll"||i==="scrollend"),K=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var F=Z,J;F!==null;){var ce=F;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||K===null||(ce=sr(F,K),ce!=null&&Be.push(ph(F,ce,J))),$t)break;F=F.return}0<Be.length&&(ee=new ie(ee,De,null,a,oe),ue.push({event:ee,listeners:Be}))}}if((r&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",ee&&a!==qs&&(De=a.relatedTarget||a.fromElement)&&(qt(De)||De[Di]))break e;if((ie||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(De=a.relatedTarget||a.toElement,ie=Z,De=De?qt(De):null,De!==null&&($t=c(De),Be=De.tag,De!==$t||Be!==5&&Be!==27&&Be!==6)&&(De=null)):(ie=null,De=Z),ie!==De)){if(Be=El,ce="onMouseLeave",K="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Be=Pr,ce="onPointerLeave",K="onPointerEnter",F="pointer"),$t=ie==null?ee:Vn(ie),J=De==null?ee:Vn(De),ee=new Be(ce,F+"leave",ie,a,oe),ee.target=$t,ee.relatedTarget=J,ce=null,qt(oe)===Z&&(Be=new Be(K,F+"enter",De,a,oe),Be.target=J,Be.relatedTarget=$t,ce=Be),$t=ce,ie&&De)t:{for(Be=N1,K=ie,F=De,J=0,ce=K;ce;ce=Be(ce))J++;ce=0;for(var je=F;je;je=Be(je))ce++;for(;0<J-ce;)K=Be(K),J--;for(;0<ce-J;)F=Be(F),ce--;for(;J--;){if(K===F||F!==null&&K===F.alternate){Be=K;break t}K=Be(K),F=Be(F)}Be=null}else Be=null;ie!==null&&fE(ue,ee,ie,Be,!1),De!==null&&$t!==null&&fE(ue,$t,De,Be,!0)}}e:{if(ee=Z?Vn(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Ct=Au;else if(ur(ee))if(Cl)Ct=gc;else{Ct=Sf;var Ne=Tf}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Fs(Z.elementType)&&(Ct=Au):Ct=Af;if(Ct&&(Ct=Ct(i,Z))){Su(ue,Ct,a,oe);break e}Ne&&Ne(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ca(ee,"number",ee.value)}switch(Ne=Z?Vn(Z):window,i){case"focusin":(ur(Ne)||Ne.contentEditable==="true")&&(Ao=Ne,Ou=Z,xl=null);break;case"focusout":xl=Ou=Ao=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,ju(ue,a,oe);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":ju(ue,a,oe)}var tt;if(st)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else wo?Oa(i,a)&&(ht="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(qi&&a.locale!=="ko"&&(wo||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&wo&&(tt=bl()):(ar=oe,Hs="value"in ar?ar.value:ar.textContent,wo=!0)),Ne=hd(Z,ht),0<Ne.length&&(ht=new Mr(ht,i,null,a,oe),ue.push({event:ht,listeners:Ne}),tt?ht.data=tt:(tt=Eo(a),tt!==null&&(ht.data=tt)))),(tt=cr?np(i,a):ip(i,a))&&(ht=hd(Z,"onBeforeInput"),0<ht.length&&(Ne=new Mr("onBeforeInput","beforeinput",null,a,oe),ue.push({event:Ne,listeners:ht}),Ne.data=tt)),C1(ue,i,Z,a,oe)}uE(ue,r)})}function ph(i,r,a){return{instance:i,listener:r,currentTarget:a}}function hd(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=sr(i,a),f!=null&&l.unshift(ph(i,f,m)),f=sr(i,r),f!=null&&l.push(ph(i,f,m))),i.tag===3)return l;i=i.return}return[]}function N1(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fE(i,r,a,l,f){for(var m=r._reactName,w=[];a!==null&&a!==l;){var C=a,z=C.alternate,Z=C.stateNode;if(C=C.tag,z!==null&&z===l)break;C!==5&&C!==26&&C!==27||Z===null||(z=Z,f?(Z=sr(a,m),Z!=null&&w.unshift(ph(a,Z,z))):f||(Z=sr(a,m),Z!=null&&w.push(ph(a,Z,z)))),a=a.return}w.length!==0&&i.push({event:r,listeners:w})}var R1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function dE(i){return(typeof i=="string"?i:""+i).replace(R1,`
`).replace(O1,"")}function mE(i,r){return r=dE(r),dE(i)===r}function Ht(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(i,""+l);break;case"className":Ni(i,"class",l);break;case"tabIndex":Ni(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(i,a,l);break;case"style":Wr(i,l,m);break;case"data":if(r!=="object"){Ni(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=vo(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ht(i,r,"name",f.name,f,null),Ht(i,r,"formEncType",f.formEncType,f,null),Ht(i,r,"formMethod",f.formMethod,f,null),Ht(i,r,"formTarget",f.formTarget,f,null)):(Ht(i,r,"encType",f.encType,f,null),Ht(i,r,"method",f.method,f,null),Ht(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=vo(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Un);break;case"onScroll":l!=null&&ot("scroll",i);break;case"onScrollEnd":l!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=vo(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":ot("beforetoggle",i),ot("toggle",i),Aa(i,"popover",l);break;case"xlinkActuate":pn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_l.get(a)||a,Aa(i,a,l))}}function ig(i,r,a,l,f,m){switch(a){case"style":Wr(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?On(i,l):(typeof l=="number"||typeof l=="bigint")&&On(i,""+l);break;case"onScroll":l!=null&&ot("scroll",i);break;case"onScrollEnd":l!=null&&ot("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[En]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Aa(i,a,l)}}}function bi(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(i,r,m,w,a,null)}}f&&Ht(i,r,"srcSet",a.srcSet,a,null),l&&Ht(i,r,"src",a.src,a,null);return;case"input":ot("invalid",i);var C=m=w=f=null,z=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var oe=a[l];if(oe!=null)switch(l){case"name":f=oe;break;case"type":w=oe;break;case"checked":z=oe;break;case"defaultChecked":Z=oe;break;case"value":m=oe;break;case"defaultValue":C=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:Ht(i,r,l,oe,a,null)}}po(i,m,C,z,Z,w,f,!1);return;case"select":ot("invalid",i),l=w=m=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":w=C;break;case"multiple":l=C;default:Ht(i,r,f,C,a,null)}r=m,a=w,i.multiple=!!l,r!=null?Jn(i,!!l,r,!1):a!=null&&Jn(i,!!l,a,!0);return;case"textarea":ot("invalid",i),m=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(C=a[w],C!=null))switch(w){case"value":l=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ht(i,r,w,C,a,null)}Nr(i,l,f,m);return;case"option":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(i,r,z,l,a,null)}return;case"dialog":ot("beforetoggle",i),ot("toggle",i),ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(l=0;l<mh.length;l++)ot(mh[l],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(i,r,Z,l,a,null)}return;default:if(Fs(r)){for(oe in a)a.hasOwnProperty(oe)&&(l=a[oe],l!==void 0&&ig(i,r,oe,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ht(i,r,C,l,a,null))}function k1(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,w=null,C=null,z=null,Z=null,oe=null;for(ie in a){var ue=a[ie];if(a.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":z=ue;default:l.hasOwnProperty(ie)||Ht(i,r,ie,null,l,ue)}}for(var ee in l){var ie=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(ie!=null||ue!=null))switch(ee){case"type":m=ie;break;case"name":f=ie;break;case"checked":Z=ie;break;case"defaultChecked":oe=ie;break;case"value":w=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==ue&&Ht(i,r,ee,ie,l,ue)}}Xn(i,w,C,z,Z,oe,m,f);return;case"select":ie=w=C=ee=null;for(m in a)if(z=a[m],a.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":ie=z;default:l.hasOwnProperty(m)||Ht(i,r,m,null,l,z)}for(f in l)if(m=l[f],z=a[f],l.hasOwnProperty(f)&&(m!=null||z!=null))switch(f){case"value":ee=m;break;case"defaultValue":C=m;break;case"multiple":w=m;default:m!==z&&Ht(i,r,f,m,l,z)}r=C,a=w,l=ie,ee!=null?Jn(i,!!a,ee,!1):!!l!=!!a&&(r!=null?Jn(i,!!a,r,!0):Jn(i,!!a,a?[]:"",!1));return;case"textarea":ie=ee=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(i,r,C,null,l,f)}for(w in l)if(f=l[w],m=a[w],l.hasOwnProperty(w)&&(f!=null||m!=null))switch(w){case"value":ee=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ht(i,r,w,f,l,m)}Qr(i,ee,ie);return;case"option":for(var De in a)if(ee=a[De],a.hasOwnProperty(De)&&ee!=null&&!l.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:Ht(i,r,De,null,l,ee)}for(z in l)if(ee=l[z],ie=a[z],l.hasOwnProperty(z)&&ee!==ie&&(ee!=null||ie!=null))switch(z){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ht(i,r,z,ee,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)ee=a[Be],a.hasOwnProperty(Be)&&ee!=null&&!l.hasOwnProperty(Be)&&Ht(i,r,Be,null,l,ee);for(Z in l)if(ee=l[Z],ie=a[Z],l.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:Ht(i,r,Z,ee,l,ie)}return;default:if(Fs(r)){for(var $t in a)ee=a[$t],a.hasOwnProperty($t)&&ee!==void 0&&!l.hasOwnProperty($t)&&ig(i,r,$t,void 0,l,ee);for(oe in l)ee=l[oe],ie=a[oe],!l.hasOwnProperty(oe)||ee===ie||ee===void 0&&ie===void 0||ig(i,r,oe,ee,l,ie);return}}for(var K in a)ee=a[K],a.hasOwnProperty(K)&&ee!=null&&!l.hasOwnProperty(K)&&Ht(i,r,K,null,l,ee);for(ue in l)ee=l[ue],ie=a[ue],!l.hasOwnProperty(ue)||ee===ie||ee==null&&ie==null||Ht(i,r,ue,ee,l,ie)}function pE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,w=f.initiatorType,C=f.duration;if(m&&C&&pE(w)){for(w=0,C=f.responseEnd,l+=1;l<a.length;l++){var z=a[l],Z=z.startTime;if(Z>C)break;var oe=z.transferSize,ue=z.initiatorType;oe&&pE(ue)&&(z=z.responseEnd,w+=oe*(z<C?1:(C-Z)/(z-Z)))}if(--l,r+=8*(m+w)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var rg=null,sg=null;function fd(i){return i.nodeType===9?i:i.ownerDocument}function gE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ag(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var og=null;function M1(){var i=window.event;return i&&i.type==="popstate"?i===og?!1:(og=i,!0):(og=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(i){return _E.resolve(null).then(i).catch(V1)}:vE;function V1(i){setTimeout(function(){throw i})}function Ho(i){return i==="head"}function bE(i,r){var a=r,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),Bc(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")gh(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,gh(a);for(var m=a.firstChild;m;){var w=m.nextSibling,C=m.nodeName;m[ct]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=w}}else a==="body"&&gh(i.ownerDocument.body);a=f}while(a);Bc(r)}function EE(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function lg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lg(a),rn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function U1(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[ct])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=as(i.nextSibling),i===null)break}return null}function z1(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=as(i.nextSibling),i===null))return null;return i}function wE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=as(i.nextSibling),i===null))return null;return i}function cg(i){return i.data==="$?"||i.data==="$~"}function ug(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function B1(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function as(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var hg=null;function TE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return as(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function SE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function AE(i,r,a){switch(r=fd(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function gh(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);rn(i)}var os=new Map,CE=new Set;function dd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qa=re.d;re.d={f:F1,r:q1,D:H1,C:$1,L:G1,m:Y1,X:Q1,S:K1,M:W1};function F1(){var i=Qa.f(),r=rd();return i||r}function q1(i){var r=Wn(i);r!==null&&r.tag===5&&r.type==="form"?q_(r):Qa.r(i)}var Vc=typeof document>"u"?null:document;function xE(i,r,a){var l=Vc;if(l&&typeof r=="string"&&r){var f=wn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),CE.has(f)||(CE.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),bi(r,"link",i),Yt(r),l.head.appendChild(r)))}}function H1(i){Qa.D(i),xE("dns-prefetch",i,null)}function $1(i,r){Qa.C(i,r),xE("preconnect",i,r)}function G1(i,r,a){Qa.L(i,r,a);var l=Vc;if(l&&i&&r){var f='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+wn(a.imageSizes)+'"]')):f+='[href="'+wn(i)+'"]';var m=f;switch(r){case"style":m=Uc(i);break;case"script":m=zc(i)}os.has(m)||(i=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),os.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(yh(m))||r==="script"&&l.querySelector(vh(m))||(r=l.createElement("link"),bi(r,"link",i),Yt(r),l.head.appendChild(r)))}}function Y1(i,r){Qa.m(i,r);var a=Vc;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zc(i)}if(!os.has(m)&&(i=S({rel:"modulepreload",href:i},r),os.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vh(m)))return}l=a.createElement("link"),bi(l,"link",i),Yt(l),a.head.appendChild(l)}}}function K1(i,r,a){Qa.S(i,r,a);var l=Vc;if(l&&i){var f=ri(l).hoistableStyles,m=Uc(i);r=r||"default";var w=f.get(m);if(!w){var C={loading:0,preload:null};if(w=l.querySelector(yh(m)))C.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":r},a),(a=os.get(m))&&fg(i,a);var z=w=l.createElement("link");Yt(z),bi(z,"link",i),z._p=new Promise(function(Z,oe){z.onload=Z,z.onerror=oe}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,md(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:C},f.set(m,w)}}}function Q1(i,r){Qa.X(i,r);var a=Vc;if(a&&i){var l=ri(a).hoistableScripts,f=zc(i),m=l.get(f);m||(m=a.querySelector(vh(f)),m||(i=S({src:i,async:!0},r),(r=os.get(f))&&dg(i,r),m=a.createElement("script"),Yt(m),bi(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function W1(i,r){Qa.M(i,r);var a=Vc;if(a&&i){var l=ri(a).hoistableScripts,f=zc(i),m=l.get(f);m||(m=a.querySelector(vh(f)),m||(i=S({src:i,async:!0,type:"module"},r),(r=os.get(f))&&dg(i,r),m=a.createElement("script"),Yt(m),bi(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function IE(i,r,a,l){var f=(f=Le.current)?dd(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Uc(a.href),a=ri(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Uc(a.href);var m=ri(f).hoistableStyles,w=m.get(i);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,w),(m=f.querySelector(yh(i)))&&!m._p&&(w.instance=m,w.state.loading=5),os.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},os.set(i,a),m||X1(f,i,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zc(a),a=ri(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Uc(i){return'href="'+wn(i)+'"'}function yh(i){return'link[rel="stylesheet"]['+i+"]"}function DE(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function X1(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),bi(r,"link",a),Yt(r),i.head.appendChild(r))}function zc(i){return'[src="'+wn(i)+'"]'}function vh(i){return"script[async]"+i}function NE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+wn(a.href)+'"]');if(l)return r.instance=l,Yt(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Yt(l),bi(l,"style",f),md(l,a.precedence,i),r.instance=l;case"stylesheet":f=Uc(a.href);var m=i.querySelector(yh(f));if(m)return r.state.loading|=4,r.instance=m,Yt(m),m;l=DE(a),(f=os.get(f))&&fg(l,f),m=(i.ownerDocument||i).createElement("link"),Yt(m);var w=m;return w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),bi(m,"link",l),r.state.loading|=4,md(m,a.precedence,i),r.instance=m;case"script":return m=zc(a.src),(f=i.querySelector(vh(m)))?(r.instance=f,Yt(f),f):(l=a,(f=os.get(m))&&(l=S({},a),dg(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Yt(f),bi(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,md(l,a.precedence,i));return r.instance}function md(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,w=0;w<l.length;w++){var C=l[w];if(C.dataset.precedence===r)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function fg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function dg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var pd=null;function RE(i,r,a){if(pd===null){var l=new Map,f=pd=new Map;f.set(a,l)}else f=pd,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[ct]||m[Bt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=i+w;var C=l.get(w);C?C.push(m):l.set(w,[m])}}return l}function OE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function J1(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function kE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Z1(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Uc(l.href),m=r.querySelector(yh(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=gd.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,Yt(m);return}m=r.ownerDocument||r,l=DE(l),(f=os.get(f))&&fg(l,f),m=m.createElement("link"),Yt(m);var w=m;w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),bi(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=gd.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var mg=0;function ex(i,r){return i.stylesheets&&i.count===0&&vd(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&mg===0&&(mg=62500*j1());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>mg?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function gd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yd=null;function vd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yd=new Map,r.forEach(tx,i),yd=null,gd.call(i))}function tx(i,r){if(!(r.state.loading&4)){var a=yd.get(i);if(a)var l=a.get(null);else{a=new Map,yd.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var w=f[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=r.instance,w=f.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,f),a.set(w,f),this.count++,l=gd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var _h={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function nx(i,r,a,l,f,m,w,C,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function jE(i,r,a,l,f,m,w,C,z,Z,oe,ue){return i=new nx(i,r,a,w,z,Z,oe,ue,C),r=1,m===!0&&(r|=24),m=Gi(3,null,null,r),i.current=m,m.stateNode=i,r=xs(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},At(m),i}function ME(i){return i?(i=xo,i):xo}function PE(i,r,a,l,f,m){f=ME(f),l.context===null?l.context=f:l.pendingContext=f,l=Ge(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=nt(i,l,r),a!==null&&(vr(a,i,r),Ke(a,i,r))}function LE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function pg(i,r){LE(i,r),(i=i.alternate)&&LE(i,r)}function VE(i){if(i.tag===13||i.tag===31){var r=vi(i,67108864);r!==null&&vr(r,i,67108864),pg(i,67108864)}}function UE(i){if(i.tag===13||i.tag===31){var r=Fr();r=Ir(r);var a=vi(i,r);a!==null&&vr(a,i,r),pg(i,r)}}var _d=!0;function ix(i,r,a,l){var f=X.T;X.T=null;var m=re.p;try{re.p=2,gg(i,r,a,l)}finally{re.p=m,X.T=f}}function rx(i,r,a,l){var f=X.T;X.T=null;var m=re.p;try{re.p=8,gg(i,r,a,l)}finally{re.p=m,X.T=f}}function gg(i,r,a,l){if(_d){var f=yg(l);if(f===null)ng(i,r,l,bd,a),BE(i,l);else if(ax(f,i,r,a,l))l.stopPropagation();else if(BE(i,l),r&4&&-1<sx.indexOf(i)){for(;f!==null;){var m=Wn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Rt(m.pendingLanes);if(w!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var z=1<<31-Wt(w);C.entanglements[1]|=z,w&=~z}sa(m),(Nt&6)===0&&(nd=Kn()+500,dh(0))}}break;case 31:case 13:C=vi(m,2),C!==null&&vr(C,m,2),rd(),pg(m,2)}if(m=yg(l),m===null&&ng(i,r,l,bd,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else ng(i,r,l,null,a)}}function yg(i){return i=Fi(i),vg(i)}var bd=null;function vg(i){if(bd=null,i=qt(i),i!==null){var r=c(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=u(r),i!==null)return i;i=null}else if(a===31){if(i=p(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return bd=i,null}function zE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case xi:return 2;case Us:return 8;case Gr:case ba:return 32;case Sr:return 268435456;default:return 32}default:return 32}}var _g=!1,$o=null,Go=null,Yo=null,bh=new Map,Eh=new Map,Ko=[],sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(i,r){switch(i){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":bh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(r.pointerId)}}function wh(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Wn(r),r!==null&&VE(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function ax(i,r,a,l,f){switch(r){case"focusin":return $o=wh($o,i,r,a,l,f),!0;case"dragenter":return Go=wh(Go,i,r,a,l,f),!0;case"mouseover":return Yo=wh(Yo,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return bh.set(m,wh(bh.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Eh.set(m,wh(Eh.get(m)||null,i,r,a,l,f)),!0}return!1}function FE(i){var r=qt(i.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){i.blockedOn=r,pi(i.priority,function(){UE(a)});return}}else if(r===31){if(r=p(a),r!==null){i.blockedOn=r,pi(i.priority,function(){UE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ed(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=yg(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);qs=l,a.target.dispatchEvent(l),qs=null}else return r=Wn(a),r!==null&&VE(r),i.blockedOn=a,!1;r.shift()}return!0}function qE(i,r,a){Ed(i)&&a.delete(r)}function ox(){_g=!1,$o!==null&&Ed($o)&&($o=null),Go!==null&&Ed(Go)&&(Go=null),Yo!==null&&Ed(Yo)&&(Yo=null),bh.forEach(qE),Eh.forEach(qE)}function wd(i,r){i.blockedOn===r&&(i.blockedOn=null,_g||(_g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ox)))}var Td=null;function HE(i){Td!==i&&(Td=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Td===i&&(Td=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(vg(l||a)===null)continue;break}var m=Wn(a);m!==null&&(i.splice(r,3),r-=3,yp(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Bc(i){function r(z){return wd(z,i)}$o!==null&&wd($o,i),Go!==null&&wd(Go,i),Yo!==null&&wd(Yo,i),bh.forEach(r),Eh.forEach(r);for(var a=0;a<Ko.length;a++){var l=Ko[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Ko.length&&(a=Ko[0],a.blockedOn===null);)FE(a),a.blockedOn===null&&Ko.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=f[En]||null;if(typeof m=="function")w||HE(a);else if(w){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,w=m[En]||null)C=w.formAction;else if(vg(f)!==null)continue}else C=w.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),HE(a)}}}function $E(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function bg(i){this._internalRoot=i}Sd.prototype.render=bg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Fr();PE(a,l,i,r,null,null)},Sd.prototype.unmount=bg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;PE(i.current,2,null,i,null,null),rd(),r[Di]=null}};function Sd(i){this._internalRoot=i}Sd.prototype.unstable_scheduleHydration=function(i){if(i){var r=zs();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Ko.length&&r!==0&&r<Ko[a].priority;a++);Ko.splice(a,0,i),a===0&&FE(i)}};var GE=e.version;if(GE!=="19.2.0")throw Error(s(527,GE,"19.2.0"));re.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?E(i):null,i=i===null?null:i.stateNode,i};var lx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{In=Ad.inject(lx),_n=Ad}catch{}}return Sh.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Z_,m=eb,w=tb;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=jE(i,1,!1,null,null,a,l,null,f,m,w,$E),i[Di]=r.current,tg(i),new bg(r)},Sh.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=Z_,w=eb,C=tb,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),r=jE(i,1,!0,r,a??null,l,f,z,m,w,C,$E),r.context=ME(null),a=r.current,l=Fr(),l=Ir(l),f=Ge(l),f.callback=null,nt(a,f,l),a=l,r.current.lanes=a,Cr(r,a),sa(r),i[Di]=r.current,tg(i),new Sd(r)},Sh.version="19.2.0",Sh}var nw;function _x(){if(nw)return Tg.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=vx(),Tg.exports}var bx=_x();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iw="popstate";function Ex(n={}){function e(s,o){let{pathname:c,search:u,hash:p}=s.location;return ty("",{pathname:c,search:u,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Fh(o)}return Tx(e,t,null,n)}function hn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ks(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wx(){return Math.random().toString(36).substring(2,10)}function rw(n,e){return{usr:n.state,key:n.key,idx:e}}function ty(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?hu(e):e,state:t,key:e&&e.key||s||wx()}}function Fh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function hu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Tx(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,p="POP",v=null,y=E();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function E(){return(u.state||{idx:null}).idx}function S(){p="POP";let B=E(),P=B==null?null:B-y;y=B,v&&v({action:p,location:Q.location,delta:P})}function x(B,P){p="PUSH";let H=ty(Q.location,B,P);y=E()+1;let te=rw(H,y),ye=Q.createHref(H);try{u.pushState(te,"",ye)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ye)}c&&v&&v({action:p,location:Q.location,delta:1})}function j(B,P){p="REPLACE";let H=ty(Q.location,B,P);y=E();let te=rw(H,y),ye=Q.createHref(H);u.replaceState(te,"",ye),c&&v&&v({action:p,location:Q.location,delta:0})}function Y(B){return Sx(B)}let Q={get action(){return p},get location(){return n(o,u)},listen(B){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(iw,S),v=B,()=>{o.removeEventListener(iw,S),v=null}},createHref(B){return e(o,B)},createURL:Y,encodeLocation(B){let P=Y(B);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:j,go(B){return u.go(B)}};return Q}function Sx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),hn(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Fh(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function y0(n,e,t="/"){return Ax(n,e,t,!1)}function Ax(n,e,t,s){let o=typeof e=="string"?hu(e):e,c=no(o.pathname||"/",t);if(c==null)return null;let u=v0(n);Cx(u);let p=null;for(let v=0;p==null&&v<u.length;++v){let y=Lx(c);p=Mx(u[v],y,s)}return p}function v0(n,e=[],t=[],s="",o=!1){let c=(u,p,v=o,y)=>{let E={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&v)return;hn(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Za([s,E.relativePath]),x=t.concat(E);u.children&&u.children.length>0&&(hn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),v0(u.children,e,x,S,v)),!(u.path==null&&!u.index)&&e.push({path:S,score:kx(S,u.index),routesMeta:x})};return n.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))c(u,p);else for(let v of _0(u.path))c(u,p,!0,v)}),e}function _0(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=_0(s.join("/")),p=[];return p.push(...u.map(v=>v===""?c:[c,v].join("/"))),o&&p.push(...u),p.map(v=>n.startsWith("/")&&v===""?"/":v)}function Cx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:jx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var xx=/^:[\w-]+$/,Ix=3,Dx=2,Nx=1,Rx=10,Ox=-2,sw=n=>n==="*";function kx(n,e){let t=n.split("/"),s=t.length;return t.some(sw)&&(s+=Ox),e&&(s+=Dx),t.filter(o=>!sw(o)).reduce((o,c)=>o+(xx.test(c)?Ix:c===""?Nx:Rx),s)}function jx(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function Mx(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",u=[];for(let p=0;p<s.length;++p){let v=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=Qd({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},E),x=v.route;if(!S&&y&&t&&!s[s.length-1].route.index&&(S=Qd({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:Za([c,S.pathname]),pathnameBase:Bx(Za([c,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(c=Za([c,S.pathnameBase]))}return u}function Qd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Px(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},x)=>{if(E==="*"){let Y=p[x]||"";u=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const j=p[x];return S&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:n}}function Px(n,e=!1,t=!0){ks(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,v)=>(s.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Lx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ks(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function no(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Vx(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?hu(n):n;return{pathname:t?t.startsWith("/")?t:Ux(t,e):e,search:Fx(s),hash:qx(o)}}function Ux(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $y(n){let e=zx(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Gy(n,e,t,s=!1){let o;typeof n=="string"?o=hu(n):(o={...n},hn(!o.pathname||!o.pathname.includes("?"),xg("?","pathname","search",o)),hn(!o.pathname||!o.pathname.includes("#"),xg("#","pathname","hash",o)),hn(!o.search||!o.search.includes("#"),xg("#","search","hash",o)));let c=n===""||o.pathname==="",u=c?"/":o.pathname,p;if(u==null)p=t;else{let S=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}p=S>=0?e[S]:"/"}let v=Vx(o,p),y=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(y||E)&&(v.pathname+="/"),v}var Za=n=>n.join("/").replace(/\/\/+/g,"/"),Bx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Fx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Hx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var b0=["POST","PUT","PATCH","DELETE"];new Set(b0);var $x=["GET",...b0];new Set($x);var fu=U.createContext(null);fu.displayName="DataRouter";var _m=U.createContext(null);_m.displayName="DataRouterState";U.createContext(!1);var E0=U.createContext({isTransitioning:!1});E0.displayName="ViewTransition";var Gx=U.createContext(new Map);Gx.displayName="Fetchers";var Yx=U.createContext(null);Yx.displayName="Await";var Ls=U.createContext(null);Ls.displayName="Navigation";var rf=U.createContext(null);rf.displayName="Location";var ds=U.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var Yy=U.createContext(null);Yy.displayName="RouteError";function Kx(n,{relative:e}={}){hn(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(Ls),{hash:o,pathname:c,search:u}=sf(n,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:Za([t,c])),s.createHref({pathname:p,search:u,hash:o})}function du(){return U.useContext(rf)!=null}function oo(){return hn(du(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(rf).location}var w0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T0(n){U.useContext(Ls).static||U.useLayoutEffect(n)}function nc(){let{isDataRoute:n}=U.useContext(ds);return n?cI():Qx()}function Qx(){hn(du(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(fu),{basename:e,navigator:t}=U.useContext(Ls),{matches:s}=U.useContext(ds),{pathname:o}=oo(),c=JSON.stringify($y(s)),u=U.useRef(!1);return T0(()=>{u.current=!0}),U.useCallback((v,y={})=>{if(ks(u.current,w0),!u.current)return;if(typeof v=="number"){t.go(v);return}let E=Gy(v,JSON.parse(c),o,y.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Za([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,c,o,n])}var Wx=U.createContext(null);function Xx(n){let e=U.useContext(ds).outlet;return U.useMemo(()=>e&&U.createElement(Wx.Provider,{value:n},e),[e,n])}function Ky(){let{matches:n}=U.useContext(ds),e=n[n.length-1];return e?e.params:{}}function sf(n,{relative:e}={}){let{matches:t}=U.useContext(ds),{pathname:s}=oo(),o=JSON.stringify($y(t));return U.useMemo(()=>Gy(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function Jx(n,e){return S0(n,e)}function S0(n,e,t,s,o){hn(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(Ls),{matches:u}=U.useContext(ds),p=u[u.length-1],v=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let H=S&&S.path||"";A0(y,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=oo(),j;if(e){let H=typeof e=="string"?hu(e):e;hn(E==="/"||H.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),j=H}else j=x;let Y=j.pathname||"/",Q=Y;if(E!=="/"){let H=E.replace(/^\//,"").split("/");Q="/"+Y.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=y0(n,{pathname:Q});ks(S||B!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ks(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=iI(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},v,H.params),pathname:Za([E,c.encodeLocation?c.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:Za([E,c.encodeLocation?c.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,t,s,o);return e&&P?U.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},P):P}function Zx(){let n=lI(),e=Hx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,u)}var eI=U.createElement(Zx,null),tI=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?U.createElement(ds.Provider,{value:this.props.routeContext},U.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:n,match:e,children:t}){let s=U.useContext(fu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ds.Provider,{value:n},t)}function iI(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,u=t?.errors;if(u!=null){let y=c.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);hn(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,v=-1;if(t)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(v=y),E.route.id){let{loaderData:S,errors:x}=t,j=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||j){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((y,E,S)=>{let x,j=!1,Y=null,Q=null;t&&(x=u&&E.route.id?u[E.route.id]:void 0,Y=E.route.errorElement||eI,p&&(v<0&&S===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,Q=null):v===S&&(j=!0,Q=E.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,S+1)),P=()=>{let H;return x?H=Y:j?H=Q:E.route.Component?H=U.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=y,U.createElement(nI,{match:E,routeContext:{outlet:y,matches:B,isDataRoute:t!=null},children:H})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?U.createElement(tI,{location:t.location,revalidation:t.revalidation,component:Y,error:x,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):P()},null)}function Qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rI(n){let e=U.useContext(fu);return hn(e,Qy(n)),e}function sI(n){let e=U.useContext(_m);return hn(e,Qy(n)),e}function aI(n){let e=U.useContext(ds);return hn(e,Qy(n)),e}function Wy(n){let e=aI(n),t=e.matches[e.matches.length-1];return hn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oI(){return Wy("useRouteId")}function lI(){let n=U.useContext(Yy),e=sI("useRouteError"),t=Wy("useRouteError");return n!==void 0?n:e.errors?.[t]}function cI(){let{router:n}=rI("useNavigate"),e=Wy("useNavigate"),t=U.useRef(!1);return T0(()=>{t.current=!0}),U.useCallback(async(o,c={})=>{ks(t.current,w0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var aw={};function A0(n,e,t){!e&&!aw[n]&&(aw[n]=!0,ks(!1,t))}U.memo(uI);function uI({routes:n,future:e,state:t,unstable_onError:s}){return S0(n,void 0,t,s,e)}function hI({to:n,replace:e,state:t,relative:s}){hn(du(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Ls);ks(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(ds),{pathname:u}=oo(),p=nc(),v=Gy(n,$y(c),u,s==="path"),y=JSON.stringify(v);return U.useEffect(()=>{p(JSON.parse(y),{replace:e,state:t,relative:s})},[p,y,s,e,t]),null}function fI(n){return Xx(n.context)}function jn(n){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dI({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){hn(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=hu(t));let{pathname:v="/",search:y="",hash:E="",state:S=null,key:x="default"}=t,j=U.useMemo(()=>{let Y=no(v,u);return Y==null?null:{location:{pathname:Y,search:y,hash:E,state:S,key:x},navigationType:s}},[u,v,y,E,S,x,s]);return ks(j!=null,`<Router basename="${u}"> is not able to match the URL "${v}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(Ls.Provider,{value:p},U.createElement(rf.Provider,{children:e,value:j}))}function mI({children:n,location:e}){return Jx(ny(n),e)}function ny(n,e=[]){let t=[];return U.Children.forEach(n,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){t.push.apply(t,ny(s.props.children,c));return}hn(s.type===jn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ny(s.props.children,c)),t.push(u)}),t}var Md="get",Pd="application/x-www-form-urlencoded";function bm(n){return n!=null&&typeof n.tagName=="string"}function pI(n){return bm(n)&&n.tagName.toLowerCase()==="button"}function gI(n){return bm(n)&&n.tagName.toLowerCase()==="form"}function yI(n){return bm(n)&&n.tagName.toLowerCase()==="input"}function vI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _I(n,e){return n.button===0&&(!e||e==="_self")&&!vI(n)}var Cd=null;function bI(){if(Cd===null)try{new FormData(document.createElement("form"),0),Cd=!1}catch{Cd=!0}return Cd}var EI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(n){return n!=null&&!EI.has(n)?(ks(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):n}function wI(n,e){let t,s,o,c,u;if(gI(n)){let p=n.getAttribute("action");s=p?no(p,e):null,t=n.getAttribute("method")||Md,o=Ig(n.getAttribute("enctype"))||Pd,c=new FormData(n)}else if(pI(n)||yI(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||p.getAttribute("action");if(s=v?no(v,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Md,o=Ig(n.getAttribute("formenctype"))||Ig(p.getAttribute("enctype"))||Pd,c=new FormData(p,n),!bI()){let{name:y,type:E,value:S}=n;if(E==="image"){let x=y?`${y}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else y&&c.append(y,S)}}else{if(bm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Md,s=null,o=Pd,u=n}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TI(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&no(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function SI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CI(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await SI(c,t);return u.links?u.links():[]}return[]}));return NI(s.flat(1).filter(AI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ow(n,e,t,s,o,c){let u=(v,y)=>t[y]?v.route.id!==t[y].route.id:!0,p=(v,y)=>t[y].pathname!==v.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==v.params["*"];return c==="assets"?e.filter((v,y)=>u(v,y)||p(v,y)):c==="data"?e.filter((v,y)=>{let E=s.routes[v.route.id];if(!E||!E.hasLoader)return!1;if(u(v,y)||p(v,y))return!0;if(v.route.shouldRevalidate){let S=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function xI(n,e,{includeHydrateFallback:t}={}){return II(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function II(n){return[...new Set(n)]}function DI(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function NI(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(DI(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function C0(){let n=U.useContext(fu);return Xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RI(){let n=U.useContext(_m);return Xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jy=U.createContext(void 0);Jy.displayName="FrameworkContext";function x0(){let n=U.useContext(Jy);return Xy(n,"You must render this element inside a <HydratedRouter> element"),n}function OI(n,e){let t=U.useContext(Jy),[s,o]=U.useState(!1),[c,u]=U.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,x=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let Q=P=>{P.forEach(H=>{u(H.isIntersecting)})},B=new IntersectionObserver(Q,{threshold:.5});return x.current&&B.observe(x.current),()=>{B.disconnect()}}},[n]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let j=()=>{o(!0)},Y=()=>{o(!1),u(!1)};return t?n!=="intent"?[c,x,{}]:[c,x,{onFocus:Ah(p,j),onBlur:Ah(v,Y),onMouseEnter:Ah(y,j),onMouseLeave:Ah(E,Y),onTouchStart:Ah(S,j)}]:[!1,x,{}]}function Ah(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kI({page:n,...e}){let{router:t}=C0(),s=U.useMemo(()=>y0(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?U.createElement(MI,{page:n,matches:s,...e}):null}function jI(n){let{manifest:e,routeModules:t}=x0(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return CI(n,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[n,e,t]),s}function MI({page:n,matches:e,...t}){let s=oo(),{manifest:o,routeModules:c}=x0(),{basename:u}=C0(),{loaderData:p,matches:v}=RI(),y=U.useMemo(()=>ow(n,e,v,o,s,"data"),[n,e,v,o,s]),E=U.useMemo(()=>ow(n,e,v,o,s,"assets"),[n,e,v,o,s]),S=U.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let Y=new Set,Q=!1;if(e.forEach(P=>{let H=o.routes[P.route.id];!H||!H.hasLoader||(!y.some(te=>te.route.id===P.route.id)&&P.route.id in p&&c[P.route.id]?.shouldRevalidate||H.hasClientLoader?Q=!0:Y.add(P.route.id))}),Y.size===0)return[];let B=TI(n,u,"data");return Q&&Y.size>0&&B.searchParams.set("_routes",e.filter(P=>Y.has(P.route.id)).map(P=>P.route.id).join(",")),[B.pathname+B.search]},[u,p,s,o,y,e,n,c]),x=U.useMemo(()=>xI(E,o),[E,o]),j=jI(E);return U.createElement(U.Fragment,null,S.map(Y=>U.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...t})),x.map(Y=>U.createElement("link",{key:Y,rel:"modulepreload",href:Y,...t})),j.map(({key:Y,link:Q})=>U.createElement("link",{key:Y,nonce:t.nonce,...Q})))}function PI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I0&&(window.__reactRouterVersion="7.9.4")}catch{}function LI({basename:n,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=Ex({window:t,v5Compat:!0}));let o=s.current,[c,u]=U.useState({action:o.action,location:o.location}),p=U.useCallback(v=>{U.startTransition(()=>u(v))},[u]);return U.useLayoutEffect(()=>o.listen(p),[o,p]),U.createElement(dI,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:p,target:v,to:y,preventScrollReset:E,viewTransition:S,...x},j){let{basename:Y}=U.useContext(Ls),Q=typeof y=="string"&&D0.test(y),B,P=!1;if(typeof y=="string"&&Q&&(B=y,I0))try{let M=new URL(window.location.href),L=y.startsWith("//")?new URL(M.protocol+y):new URL(y),V=no(L.pathname,Y);L.origin===M.origin&&V!=null?y=V+L.search+L.hash:P=!0}catch{ks(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Kx(y,{relative:o}),[te,ye,le]=OI(s,x),pe=zI(y,{replace:u,state:p,target:v,preventScrollReset:E,relative:o,viewTransition:S});function k(M){e&&e(M),M.defaultPrevented||pe(M)}let O=U.createElement("a",{...x,...le,href:B||H,onClick:P||c?e:k,ref:PI(j,ye),target:v,"data-discover":!Q&&t==="render"?"true":void 0});return te&&!Q?U.createElement(U.Fragment,null,O,U.createElement(kI,{page:H})):O});Kc.displayName="Link";var ls=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:p,children:v,...y},E){let S=sf(u,{relative:y.relative}),x=oo(),j=U.useContext(_m),{navigator:Y,basename:Q}=U.useContext(Ls),B=j!=null&&$I(S)&&p===!0,P=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,H=x.pathname,te=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(H=H.toLowerCase(),te=te?te.toLowerCase():null,P=P.toLowerCase()),te&&Q&&(te=no(te,Q)||te);const ye=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let le=H===P||!o&&H.startsWith(P)&&H.charAt(ye)==="/",pe=te!=null&&(te===P||!o&&te.startsWith(P)&&te.charAt(P.length)==="/"),k={isActive:le,isPending:pe,isTransitioning:B},O=le?e:void 0,M;typeof s=="function"?M=s(k):M=[s,le?"active":null,pe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(k):c;return U.createElement(Kc,{...y,"aria-current":O,className:M,ref:E,style:L,to:u,viewTransition:p},typeof v=="function"?v(k):v)});ls.displayName="NavLink";var VI=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:u=Md,action:p,onSubmit:v,relative:y,preventScrollReset:E,viewTransition:S,...x},j)=>{let Y=qI(),Q=HI(p,{relative:y}),B=u.toLowerCase()==="get"?"get":"post",P=typeof p=="string"&&D0.test(p),H=te=>{if(v&&v(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,le=ye?.getAttribute("formmethod")||u;Y(ye||te.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return U.createElement("form",{ref:j,method:B,action:Q,onSubmit:s?v:H,...x,"data-discover":!P&&n==="render"?"true":void 0})});VI.displayName="Form";function UI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N0(n){let e=U.useContext(fu);return hn(e,UI(n)),e}function zI(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let p=nc(),v=oo(),y=sf(n,{relative:c});return U.useCallback(E=>{if(_I(E,e)){E.preventDefault();let S=t!==void 0?t:Fh(v)===Fh(y);p(n,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[v,p,y,t,s,e,n,o,c,u])}var BI=0,FI=()=>`__${String(++BI)}__`;function qI(){let{router:n}=N0("useSubmit"),{basename:e}=U.useContext(Ls),t=oI();return U.useCallback(async(s,o={})=>{let{action:c,method:u,encType:p,formData:v,body:y}=wI(s,e);if(o.navigate===!1){let E=o.fetcherKey||FI();await n.fetch(E,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:y,formMethod:o.method||u,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:y,formMethod:o.method||u,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function HI(n,{relative:e}={}){let{basename:t}=U.useContext(Ls),s=U.useContext(ds);hn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...sf(n||".",{relative:e})},u=oo();if(n==null){c.search=u.search;let p=new URLSearchParams(c.search),v=p.getAll("index");if(v.some(E=>E==="")){p.delete("index"),v.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();c.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Za([t,c.pathname])),Fh(c)}function $I(n,{relative:e}={}){let t=U.useContext(E0);hn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=N0("useViewTransitionState"),o=sf(n,{relative:e});if(!t.isTransitioning)return!1;let c=no(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=no(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Qd(o.pathname,u)!=null||Qd(o.pathname,c)!=null}const GI=()=>{};var lw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],u=n[t++],p=n[t++],v=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=n[t++],u=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],u=o+1<n.length,p=u?n[o+1]:0,v=o+2<n.length,y=v?n[o+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,j=y&63;v||(j=64,u||(x=64)),s.push(t[E],t[S],t[x],t[j])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(R0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new KI;const x=c<<2|p>>4;if(s.push(x),y!==64){const j=p<<4&240|y>>2;if(s.push(j),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QI=function(n){const e=R0(n);return O0.encodeByteArray(e,!0)},Wd=function(n){return QI(n).replace(/\./g,"")},k0=function(n){try{return O0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>WI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process>"u"||typeof lw>"u")return;const n=lw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&k0(n[1]);return e&&JSON.parse(e)},Em=()=>{try{return GI()||XI()||JI()||ZI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j0=n=>Em()?.emulatorHosts?.[n],eD=n=>{const e=j0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},M0=()=>Em()?.config,P0=n=>Em()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wd(JSON.stringify(t)),Wd(JSON.stringify(u)),""].join(".")}const Ph={};function iD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?n.emulator.push(e):n.prod.push(e);return n}function rD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cw=!1;function V0(n,e){if(typeof window>"u"||typeof document>"u"||!mu(window.location.host)||Ph[n]===e||Ph[n]||cw)return;Ph[n]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=iD().prod.length>0;function u(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,j){x.setAttribute("width","24"),x.setAttribute("id",j),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{cw=!0,u()},x}function E(x,j){x.setAttribute("id",j),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=rD(s),j=t("text"),Y=document.getElementById(j)||document.createElement("span"),Q=t("learnmore"),B=document.getElementById(Q)||document.createElement("a"),P=t("preprendIcon"),H=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const te=x.element;p(te),E(B,Q);const ye=y();v(H,P),te.append(H,Y,B,ye),document.body.appendChild(te)}c?(Y.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())}function aD(){const n=Em()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uD(){const n=Li();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hD(){return!aD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function z0(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function fD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="FirebaseError";class va extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=dD,Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?mD(c,s):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new va(o,p,s)}}function mD(n,e){return n.replace(pD,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pD=/\{\$([^}]+)}/g;function gD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],u=e[o];if(uw(c)&&uw(u)){if(!Wl(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function uw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Nh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yD(n,e){const t=new vD(n,e);return t.subscribe.bind(t)}class vD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");_D(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Dg),o.error===void 0&&(o.error=Dg),o.complete===void 0&&(o.complete=Dg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _D(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return n&&n._delegate?n._delegate:n}class fs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new tD;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wD(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ED(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ED(n){return n===ql?void 0:n}function wD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const SD={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},AD=ft.INFO,CD={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},xD=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=CD[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=AD,this._logHandler=xD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const ID=(n,e)=>e.some(t=>n instanceof t);let hw,fw;function DD(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ND(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,iy=new WeakMap,F0=new WeakMap,Ng=new WeakMap,ev=new WeakMap;function RD(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",u)},c=()=>{t(eo(n.result)),o()},u=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&B0.set(t,n)}).catch(()=>{}),ev.set(e,n),e}function OD(n){if(iy.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",u),n.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",u),n.addEventListener("abort",u)});iy.set(n,e)}let ry={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||F0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kD(n){ry=n(ry)}function jD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Rg(this),e,...t);return F0.set(s,e.sort?e.sort():[e]),eo(s)}:ND().includes(n)?function(...e){return n.apply(Rg(this),e),eo(B0.get(this))}:function(...e){return eo(n.apply(Rg(this),e))}}function MD(n){return typeof n=="function"?jD(n):(n instanceof IDBTransaction&&OD(n),ID(n,DD())?new Proxy(n,ry):n)}function eo(n){if(n instanceof IDBRequest)return RD(n);if(Ng.has(n))return Ng.get(n);const e=MD(n);return e!==n&&(Ng.set(n,e),ev.set(e,n)),e}const Rg=n=>ev.get(n);function wm(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(n,e),p=eo(u);return s&&u.addEventListener("upgradeneeded",v=>{s(eo(u.result),v.oldVersion,v.newVersion,eo(u.transaction),v)}),t&&u.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}function Og(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",s=>e(s.oldVersion,s)),eo(t).then(()=>{})}const PD=["get","getKey","getAll","getAllKeys","count"],LD=["put","add","delete","clear"],kg=new Map;function dw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=LD.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PD.includes(t)))return;const c=async function(u,...p){const v=this.transaction(u,o?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&v.done]))[0]};return kg.set(e,c),c}kD(n=>({...n,get:(e,t,s)=>dw(e,t)||n.get(e,t,s),has:(e,t)=>!!dw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UD(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function UD(n){return n.getComponent()?.type==="VERSION"}const sy="@firebase/app",mw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Zy("@firebase/app"),zD="@firebase/app-compat",BD="@firebase/analytics-compat",FD="@firebase/analytics",qD="@firebase/app-check-compat",HD="@firebase/app-check",$D="@firebase/auth",GD="@firebase/auth-compat",YD="@firebase/database",KD="@firebase/data-connect",QD="@firebase/database-compat",WD="@firebase/functions",XD="@firebase/functions-compat",JD="@firebase/installations",ZD="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",iN="@firebase/performance-compat",rN="@firebase/remote-config",sN="@firebase/remote-config-compat",aN="@firebase/storage",oN="@firebase/storage-compat",lN="@firebase/firestore",cN="@firebase/ai",uN="@firebase/firestore-compat",hN="firebase",fN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",dN={[sy]:"fire-core",[zD]:"fire-core-compat",[FD]:"fire-analytics",[BD]:"fire-analytics-compat",[HD]:"fire-app-check",[qD]:"fire-app-check-compat",[$D]:"fire-auth",[GD]:"fire-auth-compat",[YD]:"fire-rtdb",[KD]:"fire-data-connect",[QD]:"fire-rtdb-compat",[WD]:"fire-fn",[XD]:"fire-fn-compat",[JD]:"fire-iid",[ZD]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[iN]:"fire-perf-compat",[rN]:"fire-rc",[sN]:"fire-rc-compat",[aN]:"fire-gcs",[oN]:"fire-gcs-compat",[lN]:"fire-fst",[uN]:"fire-fst-compat",[cN]:"fire-vertex","fire-js":"fire-js",[hN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,mN=new Map,oy=new Map;function pw(n,e){try{n.container.addComponent(e)}catch(t){io.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function js(n){const e=n.name;if(oy.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,n);for(const t of qh.values())pw(t,n);for(const t of mN.values())pw(t,n);return!0}function pu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new ic("app","Firebase",pN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=fN;function q0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:ay,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw nl.create("bad-app-name",{appName:String(o)});if(t||(t=M0()),!t)throw nl.create("no-options");const c=qh.get(o);if(c){if(Wl(t,c.options)&&Wl(s,c.config))return c;throw nl.create("duplicate-app",{appName:o})}const u=new TD(o);for(const v of oy.values())u.addComponent(v);const p=new gN(t,s,u);return qh.set(o,p),p}function Tm(n=ay){const e=qh.get(n);if(!e&&n===ay&&M0())return q0();if(!e)throw nl.create("no-app",{appName:n});return e}function yN(){return Array.from(qh.values())}function Er(n,e,t){let s=dN[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(u.join(" "));return}js(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",_N=1,Hh="firebase-heartbeat-store";let jg=null;function H0(){return jg||(jg=wm(vN,_N,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hh)}catch(t){console.warn(t)}}}}).catch(n=>{throw nl.create("idb-open",{originalErrorMessage:n.message})})),jg}async function bN(n){try{const t=(await H0()).transaction(Hh),s=await t.objectStore(Hh).get($0(n));return await t.done,s}catch(e){if(e instanceof va)io.warn(e.message);else{const t=nl.create("idb-get",{originalErrorMessage:e?.message});io.warn(t.message)}}}async function gw(n,e){try{const s=(await H0()).transaction(Hh,"readwrite");await s.objectStore(Hh).put(e,$0(n)),await s.done}catch(t){if(t instanceof va)io.warn(t.message);else{const s=nl.create("idb-set",{originalErrorMessage:t?.message});io.warn(s.message)}}}function $0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,wN=30;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>wN){const o=CN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){io.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yw(),{heartbeatsToSend:t,unsentEntries:s}=SN(this._heartbeatsCache.heartbeats),o=Wd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return io.warn(e),""}}}function yw(){return new Date().toISOString().substring(0,10)}function SN(n,e=EN){const t=[];let s=n.slice();for(const o of n){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),vw(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),vw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class AN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?z0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vw(n){return Wd(JSON.stringify({version:2,heartbeats:n})).length}function CN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){js(new fs("platform-logger",e=>new VD(e),"PRIVATE")),js(new fs("heartbeat",e=>new TN(e),"PRIVATE")),Er(sy,mw,n),Er(sy,mw,"esm2020"),Er("fire-js","")}xN("");var IN="firebase",DN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(IN,DN,"app");function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NN=G0,Y0=new ic("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Zy("@firebase/auth");function RN(n,...e){Xd.logLevel<=ft.WARN&&Xd.warn(`Auth (${gu}): ${n}`,...e)}function Ld(n,...e){Xd.logLevel<=ft.ERROR&&Xd.error(`Auth (${gu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,...e){throw tv(n,...e)}function la(n,...e){return tv(n,...e)}function K0(n,e,t){const s={...NN(),[e]:t};return new ic("auth","Firebase",s).create(e,{appName:n.name})}function il(n){return K0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tv(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Y0.create(n,...e)}function He(n,e,...t){if(!n)throw tv(e,...t)}function Xa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ld(e),new Error(e)}function ro(n,e){n||Xa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(){return typeof self<"u"&&self.location?.href||""}function ON(){return _w()==="http:"||_w()==="https:"}function _w(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ON()||lD()||"connection"in navigator)?navigator.onLine:!0}function jN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.shortDelay=e,this.longDelay=t,ro(t>e,"Short delay should be less than long delay!"),this.isMobile=sD()||cD()}get(){return kN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n,e){ro(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LN=new of(3e4,6e4);function rc(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function lo(n,e,t,s,o={}){return W0(n,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const p=af({key:n.config.apiKey,...u}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:v,...c};return oD()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&mu(n.emulatorConfig.host)&&(y.credentials="include"),Q0.fetch()(await X0(n,n.config.apiHost,t,p),y)})}async function W0(n,e,t){n._canInitEmulator=!1;const s={...MN,...e};try{const o=new UN(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw xd(n,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(n,"credential-already-in-use",u);if(v==="EMAIL_EXISTS")throw xd(n,"email-already-in-use",u);if(v==="USER_DISABLED")throw xd(n,"user-disabled",u);const E=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw K0(n,E,y);Ms(n,E)}}catch(o){if(o instanceof va)throw o;Ms(n,"network-request-failed",{message:String(o)})}}async function Sm(n,e,t,s,o={}){const c=await lo(n,e,t,s,o);return"mfaPendingCredential"in c&&Ms(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function X0(n,e,t,s){const o=`${e}${t}?${s}`,c=n,u=c.config.emulator?nv(n.config,o):`${n.config.apiScheme}://${o}`;return PN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function VN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(la(this.auth,"network-request-failed")),LN.get())})}}function xd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=la(n,e,s);return o.customData._tokenResponse=t,o}function bw(n){return n!==void 0&&n.enterprise!==void 0}class zN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BN(n,e){return lo(n,"GET","/v2/recaptchaConfig",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e){return lo(n,"POST","/v1/accounts:delete",e)}async function Jd(n,e){return lo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(n,e=!1){const t=xn(n),s=await t.getIdToken(e),o=iv(s);He(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:Lh(Mg(o.auth_time)),issuedAtTime:Lh(Mg(o.iat)),expirationTime:Lh(Mg(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Mg(n){return Number(n)*1e3}function iv(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const o=k0(t);return o?JSON.parse(o):(Ld("Failed to decode base64 JWT payload"),null)}catch(o){return Ld("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ew(n){const e=iv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof va&&HN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function HN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lh(this.lastLoginAt),this.creationTime=Lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(n){const e=n.auth,t=await n.getIdToken(),s=await nu(n,Jd(e,{idToken:t}));He(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?J0(o.providerUserInfo):[],u=YN(n.providerData,c),p=n.isAnonymous,v=!(n.email&&o.passwordHash)&&!u?.length,y=p?v:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function GN(n){const e=xn(n);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YN(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function J0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,e){const t=await W0(n,{},async()=>{const s=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,u=await X0(n,o,"/v1/token",`key=${c}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:s};return n.emulatorConfig&&mu(n.emulatorConfig.host)&&(v.credentials="include"),Q0.fetch()(u,v)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QN(n,e){return lo(n,"POST","/v2/accounts:revokeToken",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=Ew(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await KN(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new Jc;return s&&(He(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(He(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jc,this.toJSON())}_performRefresh(){return Xa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rs{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await nu(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Zd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(il(this.auth));const e=await this.getIdToken();return await nu(this,FN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,v=t._redirectEventId??void 0,y=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:j,providerData:Y,stsTokenManager:Q}=t;He(S&&Q,e,"internal-error");const B=Jc.fromJSON(this.name,Q);He(typeof S=="string",e,"internal-error"),Wo(s,e.name),Wo(o,e.name),He(typeof x=="boolean",e,"internal-error"),He(typeof j=="boolean",e,"internal-error"),Wo(c,e.name),Wo(u,e.name),Wo(p,e.name),Wo(v,e.name),Wo(y,e.name),Wo(E,e.name);const P=new Rs({uid:S,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:j,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:B,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(P.providerData=Y.map(H=>({...H}))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,t,s=!1){const o=new Jc;o.updateFromServerResponse(t);const c=new Rs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zd(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];He(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?J0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,p=new Jc;p.updateFromIdToken(s);const v=new Rs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Map;function Ja(n){ro(n instanceof Function,"Expected a class definition");let e=ww.get(n);return e?(ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ww.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z0.type="NONE";const Tw=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n,e,t){return`firebase:${n}:${e}:${t}`}class Zc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Vd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vd("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jd(this.auth,{idToken:e}).catch(()=>{});return t?Rs._fromGetAccountInfoResponse(this.auth,t,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zc(Ja(Tw),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ja(Tw);const u=Vd(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const E=await y._get(u);if(E){let S;if(typeof E=="string"){const x=await Jd(e,{idToken:E}).catch(()=>{});if(!x)break;S=await Rs._fromGetAccountInfoResponse(e,x,E)}else S=Rs._fromJSON(e,E);y!==c&&(p=S),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Zc(c,e,s):(c=v[0],p&&await c._set(u,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Zc(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(aS(e))return"Webos";if(tS(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(rS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function eS(n=Li()){return/firefox\//i.test(n)}function tS(n=Li()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(n=Li()){return/crios\//i.test(n)}function iS(n=Li()){return/iemobile/i.test(n)}function rS(n=Li()){return/android/i.test(n)}function sS(n=Li()){return/blackberry/i.test(n)}function aS(n=Li()){return/webos/i.test(n)}function rv(n=Li()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WN(n=Li()){return rv(n)&&!!window.navigator?.standalone}function XN(){return uD()&&document.documentMode===10}function oS(n=Li()){return rv(n)||rS(n)||aS(n)||sS(n)||/windows phone/i.test(n)||iS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n,e=[]){let t;switch(n){case"Browser":t=Sw(Li());break;case"Worker":t=`${Sw(Li())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,p)=>{try{const v=e(c);u(v)}catch(v){p(v)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e={}){return lo(n,"GET","/v2/passwordPolicy",rc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=6;class tR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??eR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new JN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ja(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jd(this,{idToken:e}),s=await Rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(il(this));const t=e?xn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(il(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(il(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZN(this),t=new tR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await QN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ja(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Zc.create(this,[Ja(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,s,o);return()=>{u=!0,v()}}else{const v=e.addObserver(t);return()=>{u=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yu(n){return xn(n)}class Aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iR(n){Am=n}function cS(n){return Am.loadJS(n)}function rR(){return Am.recaptchaEnterpriseScript}function sR(){return Am.gapiScript}function aR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oR{constructor(){this.enterprise=new lR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cR="recaptcha-enterprise",uS="NO_RECAPTCHA";class uR{constructor(e){this.type=cR,this.auth=yu(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{BN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new zN(v);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(v=>{p(v)})})}function o(c,u,p){const v=window.grecaptcha;bw(v)?v.enterprise.ready(()=>{v.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(uS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oR().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(p=>{if(!t&&bw(window.grecaptcha))o(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let v=rR();v.length!==0&&(v+=p),cS(v).then(()=>{o(p,c,u)}).catch(y=>{u(y)})}}).catch(p=>{u(p)})})}}async function Cw(n,e,t,s=!1,o=!1){const c=new uR(n);let u;if(o)u=uS;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const v=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const v=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function xw(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Cw(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Cw(n,e,t,t==="getOobCode");return s(n,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e){const t=pu(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Wl(c,e??{}))return o;Ms(o,"already-initialized")}return t.initialize({options:e})}function fR(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ja);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function dR(n,e,t){const s=yu(n);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=hS(e),{host:u,port:p}=mR(e),v=p===null?"":`:${p}`,y={url:`${c}//${u}${v}/`},E=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(Wl(y,s.config.emulator)&&Wl(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,mu(u)?(L0(`${c}//${u}${v}`),V0("Auth",!0)):pR()}function hS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mR(n){const e=hS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Iw(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:Iw(u)}}}function Iw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xa("not implemented")}_getIdTokenResponse(e){return Xa("not implemented")}_linkToIdToken(e,t){return Xa("not implemented")}_getReauthenticationResolver(e){return Xa("not implemented")}}async function gR(n,e){return lo(n,"POST","/v1/accounts:update",e)}async function yR(n,e){return lo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e){return Sm(n,"POST","/v1/accounts:signInWithPassword",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n,e){return Sm(n,"POST","/v1/accounts:signInWithEmailLink",rc(n,e))}async function bR(n,e){return Sm(n,"POST","/v1/accounts:signInWithEmailLink",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends sv{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new $h(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new $h(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,t,"signInWithPassword",vR);case"emailLink":return _R(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,s,"signUpPassword",yR);case"emailLink":return bR(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(n,e){return Sm(n,"POST","/v1/accounts:signInWithIdp",rc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="http://localhost";class Xl extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new Xl(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return eu(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,eu(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eu(e,t)}buildRequest(){const e={requestUri:ER,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=af(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TR(n){const e=Dh(Nh(n)).link,t=e?Dh(Nh(e)).deep_link_id:null,s=Dh(Nh(n)).deep_link_id;return(s?Dh(Nh(s)).link:null)||s||t||e||n}class av{constructor(e){const t=Dh(Nh(e)),s=t.apiKey??null,o=t.oobCode??null,c=wR(t.mode??null);He(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TR(e);try{return new av(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,t){return $h._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=av.parseLink(t);return He(s,"argument-error"),$h._fromEmailAndCode(e,s.code,s.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends fS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends lf{constructor(){super("facebook.com")}static credential(e){return Xl._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xl._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Jo.credential(t,s)}catch{return null}}}Jo.GOOGLE_SIGN_IN_METHOD="google.com";Jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends lf{constructor(){super("github.com")}static credential(e){return Xl._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zo.credential(e.oauthAccessToken)}catch{return null}}}Zo.GITHUB_SIGN_IN_METHOD="github.com";Zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends lf{constructor(){super("twitter.com")}static credential(e,t){return Xl._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return el.credential(t,s)}catch{return null}}}el.TWITTER_SIGN_IN_METHOD="twitter.com";el.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Rs._fromIdTokenResponse(e,s,o),u=Dw(s);return new iu({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Dw(s);return new iu({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Dw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends va{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,em.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new em(e,t,s,o)}}function dS(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?em._fromErrorAndOperation(n,c,e,s):c})}async function SR(n,e,t=!1){const s=await nu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return iu._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(n,e,t=!1){const{auth:s}=n;if(cs(s.app))return Promise.reject(il(s));const o="reauthenticate";try{const c=await nu(n,dS(s,o,e,n),t);He(c.idToken,s,"internal-error");const u=iv(c.idToken);He(u,s,"internal-error");const{sub:p}=u;return He(n.uid===p,s,"user-mismatch"),iu._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ms(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(n,e,t=!1){if(cs(n.app))return Promise.reject(il(n));const s="signIn",o=await dS(n,s,e),c=await iu._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function AR(n,e){return pS(yu(n),e)}async function CR(n,e){return mS(xn(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n){const e=yu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IR(n,e,t){return cs(n.app)?Promise.reject(il(n)):AR(xn(n),sc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xR(n),s})}function DR(n,e){return NR(xn(n),null,e)}async function NR(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(c.password=t);const u=await nu(n,gR(s,c));await n._updateTokensIfNecessary(u,!0)}function RR(n,e,t,s){return xn(n).onIdTokenChanged(e,t,s)}function OR(n,e,t){return xn(n).beforeAuthStateChanged(e,t)}function kR(n,e,t,s){return xn(n).onAuthStateChanged(e,t,s)}function ov(n){return xn(n).signOut()}const tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tm,"1"),this.storage.removeItem(tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1e3,MR=10;class yS extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,v)=>{this.notifyListeners(u,v)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);XN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yS.type="LOCAL";const PR=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vS.type="SESSION";const _S=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(u).map(async y=>y(t.origin,c)),v=await LR(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,v)=>{const y=lv("",20);o.port1.start();const E=setTimeout(()=>{v(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(E),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}function UR(n){ca().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}async function zR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BR(){return navigator?.serviceWorker?.controller||null}function FR(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebaseLocalStorageDb",qR=1,nm="firebaseLocalStorage",wS="fbase_key";class cf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xm(n,e){return n.transaction([nm],e?"readwrite":"readonly").objectStore(nm)}function HR(){const n=indexedDB.deleteDatabase(ES);return new cf(n).toPromise()}function uy(){const n=indexedDB.open(ES,qR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(nm,{keyPath:wS})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(nm)?e(s):(s.close(),await HR(),e(await uy()))})})}async function Nw(n,e,t){const s=xm(n,!0).put({[wS]:e,value:t});return new cf(s).toPromise()}async function $R(n,e){const t=xm(n,!1).get(e),s=await new cf(t).toPromise();return s===void 0?null:s.value}function Rw(n,e){const t=xm(n,!0).delete(e);return new cf(t).toPromise()}const GR=800,YR=3;class TS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>YR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(FR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zR(),!this.activeServiceWorker)return;this.sender=new VR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await Nw(e,tm,"1"),await Rw(e,tm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>$R(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xm(o,!1).getAll();return new cf(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TS.type="LOCAL";const KR=TS;new of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n,e){return e?Ja(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WR(n){return pS(n.auth,new cv(n),n.bypassAuthState)}function XR(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),mS(t,new cv(n),n.bypassAuthState)}async function JR(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),SR(t,new cv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const v={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WR;case"linkViaPopup":case"linkViaRedirect":return JR;case"reauthViaPopup":case"reauthViaRedirect":return XR;default:Ms(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new of(2e3,1e4);class Qc extends SS{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Qc.currentPopupAction&&Qc.currentPopupAction.cancel(),Qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(la(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(la(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(la(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZR.get())};e()}}Qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="pendingRedirect",Ud=new Map;class tO extends SS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const s=await nO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nO(n,e){const t=sO(e),s=rO(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function iO(n,e){Ud.set(n._key(),e)}function rO(n){return Ja(n._redirectPersistence)}function sO(n){return Vd(eO,n.config.apiKey,n.name)}async function aO(n,e,t=!1){if(cs(n.app))return Promise.reject(il(n));const s=yu(n),o=QR(s,e),u=await new tO(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=600*1e3;class lO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!AS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(la(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ow(e))}saveEventToCache(e){this.cachedEventUids.add(Ow(e)),this.lastProcessedEventTime=Date.now()}}function Ow(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(n,e={}){return lo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fO=/^https?/;async function dO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uO(n);for(const t of e)try{if(mO(t))return}catch{}Ms(n,"unauthorized-domain")}function mO(n){const e=ly(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!fO.test(t))return!1;if(hO.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new of(3e4,6e4);function kw(){const n=ca().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gO(n){return new Promise((e,t)=>{function s(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(la(n,"network-request-failed"))},timeout:pO.get()})}if(ca().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ca().gapi?.load)s();else{const o=aR("iframefcb");return ca()[o]=()=>{gapi.load?s():t(la(n,"network-request-failed"))},cS(`${sR()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw zd=null,e})}let zd=null;function yO(n){return zd=zd||gO(n),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new of(5e3,15e3),_O="__/auth/iframe",bO="emulator/auth/iframe",EO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TO(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nv(e,bO):`https://${n.config.authDomain}/${_O}`,s={apiKey:e.apiKey,appName:n.name,v:gu},o=wO.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${af(s).slice(1)}`}async function SO(n){const e=await yO(n),t=ca().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:TO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EO,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=la(n,"network-request-failed"),p=ca().setTimeout(()=>{c(u)},vO.get());function v(){ca().clearTimeout(p),o(s)}s.ping(v).then(v,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CO=500,xO=600,IO="_blank",DO="http://localhost";class jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(n,e,t,s=CO,o=xO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const v={...AO,width:s.toString(),height:o.toString(),top:c,left:u},y=Li().toLowerCase();t&&(p=nS(y)?IO:t),eS(y)&&(e=e||DO,v.scrollbars="yes");const E=Object.entries(v).reduce((x,[j,Y])=>`${x}${j}=${Y},`,"");if(WN(y)&&p!=="_self")return RO(e||"",p),new jw(null);const S=window.open(e||"",p,E);He(S,n,"popup-blocked");try{S.focus()}catch{}return new jw(S)}function RO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="__/auth/handler",kO="emulator/auth/handler",jO=encodeURIComponent("fac");async function Mw(n,e,t,s,o,c){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:gu,eventId:o};if(e instanceof fS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",gD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))u[E]=S}if(e instanceof lf){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(u.scopes=E.join(","))}n.tenantId&&(u.tid=n.tenantId);const p=u;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const v=await n._getAppCheckToken(),y=v?`#${jO}=${encodeURIComponent(v)}`:"";return`${MO(n)}?${af(p).slice(1)}${y}`}function MO({config:n}){return n.emulator?nv(n,kO):`https://${n.authDomain}/${OO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=aO,this._overrideRedirectResult=iO}async _openPopup(e,t,s,o){ro(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Mw(e,t,s,ly(),o);return NO(e,c,lv())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Mw(e,t,s,ly(),o);return UR(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ro(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await SO(e),s=new lO(e);return t.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pg,{type:Pg},o=>{const c=o?.[0]?.[Pg];c!==void 0&&t(!!c),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oS()||tS()||rv()}}const LO=PO;var Pw="@firebase/auth",Lw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zO(n){js(new fs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:u,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lS(n)},y=new nR(s,o,c,v);return fR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),js(new fs("auth-internal",e=>{const t=yu(e.getProvider("auth").getImmediate());return(s=>new VO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(Pw,Lw,UO(n)),Er(Pw,Lw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=300,FO=P0("authIdTokenMaxAge")||BO;let Vw=null;const qO=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>FO)return;const o=t?.token;Vw!==o&&(Vw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HO(n=Tm()){const e=pu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hR(n,{popupRedirectResolver:LO,persistence:[KR,PR,_S]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=qO(c.toString());OR(t,u,()=>u(t.currentUser)),RR(t,p=>u(p))}}const o=j0("auth");return o&&dR(t,`http://${o}`),t}function $O(){return document.getElementsByTagName("head")?.[0]??document}iR({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=la("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",$O().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zO("Browser");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rl,CS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function M(){}M.prototype=O.prototype,k.F=O.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(L,V,$){for(var R=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)R[fe-2]=arguments[fe];return O.prototype[V].apply(L,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,O,M){M||(M=0);const L=Array(16);if(typeof O=="string")for(var V=0;V<16;++V)L[V]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(V=0;V<16;++V)L[V]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=k.g[0],M=k.g[1],V=k.g[2];let $=k.g[3],R;R=O+($^M&(V^$))+L[0]+3614090360&4294967295,O=M+(R<<7&4294967295|R>>>25),R=$+(V^O&(M^V))+L[1]+3905402710&4294967295,$=O+(R<<12&4294967295|R>>>20),R=V+(M^$&(O^M))+L[2]+606105819&4294967295,V=$+(R<<17&4294967295|R>>>15),R=M+(O^V&($^O))+L[3]+3250441966&4294967295,M=V+(R<<22&4294967295|R>>>10),R=O+($^M&(V^$))+L[4]+4118548399&4294967295,O=M+(R<<7&4294967295|R>>>25),R=$+(V^O&(M^V))+L[5]+1200080426&4294967295,$=O+(R<<12&4294967295|R>>>20),R=V+(M^$&(O^M))+L[6]+2821735955&4294967295,V=$+(R<<17&4294967295|R>>>15),R=M+(O^V&($^O))+L[7]+4249261313&4294967295,M=V+(R<<22&4294967295|R>>>10),R=O+($^M&(V^$))+L[8]+1770035416&4294967295,O=M+(R<<7&4294967295|R>>>25),R=$+(V^O&(M^V))+L[9]+2336552879&4294967295,$=O+(R<<12&4294967295|R>>>20),R=V+(M^$&(O^M))+L[10]+4294925233&4294967295,V=$+(R<<17&4294967295|R>>>15),R=M+(O^V&($^O))+L[11]+2304563134&4294967295,M=V+(R<<22&4294967295|R>>>10),R=O+($^M&(V^$))+L[12]+1804603682&4294967295,O=M+(R<<7&4294967295|R>>>25),R=$+(V^O&(M^V))+L[13]+4254626195&4294967295,$=O+(R<<12&4294967295|R>>>20),R=V+(M^$&(O^M))+L[14]+2792965006&4294967295,V=$+(R<<17&4294967295|R>>>15),R=M+(O^V&($^O))+L[15]+1236535329&4294967295,M=V+(R<<22&4294967295|R>>>10),R=O+(V^$&(M^V))+L[1]+4129170786&4294967295,O=M+(R<<5&4294967295|R>>>27),R=$+(M^V&(O^M))+L[6]+3225465664&4294967295,$=O+(R<<9&4294967295|R>>>23),R=V+(O^M&($^O))+L[11]+643717713&4294967295,V=$+(R<<14&4294967295|R>>>18),R=M+($^O&(V^$))+L[0]+3921069994&4294967295,M=V+(R<<20&4294967295|R>>>12),R=O+(V^$&(M^V))+L[5]+3593408605&4294967295,O=M+(R<<5&4294967295|R>>>27),R=$+(M^V&(O^M))+L[10]+38016083&4294967295,$=O+(R<<9&4294967295|R>>>23),R=V+(O^M&($^O))+L[15]+3634488961&4294967295,V=$+(R<<14&4294967295|R>>>18),R=M+($^O&(V^$))+L[4]+3889429448&4294967295,M=V+(R<<20&4294967295|R>>>12),R=O+(V^$&(M^V))+L[9]+568446438&4294967295,O=M+(R<<5&4294967295|R>>>27),R=$+(M^V&(O^M))+L[14]+3275163606&4294967295,$=O+(R<<9&4294967295|R>>>23),R=V+(O^M&($^O))+L[3]+4107603335&4294967295,V=$+(R<<14&4294967295|R>>>18),R=M+($^O&(V^$))+L[8]+1163531501&4294967295,M=V+(R<<20&4294967295|R>>>12),R=O+(V^$&(M^V))+L[13]+2850285829&4294967295,O=M+(R<<5&4294967295|R>>>27),R=$+(M^V&(O^M))+L[2]+4243563512&4294967295,$=O+(R<<9&4294967295|R>>>23),R=V+(O^M&($^O))+L[7]+1735328473&4294967295,V=$+(R<<14&4294967295|R>>>18),R=M+($^O&(V^$))+L[12]+2368359562&4294967295,M=V+(R<<20&4294967295|R>>>12),R=O+(M^V^$)+L[5]+4294588738&4294967295,O=M+(R<<4&4294967295|R>>>28),R=$+(O^M^V)+L[8]+2272392833&4294967295,$=O+(R<<11&4294967295|R>>>21),R=V+($^O^M)+L[11]+1839030562&4294967295,V=$+(R<<16&4294967295|R>>>16),R=M+(V^$^O)+L[14]+4259657740&4294967295,M=V+(R<<23&4294967295|R>>>9),R=O+(M^V^$)+L[1]+2763975236&4294967295,O=M+(R<<4&4294967295|R>>>28),R=$+(O^M^V)+L[4]+1272893353&4294967295,$=O+(R<<11&4294967295|R>>>21),R=V+($^O^M)+L[7]+4139469664&4294967295,V=$+(R<<16&4294967295|R>>>16),R=M+(V^$^O)+L[10]+3200236656&4294967295,M=V+(R<<23&4294967295|R>>>9),R=O+(M^V^$)+L[13]+681279174&4294967295,O=M+(R<<4&4294967295|R>>>28),R=$+(O^M^V)+L[0]+3936430074&4294967295,$=O+(R<<11&4294967295|R>>>21),R=V+($^O^M)+L[3]+3572445317&4294967295,V=$+(R<<16&4294967295|R>>>16),R=M+(V^$^O)+L[6]+76029189&4294967295,M=V+(R<<23&4294967295|R>>>9),R=O+(M^V^$)+L[9]+3654602809&4294967295,O=M+(R<<4&4294967295|R>>>28),R=$+(O^M^V)+L[12]+3873151461&4294967295,$=O+(R<<11&4294967295|R>>>21),R=V+($^O^M)+L[15]+530742520&4294967295,V=$+(R<<16&4294967295|R>>>16),R=M+(V^$^O)+L[2]+3299628645&4294967295,M=V+(R<<23&4294967295|R>>>9),R=O+(V^(M|~$))+L[0]+4096336452&4294967295,O=M+(R<<6&4294967295|R>>>26),R=$+(M^(O|~V))+L[7]+1126891415&4294967295,$=O+(R<<10&4294967295|R>>>22),R=V+(O^($|~M))+L[14]+2878612391&4294967295,V=$+(R<<15&4294967295|R>>>17),R=M+($^(V|~O))+L[5]+4237533241&4294967295,M=V+(R<<21&4294967295|R>>>11),R=O+(V^(M|~$))+L[12]+1700485571&4294967295,O=M+(R<<6&4294967295|R>>>26),R=$+(M^(O|~V))+L[3]+2399980690&4294967295,$=O+(R<<10&4294967295|R>>>22),R=V+(O^($|~M))+L[10]+4293915773&4294967295,V=$+(R<<15&4294967295|R>>>17),R=M+($^(V|~O))+L[1]+2240044497&4294967295,M=V+(R<<21&4294967295|R>>>11),R=O+(V^(M|~$))+L[8]+1873313359&4294967295,O=M+(R<<6&4294967295|R>>>26),R=$+(M^(O|~V))+L[15]+4264355552&4294967295,$=O+(R<<10&4294967295|R>>>22),R=V+(O^($|~M))+L[6]+2734768916&4294967295,V=$+(R<<15&4294967295|R>>>17),R=M+($^(V|~O))+L[13]+1309151649&4294967295,M=V+(R<<21&4294967295|R>>>11),R=O+(V^(M|~$))+L[4]+4149444226&4294967295,O=M+(R<<6&4294967295|R>>>26),R=$+(M^(O|~V))+L[11]+3174756917&4294967295,$=O+(R<<10&4294967295|R>>>22),R=V+(O^($|~M))+L[2]+718787259&4294967295,V=$+(R<<15&4294967295|R>>>17),R=M+($^(V|~O))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+$&4294967295}s.prototype.v=function(k,O){O===void 0&&(O=k.length);const M=O-this.blockSize,L=this.C;let V=this.h,$=0;for(;$<O;){if(V==0)for(;$<=M;)o(this,k,$),$+=this.blockSize;if(typeof k=="string"){for(;$<O;)if(L[V++]=k.charCodeAt($++),V==this.blockSize){o(this,L),V=0;break}}else for(;$<O;)if(L[V++]=k[$++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=O},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)k[O++]=this.g[M]>>>L&255;return k};function c(k,O){var M=p;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=O(k)}function u(k,O){this.h=O;const M=[];let L=!0;for(let V=k.length-1;V>=0;V--){const $=k[V]|0;L&&$==O||(M[V]=$,L=!1)}this.g=M}var p={};function v(k){return-128<=k&&k<128?c(k,function(O){return new u([O|0],O<0?-1:0)}):new u([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return S;if(k<0)return B(y(-k));const O=[];let M=1;for(let L=0;k>=M;L++)O[L]=k/M|0,M*=4294967296;return new u(O,0)}function E(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return B(E(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=y(Math.pow(O,8));let L=S;for(let $=0;$<k.length;$+=8){var V=Math.min(8,k.length-$);const R=parseInt(k.substring($,$+V),O);V<8?(V=y(Math.pow(O,V)),L=L.j(V).add(y(R))):(L=L.j(M),L=L.add(y(R)))}return L}var S=v(0),x=v(1),j=v(16777216);n=u.prototype,n.m=function(){if(Q(this))return-B(this).m();let k=0,O=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);k+=(L>=0?L:4294967296+L)*O,O*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if(Q(this))return"-"+B(this).toString(k);const O=y(Math.pow(k,6));var M=this;let L="";for(;;){const V=ye(M,O).g;M=P(M,V.j(O));let $=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=V,Y(M))return $+L;for(;$.length<6;)$="0"+$;L=$+L}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function Q(k){return k.h==-1}n.l=function(k){return k=P(this,k),Q(k)?-1:Y(k)?0:1};function B(k){const O=k.g.length,M=[];for(let L=0;L<O;L++)M[L]=~k.g[L];return new u(M,~k.h).add(x)}n.abs=function(){return Q(this)?B(this):this},n.add=function(k){const O=Math.max(this.g.length,k.g.length),M=[];let L=0;for(let V=0;V<=O;V++){let $=L+(this.i(V)&65535)+(k.i(V)&65535),R=($>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);L=R>>>16,$&=65535,R&=65535,M[V]=R<<16|$}return new u(M,M[M.length-1]&-2147483648?-1:0)};function P(k,O){return k.add(B(O))}n.j=function(k){if(Y(this)||Y(k))return S;if(Q(this))return Q(k)?B(this).j(B(k)):B(B(this).j(k));if(Q(k))return B(this.j(B(k)));if(this.l(j)<0&&k.l(j)<0)return y(this.m()*k.m());const O=this.g.length+k.g.length,M=[];for(var L=0;L<2*O;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<k.g.length;V++){const $=this.i(L)>>>16,R=this.i(L)&65535,fe=k.i(V)>>>16,Oe=k.i(V)&65535;M[2*L+2*V]+=R*Oe,H(M,2*L+2*V),M[2*L+2*V+1]+=$*Oe,H(M,2*L+2*V+1),M[2*L+2*V+1]+=R*fe,H(M,2*L+2*V+1),M[2*L+2*V+2]+=$*fe,H(M,2*L+2*V+2)}for(k=0;k<O;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=O;k<2*O;k++)M[k]=0;return new u(M,0)};function H(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function te(k,O){this.g=k,this.h=O}function ye(k,O){if(Y(O))throw Error("division by zero");if(Y(k))return new te(S,S);if(Q(k))return O=ye(B(k),O),new te(B(O.g),B(O.h));if(Q(O))return O=ye(k,B(O)),new te(B(O.g),O.h);if(k.g.length>30){if(Q(k)||Q(O))throw Error("slowDivide_ only works with positive integers.");for(var M=x,L=O;L.l(k)<=0;)M=le(M),L=le(L);var V=pe(M,1),$=pe(L,1);for(L=pe(L,2),M=pe(M,2);!Y(L);){var R=$.add(L);R.l(k)<=0&&(V=V.add(M),$=R),L=pe(L,1),M=pe(M,1)}return O=P(k,V.j(O)),new te(V,O)}for(V=S;k.l(O)>=0;){for(M=Math.max(1,Math.floor(k.m()/O.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),$=y(M),R=$.j(O);Q(R)||R.l(k)>0;)M-=L,$=y(M),R=$.j(O);Y($)&&($=x),V=V.add($),k=P(k,R)}return new te(V,k)}n.B=function(k){return ye(this,k).h},n.and=function(k){const O=Math.max(this.g.length,k.g.length),M=[];for(let L=0;L<O;L++)M[L]=this.i(L)&k.i(L);return new u(M,this.h&k.h)},n.or=function(k){const O=Math.max(this.g.length,k.g.length),M=[];for(let L=0;L<O;L++)M[L]=this.i(L)|k.i(L);return new u(M,this.h|k.h)},n.xor=function(k){const O=Math.max(this.g.length,k.g.length),M=[];for(let L=0;L<O;L++)M[L]=this.i(L)^k.i(L);return new u(M,this.h^k.h)};function le(k){const O=k.g.length+1,M=[];for(let L=0;L<O;L++)M[L]=k.i(L)<<1|k.i(L-1)>>>31;return new u(M,k.h)}function pe(k,O){const M=O>>5;O%=32;const L=k.g.length-M,V=[];for(let $=0;$<L;$++)V[$]=O>0?k.i($+M)>>>O|k.i($+M+1)<<32-O:k.i($+M);return new u(V,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=E,rl=u}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xS,Rh,IS,Bd,hy,DS,NS,RS;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function o(h,_){if(_)e:{var T=s;h=h.split(".");for(var N=0;N<h.length-1;N++){var W=h[N];if(!(W in T))break e;T=T[W]}h=h[h.length-1],N=T[h],_=_(N),_!=N&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&T.push([N,_[N]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function v(h,_,T){return h.call.apply(h.bind,arguments)}function y(h,_,T){return y=v,y.apply(null,arguments)}function E(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function S(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(N,W,ne){for(var Ee=Array(arguments.length-2),We=2;We<arguments.length;We++)Ee[We-2]=arguments[We];return _.prototype[W].apply(N,Ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const _=h.length;if(_>0){const T=Array(_);for(let N=0;N<_;N++)T[N]=h[N];return T}return[]}function Y(h,_){for(let N=1;N<arguments.length;N++){const W=arguments[N];var T=typeof W;if(T=T!="object"?T:W?Array.isArray(W)?"array":T:"null",T=="array"||T=="object"&&typeof W.length=="number"){T=h.length||0;const ne=W.length||0;h.length=T+ne;for(let Ee=0;Ee<ne;Ee++)h[T+Ee]=W[Ee]}else h.push(W)}}class Q{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(h){u.setTimeout(()=>{throw h},0)}function P(){var h=k;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class H{constructor(){this.h=this.g=null}add(_,T){const N=te.get();N.set(_,T),this.h?this.h.next=N:this.g=N,this.h=N}}var te=new Q(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,k=new H,O=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(M)}};function M(){for(var h;h=P();){try{h.h.call(h.g)}catch(T){B(T)}var _=te;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}pe=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function fe(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}S(fe,V),fe.prototype.init=function(h,_){const T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(h,_,T,N,W){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!N,this.ha=W,this.key=++X,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,_,T){for(const N in h)_.call(T,h[N],N,h)}function ke(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function D(h){const _={};for(const T in h)_[T]=h[T];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(h,_){let T,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(T in N)h[T]=N[T];for(let ne=0;ne<ae.length;ne++)T=ae[ne],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function Te(h){this.src=h,this.g={},this.h=0}Te.prototype.add=function(h,_,T,N,W){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const Ee=Le(h,_,N,W);return Ee>-1?(_=h[Ee],T||(_.fa=!1)):(_=new re(_,this.src,ne,!!N,W),_.fa=T,h.push(_)),_};function Re(h,_){const T=_.type;if(T in h.g){var N=h.g[T],W=Array.prototype.indexOf.call(N,_,void 0),ne;(ne=W>=0)&&Array.prototype.splice.call(N,W,1),ne&&(de(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Le(h,_,T,N){for(let W=0;W<h.length;++W){const ne=h[W];if(!ne.da&&ne.listener==_&&ne.capture==!!T&&ne.ha==N)return W}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Pt={};function be(h,_,T,N,W){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)be(h,_[ne],T,N,W);return null}return T=Vs(T),h&&h[Oe]?h.J(_,T,p(N)?!!N.capture:!1,W):Ci(h,_,T,!1,N,W)}function Ci(h,_,T,N,W,ne){if(!_)throw Error("Invalid event type");const Ee=p(W)?!!W.capture:!!W;let We=Qt(h);if(We||(h[Ve]=We=new Te(h)),T=We.add(_,T,N,Ee,ne),T.proxy)return T;if(N=wr(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)$||(W=Ee),W===void 0&&(W=!1),h.addEventListener(_.toString(),N,W);else if(h.attachEvent)h.attachEvent(lt(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function wr(){function h(T){return _.call(h.src,h.listener,T)}const _=Zi;return h}function Tr(h,_,T,N,W){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)Tr(h,_[ne],T,N,W);else N=p(N)?!!N.capture:!!N,T=Vs(T),h&&h[Oe]?(h=h.i,ne=String(_).toString(),ne in h.g&&(_=h.g[ne],T=Le(_,T,N,W),T>-1&&(de(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Qt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Le(_,T,N,W)),(T=h>-1?_[h]:null)&&Hr(T))}function Hr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Oe])Re(_.i,h);else{var T=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(T,N,h.capture):_.detachEvent?_.detachEvent(lt(T),N):_.addListener&&_.removeListener&&_.removeListener(N),(T=Qt(_))?(Re(T,h),T.h==0&&(T.src=null,_[Ve]=null)):de(h)}}}function lt(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function Zi(h,_){if(h.da)h=!0;else{_=new fe(_,this);const T=h.listener,N=h.ha||h.src;h.fa&&Hr(h),h=T.call(N,_)}return h}function Qt(h){return h=h[Ve],h instanceof Te?h:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vs(h){return typeof h=="function"?h:(h[di]||(h[di]=function(_){return h.handleEvent(_)}),h[di])}function tn(){L.call(this),this.i=new Te(this),this.M=this,this.G=null}S(tn,L),tn.prototype[Oe]=!0,tn.prototype.removeEventListener=function(h,_,T,N){Tr(this,h,_,T,N)};function mn(h,_){var T,N=h.G;if(N)for(T=[];N;N=N.G)T.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var W=_;_=new V(N,h),ve(_,W)}W=!0;let ne,Ee;if(T)for(Ee=T.length-1;Ee>=0;Ee--)ne=_.g=T[Ee],W=$r(ne,N,!0,_)&&W;if(ne=_.g=h,W=$r(ne,N,!0,_)&&W,W=$r(ne,N,!1,_)&&W,T)for(Ee=0;Ee<T.length;Ee++)ne=_.g=T[Ee],W=$r(ne,N,!1,_)&&W}tn.prototype.N=function(){if(tn.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let N=0;N<T.length;N++)de(T[N]);delete h.g[_],h.h--}}this.G=null},tn.prototype.J=function(h,_,T,N){return this.i.add(String(h),_,!1,T,N)},tn.prototype.K=function(h,_,T,N){return this.i.add(String(h),_,!0,T,N)};function $r(h,_,T,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let W=!0;for(let ne=0;ne<_.length;++ne){const Ee=_[ne];if(Ee&&!Ee.da&&Ee.capture==T){const We=Ee.listener,gn=Ee.ha||Ee.src;Ee.fa&&Re(h.i,Ee),W=We.call(gn,N)!==!1&&W}}return W&&!N.defaultPrevented}function yl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function _a(h){h.g=yl(()=>{h.g=null,h.i&&(h.i=!1,_a(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Kn extends L{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(h){L.call(this),this.h=h,this.g={}}S(er,L);var xi=[];function Us(h){Ie(h.g,function(_,T){this.g.hasOwnProperty(T)&&Hr(_)},h),h.g={}}er.prototype.N=function(){er.Z.N.call(this),Us(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=u.JSON.stringify,ba=u.JSON.parse,Sr=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function tr(){}function Ar(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _n(){V.call(this,"d")}S(_n,V);function ii(){V.call(this,"c")}S(ii,V);var Wt={},Ea=null;function Yr(){return Ea=Ea||new tn}Wt.Ia="serverreachability";function uo(h){V.call(this,Wt.Ia,h)}S(uo,V);function zi(h){const _=Yr();mn(_,new uo(_))}Wt.STAT_EVENT="statevent";function ms(h,_){V.call(this,Wt.STAT_EVENT,h),this.stat=_}S(ms,V);function Xt(h){const _=Yr();mn(_,new ms(_,h))}Wt.Ja="timingevent";function Rt(h,_){V.call(this,Wt.Ja,h),this.size=_}S(Rt,V);function zt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Lt(h,_,T,N,W,ne){h.info(function(){if(h.g)if(ne){var Ee="",We=ne.split("&");for(let st=0;st<We.length;st++){var gn=We[st].split("=");if(gn.length>1){const Tt=gn[0];gn=gn[1];const cr=Tt.split("_");Ee=cr.length>=2&&cr[1]=="type"?Ee+(Tt+"="+gn+"&"):Ee+(Tt+"=redacted&")}}}else Ee=null;else Ee=ne;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+_+`
`+T+`
`+Ee})}function mi(h,_,T,N,W,ne,Ee){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+_+`
`+T+`
`+ne+" "+Ee})}function nr(h,_,T,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+xr(h,T)+(N?" "+N:"")})}function Cr(h,_){h.info(function(){return"TIMEOUT: "+_})}Qn.prototype.info=function(){};function xr(h,_){if(!h.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var T=ne[h];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var W=N[0];if(W!="noop"&&W!="stop"&&W!="close")for(let Ee=1;Ee<N.length;Ee++)N[Ee]=""}}}}return Gr(ne)}catch{return _}}var Ii={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ps={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kr;function Ir(){}S(Ir,tr),Ir.prototype.g=function(){return new XMLHttpRequest},Kr=new Ir;function Bi(h){return encodeURIComponent(String(h))}function zs(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function pi(h,_,T,N){this.j=h,this.i=_,this.l=T,this.S=N||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Bt={},En={};function Di(h,_,T){h.M=1,h.A=Bs(pn(_)),h.u=T,h.R=!0,Qe(h,null)}function Qe(h,_){h.F=Date.now(),ct(h),h.B=pn(h.A);var T=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Fs(T.i,"t",N),h.C=0,T=h.j.L,h.h=new bn,h.g=dc(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Kn(y(h.Y,h,h.g),h.P)),_=h.V,T=h.g,N=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(xi[0]=W.toString()),W=xi);for(let ne=0;ne<W.length;ne++){const Ee=be(T,W[ne],N||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),zi(),Lt(h.i,h.v,h.B,h.l,h.S,h.u)}pi.prototype.ba=function(h){h=h.target;const _=this.O;_&&or(h)==3?_.j():this.Y(h)},pi.prototype.Y=function(h){try{if(h==this.g)e:{const We=or(this.g),gn=this.g.ya(),st=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||kn(this.g)))){this.K||We!=4||gn==7||(gn==8||st<=0?zi(3):zi(2)),qt(this);var _=this.g.ca();this.X=_;var T=Ft(this);if(this.o=_==200,mi(this.i,this.v,this.B,this.l,this.S,We,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var ne=N;break t}}ne=null}if(h=ne)nr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,h);else{this.o=!1,this.m=3,Xt(12),Vn(this),Wn(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=Et(this,T),Tt==En){We==4&&(this.m=4,Xt(14),h=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Bt){this.m=4,Xt(15),nr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else nr(this.i,this.l,Tt,null),ri(this,Tt);if(bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||T.length!=0||this.h.h||(this.m=1,Xt(16),h=!1),this.o=this.o&&h,!h)nr(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),Wn(this);else if(T.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),_o(Ee),Ee.P=!0,Xt(11))}}else nr(this.i,this.l,T,null),ri(this,T);We==4&&Vn(this),this.o&&!this.K&&(We==4?hc(this.j,this):(this.o=!1,ct(this)))}else Or(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Vn(this),Wn(this)}}}catch{}finally{}};function Ft(h){if(!bt(h))return h.g.la();const _=kn(h.g);if(_==="")return"";let T="";const N=_.length,W=or(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Wn(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<N;ne++)h.h.h=!0,T+=h.h.i.decode(_[ne],{stream:!(W&&ne==N-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function bt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Et(h,_){var T=h.C,N=_.indexOf(`
`,T);return N==-1?En:(T=Number(_.substring(T,N)),isNaN(T)?Bt:(N+=1,N+T>_.length?En:(_=_.slice(N,N+T),h.C=N+T,_)))}pi.prototype.cancel=function(){this.K=!0,Vn(this)};function ct(h){h.T=Date.now()+h.H,rn(h,h.H)}function rn(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zt(y(h.aa,h),_)}function qt(h){h.D&&(u.clearTimeout(h.D),h.D=null)}pi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(zi(),Xt(17)),Vn(this),this.m=2,Wn(this)):rn(this,this.T-h)};function Wn(h){h.j.I==0||h.K||hc(h.j,h)}function Vn(h){qt(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Us(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ri(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Dr(T.h,h))){if(!h.L&&Dr(T.h,h)&&T.I==3){try{var N=T.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Na(T),Jr(T);else break e;Gs(T),Xt(18)}}else T.xa=W[1],0<T.xa-T.K&&W[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=zt(y(T.Va,T),6e3));gi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Mr(T,11)}else if((h.L||T.g==h)&&Na(T),!R(_))for(W=T.Ba.g.parse(_),_=0;_<W.length;_++){let st=W[_];const Tt=st[0];if(!(Tt<=T.K))if(T.K=Tt,st=st[1],T.I==2)if(st[0]=="c"){T.M=st[1],T.ba=st[2];const cr=st[3];cr!=null&&(T.ka=cr,T.j.info("VER="+T.ka));const qi=st[4];qi!=null&&(T.za=qi,T.j.info("SVER="+T.za));const Lr=st[5];Lr!=null&&typeof Lr=="number"&&Lr>0&&(N=1.5*Lr,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Vr=h.g;if(Vr){const Oa=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var ne=N.h;ne.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ta(ne,ne.h),ne.h=null))}if(N.G){const Eo=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(N.wa=Eo,wt(N.J,N.G,Eo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var Ee=h;if(N.na=Ra(N,N.L?N.ba:null,N.W),Ee.L){Sa(N.h,Ee);var We=Ee,gn=N.O;gn&&(We.H=gn),We.D&&(qt(We),ct(We)),N.g=Ee}else Tl(N);T.i.length>0&&kr(T)}else st[0]!="stop"&&st[0]!="close"||Mr(T,7);else T.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Mr(T,7):Es(T):st[0]!="noop"&&T.l&&T.l.qa(st),T.A=0)}}zi(4)}catch{}}var Yt=class{constructor(h,_){this.g=h,this.map=_}};function ho(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gi(h){return h.h?1:h.g?h.g.size:0}function Dr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ta(h,_){h.g?h.g.add(_):h.h=_}function Sa(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ho.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return j(h.i)}var vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const N=h[T].indexOf("=");let W,ne=null;N>=0?(W=h[T].substring(0,N),ne=h[T].substring(N+1)):W=h[T],_(W,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Ni?(this.l=h.l,Dn(this,h.j),this.o=h.o,this.g=h.g,gs(this,h.u),this.h=h.h,mo(this,_l(h.i)),this.m=h.m):h&&(_=String(h).match(vl))?(this.l=!1,Dn(this,_[1]||"",!0),this.o=Nn(_[2]||""),this.g=Nn(_[3]||"",!0),gs(this,_[4]),this.h=Nn(_[5]||"",!0),mo(this,_[6]||"",!0),this.m=Nn(_[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}Ni.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Rn(_,Xn,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Rn(_,Xn,!0),"@"),h.push(Bi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Rn(T,T.charAt(0)=="/"?Ca:po,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Rn(T,Qr)),h.join("")},Ni.prototype.resolve=function(h){const _=pn(this);let T=!!h.j;T?Dn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var N=h.h;if(T)gs(_,h.u);else if(T=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var W=_.h.lastIndexOf("/");W!=-1&&(N=_.h.slice(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){N=W.lastIndexOf("/",0)==0,W=W.split("/");const ne=[];for(let Ee=0;Ee<W.length;){const We=W[Ee++];We=="."?N&&Ee==W.length&&ne.push(""):We==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),N&&Ee==W.length&&ne.push("")):(ne.push(We),N=!0)}N=ne.join("/")}else N=W}return T?_.h=N:T=h.i.toString()!=="",T?mo(_,_l(h.i)):T=!!h.m,T&&(_.m=h.m),_};function pn(h){return new Ni(h)}function Dn(h,_,T){h.j=T?Nn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function gs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function mo(h,_,T){_ instanceof Nr?(h.i=_,vo(h.i,h.l)):(T||(_=Rn(_,Jn)),h.i=new Nr(_,h.l))}function wt(h,_,T){h.i.set(_,T)}function Bs(h){return wt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Nn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Rn(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,wn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xn=/[#\/\?@]/g,po=/[#\?:]/g,Ca=/[#\?]/g,Jn=/[#\?@]/g,Qr=/#/g;function Nr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function On(h){h.g||(h.g=new Map,h.h=0,h.i&&Aa(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Nr.prototype,n.add=function(h,_){On(this),this.i=null,h=si(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function go(h,_){On(h),_=si(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function yo(h,_){return On(h),_=si(h,_),h.g.has(_)}n.forEach=function(h,_){On(this),this.g.forEach(function(T,N){T.forEach(function(W){h.call(_,W,N,this)},this)},this)};function Wr(h,_){On(h);let T=[];if(typeof _=="string")yo(h,_)&&(T=T.concat(h.g.get(si(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}n.set=function(h,_){return On(this),this.i=null,h=si(this,h),yo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=Wr(this,h),h.length>0?String(h[0]):_):_};function Fs(h,_,T){go(h,_),T.length>0&&(h.i=null,h.g.set(si(h,_),j(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var T=_[N];const W=Bi(T);T=Wr(this,T);for(let ne=0;ne<T.length;ne++){let Ee=W;T[ne]!==""&&(Ee+="="+Bi(T[ne])),h.push(Ee)}}return this.i=h.join("&")};function _l(h){const _=new Nr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function si(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function vo(h,_){_&&!h.j&&(On(h),h.i=null,h.g.forEach(function(T,N){const W=N.toLowerCase();N!=W&&(go(this,N),Fs(this,W,T))},h)),h.j=_}function Un(h,_){const T=new Qn;if(u.Image){const N=new Image;N.onload=E(Fi,T,"TestLoadImage: loaded",!0,_,N),N.onerror=E(Fi,T,"TestLoadImage: error",!1,_,N),N.onabort=E(Fi,T,"TestLoadImage: abort",!1,_,N),N.ontimeout=E(Fi,T,"TestLoadImage: timeout",!1,_,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function qs(h,_){const T=new Qn,N=new AbortController,W=setTimeout(()=>{N.abort(),Fi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(ne=>{clearTimeout(W),ne.ok?Fi(T,"TestPingServer: ok",!0,_):Fi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),Fi(T,"TestPingServer: error",!1,_)})}function Fi(h,_,T,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(T)}catch{}}function ir(){this.g=new Sr}function rr(h){this.i=h.Sb||null,this.h=h.ab||!1}S(rr,tr),rr.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(h,_){tn.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,tn),n=Rr.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,sr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ys(this):sr(this),this.readyState==3&&xa(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ys(this))},n.Na=function(h){this.g&&(this.response=h,ys(this))},n.ga=function(){this.g&&ys(this)};function ys(h){h.readyState=4,h.l=null,h.j=null,h.B=null,sr(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zn(h){let _="";return Ie(h,function(T,N){_+=N,_+=":",_+=T,_+=`\r
`}),_}function Ia(h,_,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Zn(T),typeof h=="string"?T!=null&&Bi(T):wt(h,_,T))}function Dt(h){tn.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Dt,tn);var ar=/^https?$/i,Hs=["POST","PUT"];n=Dt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kr.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){vs(this,ne);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)T.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())T.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Hs,_,void 0)>=0)||N||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Ee]of T)this.g.setRequestHeader(ne,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){vs(this,ne)}};function vs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,bl(h),_s(h)}function bl(h){h.A||(h.A=!0,mn(h,"complete"),mn(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,mn(this,"complete"),mn(this,"abort"),_s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),Dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},n.Xa=function(){Xr(this)};function Xr(h){if(h.h&&typeof c<"u"){if(h.v&&or(h)==4)setTimeout(h.Ca.bind(h),0);else if(mn(h,"readystatechange"),or(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var N;if(N=ne===0){let Ee=String(h.D).match(vl)[1]||null;!Ee&&u.self&&u.self.location&&(Ee=u.self.location.protocol.slice(0,-1)),N=!ar.test(Ee?Ee.toLowerCase():"")}T=N}if(T)mn(h,"complete"),mn(h,"success");else{h.o=6;try{var W=or(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",bl(h)}}finally{_s(h)}}}}function _s(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||mn(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function or(h){return h.g?h.g.readyState:0}n.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ba(_)}};function kn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Or(h){const _={};h=(h.g&&or(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(R(h[N]))continue;var T=zs(h[N]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=_[W]||[];_[W]=ne,ne.push(T)}ke(_,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function bs(h){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=lr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=lr("baseRetryDelayMs",5e3,h),this.Za=lr("retryDelaySeedMs",1e4,h),this.Ta=lr("forwardChannelMaxRetries",2,h),this.va=lr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ho(h&&h.concurrentRequestLimit),this.Ba=new ir,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=bs.prototype,n.ka=8,n.I=1,n.connect=function(h,_,T,N){Xt(0),this.W=h,this.H=_||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=Ra(this,null,this.W),kr(this)};function Es(h){if(Da(h),h.I==3){var _=h.V++,T=pn(h.J);if(wt(T,"SID",h.M),wt(T,"RID",_),wt(T,"TYPE","terminate"),$s(h,T),_=new pi(h,h.j,_),_.M=2,_.A=Bs(pn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=dc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ct(_)}Sl(h)}function Jr(h){h.g&&(_o(h),h.g.cancel(),h.g=null)}function Da(h){Jr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function kr(h){if(!wa(h.h)&&!h.m){h.m=!0;var _=h.Ea;le||O(),pe||(le(),pe=!0),k.add(_,h),h.D=0}}function jr(h,_){return gi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zt(y(h.Ea,h,_),fc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new pi(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=D(ne),ve(ne,this.U)):ne=this.U),this.u!==null||this.R||(W.J=ne,ne=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=wl(this,W,_),T=pn(this.J),wt(T,"RID",h),wt(T,"CVER",22),this.G&&wt(T,"X-HTTP-Session-Id",this.G),$s(this,T),ne&&(this.R?_="headers="+Bi(Zn(ne))+"&"+_:this.u&&Ia(T,this.u,ne)),Ta(this.h,W),this.Ra&&wt(T,"TYPE","init"),this.S?(wt(T,"$req",_),wt(T,"SID","null"),W.U=!0,Di(W,T,null)):Di(W,T,_),this.I=2}}else this.I==3&&(h?El(this,h):this.i.length==0||wa(this.h)||El(this))};function El(h,_){var T;_?T=_.l:T=h.V++;const N=pn(h.J);wt(N,"SID",h.M),wt(N,"RID",T),wt(N,"AID",h.K),$s(h,N),h.u&&h.o&&Ia(N,h.u,h.o),T=new pi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=wl(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ta(h.h,T),Di(T,N,_)}function $s(h,_){h.H&&Ie(h.H,function(T,N){wt(_,N,T)}),h.l&&Ie({},function(T,N){wt(_,N,T)})}function wl(h,_,T){T=Math.min(h.i.length,T);const N=h.l?y(h.l.Ka,h.l,h):null;e:{var W=h.i;let We=-1;for(;;){const gn=["count="+T];We==-1?T>0?(We=W[0].g,gn.push("ofs="+We)):We=0:gn.push("ofs="+We);let st=!0;for(let Tt=0;Tt<T;Tt++){var ne=W[Tt].g;const cr=W[Tt].map;if(ne-=We,ne<0)We=Math.max(0,W[Tt].g-100),st=!1;else try{ne="req"+ne+"_"||"";try{var Ee=cr instanceof Map?cr:Object.entries(cr);for(const[qi,Lr]of Ee){let Vr=Lr;p(Lr)&&(Vr=Gr(Lr)),gn.push(ne+qi+"="+encodeURIComponent(Vr))}}catch(qi){throw gn.push(ne+"type="+encodeURIComponent("_badmap")),qi}}catch{N&&N(cr)}}if(st){Ee=gn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,T),_.G=h,Ee}function Tl(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;le||O(),pe||(le(),pe=!0),k.add(_,h),h.A=0}}function Gs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zt(y(h.Da,h),fc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,bo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zt(y(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Jr(this),bo(this))};function _o(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function bo(h){h.g=new pi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=pn(h.na);wt(_,"RID","rpc"),wt(_,"SID",h.M),wt(_,"AID",h.K),wt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&wt(_,"TO",h.ia),wt(_,"TYPE","xmlhttp"),$s(h,_),h.u&&h.o&&Ia(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Bs(pn(_)),T.u=null,T.R=!0,Qe(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Jr(this),Gs(this),Xt(19))};function Na(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function hc(h,_){var T=null;if(h.g==_){Na(h),_o(h),h.g=null;var N=2}else if(Dr(h.h,_))T=_.G,Sa(h.h,_),N=1;else return;if(h.I!=0){if(_.o)if(N==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var W=h.D;N=Yr(),mn(N,new Rt(N,T)),kr(h)}else Tl(h);else if(W=_.m,W==3||W==0&&_.X>0||!(N==1&&jr(h,_)||N==2&&Gs(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),W){case 1:Mr(h,5);break;case 4:Mr(h,10);break;case 3:Mr(h,6);break;default:Mr(h,2)}}}function fc(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Mr(h,_){if(h.j.info("Error code "+_),_==2){var T=y(h.bb,h),N=h.Ua;const W=!N;N=new Ni(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Dn(N,"https"),Bs(N),W?Un(N.toString(),T):qs(N.toString(),T)}else Xt(2);h.I=0,h.l&&h.l.pa(_),Sl(h),Da(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Sl(h){if(h.I=0,h.ja=[],h.l){const _=fo(h.h);(_.length!=0||h.i.length!=0)&&(Y(h.ja,_),Y(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function Ra(h,_,T){var N=T instanceof Ni?pn(T):new Ni(T);if(N.g!="")_&&(N.g=_+"."+N.g),gs(N,N.u);else{var W=u.location;N=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;const ne=new Ni(null);N&&Dn(ne,N),_&&(ne.g=_),W&&gs(ne,W),T&&(ne.h=T),N=ne}return T=h.G,_=h.wa,T&&_&&wt(N,T,_),wt(N,"VER",h.ka),$s(h,N),N}function dc(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Dt(new rr({ab:T})):new Dt(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}n=mc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zr(){}Zr.prototype.g=function(h,_){return new ai(h,_)};function ai(h,_){tn.call(this),this.g=new bs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!R(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Pr(this)}S(ai,tn),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){Es(this.g)},ai.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Gr(h),h=T);_.i.push(new Yt(_.Ya++,h)),_.I==3&&kr(_)},ai.prototype.N=function(){this.g.l=null,delete this.j,Es(this.g),delete this.g,ai.Z.N.call(this)};function Al(h){_n.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}S(Al,_n);function es(){ii.call(this),this.status=1}S(es,ii);function Pr(h){this.g=h}S(Pr,mc),Pr.prototype.ra=function(){mn(this.g,"a")},Pr.prototype.qa=function(h){mn(this.g,new Al(h))},Pr.prototype.pa=function(h){mn(this.g,new es)},Pr.prototype.oa=function(){mn(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,RS=function(){return new Zr},NS=function(){return Yr()},DS=Wt,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Bd=Ii,ps.COMPLETE="complete",IS=ps,Ar.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",tn.prototype.listen=tn.prototype.J,Rh=Ar,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,xS=Dt}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore",Bw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Zy("@firebase/firestore");function Hc(){return Jl.logLevel}function xe(n,...e){if(Jl.logLevel<=ft.DEBUG){const t=e.map(uv);Jl.debug(`Firestore (${vu}): ${n}`,...t)}}function so(n,...e){if(Jl.logLevel<=ft.ERROR){const t=e.map(uv);Jl.error(`Firestore (${vu}): ${n}`,...t)}}function ru(n,...e){if(Jl.logLevel<=ft.WARN){const t=e.map(uv);Jl.warn(`Firestore (${vu}): ${n}`,...t)}}function uv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,OS(n,s,t)}function OS(n,e,t){let s=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw so(s),new Error(s)}function Mt(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||OS(e,o,s)}function et(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends va{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Mi.UNAUTHENTICATED)))}shutdown(){}}class YO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class KO{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let c=new to;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new to,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new to)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mt(typeof s.accessToken=="string",31837,{l:s}),new kS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Mi(e)}}class QO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new QO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Mi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(this.o===void 0,3512);const s=c=>{c.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JO(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function dt(n,e){return n<e?-1:n>e?1:0}function fy(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Lg(o)===Lg(c)?dt(o,c):Lg(o)?1:-1}return dt(n.length,e.length)}const ZO=55296,e2=57343;function Lg(n){const e=n.charCodeAt(0);return e>=ZO&&e<=e2}function su(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__name__";class oa{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=oa.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return dt(e.length,t.length)}static compareSegments(e,t){const s=oa.isNumericId(e),o=oa.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?oa.extractNumericId(e).compare(oa.extractNumericId(t)):fy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rl.fromString(e.substring(4,e.length-2))}}class en extends oa{construct(e,t,s){return new en(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new en(t)}static emptyPath(){return new en([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends oa{construct(e,t,s){return new Ti(e,t,s)}static isValidIdentifier(e){return t2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new Ti([qw])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(s+=p,o++):(c(),o++)}if(c(),u)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(en.fromString(e))}static fromName(e){return new Me(en.fromString(e).popFirst(5))}static empty(){return new Me(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new en(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n,e,t){if(!t)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n2(n,e,t,s){if(e===!0&&s===!0)throw new Ae(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hw(n){if(!Me.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $w(n){if(Me.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Im(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Im(n);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n,e){const t={typeString:n};return e&&(t.value=e),t}function uf(n,e){if(!MS(n))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Ae(he.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-62135596800,Yw=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Yw);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gw)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uf(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Yn("string",It._jsonSchemaVersion),seconds:Yn("number"),nanoseconds:Yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new It(0,0))}static max(){return new Je(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=-1;function i2(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Je.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new al(o,Me.empty(),e)}function r2(n){return new al(n.readTime,n.key,Gh)}class al{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new al(Je.min(),Me.empty(),Gh)}static max(){return new al(Je.max(),Me.empty(),Gh)}}function s2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:dt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==a2)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):me.reject(t)}static resolve(e){return new me(((t,s)=>{t(e)}))}static reject(e){return new me(((t,s)=>{s(e)}))}static waitFor(e){return new me(((t,s)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&t()}),(v=>s(v)))})),u=!0,c===o&&t()}))}static or(e){let t=me.resolve(!1);for(const s of e)t=t.next((o=>o?me.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new me(((s,o)=>{const c=e.length,u=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;t(e[y]).next((E=>{u[y]=E,++p,p===c&&s(u)}),(E=>o(E)))}}))}static doWhile(e,t){return new me(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function l2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-1;function Nm(n){return n==null}function im(n){return n===0&&1/n==-1/0}function c2(n){return typeof n=="number"&&Number.isInteger(n)&&!im(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="";function u2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Kw(e)),e=h2(n.get(t),e);return Kw(e)}function h2(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case PS:t+="";break;default:t+=c}}return t}function Kw(n){return n+PS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.comparator=e,this.root=t||wi.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dd(this.root,e,this.comparator,!0)}}class Dd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wi{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??wi.RED,this.left=o??wi.EMPTY,this.right=c??wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new wi(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return wi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1;wi.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new wi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new qr([])}unionWith(e){let t=new ni(Ti.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new VS("Invalid base64 string: "+c):c}})(e);return new Ai(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const f2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(n){if(Mt(!!n,39018),typeof n=="string"){let e=0;const t=f2.exec(n);if(Mt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mn(n.seconds),nanos:Mn(n.nanos)}}function Mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ll(n){return typeof n=="string"?Ai.fromBase64String(n):Ai.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="server_timestamp",zS="__type__",BS="__previous_value__",FS="__local_write_time__";function dv(n){return(n?.mapValue?.fields||{})[zS]?.stringValue===US}function Rm(n){const e=n.mapValue.fields[BS];return dv(e)?Rm(e):e}function Yh(n){const e=ol(n.mapValue.fields[FS].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,s,o,c,u,p,v,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=E}}const rm="(default)";class Kh{constructor(e,t){this.projectId=e,this.database=t||rm}static empty(){return new Kh("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof Kh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="__type__",m2="__max__",Nd={mapValue:{}},HS="__vector__",sm="value";function cl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:g2(n)?9007199254740991:p2(n)?10:11:$e(28295,{value:n})}function ma(n,e){if(n===e)return!0;const t=cl(n);if(t!==cl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yh(n).isEqual(Yh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=ol(o.timestampValue),p=ol(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return ll(o.bytesValue).isEqual(ll(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return Mn(o.geoPointValue.latitude)===Mn(c.geoPointValue.latitude)&&Mn(o.geoPointValue.longitude)===Mn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Mn(o.integerValue)===Mn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Mn(o.doubleValue),p=Mn(c.doubleValue);return u===p?im(u)===im(p):isNaN(u)&&isNaN(p)}return!1})(n,e);case 9:return su(n.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Qw(u)!==Qw(p))return!1;for(const v in u)if(u.hasOwnProperty(v)&&(p[v]===void 0||!ma(u[v],p[v])))return!1;return!0})(n,e);default:return $e(52216,{left:n})}}function Qh(n,e){return(n.values||[]).find((t=>ma(t,e)))!==void 0}function au(n,e){if(n===e)return 0;const t=cl(n),s=cl(e);if(t!==s)return dt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return dt(n.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=Mn(c.integerValue||c.doubleValue),v=Mn(u.integerValue||u.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(n,e);case 3:return Xw(n.timestampValue,e.timestampValue);case 4:return Xw(Yh(n),Yh(e));case 5:return fy(n.stringValue,e.stringValue);case 6:return(function(c,u){const p=ll(c),v=ll(u);return p.compareTo(v)})(n.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),v=u.split("/");for(let y=0;y<p.length&&y<v.length;y++){const E=dt(p[y],v[y]);if(E!==0)return E}return dt(p.length,v.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=dt(Mn(c.latitude),Mn(u.latitude));return p!==0?p:dt(Mn(c.longitude),Mn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Jw(n.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},v=u.fields||{},y=p[sm]?.arrayValue,E=v[sm]?.arrayValue,S=dt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Jw(y,E)})(n.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Nd.mapValue&&u===Nd.mapValue)return 0;if(c===Nd.mapValue)return 1;if(u===Nd.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=u.fields||{},E=Object.keys(y);v.sort(),E.sort();for(let S=0;S<v.length&&S<E.length;++S){const x=fy(v[S],E[S]);if(x!==0)return x;const j=au(p[v[S]],y[E[S]]);if(j!==0)return j}return dt(v.length,E.length)})(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function Xw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return dt(n,e);const t=ol(n),s=ol(e),o=dt(t.seconds,s.seconds);return o!==0?o:dt(t.nanos,s.nanos)}function Jw(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=au(t[o],s[o]);if(c)return c}return dt(t.length,s.length)}function ou(n){return dy(n)}function dy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=ol(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ll(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=dy(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${dy(t.fields[u])}`;return o+"}"})(n.mapValue):$e(61005,{value:n})}function Fd(n){switch(cl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rm(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return ll(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Fd(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return dl(s.fields,((c,u)=>{o+=c.length+Fd(u)})),o})(n.mapValue);default:throw $e(13486,{value:n})}}function Zw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function mv(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"nullValue"in n}function tT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qd(n){return!!n&&"mapValue"in n}function p2(n){return(n?.mapValue?.fields||{})[qS]?.stringValue===HS}function Vh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return dl(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Vh(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vh(n.arrayValue.values[t]);return e}return{...n}}function g2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(t)}setAll(e){let t=Ti.emptyPath(),s={},o=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,s,o),s={},o=[],t=p.popLast()}u?s[p.lastSegment()]=Vh(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());qd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];qd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){dl(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new br(Vh(this.value))}}function $S(n){const e=[];return dl(n.fields,((t,s)=>{const o=new Ti([t]);if(qd(s)){const c=$S(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,s,o,c,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Pi(e,0,Je.min(),Je.min(),Je.min(),br.empty(),0)}static newFoundDocument(e,t,s,o){return new Pi(e,1,t,Je.min(),s,o,0)}static newNoDocument(e,t){return new Pi(e,2,t,Je.min(),Je.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Pi(e,3,t,Je.min(),Je.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.position=e,this.inclusive=t}}function nT(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],u=n.position[o];if(c.field.isKeyField()?s=Me.comparator(Me.fromName(u.referenceValue),t.key):s=au(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function iT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ma(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t="asc"){this.field=e,this.dir=t}}function y2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class Gn extends GS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new _2(e,t,s):t==="array-contains"?new w2(e,s):t==="in"?new T2(e,s):t==="not-in"?new S2(e,s):t==="array-contains-any"?new A2(e,s):new Gn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new b2(e,s):new E2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(au(t,this.value)):t!==null&&cl(this.value)===cl(t)&&this.matchesComparison(au(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends GS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ps(e,t)}matches(e){return YS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YS(n){return n.op==="and"}function KS(n){return v2(n)&&YS(n)}function v2(n){for(const e of n.filters)if(e instanceof Ps)return!1;return!0}function py(n){if(n instanceof Gn)return n.field.canonicalString()+n.op.toString()+ou(n.value);if(KS(n))return n.filters.map((e=>py(e))).join(",");{const e=n.filters.map((t=>py(t))).join(",");return`${n.op}(${e})`}}function QS(n,e){return n instanceof Gn?(function(s,o){return o instanceof Gn&&s.op===o.op&&s.field.isEqual(o.field)&&ma(s.value,o.value)})(n,e):n instanceof Ps?(function(s,o){return o instanceof Ps&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,p)=>c&&QS(u,o.filters[p])),!0):!1})(n,e):void $e(19439)}function WS(n){return n instanceof Gn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ou(t.value)}`})(n):n instanceof Ps?(function(t){return t.op.toString()+" {"+t.getFilters().map(WS).join(" ,")+"}"})(n):"Filter"}class _2 extends Gn{constructor(e,t,s){super(e,t,s),this.key=Me.fromName(s.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class b2 extends Gn{constructor(e,t){super(e,"in",t),this.keys=XS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class E2 extends Gn{constructor(e,t){super(e,"not-in",t),this.keys=XS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function XS(n,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class w2 extends Gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mv(t)&&Qh(t.arrayValue,this.value)}}class T2 extends Gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qh(this.value.arrayValue,t)}}class S2 extends Gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qh(this.value.arrayValue,t)}}class A2 extends Gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Qh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t=null,s=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function rT(n,e=null,t=[],s=[],o=null,c=null,u=null){return new C2(n,e,t,s,o,c,u)}function pv(n){const e=et(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>py(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>ou(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>ou(s))).join(",")),e.Te=t}return e.Te}function gv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iT(n.startAt,e.startAt)&&iT(n.endAt,e.endAt)}function gy(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t=null,s=[],o=[],c=null,u="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function x2(n,e,t,s,o,c,u,p){return new hf(n,e,t,s,o,c,u,p)}function Om(n){return new hf(n)}function sT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JS(n){return n.collectionGroup!==null}function Uh(n){const e=et(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new ni(Ti.comparator);return u.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new om(c,s))})),t.has(Ti.keyField().canonicalString())||e.Ie.push(new om(Ti.keyField(),s))}return e.Ie}function ua(n){const e=et(n);return e.Ee||(e.Ee=I2(e,Uh(n))),e.Ee}function I2(n,e){if(n.limitType==="F")return rT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new om(o.field,c)}));const t=n.endAt?new am(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new am(n.startAt.position,n.startAt.inclusive):null;return rT(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function yy(n,e){const t=n.filters.concat([e]);return new hf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,e,t){return new hf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function km(n,e){return gv(ua(n),ua(e))&&n.limitType===e.limitType}function ZS(n){return`${pv(ua(n))}|lt:${n.limitType}`}function $c(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>WS(o))).join(", ")}]`),Nm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>ou(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>ou(o))).join(",")),`Target(${s})`})(ua(n))}; limitType=${n.limitType})`}function jm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of Uh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(u,p,v){const y=nT(u,p,v);return u.inclusive?y<=0:y<0})(s.startAt,Uh(s),o)||s.endAt&&!(function(u,p,v){const y=nT(u,p,v);return u.inclusive?y>=0:y>0})(s.endAt,Uh(s),o))})(n,e)}function D2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eA(n){return(e,t)=>{let s=!1;for(const o of Uh(n)){const c=N2(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function N2(n,e,t){const s=n.field.isKeyField()?Me.comparator(e.key,t.key):(function(c,u,p){const v=u.data.field(c),y=p.data.field(c);return v!==null&&y!==null?au(v,y):$e(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return LS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new vn(Me.comparator);function ao(){return R2}const tA=new vn(Me.comparator);function Oh(...n){let e=tA;for(const t of n)e=e.insert(t.key,t);return e}function nA(n){let e=tA;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Hl(){return zh()}function iA(){return zh()}function zh(){return new ac((n=>n.toString()),((n,e)=>n.isEqual(e)))}const O2=new vn(Me.comparator),k2=new ni(Me.comparator);function mt(...n){let e=k2;for(const t of n)e=e.add(t);return e}const j2=new ni(dt);function M2(){return j2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:im(e)?"-0":e}}function rA(n){return{integerValue:""+n}}function P2(n,e){return c2(e)?rA(e):yv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this._=void 0}}function L2(n,e,t){return n instanceof Wh?(function(o,c){const u={fields:{[zS]:{stringValue:US},[FS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&dv(c)&&(c=Rm(c)),c&&(u.fields[BS]=c),{mapValue:u}})(t,e):n instanceof Xh?aA(n,e):n instanceof Jh?oA(n,e):(function(o,c){const u=sA(o,c),p=aT(u)+aT(o.Ae);return my(u)&&my(o.Ae)?rA(p):yv(o.serializer,p)})(n,e)}function V2(n,e,t){return n instanceof Xh?aA(n,e):n instanceof Jh?oA(n,e):t}function sA(n,e){return n instanceof lm?(function(s){return my(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Wh extends Mm{}class Xh extends Mm{constructor(e){super(),this.elements=e}}function aA(n,e){const t=lA(e);for(const s of n.elements)t.some((o=>ma(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Jh extends Mm{constructor(e){super(),this.elements=e}}function oA(n,e){let t=lA(e);for(const s of n.elements)t=t.filter((o=>!ma(o,s)));return{arrayValue:{values:t}}}class lm extends Mm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function aT(n){return Mn(n.integerValue||n.doubleValue)}function lA(n){return mv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t){this.field=e,this.transform=t}}function z2(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Xh&&o instanceof Xh||s instanceof Jh&&o instanceof Jh?su(s.elements,o.elements,ma):s instanceof lm&&o instanceof lm?ma(s.Ae,o.Ae):s instanceof Wh&&o instanceof Wh})(n.transform,e.transform)}class B2{constructor(e,t){this.version=e,this.transformResults=t}}class Os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Os}static exists(e){return new Os(void 0,e)}static updateTime(e){return new Os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pm{}function cA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vv(n.key,Os.none()):new ff(n.key,n.data,Os.none());{const t=n.data,s=br.empty();let o=new ni(Ti.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new ml(n.key,s,new qr(o.toArray()),Os.none())}}function F2(n,e,t){n instanceof ff?(function(o,c,u){const p=o.value.clone(),v=lT(o.fieldTransforms,c,u.transformResults);p.setAll(v),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):n instanceof ml?(function(o,c,u){if(!Hd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=lT(o.fieldTransforms,c,u.transformResults),v=c.data;v.setAll(uA(o)),v.setAll(p),c.convertToFoundDocument(u.version,v).setHasCommittedMutations()})(n,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Bh(n,e,t,s){return n instanceof ff?(function(c,u,p,v){if(!Hd(c.precondition,u))return p;const y=c.value.clone(),E=cT(c.fieldTransforms,v,u);return y.setAll(E),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(n,e,t,s):n instanceof ml?(function(c,u,p,v){if(!Hd(c.precondition,u))return p;const y=cT(c.fieldTransforms,v,u),E=u.data;return E.setAll(uA(c)),E.setAll(y),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(n,e,t,s):(function(c,u,p){return Hd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(n,e,t)}function q2(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=sA(s.transform,o||null);c!=null&&(t===null&&(t=br.empty()),t.set(s.field,c))}return t||null}function oT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&su(s,o,((c,u)=>z2(c,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ff extends Pm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ml extends Pm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function lT(n,e,t){const s=new Map;Mt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],u=c.transform,p=e.data.field(c.field);s.set(c.field,V2(u,p,t[o]))}return s}function cT(n,e,t){const s=new Map;for(const o of n){const c=o.transform,u=t.data.field(o.field);s.set(o.field,L2(c,u,e))}return s}class vv extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H2 extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&F2(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Bh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Bh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=iA();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=t.has(o.key)?null:p;const v=cA(u,p);v!==null&&s.set(o.key,v),u.isValidDocument()||u.convertToNoDocument(Je.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mt())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,((t,s)=>oT(t,s)))&&su(this.baseMutations,e.baseMutations,((t,s)=>oT(t,s)))}}class _v{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return O2})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new _v(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,yt;function K2(n){switch(n){case he.OK:return $e(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function hA(n){if(n===void 0)return so("GRPC error has no .code"),he.UNKNOWN;switch(n){case $n.OK:return he.OK;case $n.CANCELLED:return he.CANCELLED;case $n.UNKNOWN:return he.UNKNOWN;case $n.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case $n.INTERNAL:return he.INTERNAL;case $n.UNAVAILABLE:return he.UNAVAILABLE;case $n.UNAUTHENTICATED:return he.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case $n.NOT_FOUND:return he.NOT_FOUND;case $n.ALREADY_EXISTS:return he.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return he.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case $n.ABORTED:return he.ABORTED;case $n.OUT_OF_RANGE:return he.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return he.UNIMPLEMENTED;case $n.DATA_LOSS:return he.DATA_LOSS;default:return $e(39323,{code:n})}}(yt=$n||($n={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new rl([4294967295,4294967295],0);function uT(n){const e=Q2().encode(n),t=new CS;return t.update(e),new Uint8Array(t.digest())}function hT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rl([t,s],0),new rl([o,c],0)]}class bv{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new kh(`Invalid padding: ${t}`);if(s<0)throw new kh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kh(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new kh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=rl.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(rl.fromNumber(s)));return o.compare(W2)===1&&(o=new rl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=uT(e),[s,o]=hT(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new bv(c,o,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=uT(e),[s,o]=hT(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Lm(Je.min(),o,new vn(dt),ao(),mt())}}class df{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new df(s,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class fA{constructor(e,t){this.targetId=e,this.Ce=t}}class dA{constructor(e,t,s=Ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class fT{constructor(){this.ve=0,this.Fe=dT(),this.Me=Ai.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),t=mt(),s=mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:$e(38017,{changeType:c})}})),new df(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=dT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ao(),this.Je=Rd(),this.He=Rd(),this.Ye=new vn(dt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(gy(c))if(s===0){const u=new Me(c.path);this.et(t,u,Pi.newNoDocument(u,Je.min()))}else Mt(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),v=p?this.ct(p,e,u):1;if(v!==0){this.it(t);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,p;try{u=ll(s).toUint8Array()}catch(v){if(v instanceof VS)return ru("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new bv(u,o,c)}catch(v){return ru(v instanceof kh?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&gy(p.target)){const v=new Me(p.target.path);this.It(v).has(u)||this.Et(u,v)||this.et(u,v,Pi.newNoDocument(v,e))}c.Be&&(t.set(u,c.ke()),c.qe())}}));let s=mt();this.He.forEach(((c,u)=>{let p=!0;u.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Lm(e,t,this.Ye,this.je,s);return this.je=ao(),this.Je=Rd(),this.He=Rd(),this.Ye=new vn(dt),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new fT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ni(dt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ni(dt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new vn(Me.comparator)}function dT(){return new vn(Me.comparator)}const J2={asc:"ASCENDING",desc:"DESCENDING"},Z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ek={and:"AND",or:"OR"};class tk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _y(n,e){return n.useProto3Json||Nm(e)?e:{value:e}}function cm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nk(n,e){return cm(n,e.toTimestamp())}function ha(n){return Mt(!!n,49232),Je.fromTimestamp((function(t){const s=ol(t);return new It(s.seconds,s.nanos)})(n))}function Ev(n,e){return by(n,e).canonicalString()}function by(n,e){const t=(function(o){return new en(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function pA(n){const e=en.fromString(n);return Mt(bA(e),10190,{key:e.toString()}),e}function Ey(n,e){return Ev(n.databaseId,e.path)}function Vg(n,e){const t=pA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(yA(t))}function gA(n,e){return Ev(n.databaseId,e)}function ik(n){const e=pA(n);return e.length===4?en.emptyPath():yA(e)}function wy(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yA(n){return Mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mT(n,e,t){return{name:Ey(n,e),fields:t.value.mapValue.fields}}function rk(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:$e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Mt(E===void 0||typeof E=="string",58123),Ai.fromBase64String(E||"")):(Mt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ai.fromUint8Array(E||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(y){const E=y.code===void 0?he.UNKNOWN:hA(y.code);return new Ae(E,y.message||"")})(u);t=new dA(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vg(n,s.document.name),c=ha(s.document.updateTime),u=s.document.createTime?ha(s.document.createTime):Je.min(),p=new br({mapValue:{fields:s.document.fields}}),v=Pi.newFoundDocument(o,c,u,p),y=s.targetIds||[],E=s.removedTargetIds||[];t=new $d(y,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vg(n,s.document),c=s.readTime?ha(s.readTime):Je.min(),u=Pi.newNoDocument(o,c),p=s.removedTargetIds||[];t=new $d([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vg(n,s.document),c=s.removedTargetIds||[];t=new $d([],c,o,null)}else{if(!("filter"in e))return $e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new Y2(o,c),p=s.targetId;t=new fA(p,u)}}return t}function sk(n,e){let t;if(e instanceof ff)t={update:mT(n,e.key,e.value)};else if(e instanceof vv)t={delete:Ey(n,e.key)};else if(e instanceof ml)t={update:mT(n,e.key,e.data),updateMask:mk(e.fieldMask)};else{if(!(e instanceof H2))return $e(16599,{Vt:e.type});t={verify:Ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const p=u.transform;if(p instanceof Wh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Jh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lm)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw $e(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:nk(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:$e(27497)})(n,e.precondition)),t}function ak(n,e){return n&&n.length>0?(Mt(e!==void 0,14353),n.map((t=>(function(o,c){let u=o.updateTime?ha(o.updateTime):ha(c);return u.isEqual(Je.min())&&(u=ha(c)),new B2(u,o.transformResults||[])})(t,e)))):[]}function ok(n,e){return{documents:[gA(n,e.path)]}}function lk(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=gA(n,o);const c=(function(y){if(y.length!==0)return _A(Ps.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((E=>(function(x){return{field:Gc(x.field),direction:hk(x.dir)}})(E)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=_y(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function ck(n){let e=ik(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Mt(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];t.where&&(c=(function(S){const x=vA(S);return x instanceof Ps&&KS(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(S){return S.map((x=>(function(Y){return new om(Yc(Y.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(x)))})(t.orderBy));let p=null;t.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,Nm(x)?null:x})(t.limit));let v=null;t.startAt&&(v=(function(S){const x=!!S.before,j=S.values||[];return new am(j,x)})(t.startAt));let y=null;return t.endAt&&(y=(function(S){const x=!S.before,j=S.values||[];return new am(j,x)})(t.endAt)),x2(e,o,u,c,p,"F",v,y)}function uk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Yc(t.unaryFilter.field);return Gn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Yc(t.unaryFilter.field);return Gn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Yc(t.unaryFilter.field);return Gn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yc(t.unaryFilter.field);return Gn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Gn.create(Yc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ps.create(t.compositeFilter.filters.map((s=>vA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(n):$e(30097,{filter:n})}function hk(n){return J2[n]}function fk(n){return Z2[n]}function dk(n){return ek[n]}function Gc(n){return{fieldPath:n.canonicalString()}}function Yc(n){return Ti.fromServerFormat(n.fieldPath)}function _A(n){return n instanceof Gn?(function(t){if(t.op==="=="){if(tT(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NAN"}};if(eT(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tT(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NOT_NAN"}};if(eT(t.value))return{unaryFilter:{field:Gc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(t.field),op:fk(t.op),value:t.value}}})(n):n instanceof Ps?(function(t){const s=t.getFilters().map((o=>_A(o)));return s.length===1?s[0]:{compositeFilter:{op:dk(t.op),filters:s}}})(n):$e(54877,{filter:n})}function mk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function bA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,s,o,c=Je.min(),u=Je.min(),p=Ai.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.yt=e}}function gk(n){const e=ck({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.Cn=new vk}addToCollectionParentIndex(e,t){return this.Cn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(al.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(al.min())}updateCollectionGroup(e,t,s){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class vk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new ni(en.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ni(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EA=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(EA,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lu(0)}static cr(){return new lu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",_k=1048576;function yT([n,e],[t,s]){const o=dt(n,t);return o===0?dt(e,s):o}class bk{constructor(e){this.Ir=e,this.buffer=new ni(yT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ek{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(gT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bu(t)?xe(gT,"Ignoring IndexedDB error during garbage collection: ",t):await _u(t)}await this.Vr(3e5)}))}}class wk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return me.resolve(Dm.ce);const s=new bk(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(pT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,u,p,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,t)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Hc()<=ft.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-E}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Tk(n,e){return new wk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.changes=new ac((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?me.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Bh(s.mutation,o,qr.empty(),It.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,mt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=mt()){const o=Hl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let u=Oh();return c.forEach(((p,v)=>{u=u.insert(p,v.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=Hl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,mt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,o){let c=ao();const u=zh(),p=(function(){return zh()})();return t.forEach(((v,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ml)?c=c.insert(y.key,y):E!==void 0?(u.set(y.key,E.mutation.getFieldMask()),Bh(E.mutation,y,E.mutation.getFieldMask(),It.now())):u.set(y.key,qr.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,E)=>u.set(y,E))),t.forEach(((y,E)=>p.set(y,new Ak(E,u.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=zh();let o=new vn(((u,p)=>u-p)),c=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((v=>{const y=t.get(v);if(y===null)return;let E=s.get(v)||qr.empty();E=p.applyToLocalView(y,E),s.set(v,E);const S=(o.get(p.batchId)||mt()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,E=v.value,S=iA();E.forEach((x=>{if(!c.has(x)){const j=cA(t.get(x),s.get(x));j!==null&&S.set(x,j),c=c.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,S))}return me.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):me.resolve(Hl());let p=Gh,v=c;return u.next((y=>me.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?me.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{v=v.insert(E,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,mt()))).next((E=>({batchId:p,changes:nA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((s=>{let o=Oh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=Oh();return this.indexManager.getCollectionParents(e,c).next((p=>me.forEach(p,(v=>{const y=(function(S,x){return new hf(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,x)=>{u=u.insert(S,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((u=>{c.forEach(((v,y)=>{const E=y.getKey();u.get(E)===null&&(u=u.insert(E,Pi.newInvalidDocument(E)))}));let p=Oh();return u.forEach(((v,y)=>{const E=c.get(v);E!==void 0&&Bh(E.mutation,y,qr.empty(),It.now()),jm(t,y)&&(p=p.insert(v,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return me.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ha(o.createTime)}})(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:gk(o.bundledQuery),readTime:ha(o.readTime)}})(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.overlays=new vn(Me.comparator),this.qr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hl();return me.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),me.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),me.resolve()}getOverlaysForCollection(e,t,s){const o=Hl(),c=t.length+1,u=new Me(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>s&&o.set(v.getKey(),v)}return me.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new vn(((y,E)=>y-E));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Hl(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Hl(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return me.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new G2(t,s));let c=this.qr.get(t);c===void 0&&(c=mt(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.sessionToken=Ai.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Qr=new ni(fi.$r),this.Ur=new ni(fi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new fi(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new fi(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Me(new en([])),s=new fi(t,e),o=new fi(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new en([])),s=new fi(t,e),o=new fi(t,e+1);let c=mt();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new fi(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class fi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||dt(e.Yr,t.Yr)}static Kr(e,t){return dt(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ni(fi.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $2(c,t,s,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new fi(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?fv:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new fi(t,0),o=new fi(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const p=this.Xr(u.Yr);c.push(p)})),me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ni(dt);return t.forEach((o=>{const c=new fi(o,0),u=new fi(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(p=>{s=s.add(p.Yr)}))})),me.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Me.isDocumentKey(c)||(c=c.child(""));const u=new fi(new Me(c),0);let p=new ni(dt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),u),me.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return me.forEach(t.mutations,(o=>{const c=new fi(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new fi(t,0),o=this.Zr.firstAfterOrEqual(s);return me.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.ri=e,this.docs=(function(){return new vn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return me.resolve(s?s.document.mutableCopy():Pi.newInvalidDocument(t))}getEntries(e,t){let s=ao();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Pi.newInvalidDocument(o))})),me.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=ao();const u=t.path,p=new Me(u.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:E}}=v.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||s2(r2(E),s)<=0||(o.has(E.key)||jm(t,E))&&(c=c.insert(E.key,E.mutableCopy()))}return me.resolve(c)}getAllFromCollectionGroup(e,t,s,o){$e(9500)}ii(e,t){return me.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Ok(this)}getSize(e){return me.resolve(this.size)}}class Ok extends Sk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),me.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.persistence=e,this.si=new ac((t=>pv(t)),gv),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new wv,this.targetCount=0,this.ai=lu.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),me.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new lu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Pr(t),me.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),me.waitFor(c).next((()=>o))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return me.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),me.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return me.resolve(s)}containsKey(e,t){return me.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dm(0),this.li=!1,this.li=!0,this.hi=new Dk,this.referenceDelegate=e(this),this.Pi=new kk(this),this.indexManager=new yk,this.remoteDocumentCache=(function(o){return new Rk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new pk(t),this.Ii=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ik,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Nk(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){xe("MemoryPersistence","Starting transaction:",e);const o=new jk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return me.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class jk extends o2{constructor(e){super(),this.currentSequenceNumber=e}}class Tv{constructor(e){this.persistence=e,this.Ri=new wv,this.Vi=null}static mi(e){return new Tv(e)}get fi(){if(this.Vi)return this.Vi;throw $e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),me.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(s=>{const o=Me.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return me.or([()=>me.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class um{constructor(e,t){this.persistence=e,this.pi=new ac((s=>u2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Tk(this,t)}static mi(e,t){return new um(e,t)}Ei(){}di(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return me.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?me.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((p=>{p||(s++,c.removeEntry(u,Je.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}br(e,t,s){return me.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return me.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=mt(),o=mt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Sv(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hD()?8:l2(Li())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new Mk;return this.Ss(e,t,u).next((p=>{if(c.result=p,this.Vs)return this.bs(e,t,u,p.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Hc()<=ft.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",$c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(Hc()<=ft.DEBUG&&xe("QueryEngine","Query:",$c(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Hc()<=ft.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",$c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(t))):me.resolve())}ys(e,t){if(sT(t))return me.resolve(null);let s=ua(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=vy(t,null,"F"),s=ua(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=mt(...c);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const y=this.Ds(t,p);return this.Cs(t,y,u,v.readTime)?this.ys(e,vy(t,null,"F")):this.vs(e,y,t,v)}))))})))))}ws(e,t,s,o){return sT(t)||o.isEqual(Je.min())?me.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(t,c);return this.Cs(t,u,s,o)?me.resolve(null):(Hc()<=ft.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$c(t)),this.vs(e,u,t,i2(o,Gh)).next((p=>p)))}))}Ds(e,t){let s=new ni(eA(e));return t.forEach(((o,c)=>{jm(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Hc()<=ft.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",$c(t)),this.ps.getDocumentsMatchingQuery(e,t,al.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LocalStore",Lk=3e8;class Vk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vn(dt),this.xs=new ac((c=>pv(c)),gv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ck(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Uk(n,e,t,s){return new Vk(n,e,t,s)}async function TA(n,e){const t=et(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],p=[];let v=mt();for(const y of o){u.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return t.localDocuments.getDocuments(s,v).next((y=>({Ls:y,removedBatchIds:u,addedBatchIds:p})))}))}))}function zk(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,E){const S=y.batch,x=S.keys();let j=me.resolve();return x.forEach((Y=>{j=j.next((()=>E.getEntry(v,Y))).next((Q=>{const B=y.docVersions.get(Y);Mt(B!==null,48541),Q.version.compareTo(B)<0&&(S.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function SA(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Bk(n,e){const t=et(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const x=o.get(S);if(!x)return;p.push(t.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(c,E.addedDocuments,S))));let j=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(Ai.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(S,j),(function(Q,B,P){return Q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Lk?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(x,j,E)&&p.push(t.Pi.updateTargetData(c,j))}));let v=ao(),y=mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(Fk(c,u,e.documentUpdates).next((E=>{v=E.ks,y=E.qs}))),!s.isEqual(Je.min())){const E=t.Pi.getLastRemoteSnapshotVersion(c).next((S=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return me.waitFor(p).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(t.Ms=o,c)))}function Fk(n,e,t){let s=mt(),o=mt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let u=ao();return t.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Je.min())?(e.removeEntry(p,v.readTime),u=u.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),u=u.insert(p,v)):xe(Av,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:u,qs:o}}))}function qk(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fv),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Hk(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,me.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new tl(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Ty(n,e,t){const s=et(n),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!bu(u))throw u;xe(Av,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function vT(n,e,t){const s=et(n);let o=Je.min(),c=mt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(v,y,E){const S=et(v),x=S.xs.get(E);return x!==void 0?me.resolve(S.Ms.get(x)):S.Pi.getTargetData(y,E)})(s,u,ua(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,p.targetId).next((v=>{c=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Je.min(),t?c:mt()))).next((p=>($k(s,D2(e),p),{documents:p,Qs:c})))))}function $k(n,e,t){let s=n.Os.get(e)||Je.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Os.set(e,s)}class _T{constructor(){this.activeTargetIds=M2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gk{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(bT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function Sy(){return Od===null?Od=(function(){return 268435456+Math.round(2147483648*Math.random())})():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="RestConnection",Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rm?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const u=Sy(),p=this.zo(e,t.toUriEncodedString());xe(Ug,`Sending RPC '${e}' ${u}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(p),E=mu(y);return this.Jo(e,p,v,s,E).then((S=>(xe(Ug,`Received RPC '${e}' ${u}: `,S),S)),(S=>{throw ru(Ug,`RPC '${e}' ${u} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,t,s,o,c,u){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=Kk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="WebChannelConnection";class Xk extends Qk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const u=Sy();return new Promise(((p,v)=>{const y=new xS;y.setWithCredentials(!0),y.listenOnce(IS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bd.NO_ERROR:const S=y.getResponseJson();xe(ji,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),p(S);break;case Bd.TIMEOUT:xe(ji,`RPC '${e}' ${u} timed out`),v(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const x=y.getStatus();if(xe(ji,`RPC '${e}' ${u} failed with status:`,x,"response text:",y.getResponseText()),x>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const Y=j?.error;if(Y&&Y.status&&Y.message){const Q=(function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(H)>=0?H:he.UNKNOWN})(Y.status);v(new Ae(Q,Y.message))}else v(new Ae(he.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{xe(ji,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);xe(ji,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=Sy(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RS(),p=NS(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,t,s),v.encodeInitMessageHeaders=!0;const E=c.join("");xe(ji,`Creating RPC '${e}' stream ${o}: ${E}`,v);const S=u.createWebChannel(E,v);this.I_(S);let x=!1,j=!1;const Y=new Wk({Yo:B=>{j?xe(ji,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(x||(xe(ji,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),xe(ji,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Zo:()=>S.close()}),Q=(B,P,H)=>{B.listen(P,(te=>{try{H(te)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return Q(S,Rh.EventType.OPEN,(()=>{j||(xe(ji,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),Q(S,Rh.EventType.CLOSE,(()=>{j||(j=!0,xe(ji,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),Q(S,Rh.EventType.ERROR,(B=>{j||(j=!0,ru(ji,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),Y.a_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),Q(S,Rh.EventType.MESSAGE,(B=>{if(!j){const P=B.data[0];Mt(!!P,16349);const H=P,te=H?.error||H[0]?.error;if(te){xe(ji,`RPC '${e}' stream ${o} received error:`,te);const ye=te.status;let le=(function(O){const M=$n[O];if(M!==void 0)return hA(M)})(ye),pe=te.message;le===void 0&&(le=he.INTERNAL,pe="Unknown error status: "+ye+" with message "+te.message),j=!0,Y.a_(new Ae(le,pe)),S.close()}else xe(ji,`RPC '${e}' stream ${o} received:`,P),Y.u_(P)}})),Q(p,DS.STAT_EVENT,(B=>{B.stat===hy.PROXY?xe(ji,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===hy.NOPROXY&&xe(ji,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n){return new tk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class CA{constructor(e,t,s,o,c,u,p,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(so(t.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(xe(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jk extends CA{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rk(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Je.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Je.min():u.readTime?ha(u.readTime):Je.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=wy(this.serializer),t.addTarget=(function(c,u){let p;const v=u.target;if(p=gy(v)?{documents:ok(c,v)}:{query:lk(c,v).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=mA(c,u.resumeToken);const y=_y(c,u.expectedCount);y!==null&&(p.expectedCount=y)}else if(u.snapshotVersion.compareTo(Je.min())>0){p.readTime=cm(c,u.snapshotVersion.toTimestamp());const y=_y(c,u.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=uk(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=wy(this.serializer),t.removeTarget=e,this.q_(t)}}class Zk extends CA{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ak(e.writeResults,e.commitTime),s=ha(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=wy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>sk(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class tj extends ej{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,by(t,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(he.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,by(t,s),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(so(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class ij{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{oc(this)&&(xe(Zl,"Restarting streams for network reachability change."),await(async function(v){const y=et(v);y.Ea.add(4),await mf(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Um(y)})(this))}))})),this.Ra=new nj(s,o)}}async function Um(n){if(oc(n))for(const e of n.da)await e(!0)}async function mf(n){for(const e of n.da)await e(!1)}function xA(n,e){const t=et(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dv(t)?Iv(t):Eu(t).O_()&&xv(t,e))}function Cv(n,e){const t=et(n),s=Eu(t);t.Ia.delete(e),s.O_()&&IA(t,e),t.Ia.size===0&&(s.O_()?s.L_():oc(t)&&t.Ra.set("Unknown"))}function xv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eu(n).Y_(e)}function IA(n,e){n.Va.Ue(e),Eu(n).Z_(e)}function Iv(n){n.Va=new X2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Eu(n).start(),n.Ra.ua()}function Dv(n){return oc(n)&&!Eu(n).x_()&&n.Ia.size>0}function oc(n){return et(n).Ea.size===0}function DA(n){n.Va=void 0}async function rj(n){n.Ra.set("Online")}async function sj(n){n.Ia.forEach(((e,t)=>{xv(n,e)}))}async function aj(n,e){DA(n),Dv(n)?(n.Ra.ha(e),Iv(n)):n.Ra.set("Unknown")}async function oj(n,e,t){if(n.Ra.set("Online"),e instanceof dA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){xe(Zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hm(n,s)}else if(e instanceof $d?n.Va.Ze(e):e instanceof fA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Je.min()))try{const s=await SA(n.localStore);t.compareTo(s)>=0&&await(function(c,u){const p=c.Va.Tt(u);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(v.resumeToken,u))}})),p.targetMismatches.forEach(((v,y)=>{const E=c.Ia.get(v);if(!E)return;c.Ia.set(v,E.withResumeToken(Ai.EMPTY_BYTE_STRING,E.snapshotVersion)),IA(c,v);const S=new tl(E.target,v,y,E.sequenceNumber);xv(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){xe(Zl,"Failed to raise snapshot:",s),await hm(n,s)}}async function hm(n,e,t){if(!bu(e))throw e;n.Ea.add(1),await mf(n),n.Ra.set("Offline"),t||(t=()=>SA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{xe(Zl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Um(n)}))}function NA(n,e){return e().catch((t=>hm(n,t,e)))}async function zm(n){const e=et(n),t=ul(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fv;for(;lj(e);)try{const o=await qk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,cj(e,o)}catch(o){await hm(e,o)}RA(e)&&OA(e)}function lj(n){return oc(n)&&n.Ta.length<10}function cj(n,e){n.Ta.push(e);const t=ul(n);t.O_()&&t.X_&&t.ea(e.mutations)}function RA(n){return oc(n)&&!ul(n).x_()&&n.Ta.length>0}function OA(n){ul(n).start()}async function uj(n){ul(n).ra()}async function hj(n){const e=ul(n);for(const t of n.Ta)e.ea(t.mutations)}async function fj(n,e,t){const s=n.Ta.shift(),o=_v.from(s,e,t);await NA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await zm(n)}async function dj(n,e){e&&ul(n).X_&&await(async function(s,o){if((function(u){return K2(u)&&u!==he.ABORTED})(o.code)){const c=s.Ta.shift();ul(s).B_(),await NA(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await zm(s)}})(n,e),RA(n)&&OA(n)}async function TT(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),xe(Zl,"RemoteStore received new credentials");const s=oc(t);t.Ea.add(3),await mf(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Um(t)}async function mj(n,e){const t=et(n);e?(t.Ea.delete(2),await Um(t)):e||(t.Ea.add(2),await mf(t),t.Ra.set("Unknown"))}function Eu(n){return n.ma||(n.ma=(function(t,s,o){const c=et(t);return c.sa(),new Jk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:rj.bind(null,n),t_:sj.bind(null,n),r_:aj.bind(null,n),H_:oj.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Dv(n)?Iv(n):n.Ra.set("Unknown")):(await n.ma.stop(),DA(n))}))),n.ma}function ul(n){return n.fa||(n.fa=(function(t,s,o){const c=et(t);return c.sa(),new Zk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:uj.bind(null,n),r_:dj.bind(null,n),ta:hj.bind(null,n),na:fj.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await zm(n)):(await n.fa.stop(),n.Ta.length>0&&(xe(Zl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,p=new Nv(e,t,u,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rv(n,e){if(so("AsyncQueue",`${e}: ${n}`),bu(n))return new Ae(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{static emptySet(e){return new tu(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Me.comparator(t.key,s.key):(t,s)=>Me.comparator(t.key,s.key),this.keyedMap=Oh(),this.sortedSet=new vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new tu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ga=new vn(Me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class cu{constructor(e,t,s,o,c,u,p,v,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new cu(e,t,tu.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gj{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=et(t),c=o.queries;o.queries=AT(),c.forEach(((u,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function AT(){return new ac((n=>ZS(n)),km)}async function Ov(n,e){const t=et(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new pj,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const p=Rv(u,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&jv(t)}async function kv(n,e){const t=et(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yj(n,e){const t=et(n);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const p of u.Sa)p.Fa(o)&&(s=!0);u.wa=o}}s&&jv(t)}function vj(n,e,t){const s=et(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function jv(n){n.Ca.forEach((e=>{e.next()}))}var Ay,CT;(CT=Ay||(Ay={})).Ma="default",CT.Cache="cache";class Mv{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new cu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class jA{constructor(e){this.key=e}}class _j{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=eA(e),this.tu=new tu(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new ST,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const x=o.get(E),j=jm(this.query,S)?S:null,Y=!!x&&this.mutatedKeys.has(x.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;x&&j?x.data.isEqual(j.data)?Y!==Q&&(s.track({type:3,doc:j}),B=!0):this.su(x,j)||(s.track({type:2,doc:j}),B=!0,(v&&this.eu(j,v)>0||y&&this.eu(j,y)<0)&&(p=!0)):!x&&j?(s.track({type:0,doc:j}),B=!0):x&&!j&&(s.track({type:1,doc:x}),B=!0,(v||y)&&(p=!0)),B&&(j?(u=u.add(j),c=Q?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:u,iu:s,Cs:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,S)=>(function(j,Y){const Q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Rt:B})}};return Q(j)-Q(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,u.length!==0||y?{snapshot:new cu(this.query,e.tu,c,u,e.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new jA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new kA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=mt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return cu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pv="SyncEngine";class bj{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ej{constructor(e){this.key=e,this.hu=!1}}class wj{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ac((p=>ZS(p)),km),this.Iu=new Map,this.Eu=new Set,this.du=new vn(Me.comparator),this.Au=new Map,this.Ru=new wv,this.Vu={},this.mu=new Map,this.fu=lu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tj(n,e,t=!0){const s=zA(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await MA(s,e,t,!0),o}async function Sj(n,e){const t=zA(n);await MA(t,e,!0,!1)}async function MA(n,e,t,s){const o=await Hk(n.localStore,ua(e)),c=o.targetId,u=n.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await Aj(n,e,c,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&xA(n.remoteStore,o),p}async function Aj(n,e,t,s,o){n.pu=(S,x,j)=>(async function(Q,B,P,H){let te=B.view.ru(P);te.Cs&&(te=await vT(Q.localStore,B.query,!1).then((({documents:k})=>B.view.ru(k,te))));const ye=H&&H.targetChanges.get(B.targetId),le=H&&H.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(te,Q.isPrimaryClient,ye,le);return IT(Q,B.targetId,pe.au),pe.snapshot})(n,S,x,j);const c=await vT(n.localStore,e,!0),u=new _j(e,c.Qs),p=u.ru(c.documents),v=df.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=u.applyChanges(p,n.isPrimaryClient,v);IT(n,t,y.au);const E=new bj(e,t,u);return n.Tu.set(e,E),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function Cj(n,e,t){const s=et(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!km(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ty(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Cv(s.remoteStore,o.targetId),Cy(s,o.targetId)})).catch(_u)):(Cy(s,o.targetId),await Ty(s.localStore,o.targetId,!0))}async function xj(n,e){const t=et(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Cv(t.remoteStore,s.targetId))}async function Ij(n,e,t){const s=Mj(n);try{const o=await(function(u,p){const v=et(u),y=It.now(),E=p.reduce(((j,Y)=>j.add(Y.key)),mt());let S,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Y=ao(),Q=mt();return v.Ns.getEntries(j,E).next((B=>{Y=B,Y.forEach(((P,H)=>{H.isValidDocument()||(Q=Q.add(P))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,Y))).next((B=>{S=B;const P=[];for(const H of p){const te=q2(H,S.get(H.key).overlayedDocument);te!=null&&P.push(new ml(H.key,te,$S(te.value.mapValue),Os.exists(!0)))}return v.mutationQueue.addMutationBatch(j,y,P,p)})).next((B=>{x=B;const P=B.applyToLocalDocumentSet(S,Q);return v.documentOverlayCache.saveOverlays(j,B.batchId,P)}))})).then((()=>({batchId:x.batchId,changes:nA(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,p,v){let y=u.Vu[u.currentUser.toKey()];y||(y=new vn(dt)),y=y.insert(p,v),u.Vu[u.currentUser.toKey()]=y})(s,o.batchId,t),await pf(s,o.changes),await zm(s.remoteStore)}catch(o){const c=Rv(o,"Failed to persist write");t.reject(c)}}async function PA(n,e){const t=et(n);try{const s=await Bk(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Au.get(c);u&&(Mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Mt(u.hu,14607):o.removedDocuments.size>0&&(Mt(u.hu,42227),u.hu=!1))})),await pf(t,s,e)}catch(s){await _u(s)}}function xT(n,e,t){const s=et(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const v=et(u);v.onlineState=p;let y=!1;v.queries.forEach(((E,S)=>{for(const x of S.Sa)x.va(p)&&(y=!0)})),y&&jv(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Dj(n,e,t){const s=et(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new vn(Me.comparator);u=u.insert(c,Pi.newNoDocument(c,Je.min()));const p=mt().add(c),v=new Lm(Je.min(),new Map,new vn(dt),u,p);await PA(s,v),s.du=s.du.remove(c),s.Au.delete(e),Lv(s)}else await Ty(s.localStore,e,!1).then((()=>Cy(s,e,t))).catch(_u)}async function Nj(n,e){const t=et(n),s=e.batch.batchId;try{const o=await zk(t.localStore,e);VA(t,s,null),LA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await pf(t,o)}catch(o){await _u(o)}}async function Rj(n,e,t){const s=et(n);try{const o=await(function(u,p){const v=et(u);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Mt(S!==null,37113),E=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>v.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);VA(s,e,t),LA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await pf(s,o)}catch(o){await _u(o)}}function LA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function VA(n,e,t){const s=et(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||UA(n,s)}))}function UA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Cv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Lv(n))}function IT(n,e,t){for(const s of t)s instanceof kA?(n.Ru.addReference(s.key,e),Oj(n,s)):s instanceof jA?(xe(Pv,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||UA(n,s.key)):$e(19791,{wu:s})}function Oj(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(xe(Pv,"New document in limbo: "+t),n.Eu.add(s),Lv(n))}function Lv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Me(en.fromString(e)),s=n.fu.next();n.Au.set(s,new Ej(t)),n.du=n.du.insert(t,s),xA(n.remoteStore,new tl(ua(Om(t.path)),s,"TargetPurposeLimboResolution",Dm.ce))}}async function pf(n,e,t){const s=et(n),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{u.push(s.pu(v,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:t?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Sv.As(v.targetId,y);c.push(E)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(v,y){const E=et(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>me.forEach(y,(x=>me.forEach(x.Es,(j=>E.persistence.referenceDelegate.addReference(S,x.targetId,j))).next((()=>me.forEach(x.ds,(j=>E.persistence.referenceDelegate.removeReference(S,x.targetId,j)))))))))}catch(S){if(!bu(S))throw S;xe(Av,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const j=E.Ms.get(x),Y=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(x,Q)}}})(s.localStore,c))}async function kj(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){xe(Pv,"User change. New user:",e.toKey());const s=await TA(t.localStore,e);t.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new Ae(he.CANCELLED,u))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pf(t,s.Ls)}}function jj(n,e){const t=et(n),s=t.Au.get(e);if(s&&s.hu)return mt().add(s.key);{let o=mt();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const p=t.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function zA(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dj.bind(null,e),e.Pu.H_=yj.bind(null,e.eventManager),e.Pu.yu=vj.bind(null,e.eventManager),e}function Mj(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,e),e}class fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Uk(this.persistence,new Pk,e.initialUser,this.serializer)}Cu(e){return new wA(Tv.mi,this.serializer)}Du(e){return new Gk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fm.provider={build:()=>new fm};class Pj extends fm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mt(this.persistence.referenceDelegate instanceof um,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ek(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new wA((s=>um.mi(s,t)),this.serializer)}}class xy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kj.bind(null,this.syncEngine),await mj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gj})()}createDatastore(e){const t=Vm(e.databaseInfo.databaseId),s=(function(c){return new Xk(c)})(e.databaseInfo);return(function(c,u,p,v){return new tj(c,u,p,v)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,u,p){return new ij(s,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>xT(this.syncEngine,t,0)),(function(){return ET.v()?new ET:new Yk})())}createSyncEngine(e,t){return(function(o,c,u,p,v,y,E){const S=new wj(o,c,u,p,v,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=et(t);xe(Zl,"RemoteStore shutting down."),s.Ea.add(5),await mf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xy.provider={build:()=>new xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class Lj{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Mi.UNAUTHENTICATED,this.clientId=hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{xe(hl,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(xe(hl,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Rv(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bg(n,e){n.asyncQueue.verifyOperationInProgress(),xe(hl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await TA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function DT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Vj(n);xe(hl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>TT(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>TT(e.remoteStore,o))),n._onlineComponents=e}async function Vj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(hl,"Using user provided OfflineComponentProvider");try{await Bg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ru("Error using user provided cache. Falling back to memory cache: "+t),await Bg(n,new fm)}}else xe(hl,"Using default OfflineComponentProvider"),await Bg(n,new Pj(void 0));return n._offlineComponents}async function BA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(hl,"Using user provided OnlineComponentProvider"),await DT(n,n._uninitializedComponentsProvider._online)):(xe(hl,"Using default OnlineComponentProvider"),await DT(n,new xy))),n._onlineComponents}function Uj(n){return BA(n).then((e=>e.syncEngine))}async function dm(n){const e=await BA(n),t=e.eventManager;return t.onListen=Tj.bind(null,e.syncEngine),t.onUnlisten=Cj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xj.bind(null,e.syncEngine),t}function zj(n,e,t={}){const s=new to;return n.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,v,y){const E=new Vv({next:x=>{E.Nu(),u.enqueueAndForget((()=>kv(c,S)));const j=x.docs.has(p);!j&&x.fromCache?y.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&x.fromCache&&v&&v.source==="server"?y.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new Mv(Om(p.path),E,{includeMetadataChanges:!0,qa:!0});return Ov(c,S)})(await dm(n),n.asyncQueue,e,t,s))),s.promise}function Bj(n,e,t={}){const s=new to;return n.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,v,y){const E=new Vv({next:x=>{E.Nu(),u.enqueueAndForget((()=>kv(c,S))),x.fromCache&&v.source==="server"?y.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new Mv(p,E,{includeMetadataChanges:!0,qa:!0});return Ov(c,S)})(await dm(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firestore.googleapis.com",RT=!0;class OT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qA,this.ssl=RT}else this.host=e.host,this.ssl=e.ssl??RT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_k)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GO;switch(s.type){case"firstParty":return new WO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=NT.get(t);s&&(xe("ComponentProvider","Removing Datastore"),NT.delete(t),s.terminate())})(this),Promise.resolve()}}function Fj(n,e,t,s={}){n=hs(n,Bm);const o=mu(e),c=n._getSettings(),u={...c,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(L0(`https://${p}`),V0("Firestore",!0)),c.host!==qA&&c.host!==p&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:s};if(!Wl(v,u)&&(n._setSettings(v),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Mi.MOCK_USER;else{y=nD(s.mockUserToken,n._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Mi(S)}n._authCredentials=new YO(new kS(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lc(this.firestore,e,this._query)}}class Pn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}toJSON(){return{type:Pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(uf(t,Pn._jsonSchema))return new Pn(e,s||null,new Me(en.fromString(t.referencePath)))}}Pn._jsonSchemaVersion="firestore/documentReference/1.0",Pn._jsonSchema={type:Yn("string",Pn._jsonSchemaVersion),referencePath:Yn("string")};class sl extends lc{constructor(e,t,s){super(e,t,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Me(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function fn(n,e,...t){if(n=xn(n),jS("collection","path",e),n instanceof Bm){const s=en.fromString(e,...t);return $w(s),new sl(n,null,s)}{if(!(n instanceof Pn||n instanceof sl))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(en.fromString(e,...t));return $w(s),new sl(n.firestore,null,s)}}function Gt(n,e,...t){if(n=xn(n),arguments.length===1&&(e=hv.newId()),jS("doc","path",e),n instanceof Bm){const s=en.fromString(e,...t);return Hw(s),new Pn(n,null,new Me(s))}{if(!(n instanceof Pn||n instanceof sl))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(en.fromString(e,...t));return Hw(s),new Pn(n.firestore,n instanceof sl?n.converter:null,new Me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AA(this,"async_queue_retry"),this._c=()=>{const s=zg();s&&xe(kT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=zg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new to;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bu(e))throw e;xe(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,so("INTERNAL UNHANDLED ERROR: ",MT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Nv.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:MT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function MT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class fl extends Bm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new jT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function qj(n,e){const t=typeof n=="object"?n:Tm(),s=typeof n=="string"?n:rm,o=pu(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=eD("firestore");c&&Fj(o,...c)}return o}function Fm(n){if(n._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Hj(n),n._firestoreClient}function Hj(n){const e=n._freezeSettings(),t=(function(o,c,u,p){return new d2(o,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Lj(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(Ai.fromBase64String(e))}catch(t){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new us(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uf(e,us._jsonSchema))return us.fromBase64String(e.bytes)}}us._jsonSchemaVersion="firestore/bytes/1.0",us._jsonSchema={type:Yn("string",us._jsonSchemaVersion),bytes:Yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fa._jsonSchemaVersion}}static fromJSON(e){if(uf(e,fa._jsonSchema))return new fa(e.latitude,e.longitude)}}fa._jsonSchemaVersion="firestore/geoPoint/1.0",fa._jsonSchema={type:Yn("string",fa._jsonSchemaVersion),latitude:Yn("number"),longitude:Yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uf(e,da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new da(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}da._jsonSchemaVersion="firestore/vectorValue/1.0",da._jsonSchema={type:Yn("string",da._jsonSchemaVersion),vectorValues:Yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=/^__.*__$/;class Gj{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new ff(e,this.data,t,this.fieldTransforms)}}class HA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $A(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ac:n})}}class Uv{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($A(this.Ac)&&$j.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Yj{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Vm(e)}Cc(e,t,s,o=!1){return new Uv({Ac:e,methodName:t,Dc:s,path:Ti.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zv(n){const e=n._freezeSettings(),t=Vm(n._databaseId);return new Yj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kj(n,e,t,s,o,c={}){const u=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);Fv("Data must be an object, but it was:",u,s);const p=GA(s,u);let v,y;if(c.merge)v=new qr(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const x=Iy(e,S,t);if(!u.contains(x))throw new Ae(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);KA(E,x)||E.push(x)}v=new qr(E),y=u.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=u.fieldTransforms;return new Gj(new br(p),v,y)}class $m extends Hm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $m}}class Bv extends Hm{_toFieldTransform(e){return new U2(e.path,new Wh)}isEqual(e){return e instanceof Bv}}function Qj(n,e,t,s){const o=n.Cc(1,e,t);Fv("Data must be an object, but it was:",o,s);const c=[],u=br.empty();dl(s,((v,y)=>{const E=qv(e,v,t);y=xn(y);const S=o.yc(E);if(y instanceof $m)c.push(E);else{const x=gf(y,S);x!=null&&(c.push(E),u.set(E,x))}}));const p=new qr(c);return new HA(u,p,o.fieldTransforms)}function Wj(n,e,t,s,o,c){const u=n.Cc(1,e,t),p=[Iy(e,s,t)],v=[o];if(c.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Iy(e,c[x])),v.push(c[x+1]);const y=[],E=br.empty();for(let x=p.length-1;x>=0;--x)if(!KA(y,p[x])){const j=p[x];let Y=v[x];Y=xn(Y);const Q=u.yc(j);if(Y instanceof $m)y.push(j);else{const B=gf(Y,Q);B!=null&&(y.push(j),E.set(j,B))}}const S=new qr(y);return new HA(E,S,u.fieldTransforms)}function Xj(n,e,t,s=!1){return gf(t,n.Cc(s?4:3,e))}function gf(n,e){if(YA(n=xn(n)))return Fv("Unsupported field value:",e,n),GA(n,e);if(n instanceof Hm)return(function(s,o){if(!$A(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const p of s){let v=gf(p,o.wc(u));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),u++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return P2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=It.fromDate(s);return{timestampValue:cm(o.serializer,c)}}if(s instanceof It){const c=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cm(o.serializer,c)}}if(s instanceof fa)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof us)return{bytesValue:mA(o.serializer,s._byteString)};if(s instanceof Pn){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ev(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof da)return(function(u,p){return{mapValue:{fields:{[qS]:{stringValue:HS},[sm]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return yv(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Im(s)}`)})(n,e)}function GA(n,e){const t={};return LS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(n,((s,o)=>{const c=gf(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function YA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof fa||n instanceof us||n instanceof Pn||n instanceof Hm||n instanceof da)}function Fv(n,e,t){if(!YA(t)||!MS(t)){const s=Im(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Iy(n,e,t){if((e=xn(e))instanceof qm)return e._internalPath;if(typeof e=="string")return qv(n,e);throw mm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Jj=new RegExp("[~\\*/\\[\\]]");function qv(n,e,t){if(e.search(Jj)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qm(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mm(n,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||u)&&(v+=" (found",c&&(v+=` in field ${s}`),u&&(v+=` in document ${o}`),v+=")"),new Ae(he.INVALID_ARGUMENT,p+n+v)}function KA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Zj extends QA{data(){return super.data()}}function Hv(n,e){return typeof e=="string"?qv(n,e):e instanceof qm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $v{}class eM extends $v{}function Vi(n,e,...t){let s=[];e instanceof $v&&s.push(e),s=s.concat(t),(function(c){const u=c.filter((v=>v instanceof Gv)).length,p=c.filter((v=>v instanceof Gm)).length;if(u>1||u>0&&p>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Gm extends eM{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Gm(e,t,s)}_apply(e){const t=this._parse(e);return XA(e._query,t),new lc(e.firestore,e.converter,yy(e._query,t))}_parse(e){const t=zv(e.firestore);return(function(c,u,p,v,y,E,S){let x;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){VT(S,E);const Y=[];for(const Q of S)Y.push(LT(v,c,Q));x={arrayValue:{values:Y}}}else x=LT(v,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||VT(S,E),x=Xj(p,u,S,E==="in"||E==="not-in");return Gn.create(y,E,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ui(n,e,t){const s=e,o=Hv("where",n);return Gm._create(o,s,t)}class Gv extends $v{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gv(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ps.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const p=c.getFlattenedFilters();for(const v of p)XA(u,v),u=yy(u,v)})(e._query,t),new lc(e.firestore,e.converter,yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LT(n,e,t){if(typeof(t=xn(t))=="string"){if(t==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(e)&&t.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(en.fromString(t));if(!Me.isDocumentKey(s))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zw(n,new Me(s))}if(t instanceof Pn)return Zw(n,t._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(t)}.`)}function VT(n,e){if(!Array.isArray(n)||n.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(n,e){const t=(function(o,c){for(const u of o)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tM{convertValue(e,t="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return dl(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[sm].arrayValue?.values?.map((s=>Mn(s.doubleValue)));return new da(t)}convertGeoPoint(e){return new fa(Mn(e.latitude),Mn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Rm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const t=ol(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=en.fromString(e);Mt(bA(s),9688,{name:e});const o=new Kh(s.get(1),s.get(3)),c=new Me(s.popFirst(5));return o.isEqual(t)||so(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class jh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends QA{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Hv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:Yn("string",Yl._jsonSchemaVersion),bundleSource:Yn("string","DocumentSnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class Gd extends Yl{data(e={}){return super.data(e)}}class Kl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new jh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Gd(this._firestore,this._userDataWriter,s.key,s,new jh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const v=new Gd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Gd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),E=u.indexOf(p.doc.key)),{type:iM(p.type),doc:v,oldIndex:y,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(n){n=hs(n,Pn);const e=hs(n.firestore,fl);return zj(Fm(e),n._key).then((t=>ZA(e,n,t)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:Yn("string",Kl._jsonSchemaVersion),bundleSource:Yn("string","QuerySnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class Yv extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function Ln(n){n=hs(n,lc);const e=hs(n.firestore,fl),t=Fm(e),s=new Yv(e);return WA(n._query),Bj(t,n._query).then((o=>new Kl(e,s,n,o)))}function ga(n,e,t,...s){n=hs(n,Pn);const o=hs(n.firestore,fl),c=zv(o);let u;return u=typeof(e=xn(e))=="string"||e instanceof qm?Wj(c,"updateDoc",n._key,e,t,s):Qj(c,"updateDoc",n._key,e),Qv(o,[u.toMutation(n._key,Os.exists(!0))])}function JA(n){return Qv(hs(n.firestore,fl),[new vv(n._key,Os.none())])}function Kv(n,e){const t=hs(n.firestore,fl),s=Gt(n),o=nM(n.converter,e);return Qv(t,[Kj(zv(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Os.exists(!1))]).then((()=>s))}function rM(n,...e){n=xn(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(PT(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,u,p;if(n instanceof Pn)u=hs(n.firestore,fl),p=Om(n._key.path),c={next:v=>{e[s]&&e[s](ZA(u,n,v))},error:e[s+1],complete:e[s+2]};else{const v=hs(n,lc);u=hs(v.firestore,fl),p=v._query;const y=new Yv(u);c={next:E=>{e[s]&&e[s](new Kl(u,y,v,E))},error:e[s+1],complete:e[s+2]},WA(n._query)}return(function(y,E,S,x){const j=new Vv(x),Y=new Mv(E,j,S);return y.asyncQueue.enqueueAndForget((async()=>Ov(await dm(y),Y))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>kv(await dm(y),Y)))}})(Fm(u),p,o,c)}function Qv(n,e){return(function(s,o){const c=new to;return s.asyncQueue.enqueueAndForget((async()=>Ij(await Uj(s),o,c))),c.promise})(Fm(n),e)}function ZA(n,e,t){const s=t.docs.get(e._key),o=new Yv(n);return new Yl(n,o,e._key,s,new jh(t.hasPendingWrites,t.fromCache),e.converter)}function uu(){return new Bv("serverTimestamp")}(function(e,t=!0){(function(o){vu=o})(gu),js(new fs("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),p=new fl(new KO(s.getProvider("auth-internal")),new XO(u,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kh(y.options.projectId,E)})(u,o),u);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Er(zw,Bw,e),Er(zw,Bw,"esm2020")})();const eC="@firebase/installations",Wv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e4,nC=`w:${Wv}`,iC="FIS_v2",sM="https://firebaseinstallations.googleapis.com/v1",aM=3600*1e3,oM="installations",lM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ec=new ic(oM,lM,cM);function rC(n){return n instanceof va&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC({projectId:n}){return`${sM}/projects/${n}/installations`}function aC(n){return{token:n.token,requestStatus:2,expiresIn:hM(n.expiresIn),creationTime:Date.now()}}async function oC(n,e){const s=(await e.json()).error;return ec.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function lC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function uM(n,{refreshToken:e}){const t=lC(n);return t.append("Authorization",fM(e)),t}async function cC(n){const e=await n();return e.status>=500&&e.status<600?n():e}function hM(n){return Number(n.replace("s","000"))}function fM(n){return`${iC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=sC(n),o=lC(n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const u={fid:t,authVersion:iC,appId:n.appId,sdkVersion:nC},p={method:"POST",headers:o,body:JSON.stringify(u)},v=await cC(()=>fetch(s,p));if(v.ok){const y=await v.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:aC(y.authToken)}}else throw await oC("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=/^[cdef][\w-]{21}$/,Dy="";function gM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=yM(n);return pM.test(t)?t:Dy}catch{return Dy}}function yM(n){return mM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Map;function fC(n,e){const t=Ym(n);dC(t,e),vM(t,e)}function dC(n,e){const t=hC.get(n);if(t)for(const s of t)s(e)}function vM(n,e){const t=_M();t&&t.postMessage({key:n,fid:e}),bM()}let $l=null;function _M(){return!$l&&"BroadcastChannel"in self&&($l=new BroadcastChannel("[Firebase] FID Change"),$l.onmessage=n=>{dC(n.data.key,n.data.fid)}),$l}function bM(){hC.size===0&&$l&&($l.close(),$l=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="firebase-installations-database",wM=1,tc="firebase-installations-store";let Fg=null;function Xv(){return Fg||(Fg=wm(EM,wM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(tc)}}})),Fg}async function pm(n,e){const t=Ym(n),o=(await Xv()).transaction(tc,"readwrite"),c=o.objectStore(tc),u=await c.get(t);return await c.put(e,t),await o.done,(!u||u.fid!==e.fid)&&fC(n,e.fid),e}async function mC(n){const e=Ym(n),s=(await Xv()).transaction(tc,"readwrite");await s.objectStore(tc).delete(e),await s.done}async function Km(n,e){const t=Ym(n),o=(await Xv()).transaction(tc,"readwrite"),c=o.objectStore(tc),u=await c.get(t),p=e(u);return p===void 0?await c.delete(t):await c.put(p,t),await o.done,p&&(!u||u.fid!==p.fid)&&fC(n,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(n){let e;const t=await Km(n.appConfig,s=>{const o=TM(s),c=SM(n,o);return e=c.registrationPromise,c.installationEntry});return t.fid===Dy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function TM(n){const e=n||{fid:gM(),registrationStatus:0};return pC(e)}function SM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ec.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=AM(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CM(n)}:{installationEntry:e}}async function AM(n,e){try{const t=await dM(n,e);return pm(n.appConfig,t)}catch(t){throw rC(t)&&t.customData.serverCode===409?await mC(n.appConfig):await pm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function CM(n){let e=await UT(n.appConfig);for(;e.registrationStatus===1;)await uC(100),e=await UT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Jv(n);return s||t}return e}function UT(n){return Km(n,e=>{if(!e)throw ec.create("installation-not-found");return pC(e)})}function pC(n){return xM(n)?{fid:n.fid,registrationStatus:0}:n}function xM(n){return n.registrationStatus===1&&n.registrationTime+tC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM({appConfig:n,heartbeatServiceProvider:e},t){const s=DM(n,t),o=uM(n,t),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const u={installation:{sdkVersion:nC,appId:n.appId}},p={method:"POST",headers:o,body:JSON.stringify(u)},v=await cC(()=>fetch(s,p));if(v.ok){const y=await v.json();return aC(y)}else throw await oC("Generate Auth Token",v)}function DM(n,{fid:e}){return`${sC(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(n,e=!1){let t;const s=await Km(n.appConfig,c=>{if(!gC(c))throw ec.create("not-registered");const u=c.authToken;if(!e&&OM(u))return c;if(u.requestStatus===1)return t=NM(n,e),c;{if(!navigator.onLine)throw ec.create("app-offline");const p=jM(c);return t=RM(n,p),p}});return t?await t:s.authToken}async function NM(n,e){let t=await zT(n.appConfig);for(;t.authToken.requestStatus===1;)await uC(100),t=await zT(n.appConfig);const s=t.authToken;return s.requestStatus===0?Zv(n,e):s}function zT(n){return Km(n,e=>{if(!gC(e))throw ec.create("not-registered");const t=e.authToken;return MM(t)?{...e,authToken:{requestStatus:0}}:e})}async function RM(n,e){try{const t=await IM(n,e),s={...e,authToken:t};return await pm(n.appConfig,s),t}catch(t){if(rC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await mC(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await pm(n.appConfig,s)}throw t}}function gC(n){return n!==void 0&&n.registrationStatus===2}function OM(n){return n.requestStatus===2&&!kM(n)}function kM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+aM}function jM(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function MM(n){return n.requestStatus===1&&n.requestTime+tC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n){const e=n,{installationEntry:t,registrationPromise:s}=await Jv(e);return s?s.catch(console.error):Zv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(n,e=!1){const t=n;return await VM(t),(await Zv(t,e)).token}async function VM(n){const{registrationPromise:e}=await Jv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){if(!n||!n.options)throw qg("App Configuration");if(!n.name)throw qg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw qg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function qg(n){return ec.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="installations",zM="installations-internal",BM=n=>{const e=n.getProvider("app").getImmediate(),t=UM(e),s=pu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},FM=n=>{const e=n.getProvider("app").getImmediate(),t=pu(e,yC).getImmediate();return{getId:()=>PM(t),getToken:o=>LM(t,o)}};function qM(){js(new fs(yC,BM,"PUBLIC")),js(new fs(zM,FM,"PRIVATE"))}qM();Er(eC,Wv);Er(eC,Wv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="/firebase-messaging-sw.js",$M="/firebase-cloud-messaging-push-scope",vC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",GM="https://fcmregistrations.googleapis.com/v1",_C="google.c.a.c_id",YM="google.c.a.c_l",KM="google.c.a.ts",QM="google.c.a.e",BT=1e4;var FT;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(FT||(FT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Zh;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WM(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(t),o=new Uint8Array(s.length);for(let c=0;c<s.length;++c)o[c]=s.charCodeAt(c);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="fcm_token_details_db",XM=5,qT="fcm_token_object_Store";async function JM(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(c=>c.name).includes(Hg))return null;let e=null;return(await wm(Hg,XM,{upgrade:async(s,o,c,u)=>{if(o<2||!s.objectStoreNames.contains(qT))return;const p=u.objectStore(qT),v=await p.index("fcmSenderId").get(n);if(await p.clear(),!!v){if(o===2){const y=v;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:y.createTime??Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:typeof y.vapidKey=="string"?y.vapidKey:Wa(y.vapidKey)}}}else if(o===3){const y=v;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Wa(y.auth),p256dh:Wa(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Wa(y.vapidKey)}}}else if(o===4){const y=v;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Wa(y.auth),p256dh:Wa(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Wa(y.vapidKey)}}}}}})).close(),await Og(Hg),await Og("fcm_vapid_details_db"),await Og("undefined"),ZM(e)?e:null}function ZM(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebase-messaging-database",tP=1,ef="firebase-messaging-store";let $g=null;function bC(){return $g||($g=wm(eP,tP,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ef)}}})),$g}async function nP(n){const e=EC(n),s=await(await bC()).transaction(ef).objectStore(ef).get(e);if(s)return s;{const o=await JM(n.appConfig.senderId);if(o)return await e_(n,o),o}}async function e_(n,e){const t=EC(n),o=(await bC()).transaction(ef,"readwrite");return await o.objectStore(ef).put(e,t),await o.done,e}function EC({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xi=new ic("messaging","Messaging",iP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e){const t=await n_(n),s=wC(e),o={method:"POST",headers:t,body:JSON.stringify(s)};let c;try{c=await(await fetch(t_(n.appConfig),o)).json()}catch(u){throw Xi.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(c.error){const u=c.error.message;throw Xi.create("token-subscribe-failed",{errorInfo:u})}if(!c.token)throw Xi.create("token-subscribe-no-token");return c.token}async function sP(n,e){const t=await n_(n),s=wC(e.subscriptionOptions),o={method:"PATCH",headers:t,body:JSON.stringify(s)};let c;try{c=await(await fetch(`${t_(n.appConfig)}/${e.token}`,o)).json()}catch(u){throw Xi.create("token-update-failed",{errorInfo:u?.toString()})}if(c.error){const u=c.error.message;throw Xi.create("token-update-failed",{errorInfo:u})}if(!c.token)throw Xi.create("token-update-no-token");return c.token}async function aP(n,e){const s={method:"DELETE",headers:await n_(n)};try{const c=await(await fetch(`${t_(n.appConfig)}/${e}`,s)).json();if(c.error){const u=c.error.message;throw Xi.create("token-unsubscribe-failed",{errorInfo:u})}}catch(o){throw Xi.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function t_({projectId:n}){return`${GM}/projects/${n}/registrations`}async function n_({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function wC({p256dh:n,auth:e,endpoint:t,vapidKey:s}){const o={web:{endpoint:t,auth:e,p256dh:n}};return s!==vC&&(o.web.applicationPubKey=s),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=10080*60*1e3;async function lP(n){const e=await uP(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Wa(e.getKey("auth")),p256dh:Wa(e.getKey("p256dh"))},s=await nP(n.firebaseDependencies);if(s){if(hP(s.subscriptionOptions,t))return Date.now()>=s.createTime+oP?cP(n,{token:s.token,createTime:Date.now(),subscriptionOptions:t}):s.token;try{await aP(n.firebaseDependencies,s.token)}catch(o){console.warn(o)}return HT(n.firebaseDependencies,t)}else return HT(n.firebaseDependencies,t)}async function cP(n,e){try{const t=await sP(n.firebaseDependencies,e),s={...e,token:t,createTime:Date.now()};return await e_(n.firebaseDependencies,s),t}catch(t){throw t}}async function HT(n,e){const s={token:await rP(n,e),createTime:Date.now(),subscriptionOptions:e};return await e_(n,s),s.token}async function uP(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WM(e)})}function hP(n,e){const t=e.vapidKey===n.vapidKey,s=e.endpoint===n.endpoint,o=e.auth===n.auth,c=e.p256dh===n.p256dh;return t&&s&&o&&c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return fP(e,n),dP(e,n),mP(e,n),e}function fP(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const s=e.notification.body;s&&(n.notification.body=s);const o=e.notification.image;o&&(n.notification.image=o);const c=e.notification.icon;c&&(n.notification.icon=c)}function dP(n,e){e.data&&(n.data=e.data)}function mP(n,e){if(!e.fcmOptions&&!e.notification?.click_action)return;n.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(n.fcmOptions.link=t);const s=e.fcmOptions?.analytics_label;s&&(n.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){return typeof n=="object"&&!!n&&_C in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){if(!n||!n.options)throw Gg("App Configuration Object");if(!n.name)throw Gg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const s of e)if(!t[s])throw Gg(s);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function Gg(n){return Xi.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=gP(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n){try{n.swRegistration=await navigator.serviceWorker.register(HM,{scope:$M}),n.swRegistration.update().catch(()=>{}),await _P(n.swRegistration)}catch(e){throw Xi.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function _P(n){return new Promise((e,t)=>{const s=setTimeout(()=>t(new Error(`Service worker not registered after ${BT} ms`)),BT),o=n.installing||n.waiting;n.active?(clearTimeout(s),e()):o?o.onstatechange=c=>{c.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e){if(!e&&!n.swRegistration&&await vP(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Xi.create("invalid-sw-registration");n.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=vC)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e){if(!navigator)throw Xi.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Xi.create("permission-blocked");return await EP(n,e?.vapidKey),await bP(n,e?.serviceWorkerRegistration),lP(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(n,e,t){const s=SP(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:t[_C],message_name:t[YM],message_time:t[KM],message_device_time:Math.floor(Date.now()/1e3)})}function SP(n){switch(n){case Zh.NOTIFICATION_CLICKED:return"notification_open";case Zh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Zh.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler($T(t)):n.onMessageHandler.next($T(t)));const s=t.data;pP(s)&&s[QM]==="1"&&await TP(n,t.messageType,s)}const GT="@firebase/messaging",YT="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=n=>{const e=new yP(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>AP(e,t)),e},xP=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:s=>wP(e,s)}};function IP(){js(new fs("messaging",CP,"PUBLIC")),js(new fs("messaging-internal",xP,"PRIVATE")),Er(GT,YT),Er(GT,YT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(){try{await z0()}catch{return!1}return typeof window<"u"&&U0()&&fD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(n=Tm()){return DP().then(e=>{if(!e)throw Xi.create("unsupported-browser")},e=>{throw Xi.create("indexed-db-unsupported")}),pu(xn(n),"messaging").getImmediate()}IP();const RP={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},i_=yN().length?Tm():q0(RP),ya=HO(i_),Fe=qj(i_);let OP;try{OP=NP(i_)}catch(n){console.warn("Firebase Messaging not supported in this environment:",n)}const TC=U.createContext(),Ji=()=>U.useContext(TC);function kP({children:n}){const[e,t]=U.useState(null),[s,o]=U.useState(null),[c,u]=U.useState(!0);return U.useEffect(()=>{const p=kR(ya,async v=>{if(v){t(v);const y=await pa(Gt(Fe,"users",v.uid));y.exists()?o({uid:v.uid,...y.data()}):o({uid:v.uid})}else t(null),o(null);u(!1)});return()=>p()},[]),c?g.jsx("div",{className:"loading-screen",children:"Loading..."}):g.jsx(TC.Provider,{value:{user:e,profile:s,loading:c},children:n})}var SC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},KT=Gl.createContext&&Gl.createContext(SC),jP=["attr","size","title"];function MP(n,e){if(n==null)return{};var t=PP(n,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function PP(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function gm(){return gm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},gm.apply(this,arguments)}function QT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function ym(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(t),!0).forEach(function(s){LP(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QT(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function LP(n,e,t){return e=VP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VP(n){var e=UP(n,"string");return typeof e=="symbol"?e:e+""}function UP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AC(n){return n&&n.map((e,t)=>Gl.createElement(e.tag,ym({key:t},e.attr),AC(e.child)))}function zP(n){return e=>Gl.createElement(BP,gm({attr:ym({},n.attr)},e),AC(n.child))}function BP(n){var e=t=>{var{attr:s,size:o,title:c}=n,u=MP(n,jP),p=o||t.size||"1em",v;return t.className&&(v=t.className),n.className&&(v=(v?v+" ":"")+n.className),Gl.createElement("svg",gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:v,style:ym(ym({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Gl.createElement("title",null,c),n.children)};return KT!==void 0?Gl.createElement(KT.Consumer,null,t=>e(t)):e(SC)}function FP(n){return zP({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function CC(){const{user:n,profile:e}=Ji(),[t,s]=U.useState(0),[o,c]=U.useState(0);U.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]),U.useEffect(()=>{if(!n)return;const v=Gt(Fe,"users",n.uid),y=Vi(fn(Fe,"notifications"),Ui("recipientId","==",v)),E=rM(y,S=>{const x=S.docs.filter(Y=>!Y.data().read),j=x.length;if(j>o&&Notification.permission==="granted"&&x.length>0){const Y=x[0].data();new Notification("New Notification",{body:Y.message||"You have a new alert.",icon:"/icons/notification.png"})}c(j),s(j)});return()=>E()},[n,o]);const p=`/${e?.role?.toLowerCase()||"patient"}/notifications`;return g.jsxs(ls,{to:p,children:[" ",g.jsx(FP,{})," Notifications (",t,") "]})}function qP(){const{logout:n}=Ji(),e=nc(),t=async()=>{try{await ov(ya),e("/login")}catch(s){console.error("Error logging out:",s)}};return g.jsxs("aside",{className:"sidebar",children:[g.jsxs("h2",{className:"logo",children:[g.jsx("span",{className:"logo-salamat",children:"Salamat"}),g.jsx("span",{className:"logo-doc",children:"Doc"})]}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx(ls,{to:"/admin/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),g.jsx("li",{children:g.jsx("button",{className:"logout-btn",onClick:t,children:"Log out"})})]})]})}function HP(){const{user:n}=Ji(),e=nc(),t=async()=>{try{await ov(ya),e("/login")}catch(s){console.error("Error logging out:",s)}};return g.jsxs("aside",{className:"sidebar",children:[g.jsxs("h2",{className:"logo",children:[g.jsx("span",{className:"logo-salamat",children:"Salamat"}),g.jsx("span",{className:"logo-doc",children:"Doc"})]}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx(ls,{to:"/doctor/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),g.jsx("li",{children:g.jsx(CC,{})}),g.jsx("li",{children:g.jsx(ls,{to:"/doctor/patients",className:({isActive:s})=>s?"active":"",children:"Patients"})}),g.jsx("li",{children:g.jsx(ls,{to:"/doctor/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),g.jsx("li",{children:g.jsx(ls,{to:"/doctor/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),g.jsx("li",{children:g.jsx("button",{className:"logout-btn",onClick:t,children:"Log out"})})]})]})}function $P(){const{logout:n}=Ji(),e=nc(),t=async()=>{try{await ov(ya),e("/login")}catch(s){console.error("Error logging out:",s)}};return g.jsxs("aside",{className:"sidebar",children:[g.jsxs("h2",{className:"logo",children:[g.jsx("span",{className:"logo-salamat",children:"Salamat"}),g.jsx("span",{className:"logo-doc",children:"Doc"})]}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx(ls,{to:"/patient/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),g.jsx("li",{children:g.jsx(CC,{})}),g.jsx("li",{children:g.jsx(ls,{to:"/patient/dailies/medicine",className:({isActive:s})=>s?"active":"",children:"Dailies – Medicine"})}),g.jsx("li",{children:g.jsx(ls,{to:"/patient/dailies/food",className:({isActive:s})=>s?"active":"",children:"Dailies – Food"})}),g.jsx("li",{children:g.jsx(ls,{to:"/patient/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),g.jsx("li",{children:g.jsx(ls,{to:"/patient/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),g.jsx("li",{children:g.jsx("button",{className:"logout-btn",onClick:t,children:"Log out"})})]})]})}var Yd={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var GP=Yd.exports,WT;function YP(){return WT||(WT=1,(function(n,e){(function(t,s){n.exports=s()})(GP,function(){const t=new Map,s={set(A,d,b){t.has(A)||t.set(A,new Map);const I=t.get(A);I.has(d)||I.size===0?I.set(d,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(I.keys())[0]}.`)},get:(A,d)=>t.has(A)&&t.get(A).get(d)||null,remove(A,d){if(!t.has(A))return;const b=t.get(A);b.delete(d),b.size===0&&t.delete(A)}},o="transitionend",c=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,b)=>`#${CSS.escape(b)}`)),A),u=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),p=A=>{A.dispatchEvent(new Event(o))},v=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),y=A=>v(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(c(A)):null,E=A=>{if(!v(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",b=A.closest("details:not([open])");if(!b)return d;if(b!==A){const I=A.closest("summary");if(I&&I.parentNode!==b||I===null)return!1}return d},S=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),x=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?x(A.parentNode):null},j=()=>{},Y=A=>{A.offsetHeight},Q=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,B=[],P=()=>document.documentElement.dir==="rtl",H=A=>{var d;d=()=>{const b=Q();if(b){const I=A.NAME,q=b.fn[I];b.fn[I]=A.jQueryInterface,b.fn[I].Constructor=A,b.fn[I].noConflict=()=>(b.fn[I]=q,A.jQueryInterface)}},document.readyState==="loading"?(B.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of B)b()}),B.push(d)):d()},te=(A,d=[],b=A)=>typeof A=="function"?A.call(...d):b,ye=(A,d,b=!0)=>{if(!b)return void te(A);const I=(se=>{if(!se)return 0;let{transitionDuration:ge,transitionDelay:_e}=window.getComputedStyle(se);const Se=Number.parseFloat(ge),Ce=Number.parseFloat(_e);return Se||Ce?(ge=ge.split(",")[0],_e=_e.split(",")[0],1e3*(Number.parseFloat(ge)+Number.parseFloat(_e))):0})(d)+5;let q=!1;const G=({target:se})=>{se===d&&(q=!0,d.removeEventListener(o,G),te(A))};d.addEventListener(o,G),setTimeout(()=>{q||p(d)},I)},le=(A,d,b,I)=>{const q=A.length;let G=A.indexOf(d);return G===-1?!b&&I?A[q-1]:A[0]:(G+=b?1:-1,I&&(G=(G+q)%q),A[Math.max(0,Math.min(G,q-1))])},pe=/[^.]*(?=\..*)\.|.*/,k=/\..*/,O=/::\d+$/,M={};let L=1;const V={mouseenter:"mouseover",mouseleave:"mouseout"},$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(A,d){return d&&`${d}::${L++}`||A.uidEvent||L++}function fe(A){const d=R(A);return A.uidEvent=d,M[d]=M[d]||{},M[d]}function Oe(A,d,b=null){return Object.values(A).find(I=>I.callable===d&&I.delegationSelector===b)}function X(A,d,b){const I=typeof d=="string",q=I?b:d||b;let G=ke(A);return $.has(G)||(G=A),[I,q,G]}function re(A,d,b,I,q){if(typeof d!="string"||!A)return;let[G,se,ge]=X(d,b,I);d in V&&(se=(ze=>function(qe){if(!qe.relatedTarget||qe.relatedTarget!==qe.delegateTarget&&!qe.delegateTarget.contains(qe.relatedTarget))return ze.call(this,qe)})(se));const _e=fe(A),Se=_e[ge]||(_e[ge]={}),Ce=Oe(Se,se,G?b:null);if(Ce)return void(Ce.oneOff=Ce.oneOff&&q);const we=R(se,d.replace(pe,"")),Ye=G?(function(Ue,ze,qe){return function Pe(At){const Ot=Ue.querySelectorAll(ze);for(let{target:Ge}=At;Ge&&Ge!==this;Ge=Ge.parentNode)for(const nt of Ot)if(nt===Ge)return ae(At,{delegateTarget:Ge}),Pe.oneOff&&D.off(Ue,At.type,ze,qe),qe.apply(Ge,[At])}})(A,b,se):(function(Ue,ze){return function qe(Pe){return ae(Pe,{delegateTarget:Ue}),qe.oneOff&&D.off(Ue,Pe.type,ze),ze.apply(Ue,[Pe])}})(A,se);Ye.delegationSelector=G?b:null,Ye.callable=se,Ye.oneOff=q,Ye.uidEvent=we,Se[we]=Ye,A.addEventListener(ge,Ye,G)}function de(A,d,b,I,q){const G=Oe(d[b],I,q);G&&(A.removeEventListener(b,G,!!q),delete d[b][G.uidEvent])}function Ie(A,d,b,I){const q=d[b]||{};for(const[G,se]of Object.entries(q))G.includes(I)&&de(A,d,b,se.callable,se.delegationSelector)}function ke(A){return A=A.replace(k,""),V[A]||A}const D={on(A,d,b,I){re(A,d,b,I,!1)},one(A,d,b,I){re(A,d,b,I,!0)},off(A,d,b,I){if(typeof d!="string"||!A)return;const[q,G,se]=X(d,b,I),ge=se!==d,_e=fe(A),Se=_e[se]||{},Ce=d.startsWith(".");if(G===void 0){if(Ce)for(const we of Object.keys(_e))Ie(A,_e,we,d.slice(1));for(const[we,Ye]of Object.entries(Se)){const Ue=we.replace(O,"");ge&&!d.includes(Ue)||de(A,_e,se,Ye.callable,Ye.delegationSelector)}}else{if(!Object.keys(Se).length)return;de(A,_e,se,G,q?b:null)}},trigger(A,d,b){if(typeof d!="string"||!A)return null;const I=Q();let q=null,G=!0,se=!0,ge=!1;d!==ke(d)&&I&&(q=I.Event(d,b),I(A).trigger(q),G=!q.isPropagationStopped(),se=!q.isImmediatePropagationStopped(),ge=q.isDefaultPrevented());const _e=ae(new Event(d,{bubbles:G,cancelable:!0}),b);return ge&&_e.preventDefault(),se&&A.dispatchEvent(_e),_e.defaultPrevented&&q&&q.preventDefault(),_e}};function ae(A,d={}){for(const[b,I]of Object.entries(d))try{A[b]=I}catch{Object.defineProperty(A,b,{configurable:!0,get:()=>I})}return A}function ve(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function Te(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Re={setDataAttribute(A,d,b){A.setAttribute(`data-bs-${Te(d)}`,b)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${Te(d)}`)},getDataAttributes(A){if(!A)return{};const d={},b=Object.keys(A.dataset).filter(I=>I.startsWith("bs")&&!I.startsWith("bsConfig"));for(const I of b){let q=I.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1),d[q]=ve(A.dataset[I])}return d},getDataAttribute:(A,d)=>ve(A.getAttribute(`data-bs-${Te(d)}`))};class Le{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,b){const I=v(b)?Re.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof I=="object"?I:{},...v(b)?Re.getDataAttributes(b):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,b=this.constructor.DefaultType){for(const[I,q]of Object.entries(b)){const G=d[I],se=v(G)?"element":u(G);if(!new RegExp(q).test(se))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${I}" provided type "${se}" but expected type "${q}".`)}}}class Ve extends Le{constructor(d,b){super(),(d=y(d))&&(this._element=d,this._config=this._getConfig(b),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,b,I=!0){ye(d,b,I)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(y(d),this.DATA_KEY)}static getOrCreateInstance(d,b={}){return this.getInstance(d)||new this(d,typeof b=="object"?b:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Pt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let b=A.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),d=b&&b!=="#"?b.trim():null}return d?d.split(",").map(b=>c(b)).join(","):null},be={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(b=>b.matches(d)),parents(A,d){const b=[];let I=A.parentNode.closest(d);for(;I;)b.push(I),I=I.parentNode.closest(d);return b},prev(A,d){let b=A.previousElementSibling;for(;b;){if(b.matches(d))return[b];b=b.previousElementSibling}return[]},next(A,d){let b=A.nextElementSibling;for(;b;){if(b.matches(d))return[b];b=b.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(b=>!S(b)&&E(b))},getSelectorFromElement(A){const d=Pt(A);return d&&be.findOne(d)?d:null},getElementFromSelector(A){const d=Pt(A);return d?be.findOne(d):null},getMultipleElementsFromSelector(A){const d=Pt(A);return d?be.find(d):[]}},Ci=(A,d="hide")=>{const b=`click.dismiss${A.EVENT_KEY}`,I=A.NAME;D.on(document,b,`[data-bs-dismiss="${I}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),S(this))return;const G=be.getElementFromSelector(this)||this.closest(`.${I}`);A.getOrCreateInstance(G)[d]()})},wr=".bs.alert",Tr=`close${wr}`,Hr=`closed${wr}`;class lt extends Ve{static get NAME(){return"alert"}close(){if(D.trigger(this._element,Tr).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),D.trigger(this._element,Hr),this.dispose()}static jQueryInterface(d){return this.each(function(){const b=lt.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}Ci(lt,"close"),H(lt);const Zi='[data-bs-toggle="button"]';class Qt extends Ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const b=Qt.getOrCreateInstance(this);d==="toggle"&&b[d]()})}}D.on(document,"click.bs.button.data-api",Zi,A=>{A.preventDefault();const d=A.target.closest(Zi);Qt.getOrCreateInstance(d).toggle()}),H(Qt);const di=".bs.swipe",Vs=`touchstart${di}`,tn=`touchmove${di}`,mn=`touchend${di}`,$r=`pointerdown${di}`,yl=`pointerup${di}`,_a={endCallback:null,leftCallback:null,rightCallback:null},Kn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class er extends Le{constructor(d,b){super(),this._element=d,d&&er.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return _a}static get DefaultType(){return Kn}static get NAME(){return"swipe"}dispose(){D.off(this._element,di)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),te(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const b=d/this._deltaX;this._deltaX=0,b&&te(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,$r,d=>this._start(d)),D.on(this._element,yl,d=>this._end(d)),this._element.classList.add("pointer-event")):(D.on(this._element,Vs,d=>this._start(d)),D.on(this._element,tn,d=>this._move(d)),D.on(this._element,mn,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xi=".bs.carousel",Us=".data-api",Gr="ArrowLeft",ba="ArrowRight",Sr="next",tr="prev",Ar="left",In="right",_n=`slide${xi}`,ii=`slid${xi}`,Wt=`keydown${xi}`,Ea=`mouseenter${xi}`,Yr=`mouseleave${xi}`,uo=`dragstart${xi}`,zi=`load${xi}${Us}`,ms=`click${xi}${Us}`,Xt="carousel",Rt="active",zt=".active",Qn=".carousel-item",Lt=zt+Qn,mi={[Gr]:In,[ba]:Ar},nr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Cr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xr extends Ve{constructor(d,b){super(d,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=be.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xt&&this.cycle()}static get Default(){return nr}static get DefaultType(){return Cr}static get NAME(){return"carousel"}next(){this._slide(Sr)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(tr)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?D.one(this._element,ii,()=>this.cycle()):this.cycle())}to(d){const b=this._getItems();if(d>b.length-1||d<0)return;if(this._isSliding)return void D.one(this._element,ii,()=>this.to(d));const I=this._getItemIndex(this._getActive());if(I===d)return;const q=d>I?Sr:tr;this._slide(q,b[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&D.on(this._element,Wt,d=>this._keydown(d)),this._config.pause==="hover"&&(D.on(this._element,Ea,()=>this.pause()),D.on(this._element,Yr,()=>this._maybeEnableCycle())),this._config.touch&&er.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of be.find(".carousel-item img",this._element))D.on(b,uo,I=>I.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Ar)),rightCallback:()=>this._slide(this._directionToOrder(In)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new er(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const b=mi[d.key];b&&(d.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const b=be.findOne(zt,this._indicatorsElement);b.classList.remove(Rt),b.removeAttribute("aria-current");const I=be.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);I&&(I.classList.add(Rt),I.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const b=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(d,b=null){if(this._isSliding)return;const I=this._getActive(),q=d===Sr,G=b||le(this._getItems(),I,q,this._config.wrap);if(G===I)return;const se=this._getItemIndex(G),ge=we=>D.trigger(this._element,we,{relatedTarget:G,direction:this._orderToDirection(d),from:this._getItemIndex(I),to:se});if(ge(_n).defaultPrevented||!I||!G)return;const _e=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(se),this._activeElement=G;const Se=q?"carousel-item-start":"carousel-item-end",Ce=q?"carousel-item-next":"carousel-item-prev";G.classList.add(Ce),Y(G),I.classList.add(Se),G.classList.add(Se),this._queueCallback(()=>{G.classList.remove(Se,Ce),G.classList.add(Rt),I.classList.remove(Rt,Ce,Se),this._isSliding=!1,ge(ii)},I,this._isAnimated()),_e&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return be.findOne(Lt,this._element)}_getItems(){return be.find(Qn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return P()?d===Ar?tr:Sr:d===Ar?Sr:tr}_orderToDirection(d){return P()?d===tr?Ar:In:d===tr?In:Ar}static jQueryInterface(d){return this.each(function(){const b=xr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}}else b.to(d)})}}D.on(document,ms,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=be.getElementFromSelector(this);if(!d||!d.classList.contains(Xt))return;A.preventDefault();const b=xr.getOrCreateInstance(d),I=this.getAttribute("data-bs-slide-to");return I?(b.to(I),void b._maybeEnableCycle()):Re.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),D.on(window,zi,()=>{const A=be.find('[data-bs-ride="carousel"]');for(const d of A)xr.getOrCreateInstance(d)}),H(xr);const Ii=".bs.collapse",ps=`show${Ii}`,Kr=`shown${Ii}`,Ir=`hide${Ii}`,Bi=`hidden${Ii}`,zs=`click${Ii}.data-api`,pi="show",bn="collapse",Bt="collapsing",En=`:scope .${bn} .${bn}`,Di='[data-bs-toggle="collapse"]',Qe={parent:null,toggle:!0},Ft={parent:"(null|element)",toggle:"boolean"};class bt extends Ve{constructor(d,b){super(d,b),this._isTransitioning=!1,this._triggerArray=[];const I=be.find(Di);for(const q of I){const G=be.getSelectorFromElement(q),se=be.find(G).filter(ge=>ge===this._element);G!==null&&se.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Qe}static get DefaultType(){return Ft}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>bt.getOrCreateInstance(q,{toggle:!1}))),d.length&&d[0]._isTransitioning||D.trigger(this._element,ps).defaultPrevented)return;for(const q of d)q.hide();const b=this._getDimension();this._element.classList.remove(bn),this._element.classList.add(Bt),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(bn,pi),this._element.style[b]="",D.trigger(this._element,Kr)},this._element,!0),this._element.style[b]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,Ir).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,Y(this._element),this._element.classList.add(Bt),this._element.classList.remove(bn,pi);for(const b of this._triggerArray){const I=be.getElementFromSelector(b);I&&!this._isShown(I)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(bn),D.trigger(this._element,Bi)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(pi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=y(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Di);for(const b of d){const I=be.getElementFromSelector(b);I&&this._addAriaAndCollapsedClass([b],this._isShown(I))}}_getFirstLevelChildren(d){const b=be.find(En,this._config.parent);return be.find(d,this._config.parent).filter(I=>!b.includes(I))}_addAriaAndCollapsedClass(d,b){if(d.length)for(const I of d)I.classList.toggle("collapsed",!b),I.setAttribute("aria-expanded",b)}static jQueryInterface(d){const b={};return typeof d=="string"&&/show|hide/.test(d)&&(b.toggle=!1),this.each(function(){const I=bt.getOrCreateInstance(this,b);if(typeof d=="string"){if(I[d]===void 0)throw new TypeError(`No method named "${d}"`);I[d]()}})}}D.on(document,zs,Di,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of be.getMultipleElementsFromSelector(this))bt.getOrCreateInstance(d,{toggle:!1}).toggle()}),H(bt);var Et="top",ct="bottom",rn="right",qt="left",Wn="auto",Vn=[Et,ct,rn,qt],ri="start",Yt="end",ho="clippingParents",wa="viewport",gi="popper",Dr="reference",Ta=Vn.reduce(function(A,d){return A.concat([d+"-"+ri,d+"-"+Yt])},[]),Sa=[].concat(Vn,[Wn]).reduce(function(A,d){return A.concat([d,d+"-"+ri,d+"-"+Yt])},[]),fo="beforeRead",vl="read",Aa="afterRead",Ni="beforeMain",pn="main",Dn="afterMain",gs="beforeWrite",mo="write",wt="afterWrite",Bs=[fo,vl,Aa,Ni,pn,Dn,gs,mo,wt];function Nn(A){return A?(A.nodeName||"").toLowerCase():null}function Rn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function wn(A){return A instanceof Rn(A).Element||A instanceof Element}function Xn(A){return A instanceof Rn(A).HTMLElement||A instanceof HTMLElement}function po(A){return typeof ShadowRoot<"u"&&(A instanceof Rn(A).ShadowRoot||A instanceof ShadowRoot)}const Ca={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(b){var I=d.styles[b]||{},q=d.attributes[b]||{},G=d.elements[b];Xn(G)&&Nn(G)&&(Object.assign(G.style,I),Object.keys(q).forEach(function(se){var ge=q[se];ge===!1?G.removeAttribute(se):G.setAttribute(se,ge===!0?"":ge)}))})},effect:function(A){var d=A.state,b={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,b.popper),d.styles=b,d.elements.arrow&&Object.assign(d.elements.arrow.style,b.arrow),function(){Object.keys(d.elements).forEach(function(I){var q=d.elements[I],G=d.attributes[I]||{},se=Object.keys(d.styles.hasOwnProperty(I)?d.styles[I]:b[I]).reduce(function(ge,_e){return ge[_e]="",ge},{});Xn(q)&&Nn(q)&&(Object.assign(q.style,se),Object.keys(G).forEach(function(ge){q.removeAttribute(ge)}))})}},requires:["computeStyles"]};function Jn(A){return A.split("-")[0]}var Qr=Math.max,Nr=Math.min,On=Math.round;function go(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function yo(){return!/^((?!chrome|android).)*safari/i.test(go())}function Wr(A,d,b){d===void 0&&(d=!1),b===void 0&&(b=!1);var I=A.getBoundingClientRect(),q=1,G=1;d&&Xn(A)&&(q=A.offsetWidth>0&&On(I.width)/A.offsetWidth||1,G=A.offsetHeight>0&&On(I.height)/A.offsetHeight||1);var se=(wn(A)?Rn(A):window).visualViewport,ge=!yo()&&b,_e=(I.left+(ge&&se?se.offsetLeft:0))/q,Se=(I.top+(ge&&se?se.offsetTop:0))/G,Ce=I.width/q,we=I.height/G;return{width:Ce,height:we,top:Se,right:_e+Ce,bottom:Se+we,left:_e,x:_e,y:Se}}function Fs(A){var d=Wr(A),b=A.offsetWidth,I=A.offsetHeight;return Math.abs(d.width-b)<=1&&(b=d.width),Math.abs(d.height-I)<=1&&(I=d.height),{x:A.offsetLeft,y:A.offsetTop,width:b,height:I}}function _l(A,d){var b=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(b&&po(b)){var I=d;do{if(I&&A.isSameNode(I))return!0;I=I.parentNode||I.host}while(I)}return!1}function si(A){return Rn(A).getComputedStyle(A)}function vo(A){return["table","td","th"].indexOf(Nn(A))>=0}function Un(A){return((wn(A)?A.ownerDocument:A.document)||window.document).documentElement}function qs(A){return Nn(A)==="html"?A:A.assignedSlot||A.parentNode||(po(A)?A.host:null)||Un(A)}function Fi(A){return Xn(A)&&si(A).position!=="fixed"?A.offsetParent:null}function ir(A){for(var d=Rn(A),b=Fi(A);b&&vo(b)&&si(b).position==="static";)b=Fi(b);return b&&(Nn(b)==="html"||Nn(b)==="body"&&si(b).position==="static")?d:b||(function(I){var q=/firefox/i.test(go());if(/Trident/i.test(go())&&Xn(I)&&si(I).position==="fixed")return null;var G=qs(I);for(po(G)&&(G=G.host);Xn(G)&&["html","body"].indexOf(Nn(G))<0;){var se=si(G);if(se.transform!=="none"||se.perspective!=="none"||se.contain==="paint"||["transform","perspective"].indexOf(se.willChange)!==-1||q&&se.willChange==="filter"||q&&se.filter&&se.filter!=="none")return G;G=G.parentNode}return null})(A)||d}function rr(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function Rr(A,d,b){return Qr(A,Nr(d,b))}function xa(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function ys(A,d){return d.reduce(function(b,I){return b[I]=A,b},{})}const sr={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,b=A.state,I=A.name,q=A.options,G=b.elements.arrow,se=b.modifiersData.popperOffsets,ge=Jn(b.placement),_e=rr(ge),Se=[qt,rn].indexOf(ge)>=0?"height":"width";if(G&&se){var Ce=(function(gt,pt){return xa(typeof(gt=typeof gt=="function"?gt(Object.assign({},pt.rects,{placement:pt.placement})):gt)!="number"?gt:ys(gt,Vn))})(q.padding,b),we=Fs(G),Ye=_e==="y"?Et:qt,Ue=_e==="y"?ct:rn,ze=b.rects.reference[Se]+b.rects.reference[_e]-se[_e]-b.rects.popper[Se],qe=se[_e]-b.rects.reference[_e],Pe=ir(G),At=Pe?_e==="y"?Pe.clientHeight||0:Pe.clientWidth||0:0,Ot=ze/2-qe/2,Ge=Ce[Ye],nt=At-we[Se]-Ce[Ue],Ke=At/2-we[Se]/2+Ot,rt=Rr(Ge,Ke,nt),vt=_e;b.modifiersData[I]=((d={})[vt]=rt,d.centerOffset=rt-Ke,d)}},effect:function(A){var d=A.state,b=A.options.element,I=b===void 0?"[data-popper-arrow]":b;I!=null&&(typeof I!="string"||(I=d.elements.popper.querySelector(I)))&&_l(d.elements.popper,I)&&(d.elements.arrow=I)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zn(A){return A.split("-")[1]}var Ia={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dt(A){var d,b=A.popper,I=A.popperRect,q=A.placement,G=A.variation,se=A.offsets,ge=A.position,_e=A.gpuAcceleration,Se=A.adaptive,Ce=A.roundOffsets,we=A.isFixed,Ye=se.x,Ue=Ye===void 0?0:Ye,ze=se.y,qe=ze===void 0?0:ze,Pe=typeof Ce=="function"?Ce({x:Ue,y:qe}):{x:Ue,y:qe};Ue=Pe.x,qe=Pe.y;var At=se.hasOwnProperty("x"),Ot=se.hasOwnProperty("y"),Ge=qt,nt=Et,Ke=window;if(Se){var rt=ir(b),vt="clientHeight",gt="clientWidth";rt===Rn(b)&&si(rt=Un(b)).position!=="static"&&ge==="absolute"&&(vt="scrollHeight",gt="scrollWidth"),(q===Et||(q===qt||q===rn)&&G===Yt)&&(nt=ct,qe-=(we&&rt===Ke&&Ke.visualViewport?Ke.visualViewport.height:rt[vt])-I.height,qe*=_e?1:-1),q!==qt&&(q!==Et&&q!==ct||G!==Yt)||(Ge=rn,Ue-=(we&&rt===Ke&&Ke.visualViewport?Ke.visualViewport.width:rt[gt])-I.width,Ue*=_e?1:-1)}var pt,sn=Object.assign({position:ge},Se&&Ia),Ri=Ce===!0?(function(ci,Fn){var Ki=ci.x,Oi=ci.y,Jt=Fn.devicePixelRatio||1;return{x:On(Ki*Jt)/Jt||0,y:On(Oi*Jt)/Jt||0}})({x:Ue,y:qe},Rn(b)):{x:Ue,y:qe};return Ue=Ri.x,qe=Ri.y,_e?Object.assign({},sn,((pt={})[nt]=Ot?"0":"",pt[Ge]=At?"0":"",pt.transform=(Ke.devicePixelRatio||1)<=1?"translate("+Ue+"px, "+qe+"px)":"translate3d("+Ue+"px, "+qe+"px, 0)",pt)):Object.assign({},sn,((d={})[nt]=Ot?qe+"px":"",d[Ge]=At?Ue+"px":"",d.transform="",d))}const ar={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,b=A.options,I=b.gpuAcceleration,q=I===void 0||I,G=b.adaptive,se=G===void 0||G,ge=b.roundOffsets,_e=ge===void 0||ge,Se={placement:Jn(d.placement),variation:Zn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:q,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Dt(Object.assign({},Se,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:se,roundOffsets:_e})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Dt(Object.assign({},Se,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Hs={passive:!0};const vs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,b=A.instance,I=A.options,q=I.scroll,G=q===void 0||q,se=I.resize,ge=se===void 0||se,_e=Rn(d.elements.popper),Se=[].concat(d.scrollParents.reference,d.scrollParents.popper);return G&&Se.forEach(function(Ce){Ce.addEventListener("scroll",b.update,Hs)}),ge&&_e.addEventListener("resize",b.update,Hs),function(){G&&Se.forEach(function(Ce){Ce.removeEventListener("scroll",b.update,Hs)}),ge&&_e.removeEventListener("resize",b.update,Hs)}},data:{}};var bl={left:"right",right:"left",bottom:"top",top:"bottom"};function Xr(A){return A.replace(/left|right|bottom|top/g,function(d){return bl[d]})}var _s={start:"end",end:"start"};function or(A){return A.replace(/start|end/g,function(d){return _s[d]})}function kn(A){var d=Rn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Or(A){return Wr(Un(A)).left+kn(A).scrollLeft}function lr(A){var d=si(A),b=d.overflow,I=d.overflowX,q=d.overflowY;return/auto|scroll|overlay|hidden/.test(b+q+I)}function bs(A){return["html","body","#document"].indexOf(Nn(A))>=0?A.ownerDocument.body:Xn(A)&&lr(A)?A:bs(qs(A))}function Es(A,d){var b;d===void 0&&(d=[]);var I=bs(A),q=I===((b=A.ownerDocument)==null?void 0:b.body),G=Rn(I),se=q?[G].concat(G.visualViewport||[],lr(I)?I:[]):I,ge=d.concat(se);return q?ge:ge.concat(Es(qs(se)))}function Jr(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Da(A,d,b){return d===wa?Jr((function(I,q){var G=Rn(I),se=Un(I),ge=G.visualViewport,_e=se.clientWidth,Se=se.clientHeight,Ce=0,we=0;if(ge){_e=ge.width,Se=ge.height;var Ye=yo();(Ye||!Ye&&q==="fixed")&&(Ce=ge.offsetLeft,we=ge.offsetTop)}return{width:_e,height:Se,x:Ce+Or(I),y:we}})(A,b)):wn(d)?(function(I,q){var G=Wr(I,!1,q==="fixed");return G.top=G.top+I.clientTop,G.left=G.left+I.clientLeft,G.bottom=G.top+I.clientHeight,G.right=G.left+I.clientWidth,G.width=I.clientWidth,G.height=I.clientHeight,G.x=G.left,G.y=G.top,G})(d,b):Jr((function(I){var q,G=Un(I),se=kn(I),ge=(q=I.ownerDocument)==null?void 0:q.body,_e=Qr(G.scrollWidth,G.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),Se=Qr(G.scrollHeight,G.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),Ce=-se.scrollLeft+Or(I),we=-se.scrollTop;return si(ge||G).direction==="rtl"&&(Ce+=Qr(G.clientWidth,ge?ge.clientWidth:0)-_e),{width:_e,height:Se,x:Ce,y:we}})(Un(A)))}function kr(A){var d,b=A.reference,I=A.element,q=A.placement,G=q?Jn(q):null,se=q?Zn(q):null,ge=b.x+b.width/2-I.width/2,_e=b.y+b.height/2-I.height/2;switch(G){case Et:d={x:ge,y:b.y-I.height};break;case ct:d={x:ge,y:b.y+b.height};break;case rn:d={x:b.x+b.width,y:_e};break;case qt:d={x:b.x-I.width,y:_e};break;default:d={x:b.x,y:b.y}}var Se=G?rr(G):null;if(Se!=null){var Ce=Se==="y"?"height":"width";switch(se){case ri:d[Se]=d[Se]-(b[Ce]/2-I[Ce]/2);break;case Yt:d[Se]=d[Se]+(b[Ce]/2-I[Ce]/2)}}return d}function jr(A,d){d===void 0&&(d={});var b=d,I=b.placement,q=I===void 0?A.placement:I,G=b.strategy,se=G===void 0?A.strategy:G,ge=b.boundary,_e=ge===void 0?ho:ge,Se=b.rootBoundary,Ce=Se===void 0?wa:Se,we=b.elementContext,Ye=we===void 0?gi:we,Ue=b.altBoundary,ze=Ue!==void 0&&Ue,qe=b.padding,Pe=qe===void 0?0:qe,At=xa(typeof Pe!="number"?Pe:ys(Pe,Vn)),Ot=Ye===gi?Dr:gi,Ge=A.rects.popper,nt=A.elements[ze?Ot:Ye],Ke=(function(Fn,Ki,Oi,Jt){var an=Ki==="clippingParents"?(function(kt){var on=Es(qs(kt)),Zt=["absolute","fixed"].indexOf(si(kt).position)>=0&&Xn(kt)?ir(kt):kt;return wn(Zt)?on.filter(function(jt){return wn(jt)&&_l(jt,Zt)&&Nn(jt)!=="body"}):[]})(Fn):[].concat(Ki),yn=[].concat(an,[Oi]),Qi=yn[0],Sn=yn.reduce(function(kt,on){var Zt=Da(Fn,on,Jt);return kt.top=Qr(Zt.top,kt.top),kt.right=Nr(Zt.right,kt.right),kt.bottom=Nr(Zt.bottom,kt.bottom),kt.left=Qr(Zt.left,kt.left),kt},Da(Fn,Qi,Jt));return Sn.width=Sn.right-Sn.left,Sn.height=Sn.bottom-Sn.top,Sn.x=Sn.left,Sn.y=Sn.top,Sn})(wn(nt)?nt:nt.contextElement||Un(A.elements.popper),_e,Ce,se),rt=Wr(A.elements.reference),vt=kr({reference:rt,element:Ge,placement:q}),gt=Jr(Object.assign({},Ge,vt)),pt=Ye===gi?gt:rt,sn={top:Ke.top-pt.top+At.top,bottom:pt.bottom-Ke.bottom+At.bottom,left:Ke.left-pt.left+At.left,right:pt.right-Ke.right+At.right},Ri=A.modifiersData.offset;if(Ye===gi&&Ri){var ci=Ri[q];Object.keys(sn).forEach(function(Fn){var Ki=[rn,ct].indexOf(Fn)>=0?1:-1,Oi=[Et,ct].indexOf(Fn)>=0?"y":"x";sn[Fn]+=ci[Oi]*Ki})}return sn}function El(A,d){d===void 0&&(d={});var b=d,I=b.placement,q=b.boundary,G=b.rootBoundary,se=b.padding,ge=b.flipVariations,_e=b.allowedAutoPlacements,Se=_e===void 0?Sa:_e,Ce=Zn(I),we=Ce?ge?Ta:Ta.filter(function(ze){return Zn(ze)===Ce}):Vn,Ye=we.filter(function(ze){return Se.indexOf(ze)>=0});Ye.length===0&&(Ye=we);var Ue=Ye.reduce(function(ze,qe){return ze[qe]=jr(A,{placement:qe,boundary:q,rootBoundary:G,padding:se})[Jn(qe)],ze},{});return Object.keys(Ue).sort(function(ze,qe){return Ue[ze]-Ue[qe]})}const $s={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,I=A.name;if(!d.modifiersData[I]._skip){for(var q=b.mainAxis,G=q===void 0||q,se=b.altAxis,ge=se===void 0||se,_e=b.fallbackPlacements,Se=b.padding,Ce=b.boundary,we=b.rootBoundary,Ye=b.altBoundary,Ue=b.flipVariations,ze=Ue===void 0||Ue,qe=b.allowedAutoPlacements,Pe=d.options.placement,At=Jn(Pe),Ot=_e||(At!==Pe&&ze?(function(kt){if(Jn(kt)===Wn)return[];var on=Xr(kt);return[or(kt),on,or(on)]})(Pe):[Xr(Pe)]),Ge=[Pe].concat(Ot).reduce(function(kt,on){return kt.concat(Jn(on)===Wn?El(d,{placement:on,boundary:Ce,rootBoundary:we,padding:Se,flipVariations:ze,allowedAutoPlacements:qe}):on)},[]),nt=d.rects.reference,Ke=d.rects.popper,rt=new Map,vt=!0,gt=Ge[0],pt=0;pt<Ge.length;pt++){var sn=Ge[pt],Ri=Jn(sn),ci=Zn(sn)===ri,Fn=[Et,ct].indexOf(Ri)>=0,Ki=Fn?"width":"height",Oi=jr(d,{placement:sn,boundary:Ce,rootBoundary:we,altBoundary:Ye,padding:Se}),Jt=Fn?ci?rn:qt:ci?ct:Et;nt[Ki]>Ke[Ki]&&(Jt=Xr(Jt));var an=Xr(Jt),yn=[];if(G&&yn.push(Oi[Ri]<=0),ge&&yn.push(Oi[Jt]<=0,Oi[an]<=0),yn.every(function(kt){return kt})){gt=sn,vt=!1;break}rt.set(sn,yn)}if(vt)for(var Qi=function(kt){var on=Ge.find(function(Zt){var jt=rt.get(Zt);if(jt)return jt.slice(0,kt).every(function(La){return La})});if(on)return gt=on,"break"},Sn=ze?3:1;Sn>0&&Qi(Sn)!=="break";Sn--);d.placement!==gt&&(d.modifiersData[I]._skip=!0,d.placement=gt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wl(A,d,b){return b===void 0&&(b={x:0,y:0}),{top:A.top-d.height-b.y,right:A.right-d.width+b.x,bottom:A.bottom-d.height+b.y,left:A.left-d.width-b.x}}function Tl(A){return[Et,rn,ct,qt].some(function(d){return A[d]>=0})}const Gs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,b=A.name,I=d.rects.reference,q=d.rects.popper,G=d.modifiersData.preventOverflow,se=jr(d,{elementContext:"reference"}),ge=jr(d,{altBoundary:!0}),_e=wl(se,I),Se=wl(ge,q,G),Ce=Tl(_e),we=Tl(Se);d.modifiersData[b]={referenceClippingOffsets:_e,popperEscapeOffsets:Se,isReferenceHidden:Ce,hasPopperEscaped:we},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ce,"data-popper-escaped":we})}},_o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,b=A.options,I=A.name,q=b.offset,G=q===void 0?[0,0]:q,se=Sa.reduce(function(Ce,we){return Ce[we]=(function(Ye,Ue,ze){var qe=Jn(Ye),Pe=[qt,Et].indexOf(qe)>=0?-1:1,At=typeof ze=="function"?ze(Object.assign({},Ue,{placement:Ye})):ze,Ot=At[0],Ge=At[1];return Ot=Ot||0,Ge=(Ge||0)*Pe,[qt,rn].indexOf(qe)>=0?{x:Ge,y:Ot}:{x:Ot,y:Ge}})(we,d.rects,G),Ce},{}),ge=se[d.placement],_e=ge.x,Se=ge.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=_e,d.modifiersData.popperOffsets.y+=Se),d.modifiersData[I]=se}},bo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,b=A.name;d.modifiersData[b]=kr({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Na={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,I=A.name,q=b.mainAxis,G=q===void 0||q,se=b.altAxis,ge=se!==void 0&&se,_e=b.boundary,Se=b.rootBoundary,Ce=b.altBoundary,we=b.padding,Ye=b.tether,Ue=Ye===void 0||Ye,ze=b.tetherOffset,qe=ze===void 0?0:ze,Pe=jr(d,{boundary:_e,rootBoundary:Se,padding:we,altBoundary:Ce}),At=Jn(d.placement),Ot=Zn(d.placement),Ge=!Ot,nt=rr(At),Ke=nt==="x"?"y":"x",rt=d.modifiersData.popperOffsets,vt=d.rects.reference,gt=d.rects.popper,pt=typeof qe=="function"?qe(Object.assign({},d.rects,{placement:d.placement})):qe,sn=typeof pt=="number"?{mainAxis:pt,altAxis:pt}:Object.assign({mainAxis:0,altAxis:0},pt),Ri=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ci={x:0,y:0};if(rt){if(G){var Fn,Ki=nt==="y"?Et:qt,Oi=nt==="y"?ct:rn,Jt=nt==="y"?"height":"width",an=rt[nt],yn=an+Pe[Ki],Qi=an-Pe[Oi],Sn=Ue?-gt[Jt]/2:0,kt=Ot===ri?vt[Jt]:gt[Jt],on=Ot===ri?-gt[Jt]:-vt[Jt],Zt=d.elements.arrow,jt=Ue&&Zt?Fs(Zt):{width:0,height:0},La=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ss=La[Ki],Xe=La[Oi],_t=Rr(0,vt[Jt],jt[Jt]),An=Ge?vt[Jt]/2-Sn-_t-ss-sn.mainAxis:kt-_t-ss-sn.mainAxis,Sc=Ge?-vt[Jt]/2+Sn+_t+Xe+sn.mainAxis:on+_t+Xe+sn.mainAxis,ia=d.elements.arrow&&ir(d.elements.arrow),Va=ia?nt==="y"?ia.clientTop||0:ia.clientLeft||0:0,Ml=(Fn=Ri?.[nt])!=null?Fn:0,Pl=an+Sc-Ml,Ua=Rr(Ue?Nr(yn,an+An-Ml-Va):yn,an,Ue?Qr(Qi,Pl):Qi);rt[nt]=Ua,ci[nt]=Ua-an}if(ge){var Bf,ln=nt==="x"?Et:qt,eh=nt==="x"?ct:rn,Is=rt[Ke],Ll=Ke==="y"?"height":"width",th=Is+Pe[ln],Ff=Is-Pe[eh],Vl=[Et,qt].indexOf(At)!==-1,Ac=(Bf=Ri?.[Ke])!=null?Bf:0,Cc=Vl?th:Is-vt[Ll]-gt[Ll]-Ac+sn.altAxis,ui=Vl?Is+vt[Ll]+gt[Ll]-Ac-sn.altAxis:Ff,cn=Ue&&Vl?(function(xc,Ul,Po){var Ic=Rr(xc,Ul,Po);return Ic>Po?Po:Ic})(Cc,Is,ui):Rr(Ue?Cc:th,Is,Ue?ui:Ff);rt[Ke]=cn,ci[Ke]=cn-Is}d.modifiersData[I]=ci}},requiresIfExists:["offset"]};function hc(A,d,b){b===void 0&&(b=!1);var I,q,G=Xn(d),se=Xn(d)&&(function(we){var Ye=we.getBoundingClientRect(),Ue=On(Ye.width)/we.offsetWidth||1,ze=On(Ye.height)/we.offsetHeight||1;return Ue!==1||ze!==1})(d),ge=Un(d),_e=Wr(A,se,b),Se={scrollLeft:0,scrollTop:0},Ce={x:0,y:0};return(G||!G&&!b)&&((Nn(d)!=="body"||lr(ge))&&(Se=(I=d)!==Rn(I)&&Xn(I)?{scrollLeft:(q=I).scrollLeft,scrollTop:q.scrollTop}:kn(I)),Xn(d)?((Ce=Wr(d,!0)).x+=d.clientLeft,Ce.y+=d.clientTop):ge&&(Ce.x=Or(ge))),{x:_e.left+Se.scrollLeft-Ce.x,y:_e.top+Se.scrollTop-Ce.y,width:_e.width,height:_e.height}}function fc(A){var d=new Map,b=new Set,I=[];function q(G){b.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(se){if(!b.has(se)){var ge=d.get(se);ge&&q(ge)}}),I.push(G)}return A.forEach(function(G){d.set(G.name,G)}),A.forEach(function(G){b.has(G.name)||q(G)}),I}var Mr={placement:"bottom",modifiers:[],strategy:"absolute"};function Sl(){for(var A=arguments.length,d=new Array(A),b=0;b<A;b++)d[b]=arguments[b];return!d.some(function(I){return!(I&&typeof I.getBoundingClientRect=="function")})}function Ra(A){A===void 0&&(A={});var d=A,b=d.defaultModifiers,I=b===void 0?[]:b,q=d.defaultOptions,G=q===void 0?Mr:q;return function(se,ge,_e){_e===void 0&&(_e=G);var Se,Ce,we={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mr,G),modifiersData:{},elements:{reference:se,popper:ge},attributes:{},styles:{}},Ye=[],Ue=!1,ze={state:we,setOptions:function(Pe){var At=typeof Pe=="function"?Pe(we.options):Pe;qe(),we.options=Object.assign({},G,we.options,At),we.scrollParents={reference:wn(se)?Es(se):se.contextElement?Es(se.contextElement):[],popper:Es(ge)};var Ot,Ge,nt=(function(Ke){var rt=fc(Ke);return Bs.reduce(function(vt,gt){return vt.concat(rt.filter(function(pt){return pt.phase===gt}))},[])})((Ot=[].concat(I,we.options.modifiers),Ge=Ot.reduce(function(Ke,rt){var vt=Ke[rt.name];return Ke[rt.name]=vt?Object.assign({},vt,rt,{options:Object.assign({},vt.options,rt.options),data:Object.assign({},vt.data,rt.data)}):rt,Ke},{}),Object.keys(Ge).map(function(Ke){return Ge[Ke]})));return we.orderedModifiers=nt.filter(function(Ke){return Ke.enabled}),we.orderedModifiers.forEach(function(Ke){var rt=Ke.name,vt=Ke.options,gt=vt===void 0?{}:vt,pt=Ke.effect;if(typeof pt=="function"){var sn=pt({state:we,name:rt,instance:ze,options:gt});Ye.push(sn||function(){})}}),ze.update()},forceUpdate:function(){if(!Ue){var Pe=we.elements,At=Pe.reference,Ot=Pe.popper;if(Sl(At,Ot)){we.rects={reference:hc(At,ir(Ot),we.options.strategy==="fixed"),popper:Fs(Ot)},we.reset=!1,we.placement=we.options.placement,we.orderedModifiers.forEach(function(pt){return we.modifiersData[pt.name]=Object.assign({},pt.data)});for(var Ge=0;Ge<we.orderedModifiers.length;Ge++)if(we.reset!==!0){var nt=we.orderedModifiers[Ge],Ke=nt.fn,rt=nt.options,vt=rt===void 0?{}:rt,gt=nt.name;typeof Ke=="function"&&(we=Ke({state:we,options:vt,name:gt,instance:ze})||we)}else we.reset=!1,Ge=-1}}},update:(Se=function(){return new Promise(function(Pe){ze.forceUpdate(),Pe(we)})},function(){return Ce||(Ce=new Promise(function(Pe){Promise.resolve().then(function(){Ce=void 0,Pe(Se())})})),Ce}),destroy:function(){qe(),Ue=!0}};if(!Sl(se,ge))return ze;function qe(){Ye.forEach(function(Pe){return Pe()}),Ye=[]}return ze.setOptions(_e).then(function(Pe){!Ue&&_e.onFirstUpdate&&_e.onFirstUpdate(Pe)}),ze}}var dc=Ra(),mc=Ra({defaultModifiers:[vs,bo,ar,Ca]}),Zr=Ra({defaultModifiers:[vs,bo,ar,Ca,_o,$s,Na,sr,Gs]});const ai=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Dn,afterRead:Aa,afterWrite:wt,applyStyles:Ca,arrow:sr,auto:Wn,basePlacements:Vn,beforeMain:Ni,beforeRead:fo,beforeWrite:gs,bottom:ct,clippingParents:ho,computeStyles:ar,createPopper:Zr,createPopperBase:dc,createPopperLite:mc,detectOverflow:jr,end:Yt,eventListeners:vs,flip:$s,hide:Gs,left:qt,main:pn,modifierPhases:Bs,offset:_o,placements:Sa,popper:gi,popperGenerator:Ra,popperOffsets:bo,preventOverflow:Na,read:vl,reference:Dr,right:rn,start:ri,top:Et,variationPlacements:Ta,viewport:wa,write:mo},Symbol.toStringTag,{value:"Module"})),Al="dropdown",es=".bs.dropdown",Pr=".data-api",h="ArrowUp",_="ArrowDown",T=`hide${es}`,N=`hidden${es}`,W=`show${es}`,ne=`shown${es}`,Ee=`click${es}${Pr}`,We=`keydown${es}${Pr}`,gn=`keyup${es}${Pr}`,st="show",Tt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',cr=`${Tt}.${st}`,qi=".dropdown-menu",Lr=P()?"top-end":"top-start",Vr=P()?"top-start":"top-end",Oa=P()?"bottom-end":"bottom-start",Eo=P()?"bottom-start":"bottom-end",wo=P()?"left-start":"right-start",np=P()?"right-start":"left-start",ip={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rp={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ur extends Ve{constructor(d,b){super(d,b),this._popper=null,this._parent=this._element.parentNode,this._menu=be.next(this._element,qi)[0]||be.prev(this._element,qi)[0]||be.findOne(qi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ip}static get DefaultType(){return rp}static get NAME(){return Al}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!D.trigger(this._element,W,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))D.on(b,"mouseover",j);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(st),this._element.classList.add(st),D.trigger(this._element,ne,d)}}hide(){if(S(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!D.trigger(this._element,T,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))D.off(b,"mouseover",j);this._popper&&this._popper.destroy(),this._menu.classList.remove(st),this._element.classList.remove(st),this._element.setAttribute("aria-expanded","false"),Re.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,N,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!v(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Al.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(ai===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:v(this._config.reference)?d=y(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const b=this._getPopperConfig();this._popper=Zr(d,this._menu,b)}_isShown(){return this._menu.classList.contains(st)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return wo;if(d.classList.contains("dropstart"))return np;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?b?Vr:Lr:b?Eo:Oa}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Re.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...te(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:b}){const I=be.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>E(q));I.length&&le(I,b,d===_,!I.includes(b)).focus()}static jQueryInterface(d){return this.each(function(){const b=ur.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const b=be.find(cr);for(const I of b){const q=ur.getInstance(I);if(!q||q._config.autoClose===!1)continue;const G=d.composedPath(),se=G.includes(q._menu);if(G.includes(q._element)||q._config.autoClose==="inside"&&!se||q._config.autoClose==="outside"&&se||q._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ge={relatedTarget:q._element};d.type==="click"&&(ge.clickEvent=d),q._completeHide(ge)}}static dataApiKeydownHandler(d){const b=/input|textarea/i.test(d.target.tagName),I=d.key==="Escape",q=[h,_].includes(d.key);if(!q&&!I||b&&!I)return;d.preventDefault();const G=this.matches(Tt)?this:be.prev(this,Tt)[0]||be.next(this,Tt)[0]||be.findOne(Tt,d.delegateTarget.parentNode),se=ur.getOrCreateInstance(G);if(q)return d.stopPropagation(),se.show(),void se._selectMenuItem(d);se._isShown()&&(d.stopPropagation(),se.hide(),G.focus())}}D.on(document,We,Tt,ur.dataApiKeydownHandler),D.on(document,We,qi,ur.dataApiKeydownHandler),D.on(document,Ee,ur.clearMenus),D.on(document,gn,ur.clearMenus),D.on(document,Ee,Tt,function(A){A.preventDefault(),ur.getOrCreateInstance(this).toggle()}),H(ur);const Su="backdrop",To="show",So=`mousedown.bs.${Su}`,sp={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},pc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Au extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return sp}static get DefaultType(){return pc}static get NAME(){return Su}show(d){if(!this._config.isVisible)return void te(d);this._append();const b=this._getElement();this._config.isAnimated&&Y(b),b.classList.add(To),this._emulateAnimation(()=>{te(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(To),this._emulateAnimation(()=>{this.dispose(),te(d)})):te(d)}dispose(){this._isAppended&&(D.off(this._element,So),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=y(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),D.on(d,So,()=>{te(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){ye(d,this._getElement(),this._config.isAnimated)}}const Cl=".bs.focustrap",Cu=`focusin${Cl}`,xu=`keydown.tab${Cl}`,Iu="backward",Ef={autofocus:!0,trapElement:null},wf={autofocus:"boolean",trapElement:"element"};class Tf extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ef}static get DefaultType(){return wf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,Cl),D.on(document,Cu,d=>this._handleFocusin(d)),D.on(document,xu,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,Cl))}_handleFocusin(d){const{trapElement:b}=this._config;if(d.target===document||d.target===b||b.contains(d.target))return;const I=be.focusableChildren(b);I.length===0?b.focus():this._lastTabNavDirection===Iu?I[I.length-1].focus():I[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Iu:"forward")}}const Sf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Af=".sticky-top",gc="padding-right",Cf="margin-right";class yi{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gc,b=>b+d),this._setElementAttributes(Sf,gc,b=>b+d),this._setElementAttributes(Af,Cf,b=>b-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gc),this._resetElementAttributes(Sf,gc),this._resetElementAttributes(Af,Cf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,b,I){const q=this.getWidth();this._applyManipulationCallback(d,G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+q)return;this._saveInitialAttribute(G,b);const se=window.getComputedStyle(G).getPropertyValue(b);G.style.setProperty(b,`${I(Number.parseFloat(se))}px`)})}_saveInitialAttribute(d,b){const I=d.style.getPropertyValue(b);I&&Re.setDataAttribute(d,b,I)}_resetElementAttributes(d,b){this._applyManipulationCallback(d,I=>{const q=Re.getDataAttribute(I,b);q!==null?(Re.removeDataAttribute(I,b),I.style.setProperty(b,q)):I.style.removeProperty(b)})}_applyManipulationCallback(d,b){if(v(d))b(d);else for(const I of be.find(d,this._element))b(I)}}const oi=".bs.modal",xf=`hide${oi}`,If=`hidePrevented${oi}`,Du=`hidden${oi}`,Nu=`show${oi}`,Ru=`shown${oi}`,ap=`resize${oi}`,Ao=`click.dismiss${oi}`,Ou=`mousedown.dismiss${oi}`,xl=`keydown.dismiss${oi}`,ku=`click${oi}.data-api`,ju="modal-open",Ys="show",Ks="modal-static",Mu={backdrop:!0,focus:!0,keyboard:!0},Df={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hi extends Ve{constructor(d,b){super(d,b),this._dialog=be.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yi,this._addEventListeners()}static get Default(){return Mu}static get DefaultType(){return Df}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||D.trigger(this._element,Nu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ju),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(D.trigger(this._element,xf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ys),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){D.off(window,oi),D.off(this._dialog,oi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Au({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Tf({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=be.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),Y(this._element),this._element.classList.add(Ys),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,Ru,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,xl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),D.on(window,ap,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,Ou,d=>{D.one(this._element,Ao,b=>{this._element===d.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ju),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,Du)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(D.trigger(this._element,If).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Ks)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Ks),this._queueCallback(()=>{this._element.classList.remove(Ks),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),I=b>0;if(I&&!d){const q=P()?"paddingLeft":"paddingRight";this._element.style[q]=`${b}px`}if(!I&&d){const q=P()?"paddingRight":"paddingLeft";this._element.style[q]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,b){return this.each(function(){const I=Hi.getOrCreateInstance(this,d);if(typeof d=="string"){if(I[d]===void 0)throw new TypeError(`No method named "${d}"`);I[d](b)}})}}D.on(document,ku,'[data-bs-toggle="modal"]',function(A){const d=be.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),D.one(d,Nu,I=>{I.defaultPrevented||D.one(d,Du,()=>{E(this)&&this.focus()})});const b=be.findOne(".modal.show");b&&Hi.getInstance(b).hide(),Hi.getOrCreateInstance(d).toggle(this)}),Ci(Hi),H(Hi);const ts=".bs.offcanvas",Pu=".data-api",Nf=`load${ts}${Pu}`,Rf="show",Of="showing",kf="hiding",Lu=".offcanvas.show",jf=`show${ts}`,Vu=`shown${ts}`,Ur=`hide${ts}`,Il=`hidePrevented${ts}`,$i=`hidden${ts}`,Co=`resize${ts}`,Uu=`click${ts}${Pu}`,yc=`keydown.dismiss${ts}`,vc={backdrop:!0,keyboard:!0,scroll:!1},zu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vi extends Ve{constructor(d,b){super(d,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vc}static get DefaultType(){return zu}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||D.trigger(this._element,jf,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new yi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Of),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Rf),this._element.classList.remove(Of),D.trigger(this._element,Vu,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(D.trigger(this._element,Ur).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(kf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Rf,kf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yi().reset(),D.trigger(this._element,$i)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new Au({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():D.trigger(this._element,Il)}:null})}_initializeFocusTrap(){return new Tf({trapElement:this._element})}_addEventListeners(){D.on(this._element,yc,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():D.trigger(this._element,Il))})}static jQueryInterface(d){return this.each(function(){const b=vi.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}D.on(document,Uu,'[data-bs-toggle="offcanvas"]',function(A){const d=be.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this))return;D.one(d,$i,()=>{E(this)&&this.focus()});const b=be.findOne(Lu);b&&b!==d&&vi.getInstance(b).hide(),vi.getOrCreateInstance(d).toggle(this)}),D.on(window,Nf,()=>{for(const A of be.find(Lu))vi.getOrCreateInstance(A).show()}),D.on(window,Co,()=>{for(const A of be.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&vi.getOrCreateInstance(A).hide()}),Ci(vi),H(vi);const Bu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},_c=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,op=(A,d)=>{const b=A.nodeName.toLowerCase();return d.includes(b)?!_c.has(b)||!!xo.test(A.nodeValue):d.filter(I=>I instanceof RegExp).some(I=>I.test(b))},Gi={allowList:Bu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Fu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ws={entry:"(string|element|function|null)",selector:"(string|element)"};class Mf extends Le{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Gi}static get DefaultType(){return Fu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[q,G]of Object.entries(this._config.content))this._setContent(d,G,q);const b=d.children[0],I=this._resolvePossibleFunction(this._config.extraClass);return I&&b.classList.add(...I.split(" ")),b}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[b,I]of Object.entries(d))super._typeCheckConfig({selector:b,entry:I},ws)}_setContent(d,b,I){const q=be.findOne(I,d);q&&((b=this._resolvePossibleFunction(b))?v(b)?this._putElementInTemplate(y(b),q):this._config.html?q.innerHTML=this._maybeSanitize(b):q.textContent=b:q.remove())}_maybeSanitize(d){return this._config.sanitize?(function(b,I,q){if(!b.length)return b;if(q&&typeof q=="function")return q(b);const G=new window.DOMParser().parseFromString(b,"text/html"),se=[].concat(...G.body.querySelectorAll("*"));for(const ge of se){const _e=ge.nodeName.toLowerCase();if(!Object.keys(I).includes(_e)){ge.remove();continue}const Se=[].concat(...ge.attributes),Ce=[].concat(I["*"]||[],I[_e]||[]);for(const we of Se)op(we,Ce)||ge.removeAttribute(we.nodeName)}return G.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return te(d,[void 0,this])}_putElementInTemplate(d,b){if(this._config.html)return b.innerHTML="",void b.append(d);b.textContent=d.textContent}}const bc=new Set(["sanitize","allowList","sanitizeFn"]),Ts="fade",Io="show",Pf=".tooltip-inner",Ec=".modal",qu="hide.bs.modal",li="hover",Qs="focus",Ws="click",wc={AUTO:"auto",TOP:"top",RIGHT:P()?"left":"right",BOTTOM:"bottom",LEFT:P()?"right":"left"},Dl={allowList:Bu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zn extends Ve{constructor(d,b){if(ai===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Dl}static get DefaultType(){return hr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(Ec),qu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=D.trigger(this._element,this.constructor.eventName("show")),b=(x(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!b)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(I),D.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(Io),"ontouchstart"in document.documentElement)for(const G of[].concat(...document.body.children))D.on(G,"mouseover",j);this._queueCallback(()=>{D.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!D.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Io),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))D.off(d,"mouseover",j);this._activeTrigger[Ws]=!1,this._activeTrigger[Qs]=!1,this._activeTrigger[li]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const b=this._getTemplateFactory(d).toHtml();if(!b)return null;b.classList.remove(Ts,Io),b.classList.add(`bs-${this.constructor.NAME}-auto`);const I=(q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q})(this.constructor.NAME).toString();return b.setAttribute("id",I),this._isAnimated()&&b.classList.add(Ts),b}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Mf({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Pf]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ts)}_isShown(){return this.tip&&this.tip.classList.contains(Io)}_createPopper(d){const b=te(this._config.placement,[this,d,this._element]),I=wc[b.toUpperCase()];return Zr(this._element,d,this._getPopperConfig(I))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_resolvePossibleFunction(d){return te(d,[this._element,this._element])}_getPopperConfig(d){const b={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:I=>{this._getTipElement().setAttribute("data-popper-placement",I.state.placement)}}]};return{...b,...te(this._config.popperConfig,[void 0,b])}}_setListeners(){const d=this._config.trigger.split(" ");for(const b of d)if(b==="click")D.on(this._element,this.constructor.eventName("click"),this._config.selector,I=>{const q=this._initializeOnDelegatedTarget(I);q._activeTrigger[Ws]=!(q._isShown()&&q._activeTrigger[Ws]),q.toggle()});else if(b!=="manual"){const I=b===li?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),q=b===li?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");D.on(this._element,I,this._config.selector,G=>{const se=this._initializeOnDelegatedTarget(G);se._activeTrigger[G.type==="focusin"?Qs:li]=!0,se._enter()}),D.on(this._element,q,this._config.selector,G=>{const se=this._initializeOnDelegatedTarget(G);se._activeTrigger[G.type==="focusout"?Qs:li]=se._element.contains(G.relatedTarget),se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(Ec),qu,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,b){clearTimeout(this._timeout),this._timeout=setTimeout(d,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const b=Re.getDataAttributes(this._element);for(const I of Object.keys(b))bc.has(I)&&delete b[I];return d={...b,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:y(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[b,I]of Object.entries(this._config))this.constructor.Default[b]!==I&&(d[b]=I);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const b=zn.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}H(zn);const Xs=".popover-header",ns=".popover-body",is={...zn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ss={...zn.DefaultType,content:"(null|string|element|function)"};class Nl extends zn{static get Default(){return is}static get DefaultType(){return Ss}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Xs]:this._getTitle(),[ns]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const b=Nl.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}H(Nl);const Rl=".bs.scrollspy",Hu=`activate${Rl}`,$u=`click${Rl}`,ei=`load${Rl}.data-api`,St="active",it="[href]",As=".nav-link",fr=`${As}, .nav-item > ${As}, .list-group-item`,Gu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Js={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Do extends Ve{constructor(d,b){super(d,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Gu}static get DefaultType(){return Js}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=y(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(b=>Number.parseFloat(b))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,$u),D.on(this._config.target,$u,it,d=>{const b=this._observableSections.get(d.target.hash);if(b){d.preventDefault();const I=this._rootElement||window,q=b.offsetTop-this._element.offsetTop;if(I.scrollTo)return void I.scrollTo({top:q,behavior:"smooth"});I.scrollTop=q}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),d)}_observerCallback(d){const b=se=>this._targetLinks.get(`#${se.target.id}`),I=se=>{this._previousScrollData.visibleEntryTop=se.target.offsetTop,this._process(b(se))},q=(this._rootElement||document.documentElement).scrollTop,G=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const se of d){if(!se.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(se));continue}const ge=se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(G&&ge){if(I(se),!q)return}else G||ge||I(se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=be.find(it,this._config.target);for(const b of d){if(!b.hash||S(b))continue;const I=be.findOne(decodeURI(b.hash),this._element);E(I)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,I))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(St),this._activateParents(d),D.trigger(this._element,Hu,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))be.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(St);else for(const b of be.parents(d,".nav, .list-group"))for(const I of be.prev(b,fr))I.classList.add(St)}_clearActiveClass(d){d.classList.remove(St);const b=be.find(`${it}.${St}`,d);for(const I of b)I.classList.remove(St)}static jQueryInterface(d){return this.each(function(){const b=Do.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}D.on(window,ei,()=>{for(const A of be.find('[data-bs-spy="scroll"]'))Do.getOrCreateInstance(A)}),H(Do);const Zs=".bs.tab",No=`hide${Zs}`,ka=`hidden${Zs}`,Yu=`show${Zs}`,Ol=`shown${Zs}`,Ku=`click${Zs}`,ja=`keydown${Zs}`,Cs=`load${Zs}`,ea="ArrowLeft",rs="ArrowRight",Qu="ArrowUp",Tc="ArrowDown",ta="Home",kl="End",Yi="active",Bn="fade",Ro="show",Wu=".dropdown-toggle",Xu=`:not(${Wu})`,Lf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ju=`.nav-link${Xu}, .list-group-item${Xu}, [role="tab"]${Xu}, ${Lf}`,Tn=`.${Yi}[data-bs-toggle="tab"], .${Yi}[data-bs-toggle="pill"], .${Yi}[data-bs-toggle="list"]`;class xs extends Ve{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,ja,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const b=this._getActiveElem(),I=b?D.trigger(b,No,{relatedTarget:d}):null;D.trigger(d,Yu,{relatedTarget:b}).defaultPrevented||I&&I.defaultPrevented||(this._deactivate(b,d),this._activate(d,b))}_activate(d,b){d&&(d.classList.add(Yi),this._activate(be.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),D.trigger(d,Ol,{relatedTarget:b})):d.classList.add(Ro)},d,d.classList.contains(Bn)))}_deactivate(d,b){d&&(d.classList.remove(Yi),d.blur(),this._deactivate(be.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),D.trigger(d,ka,{relatedTarget:b})):d.classList.remove(Ro)},d,d.classList.contains(Bn)))}_keydown(d){if(![ea,rs,Qu,Tc,ta,kl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const b=this._getChildren().filter(q=>!S(q));let I;if([ta,kl].includes(d.key))I=b[d.key===ta?0:b.length-1];else{const q=[rs,Tc].includes(d.key);I=le(b,d.target,q,!0)}I&&(I.focus({preventScroll:!0}),xs.getOrCreateInstance(I).show())}_getChildren(){return be.find(Ju,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,b){this._setAttributeIfNotExists(d,"role","tablist");for(const I of b)this._setInitialAttributesOnChild(I)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const b=this._elemIsActive(d),I=this._getOuterElement(d);d.setAttribute("aria-selected",b),I!==d&&this._setAttributeIfNotExists(I,"role","presentation"),b||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const b=be.getElementFromSelector(d);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,b){const I=this._getOuterElement(d);if(!I.classList.contains("dropdown"))return;const q=(G,se)=>{const ge=be.findOne(G,I);ge&&ge.classList.toggle(se,b)};q(Wu,Yi),q(".dropdown-menu",Ro),I.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(d,b,I){d.hasAttribute(b)||d.setAttribute(b,I)}_elemIsActive(d){return d.classList.contains(Yi)}_getInnerElement(d){return d.matches(Ju)?d:be.findOne(Ju,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const b=xs.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}D.on(document,Ku,Lf,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this)||xs.getOrCreateInstance(this).show()}),D.on(window,Cs,()=>{for(const A of be.find(Tn))xs.getOrCreateInstance(A)}),H(xs);const dr=".bs.toast",jl=`mouseover${dr}`,Zu=`mouseout${dr}`,Oo=`focusin${dr}`,ko=`focusout${dr}`,lp=`hide${dr}`,Vf=`hidden${dr}`,cp=`show${dr}`,Uf=`shown${dr}`,na="hide",jo="show",Ma="showing",zf={animation:"boolean",autohide:"boolean",delay:"number"},Mo={animation:!0,autohide:!0,delay:5e3};class Pa extends Ve{constructor(d,b){super(d,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Mo}static get DefaultType(){return zf}static get NAME(){return"toast"}show(){D.trigger(this._element,cp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(na),Y(this._element),this._element.classList.add(jo,Ma),this._queueCallback(()=>{this._element.classList.remove(Ma),D.trigger(this._element,Uf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(D.trigger(this._element,lp).defaultPrevented||(this._element.classList.add(Ma),this._queueCallback(()=>{this._element.classList.add(na),this._element.classList.remove(Ma,jo),D.trigger(this._element,Vf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(jo),super.dispose()}isShown(){return this._element.classList.contains(jo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,b){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const I=d.relatedTarget;this._element===I||this._element.contains(I)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,jl,d=>this._onInteraction(d,!0)),D.on(this._element,Zu,d=>this._onInteraction(d,!1)),D.on(this._element,Oo,d=>this._onInteraction(d,!0)),D.on(this._element,ko,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const b=Pa.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d](this)}})}}return Ci(Pa),H(Pa),{Alert:lt,Button:Qt,Carousel:xr,Collapse:bt,Dropdown:ur,Modal:Hi,Offcanvas:vi,Popover:Nl,ScrollSpy:Do,Tab:xs,Toast:Pa,Tooltip:zn}})})(Yd)),Yd.exports}YP();function KP(){return g.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:g.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[g.jsxs(Kc,{className:"navbar-brand fw-bold fs-1",to:"/",children:[g.jsx("span",{className:"text-dark",children:"Salamat"}),g.jsx("span",{className:"text-white",children:"Doc"})]}),g.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:g.jsx("span",{className:"navbar-toggler-icon"})}),g.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:g.jsxs("ul",{className:"navbar-nav",children:[g.jsx("li",{className:"nav-item",children:g.jsx(Kc,{className:"nav-link text-dark",to:"/login",children:"Login"})}),g.jsxs("li",{className:"nav-item dropdown",children:[g.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),g.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[g.jsx("li",{children:g.jsx(Kc,{className:"dropdown-item",to:"/about",children:"About Us"})}),g.jsx("li",{children:g.jsx(Kc,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function QP(){const{user:n,profile:e,loading:t}=Ji(),s=oo();if(t)return g.jsx("div",{children:"Loading..."});const o=e?.role||null;let c=null;o==="admin"&&s.pathname.startsWith("/admin")?c=g.jsx(qP,{}):o==="doctor"&&s.pathname.startsWith("/doctor")?c=g.jsx(HP,{}):o==="patient"&&s.pathname.startsWith("/patient")&&(c=g.jsx($P,{}));const u=!c;return g.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[c&&g.jsx("div",{style:{width:"250px",flexShrink:0},children:c}),g.jsxs("div",{style:{flexGrow:1},children:[u&&g.jsx(KP,{}),g.jsx(fI,{})]})]})}function Wi({children:n}){const{user:e,loading:t}=Ji();return t?g.jsx("div",{className:"loading-screen",children:"Loading..."}):e?n:g.jsx(hI,{to:"/login"})}function WP(){return g.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:g.jsxs("div",{className:"page-container",children:[g.jsx("h1",{className:"page-title",children:"Accessible Online Health"}),g.jsx("p",{className:"page-text",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective."}),g.jsx("p",{className:"page-text",children:"We allow you to remotely connect with our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."})]})})}const Ei=[];for(let n=0;n<256;++n)Ei.push((n+256).toString(16).slice(1));function XP(n,e=0){return(Ei[n[e+0]]+Ei[n[e+1]]+Ei[n[e+2]]+Ei[n[e+3]]+"-"+Ei[n[e+4]]+Ei[n[e+5]]+"-"+Ei[n[e+6]]+Ei[n[e+7]]+"-"+Ei[n[e+8]]+Ei[n[e+9]]+"-"+Ei[n[e+10]]+Ei[n[e+11]]+Ei[n[e+12]]+Ei[n[e+13]]+Ei[n[e+14]]+Ei[n[e+15]]).toLowerCase()}let Yg;const JP=new Uint8Array(16);function ZP(){if(!Yg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yg=crypto.getRandomValues.bind(crypto)}return Yg(JP)}const eL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),XT={randomUUID:eL};function tL(n,e,t){n=n||{};const s=n.random??n.rng?.()??ZP();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,XP(s)}function nL(n,e,t){return XT.randomUUID&&!n?XT.randomUUID():tL(n)}function iL(){const n=nc(),[e,t]=U.useState(""),s=async o=>{o.preventDefault();const c=o.target.email.value,u=o.target.password.value;try{const v=(await IR(ya,c,u)).user,y=Gt(Fe,"users",v.uid),E=await pa(y);if(E.exists()){const S=E.data();if(!S.token){const x=nL();await ga(y,{token:x}),S.token=x}switch(localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("authToken",S.token),S.role){case"admin":n("/admin/dashboard");break;case"doctor":n("/doctor/dashboard");break;case"patient":n("/patient/dashboard");break;default:alert("No valid role found. Please contact support."),n("/login")}}}catch(p){console.error("Login failed:",p.message),t("Invalid email or password")}};return g.jsxs("div",{className:"login-page",children:[g.jsx("div",{className:"login-overlay"}),g.jsx("div",{className:"login-content",children:g.jsxs("div",{className:"login-box",children:[g.jsx("h2",{className:"text-center mb-4",children:"Login"}),g.jsxs("form",{onSubmit:s,children:[g.jsxs("div",{className:"mb-3 text-start",children:[g.jsx("label",{htmlFor:"email",className:"form-label fw-semibold",children:"Email address"}),g.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),g.jsxs("div",{className:"mb-3 text-start",children:[g.jsx("label",{htmlFor:"password",className:"form-label fw-semibold",children:"Password"}),g.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&g.jsx("p",{className:"text-danger text-center",children:e}),g.jsx("div",{className:"d-flex justify-content-center mt-4",children:g.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),g.jsx("div",{className:"text-center mt-3",children:g.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password? Contact an administrator."})})]})]})})]})}function rL(){return g.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:g.jsxs("div",{className:"page-container",children:[g.jsx("h2",{className:"page-title",children:"About Us"}),g.jsx("p",{className:"page-text",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective. With a mix of technology and classic human ingenuity and expertise, we made SalamatDoc. This has allowed us to remotely connect you to our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."}),g.jsx("p",{className:"page-text",children:"The SalamatDoc website only allows account creation through contacting us. This ensures that everyone on the platform is legitimate, trustworthy, and safe."}),g.jsx("p",{className:"page-text",children:"Better services, better care, better health. Salamat, Doc!"})]})})}function sL(){return g.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Contact.jpg')"},children:g.jsxs("div",{className:"page-container",children:[g.jsx("h2",{className:"page-title",children:"Contact"}),g.jsxs("p",{className:"page-text",children:[g.jsx("strong",{children:"Are you interested as a patient?"}),g.jsx("br",{}),"Email us through: ",g.jsx("strong",{children:"SalamatDoc@applications.com"}),g.jsx("br",{}),"Email us to get the application process started. We’ll guide you however much you need throughout the process."]}),g.jsxs("p",{className:"page-text",children:[g.jsx("strong",{children:"Are you interested in becoming a SalamatDoc doctor?"}),g.jsx("br",{}),"Email us through: ",g.jsx("strong",{children:"SalamatDoc@applications.com"}),g.jsx("br",{}),"Emailing us will begin the process. You will undergo an authentication and screening process for everyone’s safety, security, and health. We only accept qualified and certified doctors that will do their best to help patients."]})]})})}const aL=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),xC=fn(Fe,"users"),oL=()=>`USR-${aL()}`,lL=async n=>{try{const e=oL(),t={...n,token:e,createdAt:uu(),updatedAt:uu(),status:"active"},s=await Kv(xC,t);return console.log("User added with ID:",s.id),{success:!0,id:s.id,token:e}}catch(e){throw console.error("Error adding user:",e),e}},cL=async()=>{try{const n=await Ln(xC),e=[];return n.forEach(t=>{e.push({id:t.id,...t.data()})}),e}catch(n){throw console.error("Error getting users:",n),n}},uL=async(n,e)=>{try{const t=Gt(Fe,"users",n),s={...e,updatedAt:uu()};return await ga(t,s),console.log("User updated successfully"),{success:!0}}catch(t){throw console.error("Error updating user:",t),t}},hL=async n=>{try{const e=Gt(Fe,"users",n);return await JA(e),console.log("User deleted successfully"),{success:!0}}catch(e){throw console.error("Error deleting user:",e),e}};function fL(){const[n,e]=U.useState([]),[t,s]=U.useState(!0),[o,c]=U.useState(!1),[u,p]=U.useState(null),[v,y]=U.useState({name:"",email:"",role:"user",phone:"",address:""});U.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0);const P=await cL();e(P)}catch(P){console.error("Error fetching users:",P),alert("Failed to fetch users")}finally{s(!1)}},S=P=>{const{name:H,value:te}=P.target;y(ye=>({...ye,[H]:te}))},x=async P=>{P.preventDefault();try{if(u)await uL(u.id,v),alert("User updated successfully!");else{const H=await lL(v);alert(`User added successfully!
Token: ${H.token}`)}y({name:"",email:"",role:"user",phone:"",address:""}),c(!1),p(null),E()}catch(H){console.error("Error saving user:",H),alert("Failed to save user")}},j=P=>{p(P),y({name:P.name||"",email:P.email||"",role:P.role||"user",phone:P.phone||"",address:P.address||""}),c(!0)},Y=async P=>{if(window.confirm("Are you sure you want to delete this user?"))try{await hL(P),alert("User deleted successfully!"),E()}catch(H){console.error("Error deleting user:",H),alert("Failed to delete user")}},Q=()=>{p(null),y({name:"",email:"",role:"user",phone:"",address:""}),c(!0)},B=()=>{c(!1),p(null)};return g.jsxs("main",{style:{padding:"20px",width:"100%",backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[g.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[g.jsx("h1",{children:"Admin Dashboard"}),g.jsx("button",{onClick:Q,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add New User"})]}),t?g.jsx("p",{children:"Loading users..."}):g.jsx("div",{style:{overflowX:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[g.jsx("th",{style:Fc,children:"Name"}),g.jsx("th",{style:Fc,children:"Email"}),g.jsx("th",{style:Fc,children:"Role"}),g.jsx("th",{style:Fc,children:"Token"}),g.jsx("th",{style:Fc,children:"Status"}),g.jsx("th",{style:Fc,children:"Actions"})]})}),g.jsx("tbody",{children:n.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):n.map(P=>g.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[g.jsx("td",{style:qc,children:P.name}),g.jsx("td",{style:qc,children:P.email}),g.jsx("td",{style:qc,children:P.role}),g.jsx("td",{style:qc,children:g.jsx("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px",fontSize:"12px"},children:P.token})}),g.jsx("td",{style:qc,children:g.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:P.status==="active"?"#4CAF50":"#f44336",color:"white",fontSize:"12px"},children:P.status})}),g.jsxs("td",{style:qc,children:[g.jsx("button",{onClick:()=>j(P),style:dL,children:"Edit"}),g.jsx("button",{onClick:()=>Y(P.id),style:mL,children:"Delete"})]})]},P.id))})]})})]}),o&&g.jsx("div",{style:pL,children:g.jsxs("div",{style:gL,children:[g.jsx("h2",{children:u?"Edit User":"Add New User"}),g.jsxs("form",{onSubmit:x,children:[g.jsxs("div",{style:Ch,children:[g.jsx("label",{style:xh,children:"Name:"}),g.jsx("input",{type:"text",name:"name",value:v.name,onChange:S,required:!0,style:Ih})]}),g.jsxs("div",{style:Ch,children:[g.jsx("label",{style:xh,children:"Email:"}),g.jsx("input",{type:"email",name:"email",value:v.email,onChange:S,required:!0,style:Ih})]}),g.jsxs("div",{style:Ch,children:[g.jsx("label",{style:xh,children:"Role:"}),g.jsxs("select",{name:"role",value:v.role,onChange:S,style:Ih,children:[g.jsx("option",{value:"user",children:"User"}),g.jsx("option",{value:"admin",children:"Admin"}),g.jsx("option",{value:"moderator",children:"Moderator"})]})]}),g.jsxs("div",{style:Ch,children:[g.jsx("label",{style:xh,children:"Phone:"}),g.jsx("input",{type:"tel",name:"phone",value:v.phone,onChange:S,style:Ih})]}),g.jsxs("div",{style:Ch,children:[g.jsx("label",{style:xh,children:"Address:"}),g.jsx("textarea",{name:"address",value:v.address,onChange:S,style:{...Ih,minHeight:"80px"}})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[g.jsx("button",{type:"submit",style:yL,children:u?"Update":"Create"}),g.jsx("button",{type:"button",onClick:B,style:vL,children:"Cancel"})]})]})]})})]})}const Fc={padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},qc={padding:"12px"},dL={padding:"6px 12px",marginRight:"8px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},mL={padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},pL={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},gL={backgroundColor:"white",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto"},Ch={marginBottom:"15px"},xh={display:"block",marginBottom:"5px",fontWeight:"500"},Ih={width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},yL={flex:1,padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},vL={flex:1,padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"};function IC(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=IC(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Qm(){for(var n,e,t=0,s="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=IC(n))&&(s&&(s+=" "),s+=e);return s}const _L=(n,e,t,s)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const o=Object.getOwnPropertyDescriptor(n,t),c=Object.getOwnPropertyDescriptor(e,t);!bL(o,c)&&s||Object.defineProperty(n,t,c)},bL=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},EL=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},wL=(n,e)=>`/* Wrapped ${n}*/
${e}`,TL=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),SL=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),AL=(n,e,t)=>{const s=t===""?"":`with ${t.trim()}() `,o=wL.bind(null,s,e.toString());Object.defineProperty(o,"name",SL);const{writable:c,enumerable:u,configurable:p}=TL;Object.defineProperty(n,"toString",{value:o,writable:c,enumerable:u,configurable:p})};function CL(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:s}=n;for(const o of Reflect.ownKeys(e))_L(n,e,o,t);return EL(n,e),AL(n,e,s),n}const xL=new WeakMap,JT=new WeakMap;function DC(n,{cacheKey:e,cache:t=new Map,maxAge:s}={}){if(s===0)return n;if(typeof s=="number"){if(s>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(s<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...c){const u=e?e(c):c[0],p=t.get(u);if(p)return p.data;const v=n.apply(this,c),y=typeof s=="function"?s(...c):s;if(t.set(u,{data:v,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),y&&y>0&&y!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{t.delete(u)},y);E.unref?.();const S=JT.get(n)??new Set;S.add(E),JT.set(n,S)}return v};return CL(o,n,{ignoreNonConfigurable:!0}),xL.set(o,t),o}function IL(n){return typeof n=="string"}function DL(n,e,t){return t.indexOf(n)===e}function NL(n){return n.toLowerCase()===n}function ZT(n){return n.indexOf(",")===-1?n:n.split(",")}function Ny(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return Ny(t)}if(n.indexOf("@")!==-1){var s=n.split("@")[0],t=s===void 0?"":s;return Ny(t)}if(n.indexOf("-")===-1||!NL(n))return n;var o=n.split("-"),c=o[0],u=o[1],p=u===void 0?"":u;return"".concat(c,"-").concat(p.toUpperCase())}function RL(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,s=t===void 0?!0:t,o=e.fallbackLocale,c=o===void 0?"en-US":o,u=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],v=[],y=0,E=p;y<E.length;y++){var S=E[y];v=v.concat(ZT(S))}var x=navigator.language,j=x&&ZT(x);u=u.concat(v,j)}return s&&u.push(c),u.filter(IL).map(Ny).filter(DL)}var OL=DC(RL,{cacheKey:JSON.stringify});function kL(n){return OL(n)[0]||null}var NC=DC(kL,{cacheKey:JSON.stringify});function co(n,e,t){return function(o,c=t){const u=n(o)+c;return e(u)}}function yf(n){return function(t){return new Date(n(t).getTime()-1)}}function vf(n,e){return function(s){return[n(s),e(s)]}}function dn(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function pl(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function Wm(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function wu(n){const e=dn(n),t=e+(-e+1)%100,s=new Date;return s.setFullYear(t,0,1),s.setHours(0,0,0,0),s}const jL=co(dn,wu,-100),RC=co(dn,wu,100),r_=yf(RC),ML=co(dn,r_,-100),OC=vf(wu,r_);function gl(n){const e=dn(n),t=e+(-e+1)%10,s=new Date;return s.setFullYear(t,0,1),s.setHours(0,0,0,0),s}const kC=co(dn,gl,-10),s_=co(dn,gl,10),Xm=yf(s_),jC=co(dn,Xm,-10),MC=vf(gl,Xm);function Tu(n){const e=dn(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const PC=co(dn,Tu,-1),a_=co(dn,Tu,1),Jm=yf(a_),LC=co(dn,Jm,-1),PL=vf(Tu,Jm);function o_(n,e){return function(s,o=e){const c=dn(s),u=pl(s)+o,p=new Date;return p.setFullYear(c,u,1),p.setHours(0,0,0,0),n(p)}}function cc(n){const e=dn(n),t=pl(n),s=new Date;return s.setFullYear(e,t,1),s.setHours(0,0,0,0),s}const VC=o_(cc,-1),l_=o_(cc,1),_f=yf(l_),UC=o_(_f,-1),LL=vf(cc,_f);function VL(n,e){return function(s,o=e){const c=dn(s),u=pl(s),p=Wm(s)+o,v=new Date;return v.setFullYear(c,u,p),v.setHours(0,0,0,0),n(v)}}function bf(n){const e=dn(n),t=pl(n),s=Wm(n),o=new Date;return o.setFullYear(e,t,s),o.setHours(0,0,0,0),o}const UL=VL(bf,1),c_=yf(UL),zL=vf(bf,c_);function zC(n){return Wm(_f(n))}var Si={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},BL={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},u_=[0,1,2,3,4,5,6],Kg=new Map;function FL(n){return function(t,s){var o=t||NC();Kg.has(o)||Kg.set(o,new Map);var c=Kg.get(o);return c.has(n)||c.set(n,new Intl.DateTimeFormat(o||void 0,n).format),c.get(n)(s)}}function qL(n){var e=new Date(n);return new Date(e.setHours(12))}function uc(n){return function(e,t){return FL(n)(e,qL(t))}}var HL={day:"numeric"},$L={day:"numeric",month:"long",year:"numeric"},GL={month:"long"},YL={month:"long",year:"numeric"},KL={weekday:"short"},QL={weekday:"long"},WL={year:"numeric"},XL=uc(HL),JL=uc($L),ZL=uc(GL),BC=uc(YL),eV=uc(KL),tV=uc(QL),Zm=uc(WL),nV=u_[0],iV=u_[5],e0=u_[6];function tf(n,e){e===void 0&&(e=Si.ISO_8601);var t=n.getDay();switch(e){case Si.ISO_8601:return(t+6)%7;case Si.ISLAMIC:return(t+1)%7;case Si.HEBREW:case Si.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function rV(n){var e=wu(n);return dn(e)}function sV(n){var e=gl(n);return dn(e)}function Ry(n,e){e===void 0&&(e=Si.ISO_8601);var t=dn(n),s=pl(n),o=n.getDate()-tf(n,e);return new Date(t,s,o)}function aV(n,e){e===void 0&&(e=Si.ISO_8601);var t=e===Si.GREGORY?Si.GREGORY:Si.ISO_8601,s=Ry(n,e),o=dn(n)+1,c,u;do c=new Date(o,0,t===Si.ISO_8601?4:1),u=Ry(c,e),o-=1;while(n<u);return Math.round((s.getTime()-u.getTime())/(864e5*7))+1}function Ql(n,e){switch(n){case"century":return wu(e);case"decade":return gl(e);case"year":return Tu(e);case"month":return cc(e);case"day":return bf(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function oV(n,e){switch(n){case"century":return jL(e);case"decade":return kC(e);case"year":return PC(e);case"month":return VC(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function FC(n,e){switch(n){case"century":return RC(e);case"decade":return s_(e);case"year":return a_(e);case"month":return l_(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function lV(n,e){switch(n){case"decade":return kC(e,-100);case"year":return PC(e,-10);case"month":return VC(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function cV(n,e){switch(n){case"decade":return s_(e,100);case"year":return a_(e,10);case"month":return l_(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function qC(n,e){switch(n){case"century":return r_(e);case"decade":return Xm(e);case"year":return Jm(e);case"month":return _f(e);case"day":return c_(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function uV(n,e){switch(n){case"century":return ML(e);case"decade":return jC(e);case"year":return LC(e);case"month":return UC(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function hV(n,e){switch(n){case"decade":return jC(e,-100);case"year":return LC(e,-10);case"month":return UC(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function t0(n,e){switch(n){case"century":return OC(e);case"decade":return MC(e);case"year":return PL(e);case"month":return LL(e);case"day":return zL(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function fV(n,e,t){var s=[e,t].sort(function(o,c){return o.getTime()-c.getTime()});return[Ql(n,s[0]),qC(n,s[1])]}function HC(n,e,t){return t.map(function(s){return(e||Zm)(n,s)}).join(" – ")}function dV(n,e,t){return HC(n,e,OC(t))}function $C(n,e,t){return HC(n,e,MC(t))}function mV(n){return n.getDay()===new Date().getDay()}function GC(n,e){e===void 0&&(e=Si.ISO_8601);var t=n.getDay();switch(e){case Si.ISLAMIC:case Si.HEBREW:return t===iV||t===e0;case Si.ISO_8601:case Si.GREGORY:return t===e0||t===nV;default:throw new Error("Unsupported calendar type.")}}var aa="react-calendar__navigation";function pV(n){var e=n.activeStartDate,t=n.drillUp,s=n.formatMonthYear,o=s===void 0?BC:s,c=n.formatYear,u=c===void 0?Zm:c,p=n.locale,v=n.maxDate,y=n.minDate,E=n.navigationAriaLabel,S=E===void 0?"":E,x=n.navigationAriaLive,j=n.navigationLabel,Y=n.next2AriaLabel,Q=Y===void 0?"":Y,B=n.next2Label,P=B===void 0?"»":B,H=n.nextAriaLabel,te=H===void 0?"":H,ye=n.nextLabel,le=ye===void 0?"›":ye,pe=n.prev2AriaLabel,k=pe===void 0?"":pe,O=n.prev2Label,M=O===void 0?"«":O,L=n.prevAriaLabel,V=L===void 0?"":L,$=n.prevLabel,R=$===void 0?"‹":$,fe=n.setActiveStartDate,Oe=n.showDoubleView,X=n.view,re=n.views,de=re.indexOf(X)>0,Ie=X!=="century",ke=oV(X,e),D=Ie?lV(X,e):void 0,ae=FC(X,e),ve=Ie?cV(X,e):void 0,Te=(function(){if(ke.getFullYear()<0)return!0;var lt=uV(X,e);return y&&y>=lt})(),Re=Ie&&(function(){if(D.getFullYear()<0)return!0;var lt=hV(X,e);return y&&y>=lt})(),Le=v&&v<ae,Ve=Ie&&v&&v<ve;function Pt(){fe(ke,"prev")}function be(){fe(D,"prev2")}function Ci(){fe(ae,"next")}function wr(){fe(ve,"next2")}function Tr(lt){var Zi=(function(){switch(X){case"century":return dV(p,u,lt);case"decade":return $C(p,u,lt);case"year":return u(p,lt);case"month":return o(p,lt);default:throw new Error("Invalid view: ".concat(X,"."))}})();return j?j({date:lt,label:Zi,locale:p||NC()||void 0,view:X}):Zi}function Hr(){var lt="".concat(aa,"__label");return g.jsxs("button",{"aria-label":S,"aria-live":x,className:lt,disabled:!de,onClick:t,style:{flexGrow:1},type:"button",children:[g.jsx("span",{className:"".concat(lt,"__labelText ").concat(lt,"__labelText--from"),children:Tr(e)}),Oe?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"".concat(lt,"__divider"),children:" – "}),g.jsx("span",{className:"".concat(lt,"__labelText ").concat(lt,"__labelText--to"),children:Tr(ae)})]}):null]})}return g.jsxs("div",{className:aa,children:[M!==null&&Ie?g.jsx("button",{"aria-label":k,className:"".concat(aa,"__arrow ").concat(aa,"__prev2-button"),disabled:Re,onClick:be,type:"button",children:M}):null,R!==null&&g.jsx("button",{"aria-label":V,className:"".concat(aa,"__arrow ").concat(aa,"__prev-button"),disabled:Te,onClick:Pt,type:"button",children:R}),Hr(),le!==null&&g.jsx("button",{"aria-label":te,className:"".concat(aa,"__arrow ").concat(aa,"__next-button"),disabled:Le,onClick:Ci,type:"button",children:le}),P!==null&&Ie?g.jsx("button",{"aria-label":Q,className:"".concat(aa,"__arrow ").concat(aa,"__next2-button"),disabled:Ve,onClick:wr,type:"button",children:P}):null]})}var Wc=function(){return Wc=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Wc.apply(this,arguments)},gV=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t};function n0(n){return"".concat(n,"%")}function h_(n){var e=n.children,t=n.className,s=n.count,o=n.direction,c=n.offset,u=n.style,p=n.wrap,v=gV(n,["children","className","count","direction","offset","style","wrap"]);return g.jsx("div",Wc({className:t,style:Wc({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},u)},v,{children:U.Children.map(e,function(y,E){var S=c&&E===0?n0(100*c/s):null;return U.cloneElement(y,Wc(Wc({},y.props),{style:{flexBasis:n0(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function yV(n,e,t){return e&&e>n?e:t&&t<n?t:n}function nf(n,e){return e[0]<=n&&e[1]>=n}function vV(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function YC(n,e){return nf(n[0],e)||nf(n[1],e)}function i0(n,e,t){var s=YC(e,n),o=[];if(s){o.push(t);var c=nf(n[0],e),u=nf(n[1],e);c&&o.push("".concat(t,"Start")),u&&o.push("".concat(t,"End")),c&&u&&o.push("".concat(t,"BothEnds"))}return o}function _V(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function bV(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,s=n.hover,o="react-calendar__tile",c=[o];if(!t)return c;var u=new Date,p=(function(){if(Array.isArray(t))return t;var j=n.dateType;if(!j)throw new Error("dateType is required when date is not an array of two dates");return t0(j,t)})();if(nf(u,p)&&c.push("".concat(o,"--now")),!e||!_V(e))return c;var v=(function(){if(Array.isArray(e))return e;var j=n.valueType;if(!j)throw new Error("valueType is required when value is not an array of two dates");return t0(j,e)})();vV(v,p)?c.push("".concat(o,"--active")):YC(v,p)&&c.push("".concat(o,"--hasActive"));var y=i0(v,p,"".concat(o,"--range"));c.push.apply(c,y);var E=Array.isArray(e)?e:[e];if(s&&E.length===1){var S=s>v[0]?[v[0],s]:[s,v[0]],x=i0(S,p,"".concat(o,"--hover"));c.push.apply(c,x)}return c}function ep(n){for(var e=n.className,t=n.count,s=t===void 0?3:t,o=n.dateTransform,c=n.dateType,u=n.end,p=n.hover,v=n.offset,y=n.renderTile,E=n.start,S=n.step,x=S===void 0?1:S,j=n.value,Y=n.valueType,Q=[],B=E;B<=u;B+=x){var P=o(B);Q.push(y({classes:bV({date:P,dateType:c,hover:p,value:j,valueType:Y}),date:P}))}return g.jsx(h_,{className:e,count:s,offset:v,wrap:!0,children:Q})}function tp(n){var e=n.activeStartDate,t=n.children,s=n.classes,o=n.date,c=n.formatAbbr,u=n.locale,p=n.maxDate,v=n.maxDateTransform,y=n.minDate,E=n.minDateTransform,S=n.onClick,x=n.onMouseOver,j=n.style,Y=n.tileClassName,Q=n.tileContent,B=n.tileDisabled,P=n.view,H=U.useMemo(function(){var ye={activeStartDate:e,date:o,view:P};return typeof Y=="function"?Y(ye):Y},[e,o,Y,P]),te=U.useMemo(function(){var ye={activeStartDate:e,date:o,view:P};return typeof Q=="function"?Q(ye):Q},[e,o,Q,P]);return g.jsxs("button",{className:Qm(s,H),disabled:y&&E(y)>o||p&&v(p)<o||B?.({activeStartDate:e,date:o,view:P}),onClick:S?function(ye){return S(o,ye)}:void 0,onFocus:x?function(){return x(o)}:void 0,onMouseOver:x?function(){return x(o)}:void 0,style:j,type:"button",children:[c?g.jsx("abbr",{"aria-label":c(u,o),children:t}):t,te]})}var Oy=function(){return Oy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Oy.apply(this,arguments)},EV=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t},r0="react-calendar__century-view__decades__decade";function wV(n){var e=n.classes,t=e===void 0?[]:e,s=n.currentCentury,o=n.formatYear,c=o===void 0?Zm:o,u=EV(n,["classes","currentCentury","formatYear"]),p=u.date,v=u.locale,y=[];return t&&y.push.apply(y,t),y.push(r0),wu(p).getFullYear()!==s&&y.push("".concat(r0,"--neighboringCentury")),g.jsx(tp,Oy({},u,{classes:y,maxDateTransform:Xm,minDateTransform:gl,view:"century",children:$C(v,c,p)}))}var ky=function(){return ky=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ky.apply(this,arguments)},s0=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t};function TV(n){var e=n.activeStartDate,t=n.hover,s=n.showNeighboringCentury,o=n.value,c=n.valueType,u=s0(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=rV(e),v=p+(s?119:99);return g.jsx(ep,{className:"react-calendar__century-view__decades",dateTransform:gl,dateType:"decade",end:v,hover:t,renderTile:function(y){var E=y.date,S=s0(y,["date"]);return g.jsx(wV,ky({},u,S,{activeStartDate:e,currentCentury:p,date:E}),E.getTime())},start:p,step:10,value:o,valueType:c})}var jy=function(){return jy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},jy.apply(this,arguments)};function SV(n){function e(){return g.jsx(TV,jy({},n))}return g.jsx("div",{className:"react-calendar__century-view",children:e()})}var My=function(){return My=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},My.apply(this,arguments)},AV=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t},a0="react-calendar__decade-view__years__year";function CV(n){var e=n.classes,t=e===void 0?[]:e,s=n.currentDecade,o=n.formatYear,c=o===void 0?Zm:o,u=AV(n,["classes","currentDecade","formatYear"]),p=u.date,v=u.locale,y=[];return t&&y.push.apply(y,t),y.push(a0),gl(p).getFullYear()!==s&&y.push("".concat(a0,"--neighboringDecade")),g.jsx(tp,My({},u,{classes:y,maxDateTransform:Jm,minDateTransform:Tu,view:"decade",children:c(v,p)}))}var Py=function(){return Py=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Py.apply(this,arguments)},o0=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t};function xV(n){var e=n.activeStartDate,t=n.hover,s=n.showNeighboringDecade,o=n.value,c=n.valueType,u=o0(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=sV(e),v=p+(s?11:9);return g.jsx(ep,{className:"react-calendar__decade-view__years",dateTransform:Tu,dateType:"year",end:v,hover:t,renderTile:function(y){var E=y.date,S=o0(y,["date"]);return g.jsx(CV,Py({},u,S,{activeStartDate:e,currentDecade:p,date:E}),E.getTime())},start:p,value:o,valueType:c})}var Ly=function(){return Ly=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ly.apply(this,arguments)};function IV(n){function e(){return g.jsx(xV,Ly({},n))}return g.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Vy=function(){return Vy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Vy.apply(this,arguments)},DV=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t},l0=function(n,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return n.concat(c||Array.prototype.slice.call(e))},NV="react-calendar__year-view__months__month";function RV(n){var e=n.classes,t=e===void 0?[]:e,s=n.formatMonth,o=s===void 0?ZL:s,c=n.formatMonthYear,u=c===void 0?BC:c,p=DV(n,["classes","formatMonth","formatMonthYear"]),v=p.date,y=p.locale;return g.jsx(tp,Vy({},p,{classes:l0(l0([],t,!0),[NV],!1),formatAbbr:u,maxDateTransform:_f,minDateTransform:cc,view:"year",children:o(y,v)}))}var Uy=function(){return Uy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Uy.apply(this,arguments)},c0=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t};function OV(n){var e=n.activeStartDate,t=n.hover,s=n.value,o=n.valueType,c=c0(n,["activeStartDate","hover","value","valueType"]),u=0,p=11,v=dn(e);return g.jsx(ep,{className:"react-calendar__year-view__months",dateTransform:function(y){var E=new Date;return E.setFullYear(v,y,1),cc(E)},dateType:"month",end:p,hover:t,renderTile:function(y){var E=y.date,S=c0(y,["date"]);return g.jsx(RV,Uy({},c,S,{activeStartDate:e,date:E}),E.getTime())},start:u,value:s,valueType:o})}var zy=function(){return zy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},zy.apply(this,arguments)};function kV(n){function e(){return g.jsx(OV,zy({},n))}return g.jsx("div",{className:"react-calendar__year-view",children:e()})}var By=function(){return By=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},By.apply(this,arguments)},jV=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t},Qg="react-calendar__month-view__days__day";function MV(n){var e=n.calendarType,t=n.classes,s=t===void 0?[]:t,o=n.currentMonthIndex,c=n.formatDay,u=c===void 0?XL:c,p=n.formatLongDate,v=p===void 0?JL:p,y=jV(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=y.date,S=y.locale,x=[];return s&&x.push.apply(x,s),x.push(Qg),GC(E,e)&&x.push("".concat(Qg,"--weekend")),E.getMonth()!==o&&x.push("".concat(Qg,"--neighboringMonth")),g.jsx(tp,By({},y,{classes:x,formatAbbr:v,maxDateTransform:c_,minDateTransform:bf,view:"month",children:u(S,E)}))}var Fy=function(){return Fy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Fy.apply(this,arguments)},u0=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t};function PV(n){var e=n.activeStartDate,t=n.calendarType,s=n.hover,o=n.showFixedNumberOfWeeks,c=n.showNeighboringMonth,u=n.value,p=n.valueType,v=u0(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=dn(e),E=pl(e),S=o||c,x=tf(e,t),j=S?0:x,Y=(S?-x:0)+1,Q=(function(){if(o)return Y+42-1;var B=zC(e);if(c){var P=new Date;P.setFullYear(y,E,B),P.setHours(0,0,0,0);var H=7-tf(P,t)-1;return B+H}return B})();return g.jsx(ep,{className:"react-calendar__month-view__days",count:7,dateTransform:function(B){var P=new Date;return P.setFullYear(y,E,B),bf(P)},dateType:"day",hover:s,end:Q,renderTile:function(B){var P=B.date,H=u0(B,["date"]);return g.jsx(MV,Fy({},v,H,{activeStartDate:e,calendarType:t,currentMonthIndex:E,date:P}),P.getTime())},offset:j,start:Y,value:u,valueType:p})}var KC="react-calendar__month-view__weekdays",Wg="".concat(KC,"__weekday");function LV(n){for(var e=n.calendarType,t=n.formatShortWeekday,s=t===void 0?eV:t,o=n.formatWeekday,c=o===void 0?tV:o,u=n.locale,p=n.onMouseLeave,v=new Date,y=cc(v),E=dn(y),S=pl(y),x=[],j=1;j<=7;j+=1){var Y=new Date(E,S,j-tf(y,e)),Q=c(u,Y);x.push(g.jsx("div",{className:Qm(Wg,mV(Y)&&"".concat(Wg,"--current"),GC(Y,e)&&"".concat(Wg,"--weekend")),children:g.jsx("abbr",{"aria-label":Q,title:Q,children:s(u,Y).replace(".","")})},j))}return g.jsx(h_,{className:KC,count:7,onFocus:p,onMouseOver:p,children:x})}var vm=function(){return vm=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},vm.apply(this,arguments)},h0=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t},f0="react-calendar__tile";function VV(n){var e=n.onClickWeekNumber,t=n.weekNumber,s=g.jsx("span",{children:t});if(e){var o=n.date,c=n.onClickWeekNumber,u=n.weekNumber,p=h0(n,["date","onClickWeekNumber","weekNumber"]);return g.jsx("button",vm({},p,{className:f0,onClick:function(v){return c(u,o,v)},type:"button",children:s}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var p=h0(n,["date","onClickWeekNumber","weekNumber"]);return g.jsx("div",vm({},p,{className:f0,children:s}))}}function UV(n){var e=n.activeStartDate,t=n.calendarType,s=n.onClickWeekNumber,o=n.onMouseLeave,c=n.showFixedNumberOfWeeks,u=(function(){if(c)return 6;var y=zC(e),E=tf(e,t),S=y-(7-E);return 1+Math.ceil(S/7)})(),p=(function(){for(var y=dn(e),E=pl(e),S=Wm(e),x=[],j=0;j<u;j+=1)x.push(Ry(new Date(y,E,S+j*7),t));return x})(),v=p.map(function(y){return aV(y,t)});return g.jsx(h_,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:v.map(function(y,E){var S=p[E];if(!S)throw new Error("date is not defined");return g.jsx(VV,{date:S,onClickWeekNumber:s,weekNumber:y},y)})})}var qy=function(){return qy=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},qy.apply(this,arguments)},zV=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t};function BV(n){if(n)for(var e=0,t=Object.entries(BL);e<t.length;e++){var s=t[e],o=s[0],c=s[1];if(c.includes(n))return o}return Si.ISO_8601}function FV(n){var e=n.activeStartDate,t=n.locale,s=n.onMouseLeave,o=n.showFixedNumberOfWeeks,c=n.calendarType,u=c===void 0?BV(t):c,p=n.formatShortWeekday,v=n.formatWeekday,y=n.onClickWeekNumber,E=n.showWeekNumbers,S=zV(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function x(){return g.jsx(LV,{calendarType:u,formatShortWeekday:p,formatWeekday:v,locale:t,onMouseLeave:s})}function j(){return E?g.jsx(UV,{activeStartDate:e,calendarType:u,onClickWeekNumber:y,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function Y(){return g.jsx(PV,qy({calendarType:u},S))}var Q="react-calendar__month-view";return g.jsx("div",{className:Qm(Q,E?"".concat(Q,"--weekNumbers"):""),children:g.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[j(),g.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[x(),Y()]})]})})}var Xc=function(){return Xc=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Xc.apply(this,arguments)},kd="react-calendar",Kd=["century","decade","year","month"],qV=["decade","year","month","day"],f_=new Date;f_.setFullYear(1,0,1);f_.setHours(0,0,0,0);var HV=new Date(864e13);function Mh(n){return n instanceof Date?n:new Date(n)}function QC(n,e){return Kd.slice(Kd.indexOf(n),Kd.indexOf(e)+1)}function $V(n,e,t){var s=QC(e,t);return s.indexOf(n)!==-1}function d_(n,e,t){return n&&$V(n,e,t)?n:t}function WC(n){var e=Kd.indexOf(n);return qV[e]}function GV(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var s=Mh(t);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(n));return s}function XC(n,e){var t=n.value,s=n.minDate,o=n.maxDate,c=n.maxDetail,u=GV(t,e);if(!u)return null;var p=WC(c),v=(function(){switch(e){case 0:return Ql(p,u);case 1:return qC(p,u);default:throw new Error("Invalid index value: ".concat(e))}})();return yV(v,s,o)}var m_=function(n){return XC(n,0)},JC=function(n){return XC(n,1)},YV=function(n){return[m_,JC].map(function(e){return e(n)})};function ZC(n){var e=n.maxDate,t=n.maxDetail,s=n.minDate,o=n.minDetail,c=n.value,u=n.view,p=d_(u,o,t),v=m_({value:c,minDate:s,maxDate:e,maxDetail:t})||new Date;return Ql(p,v)}function KV(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,s=n.defaultValue,o=n.defaultView,c=n.maxDate,u=n.maxDetail,p=n.minDate,v=n.minDetail,y=n.value,E=n.view,S=d_(E,v,u),x=e||t;return x?Ql(S,x):ZC({maxDate:c,maxDetail:u,minDate:p,minDetail:v,value:y||s,view:E||o})}function Xg(n){return n&&(!Array.isArray(n)||n.length===1)}function jd(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var QV=U.forwardRef(function(e,t){var s=e.activeStartDate,o=e.allowPartialRange,c=e.calendarType,u=e.className,p=e.defaultActiveStartDate,v=e.defaultValue,y=e.defaultView,E=e.formatDay,S=e.formatLongDate,x=e.formatMonth,j=e.formatMonthYear,Y=e.formatShortWeekday,Q=e.formatWeekday,B=e.formatYear,P=e.goToRangeStartOnSelect,H=P===void 0?!0:P,te=e.inputRef,ye=e.locale,le=e.maxDate,pe=le===void 0?HV:le,k=e.maxDetail,O=k===void 0?"month":k,M=e.minDate,L=M===void 0?f_:M,V=e.minDetail,$=V===void 0?"century":V,R=e.navigationAriaLabel,fe=e.navigationAriaLive,Oe=e.navigationLabel,X=e.next2AriaLabel,re=e.next2Label,de=e.nextAriaLabel,Ie=e.nextLabel,ke=e.onActiveStartDateChange,D=e.onChange,ae=e.onClickDay,ve=e.onClickDecade,Te=e.onClickMonth,Re=e.onClickWeekNumber,Le=e.onClickYear,Ve=e.onDrillDown,Pt=e.onDrillUp,be=e.onViewChange,Ci=e.prev2AriaLabel,wr=e.prev2Label,Tr=e.prevAriaLabel,Hr=e.prevLabel,lt=e.returnValue,Zi=lt===void 0?"start":lt,Qt=e.selectRange,di=e.showDoubleView,Vs=e.showFixedNumberOfWeeks,tn=e.showNavigation,mn=tn===void 0?!0:tn,$r=e.showNeighboringCentury,yl=e.showNeighboringDecade,_a=e.showNeighboringMonth,Kn=_a===void 0?!0:_a,er=e.showWeekNumbers,xi=e.tileClassName,Us=e.tileContent,Gr=e.tileDisabled,ba=e.value,Sr=e.view,tr=U.useState(p),Ar=tr[0],In=tr[1],_n=U.useState(null),ii=_n[0],Wt=_n[1],Ea=U.useState(Array.isArray(v)?v.map(function(Qe){return Qe!==null?Mh(Qe):null}):v!=null?Mh(v):null),Yr=Ea[0],uo=Ea[1],zi=U.useState(y),ms=zi[0],Xt=zi[1],Rt=s||Ar||KV({activeStartDate:s,defaultActiveStartDate:p,defaultValue:v,defaultView:y,maxDate:pe,maxDetail:O,minDate:L,minDetail:$,value:ba,view:Sr}),zt=(function(){var Qe=(function(){return Qt&&Xg(Yr)?Yr:ba!==void 0?ba:Yr})();return Qe?Array.isArray(Qe)?Qe.map(function(Ft){return Ft!==null?Mh(Ft):null}):Qe!==null?Mh(Qe):null:null})(),Qn=WC(O),Lt=d_(Sr||ms,$,O),mi=QC($,O),nr=Qt?ii:null,Cr=mi.indexOf(Lt)<mi.length-1,xr=mi.indexOf(Lt)>0,Ii=U.useCallback(function(Qe){var Ft=(function(){switch(Zi){case"start":return m_;case"end":return JC;case"range":return YV;default:throw new Error("Invalid returnValue.")}})();return Ft({maxDate:pe,maxDetail:O,minDate:L,value:Qe})},[pe,O,L,Zi]),ps=U.useCallback(function(Qe,Ft){In(Qe);var bt={action:Ft,activeStartDate:Qe,value:zt,view:Lt};ke&&!jd(Rt,Qe)&&ke(bt)},[Rt,ke,zt,Lt]),Kr=U.useCallback(function(Qe,Ft){var bt=(function(){switch(Lt){case"century":return ve;case"decade":return Le;case"year":return Te;case"month":return ae;default:throw new Error("Invalid view: ".concat(Lt,"."))}})();bt&&bt(Qe,Ft)},[ae,ve,Te,Le,Lt]),Ir=U.useCallback(function(Qe,Ft){if(Cr){Kr(Qe,Ft);var bt=mi[mi.indexOf(Lt)+1];if(!bt)throw new Error("Attempted to drill down from the lowest view.");In(Qe),Xt(bt);var Et={action:"drillDown",activeStartDate:Qe,value:zt,view:bt};ke&&!jd(Rt,Qe)&&ke(Et),be&&Lt!==bt&&be(Et),Ve&&Ve(Et)}},[Rt,Cr,ke,Kr,Ve,be,zt,Lt,mi]),Bi=U.useCallback(function(){if(xr){var Qe=mi[mi.indexOf(Lt)-1];if(!Qe)throw new Error("Attempted to drill up from the highest view.");var Ft=Ql(Qe,Rt);In(Ft),Xt(Qe);var bt={action:"drillUp",activeStartDate:Ft,value:zt,view:Qe};ke&&!jd(Rt,Ft)&&ke(bt),be&&Lt!==Qe&&be(bt),Pt&&Pt(bt)}},[Rt,xr,ke,Pt,be,zt,Lt,mi]),zs=U.useCallback(function(Qe,Ft){var bt=zt;Kr(Qe,Ft);var Et=Qt&&!Xg(bt),ct;if(Qt)if(Et)ct=Ql(Qn,Qe);else{if(!bt)throw new Error("previousValue is required");if(Array.isArray(bt))throw new Error("previousValue must not be an array");ct=fV(Qn,bt,Qe)}else ct=Ii(Qe);var rn=!Qt||Et||H?ZC({maxDate:pe,maxDetail:O,minDate:L,minDetail:$,value:ct,view:Lt}):null;Ft.persist(),In(rn),uo(ct);var qt={action:"onChange",activeStartDate:rn,value:ct,view:Lt};if(ke&&!jd(Rt,rn)&&ke(qt),D)if(Qt){var Wn=Xg(ct);if(!Wn)D(ct||null,Ft);else if(o){if(Array.isArray(ct))throw new Error("value must not be an array");D([ct||null,null],Ft)}}else D(ct||null,Ft)},[Rt,o,Ii,H,pe,O,L,$,ke,D,Kr,Qt,zt,Qn,Lt]);function pi(Qe){Wt(Qe)}function bn(){Wt(null)}U.useImperativeHandle(t,function(){return{activeStartDate:Rt,drillDown:Ir,drillUp:Bi,onChange:zs,setActiveStartDate:ps,value:zt,view:Lt}},[Rt,Ir,Bi,zs,ps,zt,Lt]);function Bt(Qe){var Ft=Qe?FC(Lt,Rt):Ql(Lt,Rt),bt=Cr?Ir:zs,Et={activeStartDate:Ft,hover:nr,locale:ye,maxDate:pe,minDate:L,onClick:bt,onMouseOver:Qt?pi:void 0,tileClassName:xi,tileContent:Us,tileDisabled:Gr,value:zt,valueType:Qn};switch(Lt){case"century":return g.jsx(SV,Xc({formatYear:B,showNeighboringCentury:$r},Et));case"decade":return g.jsx(IV,Xc({formatYear:B,showNeighboringDecade:yl},Et));case"year":return g.jsx(kV,Xc({formatMonth:x,formatMonthYear:j},Et));case"month":return g.jsx(FV,Xc({calendarType:c,formatDay:E,formatLongDate:S,formatShortWeekday:Y,formatWeekday:Q,onClickWeekNumber:Re,onMouseLeave:Qt?bn:void 0,showFixedNumberOfWeeks:typeof Vs<"u"?Vs:di,showNeighboringMonth:Kn,showWeekNumbers:er},Et));default:throw new Error("Invalid view: ".concat(Lt,"."))}}function En(){return mn?g.jsx(pV,{activeStartDate:Rt,drillUp:Bi,formatMonthYear:j,formatYear:B,locale:ye,maxDate:pe,minDate:L,navigationAriaLabel:R,navigationAriaLive:fe,navigationLabel:Oe,next2AriaLabel:X,next2Label:re,nextAriaLabel:de,nextLabel:Ie,prev2AriaLabel:Ci,prev2Label:wr,prevAriaLabel:Tr,prevLabel:Hr,setActiveStartDate:ps,showDoubleView:di,view:Lt,views:mi}):null}var Di=Array.isArray(zt)?zt:[zt];return g.jsxs("div",{className:Qm(kd,Qt&&Di.length===1&&"".concat(kd,"--selectRange"),di&&"".concat(kd,"--doubleView"),u),ref:te,children:[En(),g.jsxs("div",{className:"".concat(kd,"__viewContainer"),onBlur:Qt?bn:void 0,onMouseLeave:Qt?bn:void 0,children:[Bt(),di?Bt(!0):null]})]})});function WV(n){if(!n)return null;if(n instanceof It)return n.toDate();const e=new Date(n);return isNaN(e.getTime())?null:e}function XV(){const[n,e]=U.useState([]),[t,s]=U.useState([]),[o,c]=U.useState(!0),[u,p]=U.useState(new Date);if(U.useEffect(()=>{(async()=>{const x=ya.currentUser;if(x)try{const Y=(await Ln(fn(Fe,"users"))).docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.role==="patient");e(Y);const Q=Gt(Fe,"users",x.uid),B=Vi(fn(Fe,"appointments"),Ui("doctorId","==",Q)),P=await Ln(B),H=await Promise.all(P.docs.map(async te=>{const ye=te.data();let le="Unknown",pe=null;if(ye.patientId)try{const k=await pa(ye.patientId);if(k.exists()){const O=k.data();le=`${O.firstName||""} ${O.lastName||""}`.trim(),pe=k.id}}catch(k){console.error("Error fetching patient:",k)}return{id:te.id,patientName:le,patientId:pe,dateTime:WV(ye.dateTime),type:ye.type||"",location:ye.location||"",notes:ye.notes||"",reason:ye.reason||""}}));s(H)}catch(j){console.error("Error loading dashboard:",j)}finally{c(!1)}})()},[]),o)return g.jsx("p",{children:"Loading dashboard..."});const v=t.filter(S=>S.dateTime).map(S=>S.dateTime.toDateString()),y=t.filter(S=>S.dateTime&&S.dateTime.toDateString()===u.toDateString()),E=S=>{const x=n.find(j=>j.id===S);return x?`${x.firstName||""} ${x.lastName||""}`.trim():"Unknown"};return g.jsxs("div",{className:"dashboard-container",children:[g.jsxs("div",{className:"dashboard-card",children:[g.jsx("h2",{children:"Patient Overview"}),g.jsxs("p",{children:["Active Patients: ",n.length]}),g.jsxs("p",{children:["Pending Checkups: ",Math.floor(n.length/4)]})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("h2",{children:"Patients"}),g.jsxs("table",{className:"appointment-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Patient Name"}),g.jsx("th",{children:"Appointments"})]})}),g.jsx("tbody",{children:n.map(S=>{const x=t.filter(j=>j.patientId===S.id).map(j=>j.dateTime?j.dateTime.toLocaleDateString():"N/A").join(", ");return g.jsxs("tr",{children:[g.jsx("td",{children:E(S.id)}),g.jsx("td",{children:x||"No appointments"})]},S.id)})})]})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("h2",{children:"Appointment Calendar"}),g.jsx(QV,{value:u,onChange:p,tileClassName:({date:S,view:x})=>x==="month"&&v.includes(S.toDateString())?"highlight-appointment":null}),y.length>0?g.jsx("ul",{children:y.map(S=>g.jsxs("li",{children:[S.dateTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," — ",S.patientName," (",S.type||"Checkup",")"]},S.id))}):g.jsx("p",{children:"No appointments on this day."})]})]})}function JV(){const{user:n}=Ji(),{role:e}=Ky(),[t,s]=U.useState([]);U.useEffect(()=>{if(!n)return;(async()=>{const u=Gt(Fe,"users",n.uid),p=Vi(fn(Fe,"notifications"),Ui("recipientId","==",u)),y=(await Ln(p)).docs.map(E=>({id:E.id,...E.data()}));s(y.sort((E,S)=>S.timestamp?.seconds-E.timestamp?.seconds))})()},[n]);const o=async(c,u)=>{const p=Gt(Fe,"notifications",c);await ga(p,{read:!u}),s(v=>v.map(y=>y.id===c?{...y,read:!u}:y))};return g.jsx("div",{className:"notifications-container",children:g.jsxs("div",{className:"notifications-card",children:[g.jsx("h2",{className:"notifications-title",children:"Notifications"}),t.length===0?g.jsx("p",{className:"no-notifications",children:"No notifications yet."}):g.jsx("ul",{className:"notifications-list",children:t.map(c=>g.jsxs("li",{className:`notification-item ${c.read?"read":"unread"}`,children:[g.jsxs("div",{className:"notification-header",children:[g.jsx("h4",{className:"notification-title",children:c.title||"Untitled Notification"}),g.jsx("p",{className:"notification-message",children:c.message}),g.jsx("button",{className:`mark-button ${c.read?"mark-unread":"mark-read"}`,onClick:()=>o(c.id,c.read),children:c.read?"Mark as Unread":"Mark as Read"})]}),g.jsx("small",{className:"notification-timestamp",children:c.timestamp?.toDate().toLocaleString()})]},c.id))})]})})}function Jg(n){if(!n)return"N/A";const e=new Date(n),t=Date.now()-e.getTime(),s=new Date(t);return Math.abs(s.getUTCFullYear()-1970)}function ZV(){const[n,e]=U.useState([]),[t,s]=U.useState([]),[o,c]=U.useState(!0),[u,p]=U.useState(""),[v,y]=U.useState({key:"name",direction:"asc"}),E=nc();U.useEffect(()=>{S()},[]);const S=async()=>{try{if(!ya.currentUser)return;const H=(await Ln(fn(Fe,"users"))).docs.map(le=>({id:le.id,...le.data()})).filter(le=>le.role==="patient");e(H);const ye=(await Ln(fn(Fe,"appointments"))).docs.map(le=>({id:le.id,...le.data()}));s(ye)}catch(B){console.error("Error fetching data:",B)}finally{c(!1)}},x=B=>{let P="asc";v.key===B&&v.direction==="asc"&&(P="desc"),y({key:B,direction:P})},j=B=>v.key===B?v.direction==="asc"?" ▲":" ▼":"",Q=[...n].sort((B,P)=>{if(!B[v.key]&&!P[v.key])return 0;if(!B[v.key])return 1;if(!P[v.key])return-1;let H=B[v.key],te=P[v.key];if(v.key==="name")H=`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`.toLowerCase(),te=`${P.first_name||P.firstName||""} ${P.last_name||P.lastName||""}`.toLowerCase();else if(v.key==="age")H=Jg(B.birthDate),te=Jg(P.birthDate);else if(v.key==="nextAppointment"){const ye=t.filter(pe=>pe.patientID===B.id&&pe.dateTime).map(pe=>new Date(pe.dateTime)).sort((pe,k)=>pe-k)[0],le=t.filter(pe=>pe.patientID===P.id&&pe.dateTime).map(pe=>new Date(pe.dateTime)).sort((pe,k)=>pe-k)[0];H=ye||new Date(864e13),te=le||new Date(864e13)}return H<te?v.direction==="asc"?-1:1:H>te?v.direction==="asc"?1:-1:0}).filter(B=>`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`.toLowerCase().includes(u.toLowerCase()));return o?g.jsx("p",{className:"loading",children:"Loading patients..."}):g.jsxs("div",{className:"patients-container",children:[g.jsxs("div",{className:"patients-header",children:[g.jsxs("h2",{children:["Patients (",n.length,")"]}),g.jsx("input",{type:"text",placeholder:"Search by name...",value:u,onChange:B=>p(B.target.value)})]}),g.jsxs("table",{className:"patients-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsxs("th",{onClick:()=>x("name"),children:["Name",j("name")]}),g.jsxs("th",{onClick:()=>x("sex"),children:["Sex",j("sex")]}),g.jsxs("th",{onClick:()=>x("age"),children:["Age",j("age")]}),g.jsxs("th",{onClick:()=>x("nextAppointment"),children:["Next Appointment",j("nextAppointment")]}),g.jsxs("th",{onClick:()=>x("currentConcern"),children:["Current Concern",j("currentConcern")]}),g.jsx("th",{children:"Actions"})]})}),g.jsx("tbody",{children:Q.map(B=>{const P=t.filter(te=>te.patientID===B.id&&te.dateTime).map(te=>new Date(te.dateTime)).sort((te,ye)=>te-ye),H=P[0]?P[0].toLocaleDateString():"N/A";return g.jsxs("tr",{children:[g.jsx("td",{children:`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`}),g.jsx("td",{children:B.sex||B.gender||"N/A"}),g.jsx("td",{children:Jg(B.birthDate)}),g.jsx("td",{children:H}),g.jsx("td",{children:B.currentConcern||"N/A"}),g.jsx("td",{children:g.jsx("button",{className:"view-details-btn",onClick:()=>E(`/doctor/patient-management/${B.id}`),children:"View Details"})})]},B.id)})})]})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,cs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="us-central1";class n4{constructor(e,t,s,o,c=d0,u=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new t4(e,t,s,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=d0}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const m0="@firebase/functions",p0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="auth-internal",r4="app-check-internal",s4="messaging-internal";function a4(n){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider(i4),u=t.getProvider(s4),p=t.getProvider(r4);return new n4(o,c,u,p,s)};js(new fs(e4,e,"PUBLIC").setMultipleInstances(!0)),Er(m0,p0,n),Er(m0,p0,"esm2020")}a4();const Zg=async(n,e,t)=>{try{const s=Gt(Fe,"users",n);await Kv(fn(Fe,"notifications"),{recipientId:s,title:e,message:t,read:!1,timestamp:uu()}),console.log(`Notification sent to user: ${n}`)}catch(s){console.error("Error sending notification:",s)}};function ey(n){if(!n)return null;if(n instanceof It)return n.toDate();const e=new Date(n);return isNaN(e.getTime())?null:e}function o4(){const{user:n}=Ji(),[e,t]=U.useState([]),[s,o]=U.useState([]),[c,u]=U.useState(!0),[p,v]=U.useState(""),[y,E]=U.useState(""),[S,x]=U.useState(""),[j,Y]=U.useState(""),[Q,B]=U.useState(""),[P,H]=U.useState(""),[te,ye]=U.useState(""),[le,pe]=U.useState(!1),[k,O]=U.useState(null);U.useEffect(()=>{n?.uid?(M(n.uid.trim()),L()):(console.warn("User UID not available yet."),u(!1))},[n]);const M=async fe=>{try{const Oe=Gt(Fe,"users",fe),X=Vi(fn(Fe,"appointments"),Ui("doctorId","==",Oe)),re=await Ln(X),de=await Promise.all(re.docs.map(async Ie=>{const ke={id:Ie.id,...Ie.data()};let D="Unknown";if(ke.patientId)try{const ae=await pa(ke.patientId);if(ae.exists()){const ve=ae.data();D=`${ve.firstName||""} ${ve.lastName||""}`.trim()}}catch(ae){console.error("Error fetching patient:",ae)}return{...ke,patientName:D}}));t(de)}catch(Oe){console.error("Error loading appointments:",Oe)}finally{u(!1)}},L=async()=>{try{const Oe=(await Ln(fn(Fe,"users"))).docs.map(X=>({id:X.id,...X.data()})).filter(X=>X.role==="patient");o(Oe)}catch(fe){console.error("Error fetching patients:",fe)}},V=fe=>{O(fe.id),v(fe.patientId?.id||""),E(fe.dateTime?ey(fe.dateTime).toISOString().split("T")[0]:""),x(fe.dateTime?ey(fe.dateTime).toTimeString().slice(0,5):""),Y(fe.type||""),B(fe.reason||""),H(fe.location||""),ye(fe.notes||""),window.scrollTo({top:0,behavior:"smooth"})},$=async fe=>{if(window.confirm("Are you sure you want to delete this appointment?"))try{const Oe=Gt(Fe,"appointments",fe),X=await pa(Oe),de=(X.exists()?X.data():null)?.patientId?.id;await JA(Oe),M(n.uid),de&&await Zg(de,"Appointment Cancelled","Your recent appointment has been cancelled by your doctor.")}catch(Oe){console.error("Error deleting appointment:",Oe)}},R=async fe=>{if(fe.preventDefault(),!p||!y||!S)return alert("Fill all required fields");pe(!0);try{const[Oe,X,re]=y.split("-"),[de,Ie]=S.split(":").map(Number),ke=new Date(Oe,X-1,re,de,Ie),D=Gt(Fe,"users",n.uid),ae=Gt(Fe,"users",p),ve={doctorId:D,patientId:ae,dateTime:It.fromDate(ke),type:j||"",reason:Q||"",location:P||"",notes:te||"",updatedAt:uu()};k?(await ga(Gt(Fe,"appointments",k),ve),await Zg(p,"Appointment Updated","Your appointment details have been updated by your doctor."),O(null)):(ve.createdAt=uu(),await Kv(fn(Fe,"appointments"),ve),await Zg(p,"New Appointment Scheduled","Your doctor has scheduled a new appointment with you.")),M(n.uid),v(""),E(""),x(""),Y(""),B(""),H(""),ye("")}catch(Oe){console.error("Error saving appointment:",Oe)}finally{pe(!1)}};return c?g.jsx("p",{className:"loading",children:"Loading appointments..."}):g.jsxs("div",{className:"dashboard-container",children:[e.length===0?g.jsx("p",{children:"No appointments scheduled."}):g.jsx("div",{className:"dashboard-card table-container",children:g.jsxs("table",{className:"appointment-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Date & Time"}),g.jsx("th",{children:"Type"}),g.jsx("th",{children:"Reason"}),g.jsx("th",{children:"Location"}),g.jsx("th",{children:"Patient"}),g.jsx("th",{children:"Notes"}),g.jsx("th",{children:"Actions"})]})}),g.jsx("tbody",{children:e.map(fe=>{const Oe=ey(fe.dateTime);return g.jsxs("tr",{children:[g.jsx("td",{children:Oe?Oe.toLocaleString():"Invalid Date"}),g.jsx("td",{children:fe.type||"—"}),g.jsx("td",{children:fe.reason||"—"}),g.jsx("td",{children:fe.location||"—"}),g.jsx("td",{children:fe.patientName}),g.jsx("td",{children:fe.notes||"N/A"}),g.jsxs("td",{className:"actions-cell",children:[g.jsx("button",{className:"action-btn edit-btn full-width-btn",onClick:()=>V(fe),children:"Edit"}),g.jsx("button",{className:"action-btn delete-btn full-width-btn",onClick:()=>$(fe.id),children:"Delete"})]})]},fe.id)})})]})}),g.jsxs("div",{className:"dashboard-card add-appointment",children:[g.jsx("h3",{children:k?"Edit Appointment":"Add Appointment"}),g.jsxs("form",{className:"add-appointment-form",onSubmit:R,children:[g.jsxs("div",{className:"form-row",children:[g.jsxs("select",{value:p,onChange:fe=>v(fe.target.value),required:!0,children:[g.jsx("option",{value:"",children:"Select Patient"}),s.map(fe=>g.jsxs("option",{value:fe.id,children:[fe.firstName," ",fe.lastName]},fe.id))]}),g.jsx("input",{type:"date",value:y,onChange:fe=>E(fe.target.value),required:!0}),g.jsx("input",{type:"time",value:S,onChange:fe=>x(fe.target.value),required:!0})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("input",{type:"text",placeholder:"Type",value:j,onChange:fe=>Y(fe.target.value)}),g.jsx("input",{type:"text",placeholder:"Reason",value:Q,onChange:fe=>B(fe.target.value)})]}),g.jsxs("div",{className:"form-row",children:[g.jsx("input",{type:"text",placeholder:"Location",value:P,onChange:fe=>H(fe.target.value)}),g.jsx("textarea",{placeholder:"Notes",value:te,onChange:fe=>ye(fe.target.value)})]}),g.jsx("div",{className:"form-row",children:g.jsx("button",{type:"submit",disabled:le,children:le?k?"Updating...":"Adding...":k?"Update Appointment":"Add Appointment"})})]})]})]})}function l4(){const{profile:n,loading:e}=Ji(),[t,s]=U.useState(null),[o,c]=U.useState(null),[u,p]=U.useState(null),[v,y]=U.useState(!0),[E,S]=U.useState(!1),[x,j]=U.useState(!1),[Y,Q]=U.useState(""),[B,P]=U.useState(!1),[H,te]=U.useState({current:"",new:"",confirm:""}),[ye,le]=U.useState(""),[pe,k]=U.useState("");U.useEffect(()=>{if(!n)return;(async()=>{try{const fe=Gt(Fe,"users",n.uid),Oe=await pa(fe);Oe.exists()&&c(Oe.data());const X=Vi(fn(Fe,"doctors"),Ui("uid","==",fe)),re=await Ln(X);if(re.empty)console.warn("No doctor profile found");else{const de=re.docs[0].data();s(de),p({...Oe.data(),...de})}}catch(fe){console.error("Error fetching doctor profile:",fe),Q("Failed to load profile")}finally{y(!1)}})()},[n]);const O=()=>{S(!0),Q("")},M=()=>{p({...o,...t}),S(!1),Q("")},L=(R,fe)=>{p(Oe=>({...Oe,[R]:fe}))},V=async()=>{if(Q(""),!u.firstName||!u.lastName)return Q("Name is required");if(!u.medicalField)return Q("Medical field is required");if(!u.officeAddress)return Q("Office address is required");j(!0);try{const R=Gt(Fe,"users",n.uid),fe=Vi(fn(Fe,"doctors"),Ui("uid","==",R)),Oe=await Ln(fe);if(!Oe.empty){const X=Oe.docs[0].ref;await ga(X,{medicalField:u.medicalField,placeOfEmployment:u.placeOfEmployment,officeAddress:u.officeAddress,officeRoomNo:u.officeRoomNo,officeContactNo:u.officeContactNo,yearsExperience:u.yearsExperience}),s({...u})}await ga(R,{firstName:u.firstName,lastName:u.lastName,email:u.email,contactNumber:u.contactNumber,address:u.address,birthDate:u.birthDate,gender:u.gender}),c({...u}),S(!1)}catch(R){console.error("Error saving profile:",R),Q("Failed to save changes")}finally{j(!1)}},$=async()=>{if(le(""),k(""),!H.current||!H.new||!H.confirm)return le("All fields are required");if(H.new!==H.confirm)return le("New passwords do not match");if(H.new.length<6)return le("New password must be at least 6 characters");try{const R=ya.currentUser,fe=sc.credential(R.email,H.current);await CR(R,fe),await DR(R,H.new),k("Password updated successfully"),te({current:"",new:"",confirm:""}),P(!1)}catch(R){console.error(R),le("Failed to change password. Check your current password.")}};return e||v?g.jsx("p",{children:"Loading profile..."}):o?g.jsx("div",{className:"profile-container",children:g.jsxs("div",{className:"profile-card",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{children:"Doctor Profile"}),E?g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:V,disabled:x,children:x?"Saving...":"Save"}),g.jsx("button",{onClick:M,disabled:x,children:"Cancel"})]}):g.jsx("button",{onClick:O,children:"Edit Profile"})]}),Y&&g.jsx("div",{className:"error-message",children:Y}),g.jsx("hr",{}),g.jsxs("p",{children:[g.jsx("strong",{children:"First Name:"})," ",E?g.jsx("input",{value:u.firstName,onChange:R=>L("firstName",R.target.value)}):o.firstName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Last Name:"})," ",E?g.jsx("input",{value:u.lastName,onChange:R=>L("lastName",R.target.value)}):o.lastName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",E?g.jsx("input",{value:u.email,onChange:R=>L("email",R.target.value)}):o.email]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Contact Number:"})," ",E?g.jsx("input",{value:u.contactNumber,onChange:R=>L("contactNumber",R.target.value)}):o.contactNumber]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Address:"})," ",E?g.jsx("input",{value:u.address,onChange:R=>L("address",R.target.value)}):o.address]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Birth Date:"})," ",E?g.jsx("input",{type:"date",value:u.birthDate,onChange:R=>L("birthDate",R.target.value)}):o.birthDate]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Gender:"})," ",E?g.jsxs("select",{value:u.gender,onChange:R=>L("gender",R.target.value),children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"Male",children:"Male"}),g.jsx("option",{value:"Female",children:"Female"}),g.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Password:"})," ********",!B&&g.jsx("span",{className:"change-password",onClick:()=>P(!0),children:"Change Password"})]}),B&&g.jsxs("div",{style:{marginTop:"0.5rem"},children:[g.jsx("input",{type:"password",placeholder:"Current password",value:H.current,onChange:R=>te({...H,current:R.target.value})}),g.jsx("input",{type:"password",placeholder:"New password",value:H.new,onChange:R=>te({...H,new:R.target.value})}),g.jsx("input",{type:"password",placeholder:"Confirm new password",value:H.confirm,onChange:R=>te({...H,confirm:R.target.value})}),g.jsx("button",{onClick:$,children:"Save Password"}),g.jsx("button",{onClick:()=>{P(!1),te({current:"",new:"",confirm:""})},children:"Cancel"}),ye&&g.jsx("p",{style:{color:"red"},children:ye}),pe&&g.jsx("p",{style:{color:"green"},children:pe})]}),g.jsx("hr",{}),t?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Field of Specialization:"})," ",E?g.jsx("input",{value:u.medicalField,onChange:R=>L("medicalField",R.target.value)}):t.medicalField]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Hospital / Office:"})," ",E?g.jsx("input",{value:u.placeOfEmployment,onChange:R=>L("placeOfEmployment",R.target.value)}):t.placeOfEmployment]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Office Address:"})," ",E?g.jsx("input",{value:u.officeAddress,onChange:R=>L("officeAddress",R.target.value)}):t.officeAddress]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Office Room:"})," ",E?g.jsx("input",{value:u.officeRoomNo,onChange:R=>L("officeRoomNo",R.target.value)}):t.officeRoomNo]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Office Contact:"})," ",E?g.jsx("input",{value:u.officeContactNo,onChange:R=>L("officeContactNo",R.target.value)}):t.officeContactNo]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Years Experience:"})," ",E?g.jsx("input",{type:"number",value:u.yearsExperience,onChange:R=>L("yearsExperience",R.target.value)}):t.yearsExperience]})]}):g.jsx("p",{children:"No doctor profile found."})]})}):g.jsx("p",{children:"No profile data found."})}function c4(){return g.jsxs("div",{children:[g.jsx("h1",{children:"Management Dashboard"}),g.jsx("p",{children:"Welcome to the admin management panel."})]})}function u4(){return g.jsxs("div",{children:[g.jsx("h1",{children:"Management Profile"}),g.jsx("p",{children:"Admin details and management profile info go here."})]})}function h4(){const n=Ky(),e=n.patientId||n.id||n.userId,[t,s]=U.useState(null),[o,c]=U.useState(null),[u,p]=U.useState([]),[v,y]=U.useState([]),[E,S]=U.useState(!0),[x,j]=U.useState("");U.useEffect(()=>{e?(async()=>{try{S(!0),console.log("All params:",n),console.log("Fetching data for patientId:",e);const H=await pa(Gt(Fe,"users",e));if(console.log("User document exists:",H.exists()),H.exists()){const k=H.data();console.log("User data:",k),c(k)}else{j("User not found"),S(!1);return}const te=Gt(Fe,"users",e);console.log("Querying patients collection with userRef:",te.path);const ye=Vi(fn(Fe,"patients"),Ui("uid","==",te)),le=await Ln(ye);console.log("Patient snapshot empty:",le.empty),console.log("Patient docs found:",le.docs.length);let pe=null;if(le.empty)console.warn("No patient document found for this user");else{const k=le.docs[0].data();pe=le.docs[0].id,console.log("Patient data:",k),console.log("Patient doc ID:",pe),s(k)}if(pe)try{const k=Gt(Fe,"patients",pe),O=Vi(fn(Fe,"prescriptions"),Ui("patientId","==",k)),M=await Ln(O);console.log("Prescriptions found:",M.docs.length);const L=M.docs.map(V=>({id:V.id,...V.data()}));p(L)}catch(k){console.error("Error fetching prescriptions:",k)}try{const k=await Ln(fn(Fe,"appointments"));console.log("Total appointments in DB:",k.docs.length);const O=k.docs.map(L=>({id:L.id,...L.data()}));console.log("Sample appointment data:",O[0]);const M=O.filter(L=>{const V=L.patientID;return console.log("Checking patientID:",V,"Type:",typeof V),V&&V.path?(console.log("PatientID has path:",V.path),V.path.includes(e)):typeof V=="string"?V.includes(e)||V===e:!1});console.log("Matching appointments:",M.length),y(M)}catch(k){console.error("Error fetching appointments:",k)}}catch(H){console.error("Error fetching patient data:",H),j(`Failed to load patient data: ${H.message}`)}finally{S(!1)}})():(console.error("No patientId provided"),j("No patient ID provided"),S(!1))},[e]);const Y=P=>{if(!P)return"N/A";try{let H;return P.toDate&&typeof P.toDate=="function"?H=P.toDate():P.seconds?H=new Date(P.seconds*1e3):H=new Date(P),H.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(H){return console.error("Error formatting date:",H,P),"Invalid date"}},Q=P=>{if(!P)return"N/A";try{let H;return P.toDate&&typeof P.toDate=="function"?H=P.toDate():P.seconds?H=new Date(P.seconds*1e3):H=new Date(P),H.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},B=P=>{if(!P)return"N/A";try{const H=new Date,te=new Date(P);let ye=H.getFullYear()-te.getFullYear();const le=H.getMonth()-te.getMonth();return(le<0||le===0&&H.getDate()<te.getDate())&&ye--,ye}catch{return"N/A"}};return E?g.jsxs("div",{className:"loading",children:[g.jsx("p",{children:"Loading patient data..."}),g.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["Patient ID: ",e]})]}):x?g.jsxs("div",{className:"error-message",children:[g.jsx("p",{children:x}),g.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["Patient ID: ",e]}),g.jsx("p",{style:{fontSize:"12px"},children:"Check console for details"})]}):o?g.jsxs("div",{className:"patient-management-container",children:[g.jsx("h2",{className:"page-title",children:"Patient Management"}),g.jsxs("div",{className:"content-grid",children:[g.jsxs("div",{className:"left-column",children:[g.jsxs("div",{className:"card prescriptions-card",children:[g.jsx("h3",{className:"card-title",children:"Prescriptions"}),g.jsx("div",{className:"prescriptions-list",children:u.length>0?u.map(P=>g.jsxs("div",{className:"prescription-item",children:[g.jsxs("div",{className:"presc-header",children:[g.jsx("strong",{children:P.medicationName||P.medication||"Medication"}),P.frequency&&g.jsx("span",{className:"frequency-badge",children:"↑"})]}),g.jsxs("div",{className:"presc-details",children:[P.dosage&&g.jsx("div",{children:P.dosage}),P.frequency&&g.jsx("div",{children:P.frequency}),P.duration&&g.jsxs("div",{children:["Duration: ",P.duration]}),P.instructions&&g.jsx("div",{className:"instructions",children:P.instructions})]})]},P.id)):g.jsx("p",{className:"no-data",children:"No prescriptions found"})})]}),g.jsxs("div",{className:"card patient-info-card",children:[g.jsx("h3",{className:"info-label",children:"Patient Information"}),g.jsxs("div",{className:"info-content",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Patient Name:"})," ",o.firstName||o.first_name||"N/A"," ",o.lastName||o.last_name||""]}),g.jsxs("p",{children:[g.jsx("strong",{children:"E-mail Address:"})," ",o.email||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Contact Number:"})," ",o.contactNumber||o.contact_number||"N/A"]}),g.jsx("br",{}),g.jsxs("p",{children:[g.jsx("strong",{children:"Age:"})," ",B(o.birthDate||o.birth_date)]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Gender:"})," ",o.gender||o.sex||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Date of Birth:"})," ",Y(o.birthDate||o.birth_date)]}),t&&g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Chronic Condition/s:"})," ",t.chronicIllness?.join(", ")||"None"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Allergies:"})," ",t.allergies?.join(", ")||"None"]}),g.jsx("br",{}),g.jsxs("p",{children:[g.jsx("strong",{children:"Insurance Provider:"})," ",t.insuranceProvider||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Senior Citizen:"})," ",t.seniorCitizenStatus?"Yes":"No"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"PWD:"})," ",t.pwdStatus?"Yes":"No"]})]})]})]})]}),g.jsxs("div",{className:"right-column",children:[g.jsxs("div",{className:"card meals-card",children:[g.jsx("h3",{className:"card-title",children:"Meals"}),g.jsx("div",{className:"meals-content",children:g.jsx("p",{className:"no-data",children:"No meal data available"})})]}),g.jsxs("div",{className:"card appointment-card",children:[g.jsx("h3",{className:"card-title",children:"Appointment"}),g.jsx("div",{className:"appointment-content",children:v.length>0?v.filter(P=>P.dateTime||P.appointmentDate).sort((P,H)=>{let te,ye;const le=P.dateTime||P.appointmentDate,pe=H.dateTime||H.appointmentDate;return le?.toDate?te=le.toDate():le?.seconds?te=new Date(le.seconds*1e3):te=new Date(le),pe?.toDate?ye=pe.toDate():pe?.seconds?ye=new Date(pe.seconds*1e3):ye=new Date(pe),te-ye}).slice(0,3).map(P=>g.jsxs("div",{className:"appointment-item",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Date:"})," ",Y(P.dateTime||P.appointmentDate)]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Time:"})," ",Q(P.dateTime||P.appointmentDate)]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Status:"})," ",P.status||P.type||"Scheduled"]}),P.reason&&g.jsxs("p",{children:[g.jsx("strong",{children:"Reason:"})," ",P.reason]}),P.location&&g.jsxs("p",{children:[g.jsx("strong",{children:"Location:"})," ",P.location]})]},P.id)):g.jsx("p",{className:"no-scheduled",children:"No Scheduled Appointment"})})]}),g.jsxs("div",{className:"card medical-history-card",children:[g.jsx("h3",{className:"card-title",children:"Medical History"}),g.jsxs("div",{className:"history-content",children:[t?.chronicIllness&&t.chronicIllness.length>0?g.jsx(g.Fragment,{children:t.chronicIllness.map((P,H)=>g.jsxs("p",{className:"history-item",children:["• Patient has been diagnosed with ",P,"."]},H))}):g.jsx("p",{className:"history-item",children:"• No chronic conditions recorded."}),g.jsx("br",{}),g.jsx("h4",{children:"Surgical History"}),t?.surgicalHistory?g.jsxs("p",{className:"history-item",children:["• ",t.surgicalHistory]}):g.jsx("p",{className:"history-item",children:"• N/A"})]})]})]})]})]}):g.jsxs("div",{className:"error-message",children:[g.jsx("p",{children:"No patient data found."}),g.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["Patient ID: ",e]})]})}function g0(n){if(!n)return null;if(n instanceof It)return n.toDate();const e=new Date(n);return isNaN(e.getTime())?null:e}function f4(n){const e=new Date(n),t=e.getDay(),s=t===0?-6:1-t;return e.setDate(e.getDate()+s),e.setHours(0,0,0,0),e}function d4(){const{user:n}=Ji(),[e,t]=U.useState(null),[s,o]=U.useState(!0),[c,u]=U.useState([]),[p,v]=U.useState([]),[y,E]=U.useState([]),[S,x]=U.useState({}),[j,Y]=U.useState(new Date);U.useEffect(()=>{n&&Q()},[n]);const Q=async()=>{try{const le=Gt(Fe,"users",n.uid),pe=await pa(le);pe.exists()&&t(pe.data());const k=new Date().toDateString(),O=Vi(fn(Fe,"dailyIntakeMonitor"),Ui("patient","==",le)),L=(await Ln(O)).docs.map(de=>({...de.data(),docId:de.id,dateTime:g0(de.data().dateTime)})),V=Vi(fn(Fe,"dailyMealsChecklist"),Ui("patient","==",le)),R=(await Ln(V)).docs.map(de=>({...de.data(),docId:de.id,dateTime:g0(de.data().dateTime)})),fe={};L.forEach(de=>{const Ie=de.dateTime?.toDateString();Ie&&(fe[Ie]={...fe[Ie],medStatus:de.status?.toLowerCase(),medDocId:de.docId})}),R.forEach(de=>{const Ie=de.dateTime?.toDateString();Ie&&(fe[Ie]={...fe[Ie],mealStatus:de.status?.toLowerCase(),mealDocId:de.docId})}),x(fe);const Oe=L.filter(de=>de.dateTime?.toDateString()===k),X=R.filter(de=>de.dateTime?.toDateString()===k);u(Oe),v(X);const re=[];Oe.forEach(de=>{de.status?.toLowerCase()!=="taken"&&re.push(`Missed medicine: ${de.medication}`)}),X.forEach(de=>{de.status?.toLowerCase()!=="completed"&&re.push(`Missed meal: ${de.mealDescription}`)}),E(re)}catch(le){console.error("Error fetching dashboard data:",le)}finally{o(!1)}},B=le=>{switch(le){case"taken":case"completed":return"green";case"incomplete":return"yellow";case"not taken":case"nottaken":return"red";default:return"gray"}},P=le=>{const pe=S[le.toDateString()]||{};return{mealStatus:pe.mealStatus||"notTaken",medStatus:pe.medStatus||"notTaken",mealDocId:pe.mealDocId||null,medDocId:pe.medDocId||null}},H=async(le,pe)=>{try{const k=P(le),O=pe==="med"?"medStatus":"mealStatus",M=pe==="med"?k.medDocId:k.mealDocId,L=k[O]==="taken"||k[O]==="completed"?"notTaken":"taken";if(M){const $=Gt(Fe,pe==="med"?"dailyIntakeMonitor":"dailyMealsChecklist",M);await ga($,{status:L}),x(R=>({...R,[le.toDateString()]:{...R[le.toDateString()],[O]:L}}))}else console.warn("No log document found for this day")}catch(k){console.error("Error updating status:",k)}};if(s)return g.jsx("p",{className:"loading",children:"Loading dashboard..."});const te=f4(j),ye=Array.from({length:7},(le,pe)=>{const k=new Date(te);return k.setDate(te.getDate()+pe),k});return g.jsx("div",{className:"patient-dashboard",children:g.jsxs("div",{className:"dashboard-grid",children:[g.jsxs("div",{className:"dashboard-card",children:[g.jsxs("h2",{children:["Good Morning, ",e?.firstName||"User","!"]}),g.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("h2",{children:"Notifications"}),y.length===0?g.jsx("p",{children:"No notifications"}):g.jsx("ul",{children:y.map((le,pe)=>g.jsx("li",{children:le},pe))})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("h2",{children:"This Week's Intake"}),g.jsx("div",{className:"week-scroll",children:g.jsx("div",{className:"week-grid",children:ye.map(le=>{const pe=P(le);return g.jsxs("div",{className:"day-box",children:[g.jsx("strong",{children:le.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),g.jsxs("div",{className:"status-bar",children:[g.jsx("span",{className:"status-meal",style:{backgroundColor:B(pe.mealStatus),cursor:"pointer"},onClick:()=>H(le,"meal"),children:"Meal"}),g.jsx("span",{className:"status-med",style:{backgroundColor:B(pe.medStatus),cursor:"pointer"},onClick:()=>H(le,"med"),children:"Med"})]})]},le.toDateString())})})}),g.jsxs("div",{className:"legend",children:[g.jsxs("span",{children:[g.jsx("span",{className:"legend-box",style:{backgroundColor:"green"}})," ","Taken/Completed"]}),g.jsxs("span",{children:[g.jsx("span",{className:"legend-box",style:{backgroundColor:"yellow"}})," ","Incomplete"]}),g.jsxs("span",{children:[g.jsx("span",{className:"legend-box",style:{backgroundColor:"red"}})," ","Not Taken"]})]})]}),g.jsxs("div",{className:"dashboard-card",children:[g.jsx("h2",{children:"Today's Checklist"}),g.jsx("h3",{children:"Medicine"}),c.length===0?g.jsx("p",{children:"No medicines scheduled"}):g.jsx("ul",{children:c.map(le=>g.jsxs("li",{style:{color:B(le.status)},children:[le.medication," - ",le.dosage," (",le.status,")"]},le.docId))}),g.jsx("h3",{children:"Meals"}),p.length===0?g.jsx("p",{children:"No meals scheduled"}):g.jsx("ul",{children:p.map(le=>g.jsxs("li",{style:{color:B(le.status)},children:[le.mealDescription," (",le.status,")"]},le.docId))})]})]})})}function m4(){const{user:n}=Ji(),{role:e}=Ky(),[t,s]=U.useState([]);U.useEffect(()=>{if(!n)return;(async()=>{const u=Gt(Fe,"users",n.uid),p=Vi(fn(Fe,"notifications"),Ui("recipientId","==",u)),y=(await Ln(p)).docs.map(E=>({id:E.id,...E.data()}));s(y.sort((E,S)=>S.timestamp?.seconds-E.timestamp?.seconds))})()},[n]);const o=async(c,u)=>{const p=Gt(Fe,"notifications",c);await ga(p,{read:!u}),s(v=>v.map(y=>y.id===c?{...y,read:!u}:y))};return g.jsx("div",{className:"notifications-container",children:g.jsxs("div",{className:"notifications-card",children:[g.jsx("h2",{className:"notifications-title",children:"Notifications"}),t.length===0?g.jsx("p",{className:"no-notifications",children:"No notifications yet."}):g.jsx("ul",{className:"notifications-list",children:t.map(c=>g.jsxs("li",{className:`notification-item ${c.read?"read":"unread"}`,children:[g.jsxs("div",{className:"notification-header",children:[g.jsx("h4",{className:"notification-title",children:c.title||"Untitled Notification"}),g.jsx("p",{className:"notification-message",children:c.message}),g.jsx("button",{className:`mark-button ${c.read?"mark-unread":"mark-read"}`,onClick:()=>o(c.id,c.read),children:c.read?"Mark as Unread":"Mark as Read"})]}),g.jsx("small",{className:"notification-timestamp",children:c.timestamp?.toDate().toLocaleString()})]},c.id))})]})})}function p4(){const{user:n}=Ji(),[e,t]=U.useState(null),[s,o]=U.useState(null),[c,u]=U.useState(!0),p=E=>E?E.toDate?E.toDate():new Date(E):null;if(U.useEffect(()=>{(async()=>{try{if(!n?.uid)return;const S=Gt(Fe,"users",n.uid),x=Vi(fn(Fe,"appointments"),Ui("patientId","==",S)),j=await Ln(x);if(!j.empty){const Y=j.docs[0],Q={id:Y.id,...Y.data()};if(t(Q),Q.doctorId)try{const B=await pa(Q.doctorId);if(!B.exists())return;const P={id:B.id,...B.data()},H=Vi(fn(Fe,"doctors"),Ui("uid","==",B.id)),te=await Ln(H),ye=te.empty?{}:te.docs[0].data();o({...P,...ye})}catch(B){console.error("Error fetching doctor details:",B)}}}catch(S){console.error("Error loading appointment:",S)}finally{u(!1)}})()},[n]),c)return g.jsx("div",{className:"appointment-loading",children:"Loading..."});if(!e||!s)return g.jsx("div",{className:"appointment-container",children:g.jsx("h2",{children:"No upcoming appointments found."})});const v=p(e.dateTime)?.toLocaleDateString()||"N/A",y=p(e.dateTime)?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||"N/A";return g.jsxs("div",{className:"appointment-container",children:[g.jsx("h1",{children:"Appointments"}),g.jsxs("div",{className:"appointment-card",children:[g.jsx("h2",{children:"Assigned Doctor"}),g.jsx("p",{children:g.jsxs("strong",{children:["Dr. ",s.fullName||`${s.firstName||""} ${s.lastName||""}`]})}),g.jsxs("p",{children:[g.jsx("strong",{children:"Field:"})," ",s.medicalField||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",s.email||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Contact Number:"})," ",s.officeContactNo||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Hospital Address & Office:"})," ",s.placeOfEmployment||"N/A",", Room ",s.officeRoomNo||"N/A",","," ",s.officeAddress||"N/A"]}),g.jsx("hr",{className:"appointment-divider"}),g.jsx("h2",{children:"Upcoming Appointment Details"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Time:"})," ",y]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Date:"})," ",v]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Location:"})," ",e.location||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Type:"})," ",e.type||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Reason:"})," ",e.reason||"N/A"]}),g.jsx("p",{className:"appointment-note",children:"To reschedule, please contact your assigned doctor."})]})]})}function g4(){const{profile:n,loading:e}=Ji(),[t,s]=U.useState(null),[o,c]=U.useState(null),[u,p]=U.useState(null),[v,y]=U.useState(!0),[E,S]=U.useState(!1),[x,j]=U.useState(!1),[Y,Q]=U.useState(""),[B,P]=U.useState(!1),[H,te]=U.useState(""),[ye,le]=U.useState(""),[pe,k]=U.useState(""),[O,M]=U.useState(""),[L,V]=U.useState(!1);U.useEffect(()=>{if(!n)return;(async()=>{try{const de=Gt(Fe,"users",n.uid),Ie=await pa(de);Ie.exists()&&c(Ie.data());const ke=Vi(fn(Fe,"patients"),Ui("uid","==",de)),D=await Ln(ke);if(D.empty)console.warn("No patient profile found");else{const ae=D.docs[0].data();s(ae),p({...Ie.data(),...ae})}}catch(de){console.error("Error fetching patient profile:",de),Q("Failed to load profile")}finally{y(!1)}})()},[n]);const $=()=>{S(!0),Q("")},R=()=>{p({...o,...t}),S(!1),Q("")},fe=(re,de)=>{p(Ie=>({...Ie,[re]:de}))},Oe=async()=>{Q(""),j(!0);try{const re=Gt(Fe,"users",n.uid),de=Vi(fn(Fe,"patients"),Ui("uid","==",re)),Ie=await Ln(de);if(!Ie.empty){const ke=Ie.docs[0].ref;await ga(ke,{chronicIllness:u.chronicIllness||[],allergies:u.allergies||[],insuranceProvider:u.insuranceProvider||"",seniorCitizenStatus:u.seniorCitizenStatus||!1,pwdStatus:u.pwdStatus||!1}),s({...u})}await ga(re,{firstName:u.firstName,lastName:u.lastName,email:u.email,contactNumber:u.contactNumber,address:u.address,birthDate:u.birthDate,gender:u.gender}),c({...u}),S(!1)}catch(re){console.error("Error saving profile:",re),Q("Failed to save changes")}finally{j(!1)}},X=async()=>{if(M(""),!H||!ye||!pe){M("All fields are required");return}if(ye!==pe){M("Passwords do not match");return}V(!0);try{const re=ya.currentUser,de=ya.EmailAuthProvider.credential(re.email,H);await re.reauthenticateWithCredential(de),await re.updatePassword(ye),P(!1),te(""),le(""),k(""),alert("Password updated successfully!")}catch(re){console.error(re),M("Failed to update password. Check current password.")}finally{V(!1)}};return e||v?g.jsx("p",{children:"Loading profile..."}):o?g.jsx("div",{className:"profile-container",style:{textAlign:"left"},children:g.jsxs("div",{className:"profile-card",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h3",{children:"Patient Profile"}),E?g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:Oe,disabled:x,children:x?"Saving...":"Save"}),g.jsx("button",{onClick:R,disabled:x,children:"Cancel"})]}):g.jsx("button",{onClick:$,children:"Edit Profile"})]}),Y&&g.jsx("div",{className:"error-message",children:Y}),g.jsx("hr",{}),g.jsxs("p",{children:[g.jsx("strong",{children:"First Name:"})," ",E?g.jsx("input",{value:u.firstName,onChange:re=>fe("firstName",re.target.value)}):o.firstName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Last Name:"})," ",E?g.jsx("input",{value:u.lastName,onChange:re=>fe("lastName",re.target.value)}):o.lastName]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",E?g.jsx("input",{value:u.email,onChange:re=>fe("email",re.target.value)}):o.email]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Contact Number:"})," ",E?g.jsx("input",{value:u.contactNumber,onChange:re=>fe("contactNumber",re.target.value)}):o.contactNumber]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Password:"})," ********"," ",B?null:g.jsx("span",{className:"change-password",style:{cursor:"pointer",color:"blue"},onClick:()=>P(!0),children:"(Change Password)"})]}),B&&g.jsxs("div",{style:{marginTop:"10px",marginBottom:"10px"},children:[O&&g.jsx("p",{className:"error-message",children:O}),g.jsx("input",{type:"password",placeholder:"Current Password",value:H,onChange:re=>te(re.target.value)}),g.jsx("input",{type:"password",placeholder:"New Password",value:ye,onChange:re=>le(re.target.value)}),g.jsx("input",{type:"password",placeholder:"Confirm New Password",value:pe,onChange:re=>k(re.target.value)}),g.jsxs("div",{style:{marginTop:"5px"},children:[g.jsx("button",{onClick:X,disabled:L,children:L?"Updating...":"Update Password"}),g.jsx("button",{onClick:()=>P(!1),disabled:L,children:"Cancel"})]})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Birth Date:"})," ",E?g.jsx("input",{type:"date",value:u.birthDate,onChange:re=>fe("birthDate",re.target.value)}):o.birthDate]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Gender:"})," ",E?g.jsxs("select",{value:u.gender,onChange:re=>fe("gender",re.target.value),children:[g.jsx("option",{value:"",children:"Select"}),g.jsx("option",{value:"Male",children:"Male"}),g.jsx("option",{value:"Female",children:"Female"}),g.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),g.jsx("hr",{}),t?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Chronic Illness:"})," ",E?g.jsx("input",{value:(u.chronicIllness||[]).join(", "),onChange:re=>fe("chronicIllness",re.target.value.split(",").map(de=>de.trim()))}):(t.chronicIllness||[]).join(", ")]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Allergies:"})," ",E?g.jsx("input",{value:(u.allergies||[]).join(", "),onChange:re=>fe("allergies",re.target.value.split(",").map(de=>de.trim()))}):(t.allergies||[]).join(", ")]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Insurance Provider:"})," ",E?g.jsx("input",{value:u.insuranceProvider||"",onChange:re=>fe("insuranceProvider",re.target.value)}):t.insuranceProvider]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Senior Citizen:"})," ",E?g.jsxs("select",{value:u.seniorCitizenStatus?"Yes":"No",onChange:re=>fe("seniorCitizenStatus",re.target.value==="Yes"),children:[g.jsx("option",{value:"No",children:"No"}),g.jsx("option",{value:"Yes",children:"Yes"})]}):t.seniorCitizenStatus?"Yes":"No"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"PWD:"})," ",E?g.jsxs("select",{value:u.pwdStatus?"Yes":"No",onChange:re=>fe("pwdStatus",re.target.value==="Yes"),children:[g.jsx("option",{value:"No",children:"No"}),g.jsx("option",{value:"Yes",children:"Yes"})]}):t.pwdStatus?"Yes":"No"]})]}):g.jsx("p",{children:"No patient profile found."})]})}):g.jsx("p",{children:"No profile data found."})}async function e1(n,e,t,s){const o=Gt(Fe,t,s),c=Vi(fn(Fe,n),Ui(e,"==",o));return(await Ln(c)).docs.map(p=>({id:p.id,...p.data()}))}function y4(){const{user:n}=Ji(),[e,t]=U.useState([]),[s,o]=U.useState([]),[c,u]=U.useState(!0);return U.useEffect(()=>{if(!n?.uid){u(!1);return}(async()=>{try{const v=await e1("dailyFoodLog","patient","patients",n.uid),y=new Date,E=v.map(j=>{const Y=j.dateTime instanceof It?j.dateTime.toDate():null;return{id:j.id,mealType:j.mealType||"Unknown",description:j.mealDescription||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:j.status||"Pending",date:Y}}),S=E.filter(j=>j.status.toLowerCase()!=="completed"&&(!j.date||j.date>=y)),x=E.filter(j=>j.status.toLowerCase()==="completed"||j.date&&j.date<y);t(S),o(x)}catch(v){console.error("Error fetching daily foods:",v)}finally{u(!1)}})()},[n]),c?g.jsx("p",{className:"loading",children:"Loading daily food log..."}):g.jsx("div",{className:"profile-container",children:g.jsxs("div",{className:"profile-card",children:[g.jsx("h1",{className:"profile-title",children:"Daily Food Log"}),g.jsxs("div",{className:"table-section",children:[g.jsx("h2",{className:"section-title",children:"Upcoming / Not Completed"}),e.length===0?g.jsx("p",{className:"empty-message",children:"No upcoming meals."}):g.jsxs("table",{className:"dashboard-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Meal Type"}),g.jsx("th",{children:"Description"}),g.jsx("th",{children:"Time"}),g.jsx("th",{children:"Status"})]})}),g.jsx("tbody",{children:e.map(p=>g.jsxs("tr",{children:[g.jsx("td",{children:p.mealType}),g.jsx("td",{children:p.description}),g.jsx("td",{children:p.time}),g.jsx("td",{children:g.jsx("span",{className:"status pending",children:p.status})})]},p.id))})]})]}),g.jsxs("div",{className:"table-section",children:[g.jsx("h2",{className:"section-title",children:"Completed Meals"}),s.length===0?g.jsx("p",{className:"empty-message",children:"No completed meals yet."}):g.jsxs("table",{className:"dashboard-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Meal Type"}),g.jsx("th",{children:"Description"}),g.jsx("th",{children:"Time"}),g.jsx("th",{children:"Status"})]})}),g.jsx("tbody",{children:s.map(p=>g.jsxs("tr",{children:[g.jsx("td",{children:p.mealType}),g.jsx("td",{children:p.description}),g.jsx("td",{children:p.time}),g.jsx("td",{children:g.jsx("span",{className:"status taken",children:p.status})})]},p.id))})]})]})]})})}function v4(){const{user:n}=Ji(),[e,t]=U.useState([]),[s,o]=U.useState([]),[c,u]=U.useState(!0);return U.useEffect(()=>{if(!n?.uid){u(!1);return}(async()=>{try{const v=await e1("dailyIntakeMonitor","patient","patients",n.uid),y=new Date,E=v.map(j=>{const Y=j.dateTime instanceof It?j.dateTime.toDate():null,Q=j.endDate instanceof It?j.endDate.toDate():null;return{id:j.id,name:j.medication||"Unknown",dosage:j.dosage||"-",frequency:j.frequency||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:j.status||"Not taken",endDate:Q}}),S=E.filter(j=>j.status.toLowerCase()!=="taken"&&(!j.endDate||j.endDate>=y)),x=E.filter(j=>j.status.toLowerCase()==="taken"||j.endDate&&j.endDate<y);t(S),o(x)}catch(v){console.error("Error fetching daily meds:",v)}finally{u(!1)}})()},[n]),c?g.jsx("p",{className:"loading",children:"Loading daily medicines..."}):g.jsx("div",{className:"profile-container",children:g.jsxs("div",{className:"profile-card",children:[g.jsx("h1",{className:"profile-title",children:"Daily Medicine Log"}),g.jsxs("div",{className:"table-section",children:[g.jsx("h2",{className:"section-title",children:"Upcoming / Not Taken"}),e.length===0?g.jsx("p",{className:"empty-message",children:"No upcoming medicines."}):g.jsxs("table",{className:"dashboard-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Medicine"}),g.jsx("th",{children:"Dosage"}),g.jsx("th",{children:"Frequency"}),g.jsx("th",{children:"Time"}),g.jsx("th",{children:"Status"})]})}),g.jsx("tbody",{children:e.map(p=>g.jsxs("tr",{children:[g.jsx("td",{children:p.name}),g.jsx("td",{children:p.dosage}),g.jsx("td",{children:p.frequency}),g.jsx("td",{children:p.time}),g.jsx("td",{children:g.jsx("span",{className:"status pending",children:p.status})})]},p.id))})]})]}),g.jsxs("div",{className:"table-section",children:[g.jsx("h2",{className:"section-title",children:"Completed / Taken"}),s.length===0?g.jsx("p",{className:"empty-message",children:"No completed medicines yet."}):g.jsxs("table",{className:"dashboard-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Medicine"}),g.jsx("th",{children:"Dosage"}),g.jsx("th",{children:"Frequency"}),g.jsx("th",{children:"Time"}),g.jsx("th",{children:"Status"})]})}),g.jsx("tbody",{children:s.map(p=>g.jsxs("tr",{children:[g.jsx("td",{children:p.name}),g.jsx("td",{children:p.dosage}),g.jsx("td",{children:p.frequency}),g.jsx("td",{children:p.time}),g.jsx("td",{children:g.jsx("span",{className:"status taken",children:p.status})})]},p.id))})]})]})]})})}function _4(){return g.jsx(kP,{children:g.jsx(LI,{children:g.jsx(mI,{children:g.jsxs(jn,{path:"/",element:g.jsx(QP,{}),children:[g.jsx(jn,{index:!0,element:g.jsx(WP,{})}),g.jsx(jn,{path:"login",element:g.jsx(iL,{})}),g.jsx(jn,{path:"about",element:g.jsx(rL,{})}),g.jsx(jn,{path:"contact",element:g.jsx(sL,{})}),g.jsx(jn,{path:"admin/dashboard",element:g.jsx(Wi,{children:g.jsx(fL,{})})}),g.jsx(jn,{path:"doctor/dashboard",element:g.jsx(Wi,{children:g.jsx(XV,{})})}),g.jsx(jn,{path:"doctor/notifications",element:g.jsx(Wi,{children:g.jsx(JV,{})})}),g.jsx(jn,{path:"doctor/patients",element:g.jsx(Wi,{children:g.jsx(ZV,{})})}),g.jsx(jn,{path:"doctor/patient-management/:id",element:g.jsx(Wi,{children:g.jsx(h4,{})})}),g.jsx(jn,{path:"doctor/appointments",element:g.jsx(Wi,{children:g.jsx(o4,{})})}),g.jsx(jn,{path:"doctor/management",element:g.jsx(Wi,{children:g.jsx(c4,{})})}),g.jsx(jn,{path:"doctor/management-profile",element:g.jsx(Wi,{children:g.jsx(u4,{})})}),g.jsx(jn,{path:"doctor/profile",element:g.jsx(Wi,{children:g.jsx(l4,{})})}),g.jsx(jn,{path:"patient/dashboard",element:g.jsx(Wi,{children:g.jsx(d4,{})})}),g.jsx(jn,{path:"patient/notifications",element:g.jsx(Wi,{children:g.jsx(m4,{})})}),g.jsx(jn,{path:"patient/appointments",element:g.jsx(Wi,{children:g.jsx(p4,{})})}),g.jsx(jn,{path:"patient/dailies/food",element:g.jsx(Wi,{children:g.jsx(y4,{})})}),g.jsx(jn,{path:"patient/dailies/medicine",element:g.jsx(Wi,{children:g.jsx(v4,{})})}),g.jsx(jn,{path:"patient/profile",element:g.jsx(Wi,{children:g.jsx(g4,{})})})]})})})})}bx.createRoot(document.getElementById("root")).render(g.jsx(U.StrictMode,{children:g.jsx(_4,{})}));
