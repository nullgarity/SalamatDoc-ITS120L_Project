(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Tp={exports:{}},Kc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Fw(){if(Wv)return Kc;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Kc.Fragment=e,Kc.jsx=n,Kc.jsxs=n,Kc}var Jv;function Gw(){return Jv||(Jv=1,Tp.exports=Fw()),Tp.exports}var b=Gw(),bp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function $w(){if(Zv)return Ge;Zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.iterator;function B(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,J={};function ee(x,re,pe){this.props=x,this.context=re,this.refs=J,this.updater=pe||W}ee.prototype.isReactComponent={},ee.prototype.setState=function(x,re){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,re,"setState")},ee.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function le(){}le.prototype=ee.prototype;function he(x,re,pe){this.props=x,this.context=re,this.refs=J,this.updater=pe||W}var Be=he.prototype=new le;Be.constructor=he,oe(Be,ee.prototype),Be.isPureReactComponent=!0;var Ke=Array.isArray;function Ye(){}var L={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function O(x,re,pe){var ve=pe.ref;return{$$typeof:r,type:x,key:re,ref:ve!==void 0?ve:null,props:pe}}function U(x,re){return O(x.type,re,x.props)}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function q(x){var re={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(pe){return re[pe]})}var M=/\/+/g;function Dt(x,re){return typeof x=="object"&&x!==null&&x.key!=null?q(""+x.key):re.toString(36)}function tn(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ye,Ye):(x.status="pending",x.then(function(re){x.status==="pending"&&(x.status="fulfilled",x.value=re)},function(re){x.status==="pending"&&(x.status="rejected",x.reason=re)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function te(x,re,pe,ve,Ce){var ke=typeof x;(ke==="undefined"||ke==="boolean")&&(x=null);var je=!1;if(x===null)je=!0;else switch(ke){case"bigint":case"string":case"number":je=!0;break;case"object":switch(x.$$typeof){case r:case e:je=!0;break;case w:return je=x._init,te(je(x._payload),re,pe,ve,Ce)}}if(je)return Ce=Ce(x),je=ve===""?"."+Dt(x,0):ve,Ke(Ce)?(pe="",je!=null&&(pe=je.replace(M,"$&/")+"/"),te(Ce,re,pe,"",function(dr){return dr})):Ce!=null&&(k(Ce)&&(Ce=U(Ce,pe+(Ce.key==null||x&&x.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+je)),re.push(Ce)),1;je=0;var Qt=ve===""?".":ve+":";if(Ke(x))for(var ge=0;ge<x.length;ge++)ve=x[ge],ke=Qt+Dt(ve,ge),je+=te(ve,re,pe,ke,Ce);else if(ge=B(x),typeof ge=="function")for(x=ge.call(x),ge=0;!(ve=x.next()).done;)ve=ve.value,ke=Qt+Dt(ve,ge++),je+=te(ve,re,pe,ke,Ce);else if(ke==="object"){if(typeof x.then=="function")return te(tn(x),re,pe,ve,Ce);throw re=String(x),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return je}function me(x,re,pe){if(x==null)return x;var ve=[],Ce=0;return te(x,ve,"","",function(ke){return re.call(pe,ke,Ce++)}),ve}function Se(x){if(x._status===-1){var re=x._result;re=re(),re.then(function(pe){(x._status===0||x._status===-1)&&(x._status=1,x._result=pe)},function(pe){(x._status===0||x._status===-1)&&(x._status=2,x._result=pe)}),x._status===-1&&(x._status=0,x._result=re)}if(x._status===1)return x._result.default;throw x._result}var ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},dt={map:me,forEach:function(x,re,pe){me(x,function(){re.apply(this,arguments)},pe)},count:function(x){var re=0;return me(x,function(){re++}),re},toArray:function(x){return me(x,function(re){return re})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ge.Activity=C,Ge.Children=dt,Ge.Component=ee,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=he,Ge.StrictMode=s,Ge.Suspense=g,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(x){return L.H.useMemoCache(x)}},Ge.cache=function(x){return function(){return x.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(x,re,pe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ve=oe({},x.props),Ce=x.key;if(re!=null)for(ke in re.key!==void 0&&(Ce=""+re.key),re)!N.call(re,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&re.ref===void 0||(ve[ke]=re[ke]);var ke=arguments.length-2;if(ke===1)ve.children=pe;else if(1<ke){for(var je=Array(ke),Qt=0;Qt<ke;Qt++)je[Qt]=arguments[Qt+2];ve.children=je}return O(x.type,Ce,ve)},Ge.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ge.createElement=function(x,re,pe){var ve,Ce={},ke=null;if(re!=null)for(ve in re.key!==void 0&&(ke=""+re.key),re)N.call(re,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ce[ve]=re[ve]);var je=arguments.length-2;if(je===1)Ce.children=pe;else if(1<je){for(var Qt=Array(je),ge=0;ge<je;ge++)Qt[ge]=arguments[ge+2];Ce.children=Qt}if(x&&x.defaultProps)for(ve in je=x.defaultProps,je)Ce[ve]===void 0&&(Ce[ve]=je[ve]);return O(x,ke,Ce)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(x){return{$$typeof:p,render:x}},Ge.isValidElement=k,Ge.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Se}},Ge.memo=function(x,re){return{$$typeof:y,type:x,compare:re===void 0?null:re}},Ge.startTransition=function(x){var re=L.T,pe={};L.T=pe;try{var ve=x(),Ce=L.S;Ce!==null&&Ce(pe,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Ye,ot)}catch(ke){ot(ke)}finally{re!==null&&pe.types!==null&&(re.types=pe.types),L.T=re}},Ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ge.use=function(x){return L.H.use(x)},Ge.useActionState=function(x,re,pe){return L.H.useActionState(x,re,pe)},Ge.useCallback=function(x,re){return L.H.useCallback(x,re)},Ge.useContext=function(x){return L.H.useContext(x)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(x,re){return L.H.useDeferredValue(x,re)},Ge.useEffect=function(x,re){return L.H.useEffect(x,re)},Ge.useEffectEvent=function(x){return L.H.useEffectEvent(x)},Ge.useId=function(){return L.H.useId()},Ge.useImperativeHandle=function(x,re,pe){return L.H.useImperativeHandle(x,re,pe)},Ge.useInsertionEffect=function(x,re){return L.H.useInsertionEffect(x,re)},Ge.useLayoutEffect=function(x,re){return L.H.useLayoutEffect(x,re)},Ge.useMemo=function(x,re){return L.H.useMemo(x,re)},Ge.useOptimistic=function(x,re){return L.H.useOptimistic(x,re)},Ge.useReducer=function(x,re,pe){return L.H.useReducer(x,re,pe)},Ge.useRef=function(x){return L.H.useRef(x)},Ge.useState=function(x){return L.H.useState(x)},Ge.useSyncExternalStore=function(x,re,pe){return L.H.useSyncExternalStore(x,re,pe)},Ge.useTransition=function(){return L.H.useTransition()},Ge.version="19.2.0",Ge}var eE;function yg(){return eE||(eE=1,bp.exports=$w()),bp.exports}var K=yg(),Ap={exports:{}},Qc={},wp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function Kw(){return tE||(tE=1,(function(r){function e(te,me){var Se=te.length;te.push(me);e:for(;0<Se;){var ot=Se-1>>>1,dt=te[ot];if(0<o(dt,me))te[ot]=me,te[Se]=dt,Se=ot;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var me=te[0],Se=te.pop();if(Se!==me){te[0]=Se;e:for(var ot=0,dt=te.length,x=dt>>>1;ot<x;){var re=2*(ot+1)-1,pe=te[re],ve=re+1,Ce=te[ve];if(0>o(pe,Se))ve<dt&&0>o(Ce,pe)?(te[ot]=Ce,te[ve]=Se,ot=ve):(te[ot]=pe,te[re]=Se,ot=re);else if(ve<dt&&0>o(Ce,Se))te[ot]=Ce,te[ve]=Se,ot=ve;else break e}}return me}function o(te,me){var Se=te.sortIndex-me.sortIndex;return Se!==0?Se:te.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],w=1,C=null,D=3,B=!1,W=!1,oe=!1,J=!1,ee=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Be(te){for(var me=n(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=te)s(y),me.sortIndex=me.expirationTime,e(g,me);else break;me=n(y)}}function Ke(te){if(oe=!1,Be(te),!W)if(n(g)!==null)W=!0,Ye||(Ye=!0,q());else{var me=n(y);me!==null&&tn(Ke,me.startTime-te)}}var Ye=!1,L=-1,N=5,O=-1;function U(){return J?!0:!(r.unstable_now()-O<N)}function k(){if(J=!1,Ye){var te=r.unstable_now();O=te;var me=!0;try{e:{W=!1,oe&&(oe=!1,le(L),L=-1),B=!0;var Se=D;try{t:{for(Be(te),C=n(g);C!==null&&!(C.expirationTime>te&&U());){var ot=C.callback;if(typeof ot=="function"){C.callback=null,D=C.priorityLevel;var dt=ot(C.expirationTime<=te);if(te=r.unstable_now(),typeof dt=="function"){C.callback=dt,Be(te),me=!0;break t}C===n(g)&&s(g),Be(te)}else s(g);C=n(g)}if(C!==null)me=!0;else{var x=n(y);x!==null&&tn(Ke,x.startTime-te),me=!1}}break e}finally{C=null,D=Se,B=!1}me=void 0}}finally{me?q():Ye=!1}}}var q;if(typeof he=="function")q=function(){he(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Dt=M.port2;M.port1.onmessage=k,q=function(){Dt.postMessage(null)}}else q=function(){ee(k,0)};function tn(te,me){L=ee(function(){te(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(te){switch(D){case 1:case 2:case 3:var me=3;break;default:me=D}var Se=D;D=me;try{return te()}finally{D=Se}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Se=D;D=te;try{return me()}finally{D=Se}},r.unstable_scheduleCallback=function(te,me,Se){var ot=r.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ot+Se:ot):Se=ot,te){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=Se+dt,te={id:w++,callback:me,priorityLevel:te,startTime:Se,expirationTime:dt,sortIndex:-1},Se>ot?(te.sortIndex=Se,e(y,te),n(g)===null&&te===n(y)&&(oe?(le(L),L=-1):oe=!0,tn(Ke,Se-ot))):(te.sortIndex=dt,e(g,te),W||B||(W=!0,Ye||(Ye=!0,q()))),te},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(te){var me=D;return function(){var Se=D;D=me;try{return te.apply(this,arguments)}finally{D=Se}}}})(Sp)),Sp}var nE;function Qw(){return nE||(nE=1,wp.exports=Kw()),wp.exports}var Cp={exports:{}},fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function Yw(){if(iE)return fi;iE=1;var r=yg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:g,containerInfo:y,implementation:w}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fi.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,w)},fi.flushSync=function(g){var y=f.T,w=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=w,s.d.f()}},fi.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},fi.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},fi.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,C=p(w,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:B}):w==="script"&&s.d.X(g,{crossOrigin:C,integrity:D,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fi.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},fi.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,C=p(w,y.crossOrigin);s.d.L(g,w,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fi.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},fi.requestFormReset=function(g){s.d.r(g)},fi.unstable_batchedUpdates=function(g,y){return g(y)},fi.useFormState=function(g,y,w){return f.H.useFormState(g,y,w)},fi.useFormStatus=function(){return f.H.useHostTransitionStatus()},fi.version="19.2.0",fi}var rE;function Xw(){if(rE)return Cp.exports;rE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cp.exports=Yw(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function Ww(){if(sE)return Qc;sE=1;var r=Qw(),e=yg(),n=Xw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),t;if(m===l)return g(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=m;break}if(S===l){E=!0,l=h,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,l=h;break}if(S===l){E=!0,l=m,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function w(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=w(t),i!==null)return i;t=t.sibling}return null}var C=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case ee:return"Profiler";case J:return"StrictMode";case Ke:return"Suspense";case Ye:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case he:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case Be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return i=t.displayName||null,i!==null?i:Dt(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return Dt(t(i))}catch{}}return null}var tn=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},ot=[],dt=-1;function x(t){return{current:t}}function re(t){0>dt||(t.current=ot[dt],ot[dt]=null,dt--)}function pe(t,i){dt++,ot[dt]=t.current,t.current=i}var ve=x(null),Ce=x(null),ke=x(null),je=x(null);function Qt(t,i){switch(pe(ke,i),pe(Ce,t),pe(ve,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ev(i),t=Tv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(ve),pe(ve,t)}function ge(){re(ve),re(Ce),re(ke)}function dr(t){t.memoizedState!==null&&pe(je,t);var i=ve.current,a=Tv(i,t.type);i!==a&&(pe(Ce,t),pe(ve,a))}function Us(t){Ce.current===t&&(re(ve),re(Ce)),je.current===t&&(re(je),qc._currentValue=Se)}var xa,Da;function ai(t){if(xa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);xa=i&&i[1]||"",Da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+Da}var Na=!1;function Yi(t,i){if(!t||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Q=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){Q=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){Q=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var V=E.split(`
`),$=S.split(`
`);for(h=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===V.length||h===$.length)for(l=V.length-1,h=$.length-1;1<=l&&0<=h&&V[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(V[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||V[l]!==$[h]){var ne=`
`+V[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function mr(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Yi(t.type,!1);case 11:return Yi(t.type.render,!1);case 1:return Yi(t.type,!0);case 31:return ai("Activity");default:return""}}function Bo(t){try{var i="",a=null;do i+=mr(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var nn=Object.prototype.hasOwnProperty,un=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Fu=r.unstable_shouldYield,Rl=r.unstable_requestPaint,Kn=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,Ii=r.unstable_ImmediatePriority,Oa=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Gu=r.unstable_LowPriority,us=r.unstable_IdlePriority,Mr=r.log,Vr=r.unstable_setDisableYieldValue,oi=null,Dn=null;function li(t){if(typeof Mr=="function"&&Vr(t),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(oi,t)}catch{}}var Yt=Math.clz32?Math.clz32:xl,Il=Math.log,Ma=Math.LN2;function xl(t){return t>>>=0,t===0?32:31-(Il(t)/Ma|0)|0}var gr=256,zs=262144,Xt=4194304;function _i(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=_i(l):(E&=S,E!==0?h=_i(E):a||(a=S&~t,a!==0&&(h=_i(a))))):(S=l&~m,S!==0?h=_i(S):E!==0?h=_i(E):a||(a=l&~t,a!==0&&(h=_i(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function xi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $u(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(){var t=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),t}function yr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cs(t,i,a,l,h,m){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,V=t.expirationTimes,$=t.hiddenUpdates;for(a=E&~a;0<a;){var ne=31-Yt(a),se=1<<ne;S[ne]=0,V[ne]=-1;var Q=$[ne];if(Q!==null)for($[ne]=null,ne=0;ne<Q.length;ne++){var X=Q[ne];X!==null&&(X.lane&=-536870913)}a&=~se}l!==0&&Wi(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(E&~i))}function Wi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ho(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Hs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Hs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nl(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function vi(t,i){var a=me.p;try{return me.p=t,i()}finally{me.p=a}}var Pn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Pn,gn="__reactProps$"+Pn,Di="__reactContainer$"+Pn,Va="__reactEvents$"+Pn,Ku="__reactListeners$"+Pn,kr="__reactHandles$"+Pn,yn="__reactResources$"+Pn,zt="__reactMarker$"+Pn;function _n(t){delete t[jt],delete t[gn],delete t[Va],delete t[Ku],delete t[kr]}function Vt(t){var i=t[jt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Di]||a[jt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Iv(t);t!==null;){if(a=t[jt])return a;t=Iv(t)}return i}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[jt]||t[Di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function jn(t){var i=t[yn];return i||(i=t[yn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(t){t[zt]=!0}var La=new Set,qs={};function Yn(t,i){Ji(t,i),Ji(t+"Capture",i)}function Ji(t,i){for(qs[t]=i,t=0;t<i.length;t++)La.add(i[t])}var Fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gs={},ka={};function Fo(t){return nn.call(ka,t)?!0:nn.call(Gs,t)?!1:Fs.test(t)?ka[t]=!0:(Gs[t]=!0,!1)}function $s(t,i,a){if(Fo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ui(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Pa(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){a=""+E,m.call(this,E)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function mt(t){if(!t._valueTracker){var i=Pr(t)?"checked":"value";t._valueTracker=Pa(t,i,""+t[i])}}function hs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fn=/[\n"\\]/g;function rn(t){return t.replace(fn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nn(t,i,a,l,h,m,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+cn(i)):t.value!==""+cn(i)&&(t.value=""+cn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ks(t,E,cn(i)):a!=null?Ks(t,E,cn(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+cn(S):t.removeAttribute("name")}function ja(t,i,a,l,h,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){mt(t);return}a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),mt(t)}function Ks(t,i,a){i==="number"&&hn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function On(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function _r(t,i,a){if(i!=null&&(i=""+cn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+cn(a):""}function Zi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tn(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),mt(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function za(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ua.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function vr(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&za(t,h,l)}else for(var m in i)i.hasOwnProperty(m)&&za(t,m,i[m])}function fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Un=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return Un.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function En(){}var ds=null;function Ei(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Oi=null;function er(t){var i=Qn(t);if(i&&(t=i.stateNode)){var a=t[gn]||null;e:switch(t=i.stateNode,i.type){case"input":if(Nn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gn]||null;if(!h)throw Error(s(90));Nn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&hs(l)}break e;case"textarea":_r(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&On(t,!!a.multiple,i,!1)}}}var Qs=!1;function jr(t,i,a){if(Qs)return t(i,a);Qs=!0;try{var l=t(i);return l}finally{if(Qs=!1,(Ni!==null||Oi!==null)&&(bf(),Ni&&(i=Ni,t=Oi,Oi=Ni=null,er(i),t)))for(i=0;i<t.length;i++)er(t[i])}}function Mi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gn]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(Mn)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Ys=!1}var Vi=null,ms=null,Ur=null;function $o(){if(Ur)return Ur;var t,i=ms,a=i.length,l,h="value"in Vi?Vi.value:Vi.textContent,m=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[m-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function Er(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zr(){return!0}function Li(){return!1}function mn(t){function i(a,l,h,m,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zr:Li,this.isPropagationStopped=Li,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=mn(tr),Br=C({},tr,{view:0,detail:0}),Hr=mn(Br),Tr,Xs,nr,ir=C({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nr&&(nr&&t.type==="mousemove"?(Tr=t.screenX-nr.screenX,Xs=t.screenY-nr.screenY):Xs=Tr=0,nr=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),Ko=mn(ir),ps=C({},ir,{dataTransfer:0}),Qo=mn(ps),Yo=C({},Br,{relatedTarget:0}),gs=mn(Yo),Ha=C({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=mn(Ha),Ws=C({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ol=mn(Ws),Ml=C({},tr,{data:0}),rr=mn(Ml),Xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vl[t])?!!i[t]:!1}function br(){return Ll}var zn=C({},Br,{key:function(t){if(t.key){var i=Xo[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Js[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wo=mn(zn),Ar=C({},ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=mn(Ar),c=C({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),_=mn(c),T=C({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=mn(T),F=C({},ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=mn(F),de=C({},tr,{newState:0,oldState:0}),He=mn(de),Jt=[9,13,27,32],Ze=Mn&&"CompositionEvent"in window,pt=null;Mn&&"documentMode"in document&&(pt=document.documentMode);var Pi=Mn&&"TextEvent"in window&&!pt,Ti=Mn&&(!Ze||pt&&8<pt&&11>=pt),ar=" ",or=!1;function Zs(t,i){switch(t){case"keyup":return Jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function nm(t,i){switch(t){case"compositionend":return Fa(i);case"keypress":return i.which!==32?null:(or=!0,ar);case"textInput":return t=i.data,t===ar&&or?null:t;default:return null}}function im(t,i){if(Ga)return t==="compositionend"||!Ze&&Zs(t,i)?(t=$o(),Ur=ms=Vi=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ji(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!rm[t.type]:i==="textarea"}function Qu(t,i,a,l){Ni?Oi?Oi.push(l):Oi=[l]:Ni=l,i=xf(i,"onChange"),0<i.length&&(a=new ki("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var $a=null,Ka=null;function sm(t){mv(t,0)}function kl(t){var i=vn(t);if(hs(i))return t}function Yu(t,i){if(t==="change")return i}var Jo=!1;if(Mn){var Xu;if(Mn){var Wu="oninput"in document;if(!Wu){var Ju=document.createElement("div");Ju.setAttribute("oninput","return;"),Wu=typeof Ju.oninput=="function"}Xu=Wu}else Xu=!1;Jo=Xu&&(!document.documentMode||9<document.documentMode)}function jh(){$a&&($a.detachEvent("onpropertychange",Uh),Ka=$a=null)}function Uh(t){if(t.propertyName==="value"&&kl(Ka)){var i=[];Qu(i,Ka,t,Ei(t)),jr(sm,i)}}function zh(t,i,a){t==="focusin"?(jh(),$a=i,Ka=a,$a.attachEvent("onpropertychange",Uh)):t==="focusout"&&jh()}function Bh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(Ka)}function Hh(t,i){if(t==="click")return kl(i)}function Pl(t,i){if(t==="input"||t==="change")return kl(i)}function qh(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Xn=typeof Object.is=="function"?Object.is:qh;function Bn(t,i){if(Xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!nn.call(i,h)||!Xn(t[h],i[h]))return!1}return!0}function Fh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gh(t,i){var a=Fh(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fh(a)}}function Zu(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Zu(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ec(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hn(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hn(t.document)}return i}function tc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var am=Mn&&"documentMode"in document&&11>=document.documentMode,Qa=null,nc=null,Zo=null,ic=!1;function rc(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ic||Qa==null||Qa!==hn(l)||(l=Qa,"selectionStart"in l&&tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Bn(Zo,l)||(Zo=l,l=xf(nc,"onSelect"),0<l.length&&(i=new ki("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Qa)))}function ys(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _s={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},sc={},$h={};Mn&&($h=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function bi(t){if(sc[t])return sc[t];if(!_s[t])return t;var i=_s[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in $h)return sc[t]=i[a];return t}var wr=bi("animationend"),ac=bi("animationiteration"),Kh=bi("animationstart"),Qh=bi("transitionrun"),Yh=bi("transitionstart"),Xh=bi("transitioncancel"),oc=bi("transitionend"),Wh=new Map,lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lc.push("scrollEnd");function lr(t,i){Wh.set(t,i),Yn(i,[t])}var el=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ai=[],Ya=0,uc=0;function jl(){for(var t=Ya,i=uc=Ya=0;i<t;){var a=Ai[i];Ai[i++]=null;var l=Ai[i];Ai[i++]=null;var h=Ai[i];Ai[i++]=null;var m=Ai[i];if(Ai[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}m!==0&&hc(a,h,m)}}function Ul(t,i,a,l){Ai[Ya++]=t,Ai[Ya++]=i,Ai[Ya++]=a,Ai[Ya++]=l,uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cc(t,i,a,l){return Ul(t,i,a,l),zl(t)}function Wn(t,i){return Ul(t,null,null,i),zl(t)}function hc(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Yt(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function zl(t){if(50<kc)throw kc=0,Gm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Xa={};function om(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(t,i,a,l){return new om(t,i,a,l)}function fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var a=t.alternate;return a===null?(a=wi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jh(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bl(t,i,a,l,h,m){var E=0;if(l=t,typeof t=="function")fc(t)&&(E=1);else if(typeof t=="string")E=Ow(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=wi(31,a,i,h),t.elementType=O,t.lanes=m,t;case oe:return Fr(a.children,h,m,i);case J:E=8,h|=24;break;case ee:return t=wi(12,a,i,h|2),t.elementType=ee,t.lanes=m,t;case Ke:return t=wi(13,a,i,h),t.elementType=Ke,t.lanes=m,t;case Ye:return t=wi(19,a,i,h),t.elementType=Ye,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:E=10;break e;case le:E=9;break e;case Be:E=11;break e;case L:E=14;break e;case N:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wi(E,a,i,h),i.elementType=t,i.type=l,i.lanes=m,i}function Fr(t,i,a,l){return t=wi(7,t,l,i),t.lanes=a,t}function Wa(t,i,a){return t=wi(6,t,null,i),t.lanes=a,t}function Zh(t){var i=wi(18,null,null,0);return i.stateNode=t,i}function Hl(t,i,a){return i=wi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dc=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var a=dc.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Bo(i)},dc.set(t,i),i)}return{value:t,source:i,stack:Bo(i)}}var vs=[],Es=0,ql=null,tl=0,Ui=[],Tn=0,Ts=null,Sr=1,Cr="";function Gr(t,i){vs[Es++]=tl,vs[Es++]=ql,ql=t,tl=i}function nl(t,i,a){Ui[Tn++]=Sr,Ui[Tn++]=Cr,Ui[Tn++]=Ts,Ts=t;var l=Sr;t=Cr;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var m=32-Yt(i)+h;if(30<m){var E=h-h%5;m=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Sr=1<<32-Yt(i)+h|a<<h|l,Cr=m+t}else Sr=1<<m|a<<h|l,Cr=t}function il(t){t.return!==null&&(Gr(t,1),nl(t,1,0))}function mc(t){for(;t===ql;)ql=vs[--Es],vs[Es]=null,tl=vs[--Es],vs[Es]=null;for(;t===Ts;)Ts=Ui[--Tn],Ui[Tn]=null,Cr=Ui[--Tn],Ui[Tn]=null,Sr=Ui[--Tn],Ui[Tn]=null}function pc(t,i){Ui[Tn++]=Sr,Ui[Tn++]=Cr,Ui[Tn++]=Ts,Sr=i.id,Cr=i.overflow,Ts=t}var Vn=null,gt=null,We=!1,$r=null,zi=!1,gc=Error(s(519));function bs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Hn(i,t)),gc}function Ja(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[jt]=t,i[gn]=l,a){case"dialog":tt("cancel",i),tt("close",i);break;case"iframe":case"object":case"embed":tt("load",i);break;case"video":case"audio":for(a=0;a<jc.length;a++)tt(jc[a],i);break;case"source":tt("error",i);break;case"img":case"image":case"link":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"input":tt("invalid",i),ja(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":tt("invalid",i);break;case"textarea":tt("invalid",i),Zi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||_v(i.textContent,a)?(l.popover!=null&&(tt("beforetoggle",i),tt("toggle",i)),l.onScroll!=null&&tt("scroll",i),l.onScrollEnd!=null&&tt("scrollend",i),l.onClick!=null&&(i.onclick=En),i=!0):i=!1,i||bs(t,!0)}function As(t){for(Vn=t.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:Vn=Vn.return}}function Za(t){if(t!==Vn)return!1;if(!We)return As(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ap(t.type,t.memoizedProps)),a=!a),a&&gt&&bs(t),As(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));gt=Rv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));gt=Rv(t)}else i===27?(i=gt,mo(t.type)?(t=hp,hp=null,gt=t):gt=i):gt=Vn?xr(t.stateNode.nextSibling):null;return!0}function ea(){gt=Vn=null,We=!1}function yc(){var t=$r;return t!==null&&(Gi===null?Gi=t:Gi.push.apply(Gi,t),$r=null),t}function rl(t){$r===null?$r=[t]:$r.push(t)}var _c=x(null),ta=null,Kr=null;function ws(t,i,a){pe(_c,i._currentValue),i._currentValue=a}function Rr(t){t._currentValue=_c.current,re(_c)}function vc(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Fl(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var V=0;V<i.length;V++)if(S.context===i[V]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),vc(m.return,a,t),l||(E=null);break e}m=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),vc(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Ss(t,i,a,l){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Xn(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===je.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(qc):t=[qc])}h=h.return}t!==null&&Fl(i,t,a,l),i.flags|=262144}function sl(t){for(t=t.firstContext;t!==null;){if(!Xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Si(t){ta=t,Kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bn(t){return Ec(ta,t)}function eo(t,i){return ta===null&&Si(t),Ec(t,i)}function Ec(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Kr===null){if(t===null)throw Error(s(308));Kr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Kr=Kr.next=i;return a}var Tc=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ef=r.unstable_scheduleCallback,bc=r.unstable_NormalPriority,sn={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qr(){return{controller:new Tc,data:new Map,refCount:0}}function Bi(t){t.refCount--,t.refCount===0&&ef(bc,function(){t.controller.abort()})}var al=null,Ac=0,to=0,no=null;function lm(t,i){if(al===null){var a=al=[];Ac=0,to=Wm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ac++,i.then(tf,tf),i}function tf(){if(--Ac===0&&al!==null){no!==null&&(no.status="fulfilled");var t=al;al=null,to=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function um(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var nf=te.S;te.S=function(t,i){H_=Kn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lm(t,i),nf!==null&&nf(t,i)};var Cs=x(null);function io(){var t=Cs.current;return t!==null?t:Ot.pooledCache}function na(t,i){i===null?pe(Cs,Cs.current):pe(Cs,i.pool)}function rf(){var t=io();return t===null?null:{parent:sn._currentValue,pool:t}}var ro=Error(s(460)),ia=Error(s(474)),A=Error(s(542)),d={then:function(){}};function v(t){return t=t.status,t==="fulfilled"||t==="rejected"}function R(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(En,En),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ce(t),t;default:if(typeof i.status=="string")i.then(En,En);else{if(t=Ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ce(t),t}throw z=i,ro}}function j(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(z=a,ro):a}}var z=null;function Z(){if(z===null)throw Error(s(459));var t=z;return z=null,t}function ce(t){if(t===ro||t===A)throw Error(s(483))}var fe=null,_e=0;function Te(t){var i=_e;return _e+=1,fe===null&&(fe=[]),R(fe,t,i)}function ye(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ue(t,i){throw i.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function De(t){function i(H,P){if(t){var G=H.deletions;G===null?(H.deletions=[P],H.flags|=16):G.push(P)}}function a(H,P){if(!t)return null;for(;P!==null;)i(H,P),P=P.sibling;return null}function l(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function h(H,P){return H=qr(H,P),H.index=0,H.sibling=null,H}function m(H,P,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<P?(H.flags|=67108866,P):G):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function E(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function S(H,P,G,ie){return P===null||P.tag!==6?(P=Wa(G,H.mode,ie),P.return=H,P):(P=h(P,G),P.return=H,P)}function V(H,P,G,ie){var Re=G.type;return Re===oe?ne(H,P,G.props.children,ie,G.key):P!==null&&(P.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===N&&j(Re)===P.type)?(P=h(P,G.props),ye(P,G),P.return=H,P):(P=Bl(G.type,G.key,G.props,null,H.mode,ie),ye(P,G),P.return=H,P)}function $(H,P,G,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Hl(G,H.mode,ie),P.return=H,P):(P=h(P,G.children||[]),P.return=H,P)}function ne(H,P,G,ie,Re){return P===null||P.tag!==7?(P=Fr(G,H.mode,ie,Re),P.return=H,P):(P=h(P,G),P.return=H,P)}function se(H,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Wa(""+P,H.mode,G),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return G=Bl(P.type,P.key,P.props,null,H.mode,G),ye(G,P),G.return=H,G;case W:return P=Hl(P,H.mode,G),P.return=H,P;case N:return P=j(P),se(H,P,G)}if(tn(P)||q(P))return P=Fr(P,H.mode,G,null),P.return=H,P;if(typeof P.then=="function")return se(H,Te(P),G);if(P.$$typeof===he)return se(H,eo(H,P),G);Ue(H,P)}return null}function Q(H,P,G,ie){var Re=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Re!==null?null:S(H,P,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return G.key===Re?V(H,P,G,ie):null;case W:return G.key===Re?$(H,P,G,ie):null;case N:return G=j(G),Q(H,P,G,ie)}if(tn(G)||q(G))return Re!==null?null:ne(H,P,G,ie,null);if(typeof G.then=="function")return Q(H,P,Te(G),ie);if(G.$$typeof===he)return Q(H,P,eo(H,G),ie);Ue(H,G)}return null}function X(H,P,G,ie,Re){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(G)||null,S(P,H,""+ie,Re);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case B:return H=H.get(ie.key===null?G:ie.key)||null,V(P,H,ie,Re);case W:return H=H.get(ie.key===null?G:ie.key)||null,$(P,H,ie,Re);case N:return ie=j(ie),X(H,P,G,ie,Re)}if(tn(ie)||q(ie))return H=H.get(G)||null,ne(P,H,ie,Re,null);if(typeof ie.then=="function")return X(H,P,G,Te(ie),Re);if(ie.$$typeof===he)return X(H,P,G,eo(P,ie),Re);Ue(P,ie)}return null}function Ae(H,P,G,ie){for(var Re=null,_t=null,we=P,Qe=P=0,it=null;we!==null&&Qe<G.length;Qe++){we.index>Qe?(it=we,we=null):it=we.sibling;var vt=Q(H,we,G[Qe],ie);if(vt===null){we===null&&(we=it);break}t&&we&&vt.alternate===null&&i(H,we),P=m(vt,P,Qe),_t===null?Re=vt:_t.sibling=vt,_t=vt,we=it}if(Qe===G.length)return a(H,we),We&&Gr(H,Qe),Re;if(we===null){for(;Qe<G.length;Qe++)we=se(H,G[Qe],ie),we!==null&&(P=m(we,P,Qe),_t===null?Re=we:_t.sibling=we,_t=we);return We&&Gr(H,Qe),Re}for(we=l(we);Qe<G.length;Qe++)it=X(we,H,Qe,G[Qe],ie),it!==null&&(t&&it.alternate!==null&&we.delete(it.key===null?Qe:it.key),P=m(it,P,Qe),_t===null?Re=it:_t.sibling=it,_t=it);return t&&we.forEach(function(vo){return i(H,vo)}),We&&Gr(H,Qe),Re}function Oe(H,P,G,ie){if(G==null)throw Error(s(151));for(var Re=null,_t=null,we=P,Qe=P=0,it=null,vt=G.next();we!==null&&!vt.done;Qe++,vt=G.next()){we.index>Qe?(it=we,we=null):it=we.sibling;var vo=Q(H,we,vt.value,ie);if(vo===null){we===null&&(we=it);break}t&&we&&vo.alternate===null&&i(H,we),P=m(vo,P,Qe),_t===null?Re=vo:_t.sibling=vo,_t=vo,we=it}if(vt.done)return a(H,we),We&&Gr(H,Qe),Re;if(we===null){for(;!vt.done;Qe++,vt=G.next())vt=se(H,vt.value,ie),vt!==null&&(P=m(vt,P,Qe),_t===null?Re=vt:_t.sibling=vt,_t=vt);return We&&Gr(H,Qe),Re}for(we=l(we);!vt.done;Qe++,vt=G.next())vt=X(we,H,Qe,vt.value,ie),vt!==null&&(t&&vt.alternate!==null&&we.delete(vt.key===null?Qe:vt.key),P=m(vt,P,Qe),_t===null?Re=vt:_t.sibling=vt,_t=vt);return t&&we.forEach(function(qw){return i(H,qw)}),We&&Gr(H,Qe),Re}function xt(H,P,G,ie){if(typeof G=="object"&&G!==null&&G.type===oe&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case B:e:{for(var Re=G.key;P!==null;){if(P.key===Re){if(Re=G.type,Re===oe){if(P.tag===7){a(H,P.sibling),ie=h(P,G.props.children),ie.return=H,H=ie;break e}}else if(P.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===N&&j(Re)===P.type){a(H,P.sibling),ie=h(P,G.props),ye(ie,G),ie.return=H,H=ie;break e}a(H,P);break}else i(H,P);P=P.sibling}G.type===oe?(ie=Fr(G.props.children,H.mode,ie,G.key),ie.return=H,H=ie):(ie=Bl(G.type,G.key,G.props,null,H.mode,ie),ye(ie,G),ie.return=H,H=ie)}return E(H);case W:e:{for(Re=G.key;P!==null;){if(P.key===Re)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){a(H,P.sibling),ie=h(P,G.children||[]),ie.return=H,H=ie;break e}else{a(H,P);break}else i(H,P);P=P.sibling}ie=Hl(G,H.mode,ie),ie.return=H,H=ie}return E(H);case N:return G=j(G),xt(H,P,G,ie)}if(tn(G))return Ae(H,P,G,ie);if(q(G)){if(Re=q(G),typeof Re!="function")throw Error(s(150));return G=Re.call(G),Oe(H,P,G,ie)}if(typeof G.then=="function")return xt(H,P,Te(G),ie);if(G.$$typeof===he)return xt(H,P,eo(H,G),ie);Ue(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(a(H,P.sibling),ie=h(P,G),ie.return=H,H=ie):(a(H,P),ie=Wa(G,H.mode,ie),ie.return=H,H=ie),E(H)):a(H,P)}return function(H,P,G,ie){try{_e=0;var Re=xt(H,P,G,ie);return fe=null,Re}catch(we){if(we===ro||we===A)throw we;var _t=wi(29,we,null,H.mode);return _t.lanes=ie,_t.return=H,_t}finally{}}}var Ne=De(!0),Me=De(!1),xe=!1;function yt(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bt(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pe(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xe(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zl(t),hc(t,null,a),i}return Ul(t,l,i,a),zl(t)}function ze(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}function Je(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ht=!1;function ut(){if(ht){var t=no;if(t!==null)throw t}}function lt(t,i,a,l){ht=!1;var h=t.updateQueue;xe=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var V=S,$=V.next;V.next=null,E===null?m=$:E.next=$,E=V;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==E&&(S===null?ne.firstBaseUpdate=$:S.next=$,ne.lastBaseUpdate=V))}if(m!==null){var se=h.baseState;E=0,ne=$=V=null,S=m;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(nt&Q)===Q:(l&Q)===Q){Q!==0&&Q===to&&(ht=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=t,Oe=S;Q=i;var xt=a;switch(Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){se=Ae.call(xt,se,Q);break e}se=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,Q=typeof Ae=="function"?Ae.call(xt,se,Q):Ae,Q==null)break e;se=C({},se,Q);break e;case 2:xe=!0}}Q=S.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?($=ne=X,V=se):ne=ne.next=X,E|=Q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;X=S,S=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);ne===null&&(V=se),h.baseState=V,h.firstBaseUpdate=$,h.lastBaseUpdate=ne,m===null&&(h.shared.lanes=0),lo|=E,t.lanes=E,t.memoizedState=se}}function Bt(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ci(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bt(a[t],i)}var qn=x(null),An=x(0);function Ci(t,i){t=ma,pe(An,t),pe(qn,i),ma=t|i.baseLanes}function hi(){pe(An,ma),pe(qn,qn.current)}function Lt(){ma=An.current,re(qn),re(An)}var Ht=x(null),Zt=null;function Ri(t){var i=t.alternate;pe(wt,wt.current&1),pe(Ht,t),Zt===null&&(i===null||qn.current!==null||i.memoizedState!==null)&&(Zt=t)}function an(t){pe(wt,wt.current),pe(Ht,t),Zt===null&&(Zt=t)}function At(t){t.tag===22?(pe(wt,wt.current),pe(Ht,t),Zt===null&&(Zt=t)):qt()}function qt(){pe(wt,wt.current),pe(Ht,Ht.current)}function kt(t){re(Ht),Zt===t&&(Zt=null),re(wt)}var wt=x(0);function ra(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||up(a)||cp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ir=0,qe=null,ft=null,on=null,Gl=!1,Rs=!1,sa=!1,ol=0,ll=0,aa=null,sf=0;function Ft(){throw Error(s(321))}function wc(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Xn(t[a],i[a]))return!1;return!0}function Yr(t,i,a,l,h,m){return Ir=m,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,te.H=t===null||t.memoizedState===null?Zy:Em,sa=!1,m=a(l,h),sa=!1,Rs&&(m=Sc(i,a,l,h)),ul(t),m}function ul(t){te.H=Rc;var i=ft!==null&&ft.next!==null;if(Ir=0,on=ft=qe=null,Gl=!1,ll=0,aa=null,i)throw Error(s(300));t===null||wn||(t=t.dependencies,t!==null&&sl(t)&&(wn=!0))}function Sc(t,i,a,l){qe=t;var h=0;do{if(Rs&&(aa=null),ll=0,Rs=!1,25<=h)throw Error(s(301));if(h+=1,on=ft=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}te.H=e_,m=i(a,l)}while(Rs);return m}function af(){var t=te.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(qe.flags|=1024),i}function cl(){var t=ol!==0;return ol=0,t}function $l(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kl(t){if(Gl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Gl=!1}Ir=0,on=ft=qe=null,Rs=!1,ll=ol=0,aa=null}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?qe.memoizedState=on=t:on=on.next=t,on}function Gt(){if(ft===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var i=on===null?qe.memoizedState:on.next;if(i!==null)on=i,ft=t;else{if(t===null)throw qe.alternate===null?Error(s(467)):Error(s(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},on===null?qe.memoizedState=on=t:on=on.next=t}return on}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=ll;return ll+=1,aa===null&&(aa=[]),t=R(aa,t,i),i=qe,(on===null?i.memoizedState:on.next)===null&&(i=i.alternate,te.H=i===null||i.memoizedState===null?Zy:Em),t}function so(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===he)return bn(t)}throw Error(s(438,String(t)))}function Yl(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ql(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=U;return i.index++,a}function oa(t,i){return typeof i=="function"?i(t):i}function of(t){var i=Gt();return cm(i,ft,t)}function cm(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}i.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var S=E=null,V=null,$=i,ne=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(nt&se)===se:(Ir&se)===se){var Q=$.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===to&&(ne=!0);else if((Ir&Q)===Q){$=$.next,Q===to&&(ne=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=se,E=m):V=V.next=se,qe.lanes|=Q,lo|=Q;se=$.action,sa&&a(m,se),m=$.hasEagerState?$.eagerState:a(m,se)}else Q={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=Q,E=m):V=V.next=Q,qe.lanes|=se,lo|=se;$=$.next}while($!==null&&$!==i);if(V===null?E=m:V.next=S,!Xn(m,t.memoizedState)&&(wn=!0,ne&&(a=no,a!==null)))throw a;t.memoizedState=m,t.baseState=E,t.baseQueue=V,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hm(t){var i=Gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do m=t(m,E.action),E=E.next;while(E!==h);Xn(m,i.memoizedState)||(wn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function vy(t,i,a){var l=qe,h=Gt(),m=We;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Xn((ft||h).memoizedState,a);if(E&&(h.memoizedState=a,wn=!0),h=h.queue,mm(by.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||on!==null&&on.memoizedState.tag&1){if(l.flags|=2048,Xl(9,{destroy:void 0},Ty.bind(null,l,h,a,i),null),Ot===null)throw Error(s(349));m||(Ir&127)!==0||Ey(l,i,a)}return a}function Ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=Ql(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ty(t,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&wy(t)}function by(t,i,a){return a(function(){Ay(i)&&wy(t)})}function Ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Xn(t,a)}catch{return!0}}function wy(t){var i=Wn(t,2);i!==null&&$i(i,t,2)}function fm(t){var i=Fn();if(typeof t=="function"){var a=t;if(t=a(),sa){li(!0);try{a()}finally{li(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},i}function Sy(t,i,a,l){return t.baseState=a,cm(t,ft,typeof l=="function"?l:oa)}function LA(t,i,a,l,h){if(cf(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};te.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Cy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Cy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var m=te.T,E={};te.T=E;try{var S=a(h,l),V=te.S;V!==null&&V(E,S),Ry(t,i,S)}catch($){dm(t,i,$)}finally{m!==null&&E.types!==null&&(m.types=E.types),te.T=m}}else try{m=a(h,l),Ry(t,i,m)}catch($){dm(t,i,$)}}function Ry(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Iy(t,i,l)},function(l){return dm(t,i,l)}):Iy(t,i,a)}function Iy(t,i,a){i.status="fulfilled",i.value=a,xy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cy(t,a)))}function dm(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,xy(i),i=i.next;while(i!==l)}t.action=null}function xy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dy(t,i){return i}function Ny(t,i){if(We){var a=Ot.formState;if(a!==null){e:{var l=qe;if(We){if(gt){t:{for(var h=gt,m=zi;h.nodeType!==8;){if(!m){h=null;break t}if(h=xr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){gt=xr(h.nextSibling),l=h.data==="F!";break e}}bs(l)}l=!1}l&&(i=a[0])}}return a=Fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:i},a.queue=l,a=Xy.bind(null,qe,l),l.dispatch=a,l=fm(!1),m=vm.bind(null,qe,!1,l.queue),l=Fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=LA.bind(null,qe,h,m,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Oy(t){var i=Gt();return My(i,ft,t)}function My(t,i,a){if(i=cm(t,i,Dy)[0],t=of(oa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(E){throw E===ro?A:E}else l=i;i=Gt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,Xl(9,{destroy:void 0},kA.bind(null,h,a),null)),[l,m,t]}function kA(t,i){t.action=i}function Vy(t){var i=Gt(),a=ft;if(a!==null)return My(i,a,t);Gt(),i=i.memoizedState,a=Gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Xl(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=Ql(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ly(){return Gt().memoizedState}function lf(t,i,a,l){var h=Fn();qe.flags|=t,h.memoizedState=Xl(1|i,{destroy:void 0},a,l===void 0?null:l)}function uf(t,i,a,l){var h=Gt();l=l===void 0?null:l;var m=h.memoizedState.inst;ft!==null&&l!==null&&wc(l,ft.memoizedState.deps)?h.memoizedState=Xl(i,m,a,l):(qe.flags|=t,h.memoizedState=Xl(1|i,m,a,l))}function ky(t,i){lf(8390656,8,t,i)}function mm(t,i){uf(2048,8,t,i)}function PA(t){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=Ql(),qe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Py(t){var i=Gt().memoizedState;return PA({ref:i,nextImpl:t}),function(){if((Tt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jy(t,i){return uf(4,2,t,i)}function Uy(t,i){return uf(4,4,t,i)}function zy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function By(t,i,a){a=a!=null?a.concat([t]):null,uf(4,4,zy.bind(null,i,t),a)}function pm(){}function Hy(t,i){var a=Gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&wc(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function qy(t,i){var a=Gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&wc(i,l[1]))return l[0];if(l=t(),sa){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[l,i],l}function gm(t,i,a){return a===void 0||(Ir&1073741824)!==0&&(nt&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=F_(),qe.lanes|=t,lo|=t,a)}function Fy(t,i,a,l){return Xn(a,i)?a:qn.current!==null?(t=gm(t,a,l),Xn(t,i)||(wn=!0),t):(Ir&42)===0||(Ir&1073741824)!==0&&(nt&261930)===0?(wn=!0,t.memoizedState=a):(t=F_(),qe.lanes|=t,lo|=t,i)}function Gy(t,i,a,l,h){var m=me.p;me.p=m!==0&&8>m?m:8;var E=te.T,S={};te.T=S,vm(t,!1,i,a);try{var V=h(),$=te.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=um(V,l);Cc(t,i,ne,hr(t))}else Cc(t,i,l,hr(t))}catch(se){Cc(t,i,{then:function(){},status:"rejected",reason:se},hr())}finally{me.p=m,E!==null&&S.types!==null&&(E.types=S.types),te.T=E}}function jA(){}function ym(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$y(t).queue;Gy(t,h,i,Se,a===null?jA:function(){return Ky(t),a(l)})}function $y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:Se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=$y(t);i.next===null&&(i=t.alternate.memoizedState),Cc(t,i.next.queue,{},hr())}function _m(){return bn(qc)}function Qy(){return Gt().memoizedState}function Yy(){return Gt().memoizedState}function UA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=hr();t=Pe(a);var l=Xe(i,t,a);l!==null&&($i(l,i,a),ze(l,i,a)),i={cache:Qr()},t.payload=i;return}i=i.return}}function zA(t,i,a){var l=hr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cf(t)?Wy(i,a):(a=cc(t,i,a,l),a!==null&&($i(a,t,l),Jy(a,i,l)))}function Xy(t,i,a){var l=hr();Cc(t,i,a,l)}function Cc(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cf(t))Wy(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,S=m(E,a);if(h.hasEagerState=!0,h.eagerState=S,Xn(S,E))return Ul(t,i,h,0),Ot===null&&jl(),!1}catch{}finally{}if(a=cc(t,i,h,l),a!==null)return $i(a,t,l),Jy(a,i,l),!0}return!1}function vm(t,i,a,l){if(l={lane:2,revertLane:Wm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cf(t)){if(i)throw Error(s(479))}else i=cc(t,a,l,2),i!==null&&$i(i,t,2)}function cf(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function Wy(t,i){Rs=Gl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}var Rc={readContext:bn,use:so,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Rc.useEffectEvent=Ft;var Zy={readContext:bn,use:so,useCallback:function(t,i){return Fn().memoizedState=[t,i===void 0?null:i],t},useContext:bn,useEffect:ky,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,lf(4194308,4,zy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return lf(4194308,4,t,i)},useInsertionEffect:function(t,i){lf(4,2,t,i)},useMemo:function(t,i){var a=Fn();i=i===void 0?null:i;var l=t();if(sa){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Fn();if(a!==void 0){var h=a(i);if(sa){li(!0);try{a(i)}finally{li(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zA.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=Fn();return t={current:t},i.memoizedState=t},useState:function(t){t=fm(t);var i=t.queue,a=Xy.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:pm,useDeferredValue:function(t,i){var a=Fn();return gm(a,t,i)},useTransition:function(){var t=fm(!1);return t=Gy.bind(null,qe,t.queue,!0,!1),Fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,h=Fn();if(We){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ot===null)throw Error(s(349));(nt&127)!==0||Ey(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,ky(by.bind(null,l,m,t),[t]),l.flags|=2048,Xl(9,{destroy:void 0},Ty.bind(null,l,m,a,i),null),a},useId:function(){var t=Fn(),i=Ot.identifierPrefix;if(We){var a=Cr,l=Sr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ol++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sf++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:_m,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var i=Fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=vm.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yl,useCacheRefresh:function(){return Fn().memoizedState=UA.bind(null,qe)},useEffectEvent:function(t){var i=Fn(),a={impl:t};return i.memoizedState=a,function(){if((Tt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Em={readContext:bn,use:so,useCallback:Hy,useContext:bn,useEffect:mm,useImperativeHandle:By,useInsertionEffect:jy,useLayoutEffect:Uy,useMemo:qy,useReducer:of,useRef:Ly,useState:function(){return of(oa)},useDebugValue:pm,useDeferredValue:function(t,i){var a=Gt();return Fy(a,ft.memoizedState,t,i)},useTransition:function(){var t=of(oa)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:vy,useId:Qy,useHostTransitionStatus:_m,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,i){var a=Gt();return Sy(a,ft,t,i)},useMemoCache:Yl,useCacheRefresh:Yy};Em.useEffectEvent=Py;var e_={readContext:bn,use:so,useCallback:Hy,useContext:bn,useEffect:mm,useImperativeHandle:By,useInsertionEffect:jy,useLayoutEffect:Uy,useMemo:qy,useReducer:hm,useRef:Ly,useState:function(){return hm(oa)},useDebugValue:pm,useDeferredValue:function(t,i){var a=Gt();return ft===null?gm(a,t,i):Fy(a,ft.memoizedState,t,i)},useTransition:function(){var t=hm(oa)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:vy,useId:Qy,useHostTransitionStatus:_m,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=Gt();return ft!==null?Sy(a,ft,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yl,useCacheRefresh:Yy};e_.useEffectEvent=Py;function Tm(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bm={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=hr(),h=Pe(l);h.payload=i,a!=null&&(h.callback=a),i=Xe(t,h,l),i!==null&&($i(i,t,l),ze(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=hr(),h=Pe(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Xe(t,h,l),i!==null&&($i(i,t,l),ze(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=hr(),l=Pe(a);l.tag=2,i!=null&&(l.callback=i),i=Xe(t,l,a),i!==null&&($i(i,t,a),ze(i,t,a))}};function t_(t,i,a,l,h,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!Bn(a,l)||!Bn(h,m):!0}function n_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&bm.enqueueReplaceState(i,i.state,null)}function fl(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=C({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function i_(t){el(t)}function r_(t){console.error(t)}function s_(t){el(t)}function hf(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function a_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Am(t,i,a){return a=Pe(a),a.tag=3,a.payload={element:null},a.callback=function(){hf(t,i)},a}function o_(t){return t=Pe(t),t.tag=3,t}function l_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){a_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){a_(i,a,l),typeof h!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function BA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ss(i,a,h,!0),a=Ht.current,a!==null){switch(a.tag){case 31:case 13:return Zt===null?Af():a.alternate===null&&ln===0&&(ln=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===d?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qm(t,l,h)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qm(t,l,h)),!1}throw Error(s(435,a.tag))}return Qm(t,l,h),Af(),!1}if(We)return i=Ht.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gc&&(t=Error(s(422),{cause:l}),rl(Hn(t,a)))):(l!==gc&&(i=Error(s(423),{cause:l}),rl(Hn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=Am(t.stateNode,l,h),Je(t,h),ln!==4&&(ln=2)),!1;var m=Error(s(520),{cause:l});if(m=Hn(m,a),Lc===null?Lc=[m]:Lc.push(m),ln!==4&&(ln=2),i===null)return!0;l=Hn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Am(a.stateNode,l,t),Je(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(uo===null||!uo.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=o_(h),l_(h,t,a,l),Je(a,h),!1}a=a.return}while(a!==null);return!1}var wm=Error(s(461)),wn=!1;function Jn(t,i,a,l){i.child=t===null?Me(i,null,a,l):Ne(i,t.child,a,l)}function u_(t,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Si(i),l=Yr(t,i,a,E,m,h),S=cl(),t!==null&&!wn?($l(t,i,h),la(t,i,h)):(We&&S&&il(i),i.flags|=1,Jn(t,i,l,h),i.child)}function c_(t,i,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!fc(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,h_(t,i,m,l,h)):(t=Bl(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Om(t,h)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:Bn,a(E,l)&&t.ref===i.ref)return la(t,i,h)}return i.flags|=1,t=qr(m,l),t.ref=i.ref,t.return=i,i.child=t}function h_(t,i,a,l,h){if(t!==null){var m=t.memoizedProps;if(Bn(m,l)&&t.ref===i.ref)if(wn=!1,i.pendingProps=l=m,Om(t,h))(t.flags&131072)!==0&&(wn=!0);else return i.lanes=t.lanes,la(t,i,h)}return Sm(t,i,a,l,h)}function f_(t,i,a,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return d_(t,i,m,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&na(i,m!==null?m.cachePool:null),m!==null?Ci(i,m):hi(),At(i);else return l=i.lanes=536870912,d_(t,i,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(na(i,m.cachePool),Ci(i,m),qt(),i.memoizedState=null):(t!==null&&na(i,null),hi(),qt());return Jn(t,i,h,a),i.child}function Ic(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function d_(t,i,a,l,h){var m=io();return m=m===null?null:{parent:sn._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&na(i,null),hi(),At(i),t!==null&&Ss(t,i,l,!0),i.childLanes=h,null}function ff(t,i){return i=mf({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function m_(t,i,a){return Ne(i,t.child,null,a),t=ff(i,i.pendingProps),t.flags|=2,kt(i),i.memoizedState=null,t}function HA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=ff(i,l),i.lanes=536870912,Ic(null,t);if(an(i),(t=gt)?(t=Cv(t,zi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Sr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},a=Zh(t),a.return=i,i.child=a,Vn=i,gt=null)):t=null,t===null)throw bs(i);return i.lanes=536870912,null}return ff(i,l)}var m=t.memoizedState;if(m!==null){var E=m.dehydrated;if(an(i),h)if(i.flags&256)i.flags&=-257,i=m_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wn||Ss(t,i,a,!1),h=(a&t.childLanes)!==0,wn||h){if(l=Ot,l!==null&&(E=qo(l,a),E!==0&&E!==m.retryLane))throw m.retryLane=E,Wn(t,E),$i(l,t,E),wm;Af(),i=m_(t,i,a)}else t=m.treeContext,gt=xr(E.nextSibling),Vn=i,We=!0,$r=null,zi=!1,t!==null&&pc(i,t),i=ff(i,l),i.flags|=4096;return i}return t=qr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function df(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sm(t,i,a,l,h){return Si(i),a=Yr(t,i,a,l,void 0,h),l=cl(),t!==null&&!wn?($l(t,i,h),la(t,i,h)):(We&&l&&il(i),i.flags|=1,Jn(t,i,a,h),i.child)}function p_(t,i,a,l,h,m){return Si(i),i.updateQueue=null,a=Sc(i,l,a,h),ul(t),l=cl(),t!==null&&!wn?($l(t,i,m),la(t,i,m)):(We&&l&&il(i),i.flags|=1,Jn(t,i,a,m),i.child)}function g_(t,i,a,l,h){if(Si(i),i.stateNode===null){var m=Xa,E=a.contextType;typeof E=="object"&&E!==null&&(m=bn(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=bm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},yt(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?bn(E):Xa,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Tm(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&bm.enqueueReplaceState(m,m.state,null),lt(i,l,m,h),ut(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var S=i.memoizedProps,V=fl(a,S);m.props=V;var $=m.context,ne=a.contextType;E=Xa,typeof ne=="object"&&ne!==null&&(E=bn(ne));var se=a.getDerivedStateFromProps;ne=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||$!==E)&&n_(i,m,l,E),xe=!1;var Q=i.memoizedState;m.state=Q,lt(i,l,m,h),ut(),$=i.memoizedState,S||Q!==$||xe?(typeof se=="function"&&(Tm(i,a,se,l),$=i.memoizedState),(V=xe||t_(i,a,V,l,Q,$,E))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=E,l=V):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,bt(t,i),E=i.memoizedProps,ne=fl(a,E),m.props=ne,se=i.pendingProps,Q=m.context,$=a.contextType,V=Xa,typeof $=="object"&&$!==null&&(V=bn($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||Q!==V)&&n_(i,m,l,V),xe=!1,Q=i.memoizedState,m.state=Q,lt(i,l,m,h),ut();var X=i.memoizedState;E!==se||Q!==X||xe||t!==null&&t.dependencies!==null&&sl(t.dependencies)?(typeof S=="function"&&(Tm(i,a,S,l),X=i.memoizedState),(ne=xe||t_(i,a,ne,l,Q,X,V)||t!==null&&t.dependencies!==null&&sl(t.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,V)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),m.props=l,m.state=X,m.context=V,l=ne):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,df(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=Ne(i,t.child,null,h),i.child=Ne(i,null,a,h)):Jn(t,i,a,h),i.memoizedState=m.state,t=i.child):t=la(t,i,h),t}function y_(t,i,a,l){return ea(),i.flags|=256,Jn(t,i,a,l),i.child}var Cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rm(t){return{baseLanes:t,cachePool:rf()}}function Im(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=cr),t}function __(t,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?Ri(i):qt(),(t=gt)?(t=Cv(t,zi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Sr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},a=Zh(t),a.return=i,i.child=a,Vn=i,gt=null)):t=null,t===null)throw bs(i);return cp(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(qt(),h=i.mode,S=mf({mode:"hidden",children:S},h),l=Fr(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Rm(a),l.childLanes=Im(t,E,a),i.memoizedState=Cm,Ic(null,l)):(Ri(i),xm(i,S))}var V=t.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(m)i.flags&256?(Ri(i),i.flags&=-257,i=Dm(t,i,a)):i.memoizedState!==null?(qt(),i.child=t.child,i.flags|=128,i=null):(qt(),S=l.fallback,h=i.mode,l=mf({mode:"visible",children:l.children},h),S=Fr(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ne(i,t.child,null,a),l=i.child,l.memoizedState=Rm(a),l.childLanes=Im(t,E,a),i.memoizedState=Cm,i=Ic(null,l));else if(Ri(i),cp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,l=Error(s(419)),l.stack="",l.digest=E,rl({value:l,source:null,stack:null}),i=Dm(t,i,a)}else if(wn||Ss(t,i,a,!1),E=(a&t.childLanes)!==0,wn||E){if(E=Ot,E!==null&&(l=qo(E,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,Wn(t,l),$i(E,t,l),wm;up(S)||Af(),i=Dm(t,i,a)}else up(S)?(i.flags|=192,i.child=t.child,i=null):(t=V.treeContext,gt=xr(S.nextSibling),Vn=i,We=!0,$r=null,zi=!1,t!==null&&pc(i,t),i=xm(i,l.children),i.flags|=4096);return i}return h?(qt(),S=l.fallback,h=i.mode,V=t.child,$=V.sibling,l=qr(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,$!==null?S=qr($,S):(S=Fr(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Ic(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Rm(a):(h=S.cachePool,h!==null?(V=sn._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=rf(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=Im(t,E,a),i.memoizedState=Cm,Ic(t.child,l)):(Ri(i),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function xm(t,i){return i=mf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function mf(t,i){return t=wi(22,t,null,i),t.lanes=0,t}function Dm(t,i,a){return Ne(i,t.child,null,a),t=xm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vc(t.return,i,a)}function Nm(t,i,a,l,h,m){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:m}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=h,E.treeForkCount=m)}function E_(t,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var E=wt.current,S=(E&2)!==0;if(S?(E=E&1|2,i.flags|=128):E&=1,pe(wt,E),Jn(t,i,l,a),l=We?tl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,a,i);else if(t.tag===19)v_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ra(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nm(i,!1,h,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ra(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Nm(i,!0,a,null,m,l);break;case"together":Nm(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function la(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),lo|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ss(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Om(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sl(t)))}function qA(t,i,a){switch(i.tag){case 3:Qt(i,i.stateNode.containerInfo),ws(i,sn,t.memoizedState.cache),ea();break;case 27:case 5:dr(i);break;case 4:Qt(i,i.stateNode.containerInfo);break;case 10:ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,an(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?__(t,i,a):(Ri(i),t=la(t,i,a),t!==null?t.sibling:null);Ri(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ss(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return E_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),pe(wt,wt.current),l)break;return null;case 22:return i.lanes=0,f_(t,i,a,i.pendingProps);case 24:ws(i,sn,t.memoizedState.cache)}return la(t,i,a)}function T_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wn=!0;else{if(!Om(t,a)&&(i.flags&128)===0)return wn=!1,qA(t,i,a);wn=(t.flags&131072)!==0}else wn=!1,We&&(i.flags&1048576)!==0&&nl(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=j(i.elementType),i.type=t,typeof t=="function")fc(t)?(l=fl(t,l),i.tag=1,i=g_(null,i,t,l,a)):(i.tag=0,i=Sm(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Be){i.tag=11,i=u_(null,i,t,l,a);break e}else if(h===L){i.tag=14,i=c_(null,i,t,l,a);break e}}throw i=Dt(t)||t,Error(s(306,i,""))}}return i;case 0:return Sm(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=fl(l,i.pendingProps),g_(t,i,l,h,a);case 3:e:{if(Qt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,bt(t,i),lt(i,l,null,a);var E=i.memoizedState;if(l=E.cache,ws(i,sn,l),l!==m.cache&&Fl(i,[sn],a,!0),ut(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=y_(t,i,l,a);break e}else if(l!==h){h=Hn(Error(s(424)),i),rl(h),i=y_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=xr(t.firstChild),Vn=i,We=!0,$r=null,zi=!0,a=Me(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===h){i=la(t,i,a);break e}Jn(t,i,l,a)}i=i.child}return i;case 26:return df(t,i),t===null?(a=Ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Df(ke.current).createElement(a),l[jt]=i,l[gn]=t,Zn(l,a,t),Nt(l),i.stateNode=l):i.memoizedState=Ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return dr(i),t===null&&We&&(l=i.stateNode=xv(i.type,i.pendingProps,ke.current),Vn=i,zi=!0,h=gt,mo(i.type)?(hp=h,gt=xr(l.firstChild)):gt=h),Jn(t,i,i.pendingProps.children,a),df(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=gt)&&(l=vw(l,i.type,i.pendingProps,zi),l!==null?(i.stateNode=l,Vn=i,gt=xr(l.firstChild),zi=!1,h=!0):h=!1),h||bs(i)),dr(i),h=i.type,m=i.pendingProps,E=t!==null?t.memoizedProps:null,l=m.children,ap(h,m)?l=null:E!==null&&ap(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Yr(t,i,af,null,null,a),qc._currentValue=h),df(t,i),Jn(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=gt)&&(a=Ew(a,i.pendingProps,zi),a!==null?(i.stateNode=a,Vn=i,gt=null,t=!0):t=!1),t||bs(i)),null;case 13:return __(t,i,a);case 4:return Qt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ne(i,null,l,a):Jn(t,i,l,a),i.child;case 11:return u_(t,i,i.type,i.pendingProps,a);case 7:return Jn(t,i,i.pendingProps,a),i.child;case 8:return Jn(t,i,i.pendingProps.children,a),i.child;case 12:return Jn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ws(i,i.type,l.value),Jn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Si(i),h=bn(h),l=l(h),i.flags|=1,Jn(t,i,l,a),i.child;case 14:return c_(t,i,i.type,i.pendingProps,a);case 15:return h_(t,i,i.type,i.pendingProps,a);case 19:return E_(t,i,a);case 31:return HA(t,i,a);case 22:return f_(t,i,a,i.pendingProps);case 24:return Si(i),l=bn(sn),t===null?(h=io(),h===null&&(h=Ot,m=Qr(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},yt(i),ws(i,sn,h)):((t.lanes&a)!==0&&(bt(t,i),lt(i,null,null,a),ut()),h=t.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ws(i,sn,l)):(l=m.cache,ws(i,sn,l),l!==h.cache&&Fl(i,[sn],a,!0))),Jn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ua(t){t.flags|=4}function Mm(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Q_())t.flags|=8192;else throw z=d,ia}else t.flags&=-16777217}function b_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(i))if(Q_())t.flags|=8192;else throw z=d,ia}function pf(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Dl():536870912,t.lanes|=i,eu|=i)}function xc(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function FA(t,i,a){var l=i.pendingProps;switch(mc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Ut(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Rr(sn),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(i)?ua(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yc())),Ut(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(ua(i),m!==null?(Ut(i),b_(i,m)):(Ut(i),Mm(i,h,null,l,a))):m?m!==t.memoizedState?(ua(i),Ut(i),b_(i,m)):(Ut(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ua(i),Ut(i),Mm(i,h,t,l,a)),null;case 27:if(Us(i),a=ke.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ua(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ut(i),null}t=ve.current,Za(i)?Ja(i):(t=xv(h,l,a),i.stateNode=t,ua(i))}return Ut(i),null;case 5:if(Us(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ua(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ut(i),null}if(m=ve.current,Za(i))Ja(i);else{var E=Df(ke.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?E.createElement(h,{is:l.is}):E.createElement(h)}}m[jt]=i,m[gn]=l;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=m;e:switch(Zn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ua(i)}}return Ut(i),Mm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ua(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ke.current,Za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_v(t.nodeValue,a)),t||bs(i,!0)}else t=Df(t).createTextNode(l),t[jt]=i,i.stateNode=t}return Ut(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Za(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[jt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),t=!1}else a=yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(kt(i),i):(kt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ut(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[jt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),h=!1}else h=yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(kt(i),i):(kt(i),null)}return kt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),pf(i,i.updateQueue),Ut(i),null);case 4:return ge(),t===null&&tp(i.stateNode.containerInfo),Ut(i),null;case 10:return Rr(i.type),Ut(i),null;case 19:if(re(wt),l=i.memoizedState,l===null)return Ut(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)xc(l,!1);else{if(ln!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=ra(t),m!==null){for(i.flags|=128,xc(l,!1),t=m.updateQueue,i.updateQueue=t,pf(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jh(a,t),a=a.sibling;return pe(wt,wt.current&1|2),We&&Gr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Kn()>Ef&&(i.flags|=128,h=!0,xc(l,!1),i.lanes=4194304)}else{if(!h)if(t=ra(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,pf(i,t),xc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!We)return Ut(i),null}else 2*Kn()-l.renderingStartTime>Ef&&a!==536870912&&(i.flags|=128,h=!0,xc(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(t=l.last,t!==null?t.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Kn(),t.sibling=null,a=wt.current,pe(wt,h?a&1|2:a&1),We&&Gr(i,l.treeForkCount),t):(Ut(i),null);case 22:case 23:return kt(i),Lt(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),a=i.updateQueue,a!==null&&pf(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Rr(sn),Ut(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GA(t,i){switch(mc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Rr(sn),ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Us(i),null;case 31:if(i.memoizedState!==null){if(kt(i),i.alternate===null)throw Error(s(340));ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(kt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(wt),null;case 4:return ge(),null;case 10:return Rr(i.type),null;case 22:case 23:return kt(i),Lt(),t!==null&&re(Cs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Rr(sn),null;case 25:return null;default:return null}}function A_(t,i){switch(mc(i),i.tag){case 3:Rr(sn),ge();break;case 26:case 27:case 5:Us(i);break;case 4:ge();break;case 31:i.memoizedState!==null&&kt(i);break;case 13:kt(i);break;case 19:re(wt);break;case 10:Rr(i.type);break;case 22:case 23:kt(i),Lt(),t!==null&&re(Cs);break;case 24:Rr(sn)}}function Dc(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){Rt(i,i.return,S)}}function ao(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var V=a,$=S;try{$()}catch(ne){Rt(h,V,ne)}}}l=l.next}while(l!==m)}}catch(ne){Rt(i,i.return,ne)}}function w_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ci(i,a)}catch(l){Rt(t,t.return,l)}}}function S_(t,i,a){a.props=fl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Rt(t,i,l)}}function Nc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Rt(t,i,h)}}function Is(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Rt(t,i,h)}else a.current=null}function C_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Rt(t,t.return,h)}}function Vm(t,i,a){try{var l=t.stateNode;dw(l,t.type,a,i),l[gn]=i}catch(h){Rt(t,t.return,h)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mo(t.type)||t.tag===4}function Lm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function km(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=En));else if(l!==4&&(l===27&&mo(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(km(t,i,a),t=t.sibling;t!==null;)km(t,i,a),t=t.sibling}function gf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&mo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gf(t,i,a),t=t.sibling;t!==null;)gf(t,i,a),t=t.sibling}function I_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zn(i,l,a),i[jt]=t,i[gn]=a}catch(m){Rt(t,t.return,m)}}var ca=!1,Sn=!1,Pm=!1,x_=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function $A(t,i){if(t=t.containerInfo,rp=Pf,t=ec(t),tc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,V=-1,$=0,ne=0,se=t,Q=null;t:for(;;){for(var X;se!==a||h!==0&&se.nodeType!==3||(S=E+h),se!==m||l!==0&&se.nodeType!==3||(V=E+l),se.nodeType===3&&(E+=se.nodeValue.length),(X=se.firstChild)!==null;)Q=se,se=X;for(;;){if(se===t)break t;if(Q===a&&++$===h&&(S=E),Q===m&&++ne===l&&(V=E),(X=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=X}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(sp={focusedElem:t,selectionRange:a},Pf=!1,Gn=i;Gn!==null;)if(i=Gn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Gn=t;else for(;Gn!==null;){switch(i=Gn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ae=fl(a.type,h);t=l.getSnapshotBeforeUpdate(Ae,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){Rt(a,a.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)lp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Gn=t;break}Gn=i.return}}function D_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fa(t,a),l&4&&Dc(5,a);break;case 1:if(fa(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Rt(a,a.return,E)}else{var h=fl(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Rt(a,a.return,E)}}l&64&&w_(a),l&512&&Nc(a,a.return);break;case 3:if(fa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ci(t,i)}catch(E){Rt(a,a.return,E)}}break;case 27:i===null&&l&4&&I_(a);case 26:case 5:fa(t,a),i===null&&l&4&&C_(a),l&512&&Nc(a,a.return);break;case 12:fa(t,a);break;case 31:fa(t,a),l&4&&M_(t,a);break;case 13:fa(t,a),l&4&&V_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tw.bind(null,a),Tw(t,a))));break;case 22:if(l=a.memoizedState!==null||ca,!l){i=i!==null&&i.memoizedState!==null||Sn,h=ca;var m=Sn;ca=l,(Sn=i)&&!m?da(t,a,(a.subtreeFlags&8772)!==0):fa(t,a),ca=h,Sn=m}break;case 30:break;default:fa(t,a)}}function N_(t){var i=t.alternate;i!==null&&(t.alternate=null,N_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_n(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $t=null,Hi=!1;function ha(t,i,a){for(a=a.child;a!==null;)O_(t,i,a),a=a.sibling}function O_(t,i,a){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(oi,a)}catch{}switch(a.tag){case 26:Sn||Is(a,i),ha(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Sn||Is(a,i);var l=$t,h=Hi;mo(a.type)&&($t=a.stateNode,Hi=!1),ha(t,i,a),zc(a.stateNode),$t=l,Hi=h;break;case 5:Sn||Is(a,i);case 6:if(l=$t,h=Hi,$t=null,ha(t,i,a),$t=l,Hi=h,$t!==null)if(Hi)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(a.stateNode)}catch(m){Rt(a,i,m)}else try{$t.removeChild(a.stateNode)}catch(m){Rt(a,i,m)}break;case 18:$t!==null&&(Hi?(t=$t,wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lu(t)):wv($t,a.stateNode));break;case 4:l=$t,h=Hi,$t=a.stateNode.containerInfo,Hi=!0,ha(t,i,a),$t=l,Hi=h;break;case 0:case 11:case 14:case 15:ao(2,a,i),Sn||ao(4,a,i),ha(t,i,a);break;case 1:Sn||(Is(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S_(a,i,l)),ha(t,i,a);break;case 21:ha(t,i,a);break;case 22:Sn=(l=Sn)||a.memoizedState!==null,ha(t,i,a),Sn=l;break;default:ha(t,i,a)}}function M_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lu(t)}catch(a){Rt(i,i.return,a)}}}function V_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lu(t)}catch(a){Rt(i,i.return,a)}}function KA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new x_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new x_),i;default:throw Error(s(435,t.tag))}}function yf(t,i){var a=KA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=nw.bind(null,t,l);l.then(h,h)}})}function qi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(mo(S.type)){$t=S.stateNode,Hi=!1;break e}break;case 5:$t=S.stateNode,Hi=!1;break e;case 3:case 4:$t=S.stateNode.containerInfo,Hi=!0;break e}S=S.return}if($t===null)throw Error(s(160));O_(m,E,h),$t=null,Hi=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)L_(i,t),i=i.sibling}var Xr=null;function L_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qi(i,t),Fi(t),l&4&&(ao(3,t,t.return),Dc(3,t),ao(5,t,t.return));break;case 1:qi(i,t),Fi(t),l&512&&(Sn||a===null||Is(a,a.return)),l&64&&ca&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xr;if(qi(i,t),Fi(t),l&512&&(Sn||a===null||Is(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[zt]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Zn(m,l,a),m[jt]=t,Nt(m),l=m;break e;case"link":var E=Lv("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}m=h.createElement(l),Zn(m,l,a),h.head.appendChild(m);break;case"meta":if(E=Lv("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}m=h.createElement(l),Zn(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[jt]=t,Nt(m),l=m}t.stateNode=l}else kv(h,t.type,t.stateNode);else t.stateNode=Vv(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?kv(h,t.type,t.stateNode):Vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vm(t,t.memoizedProps,a.memoizedProps)}break;case 27:qi(i,t),Fi(t),l&512&&(Sn||a===null||Is(a,a.return)),a!==null&&l&4&&Vm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(qi(i,t),Fi(t),l&512&&(Sn||a===null||Is(a,a.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(Ae){Rt(t,t.return,Ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Vm(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Pm=!0);break;case 6:if(qi(i,t),Fi(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Ae){Rt(t,t.return,Ae)}}break;case 3:if(Mf=null,h=Xr,Xr=Nf(i.containerInfo),qi(i,t),Xr=h,Fi(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lu(i.containerInfo)}catch(Ae){Rt(t,t.return,Ae)}Pm&&(Pm=!1,k_(t));break;case 4:l=Xr,Xr=Nf(t.stateNode.containerInfo),qi(i,t),Fi(t),Xr=l;break;case 12:qi(i,t),Fi(t);break;case 31:qi(i,t),Fi(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 13:qi(i,t),Fi(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vf=Kn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 22:h=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,$=ca,ne=Sn;if(ca=$||h,Sn=ne||V,qi(i,t),Sn=ne,ca=$,Fi(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||V||ca||Sn||dl(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){V=a=i;try{if(m=V.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=V.stateNode;var se=V.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Ae){Rt(V,V.return,Ae)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(Ae){Rt(V,V.return,Ae)}}}else if(i.tag===18){if(a===null){V=i;try{var X=V.stateNode;h?Sv(X,!0):Sv(V.stateNode,!1)}catch(Ae){Rt(V,V.return,Ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yf(t,a))));break;case 19:qi(i,t),Fi(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yf(t,l)));break;case 30:break;case 21:break;default:qi(i,t),Fi(t)}}function Fi(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Lm(t);gf(t,m,h);break;case 5:var E=a.stateNode;a.flags&32&&(dn(E,""),a.flags&=-33);var S=Lm(t);gf(t,S,E);break;case 3:case 4:var V=a.stateNode.containerInfo,$=Lm(t);km(t,$,V);break;default:throw Error(s(161))}}catch(ne){Rt(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function k_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;k_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)D_(t,i.alternate,i),i=i.sibling}function dl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ao(4,i,i.return),dl(i);break;case 1:Is(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&S_(i,i.return,a),dl(i);break;case 27:zc(i.stateNode);case 26:case 5:Is(i,i.return),dl(i);break;case 22:i.memoizedState===null&&dl(i);break;case 30:dl(i);break;default:dl(i)}t=t.sibling}}function da(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:da(h,m,a),Dc(4,m);break;case 1:if(da(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){Rt(l,l.return,$)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)Bt(V[h],S)}catch($){Rt(l,l.return,$)}}a&&E&64&&w_(m),Nc(m,m.return);break;case 27:I_(m);case 26:case 5:da(h,m,a),a&&l===null&&E&4&&C_(m),Nc(m,m.return);break;case 12:da(h,m,a);break;case 31:da(h,m,a),a&&E&4&&M_(h,m);break;case 13:da(h,m,a),a&&E&4&&V_(h,m);break;case 22:m.memoizedState===null&&da(h,m,a),Nc(m,m.return);break;case 30:break;default:da(h,m,a)}i=i.sibling}}function jm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bi(a))}function Um(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bi(t))}function Wr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,a,l),i=i.sibling}function P_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wr(t,i,a,l),h&2048&&Dc(9,i);break;case 1:Wr(t,i,a,l);break;case 3:Wr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bi(t)));break;case 12:if(h&2048){Wr(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Rt(i,i.return,V)}}else Wr(t,i,a,l);break;case 31:Wr(t,i,a,l);break;case 13:Wr(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Wr(t,i,a,l):Oc(t,i):m._visibility&2?Wr(t,i,a,l):(m._visibility|=2,Wl(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&jm(E,i);break;case 24:Wr(t,i,a,l),h&2048&&Um(i.alternate,i);break;default:Wr(t,i,a,l)}}function Wl(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,E=i,S=a,V=l,$=E.flags;switch(E.tag){case 0:case 11:case 15:Wl(m,E,S,V,h),Dc(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?Wl(m,E,S,V,h):Oc(m,E):(ne._visibility|=2,Wl(m,E,S,V,h)),h&&$&2048&&jm(E.alternate,E);break;case 24:Wl(m,E,S,V,h),h&&$&2048&&Um(E.alternate,E);break;default:Wl(m,E,S,V,h)}i=i.sibling}}function Oc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Oc(a,l),h&2048&&jm(l.alternate,l);break;case 24:Oc(a,l),h&2048&&Um(l.alternate,l);break;default:Oc(a,l)}i=i.sibling}}var Mc=8192;function Jl(t,i,a){if(t.subtreeFlags&Mc)for(t=t.child;t!==null;)j_(t,i,a),t=t.sibling}function j_(t,i,a){switch(t.tag){case 26:Jl(t,i,a),t.flags&Mc&&t.memoizedState!==null&&Mw(a,Xr,t.memoizedState,t.memoizedProps);break;case 5:Jl(t,i,a);break;case 3:case 4:var l=Xr;Xr=Nf(t.stateNode.containerInfo),Jl(t,i,a),Xr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Mc,Mc=16777216,Jl(t,i,a),Mc=l):Jl(t,i,a));break;default:Jl(t,i,a)}}function U_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gn=l,B_(l,t)}U_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)z_(t),t=t.sibling}function z_(t){switch(t.tag){case 0:case 11:case 15:Vc(t),t.flags&2048&&ao(9,t,t.return);break;case 3:Vc(t);break;case 12:Vc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_f(t)):Vc(t);break;default:Vc(t)}}function _f(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gn=l,B_(l,t)}U_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ao(8,i,i.return),_f(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_f(i));break;default:_f(i)}t=t.sibling}}function B_(t,i){for(;Gn!==null;){var a=Gn;switch(a.tag){case 0:case 11:case 15:ao(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bi(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gn=l;else e:for(a=t;Gn!==null;){l=Gn;var h=l.sibling,m=l.return;if(N_(l),l===a){Gn=null;break e}if(h!==null){h.return=m,Gn=h;break e}Gn=m}}}var QA={getCacheForType:function(t){var i=bn(sn),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return bn(sn).controller.signal}},YA=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ot=null,et=null,nt=0,Ct=0,ur=null,oo=!1,Zl=!1,zm=!1,ma=0,ln=0,lo=0,ml=0,Bm=0,cr=0,eu=0,Lc=null,Gi=null,Hm=!1,vf=0,H_=0,Ef=1/0,Tf=null,uo=null,Ln=0,co=null,tu=null,pa=0,qm=0,Fm=null,q_=null,kc=0,Gm=null;function hr(){return(Tt&2)!==0&&nt!==0?nt&-nt:te.T!==null?Wm():Nl()}function F_(){if(cr===0)if((nt&536870912)===0||We){var t=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),cr=t}else cr=536870912;return t=Ht.current,t!==null&&(t.flags|=32),cr}function $i(t,i,a){(t===Ot&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)&&(nu(t,0),ho(t,nt,cr,!1)),Bs(t,a),((Tt&2)===0||t!==Ot)&&(t===Ot&&((Tt&2)===0&&(ml|=a),ln===4&&ho(t,nt,cr,!1)),xs(t))}function G_(t,i,a){if((Tt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||xi(t,i),h=l?JA(t,i):Km(t,i,!0),m=l;do{if(h===0){Zl&&!l&&ho(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!XA(a)){h=Km(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;h=Lc;var V=S.current.memoizedState.isDehydrated;if(V&&(nu(S,E).flags|=256),E=Km(S,E,!1),E!==2){if(zm&&!V){S.errorRecoveryDisabledLanes|=m,ml|=m,h=4;break e}m=Gi,Gi=h,m!==null&&(Gi===null?Gi=m:Gi.push.apply(Gi,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){nu(t,0),ho(t,i,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ho(l,i,cr,!oo);break e;case 2:Gi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=vf+300-Kn(),10<h)){if(ho(l,i,cr,!oo),Xi(l,0,!0)!==0)break e;pa=i,l.timeoutHandle=bv($_.bind(null,l,a,Gi,Tf,Hm,i,cr,ml,eu,oo,m,"Throttled",-0,0),h);break e}$_(l,a,Gi,Tf,Hm,i,cr,ml,eu,oo,m,null,-0,0)}}break}while(!0);xs(t)}function $_(t,i,a,l,h,m,E,S,V,$,ne,se,Q,X){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},j_(i,m,se);var Ae=(m&62914560)===m?vf-Kn():(m&4194048)===m?H_-Kn():0;if(Ae=Vw(se,Ae),Ae!==null){pa=m,t.cancelPendingCommit=Ae(ev.bind(null,t,i,m,a,l,h,E,S,V,ne,se,null,Q,X)),ho(t,m,E,!$);return}}ev(t,i,m,a,l,h,E,S,V)}function XA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Xn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ho(t,i,a,l){i&=~Bm,i&=~ml,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var m=31-Yt(h),E=1<<m;l[m]=-1,h&=~E}a!==0&&Wi(t,a,i)}function bf(){return(Tt&6)===0?(Pc(0),!1):!0}function $m(){if(et!==null){if(Ct===0)var t=et.return;else t=et,Kr=ta=null,Kl(t),fe=null,_e=0,t=et;for(;t!==null;)A_(t.alternate,t),t=t.return;et=null}}function nu(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pa=0,$m(),Ot=t,et=a=qr(t.current,null),nt=i,Ct=0,ur=null,oo=!1,Zl=xi(t,i),zm=!1,eu=cr=Bm=ml=lo=ln=0,Gi=Lc=null,Hm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Yt(l),m=1<<h;i|=t[h],l&=~m}return ma=i,jl(),a}function K_(t,i){qe=null,te.H=Rc,i===ro||i===A?(i=Z(),Ct=3):i===ia?(i=Z(),Ct=4):Ct=i===wm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ur=i,et===null&&(ln=1,hf(t,Hn(i,t.current)))}function Q_(){var t=Ht.current;return t===null?!0:(nt&4194048)===nt?Zt===null:(nt&62914560)===nt||(nt&536870912)!==0?t===Zt:!1}function Y_(){var t=te.H;return te.H=Rc,t===null?Rc:t}function X_(){var t=te.A;return te.A=QA,t}function Af(){ln=4,oo||(nt&4194048)!==nt&&Ht.current!==null||(Zl=!0),(lo&134217727)===0&&(ml&134217727)===0||Ot===null||ho(Ot,nt,cr,!1)}function Km(t,i,a){var l=Tt;Tt|=2;var h=Y_(),m=X_();(Ot!==t||nt!==i)&&(Tf=null,nu(t,i)),i=!1;var E=ln;e:do try{if(Ct!==0&&et!==null){var S=et,V=ur;switch(Ct){case 8:$m(),E=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(i=!0);var $=Ct;if(Ct=0,ur=null,iu(t,S,V,$),a&&Zl){E=0;break e}break;default:$=Ct,Ct=0,ur=null,iu(t,S,V,$)}}WA(),E=ln;break}catch(ne){K_(t,ne)}while(!0);return i&&t.shellSuspendCounter++,Kr=ta=null,Tt=l,te.H=h,te.A=m,et===null&&(Ot=null,nt=0,jl()),E}function WA(){for(;et!==null;)W_(et)}function JA(t,i){var a=Tt;Tt|=2;var l=Y_(),h=X_();Ot!==t||nt!==i?(Tf=null,Ef=Kn()+500,nu(t,i)):Zl=xi(t,i);e:do try{if(Ct!==0&&et!==null){i=et;var m=ur;t:switch(Ct){case 1:Ct=0,ur=null,iu(t,i,m,1);break;case 2:case 9:if(v(m)){Ct=0,ur=null,J_(i);break}i=function(){Ct!==2&&Ct!==9||Ot!==t||(Ct=7),xs(t)},m.then(i,i);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:v(m)?(Ct=0,ur=null,J_(i)):(Ct=0,ur=null,iu(t,i,m,7));break;case 5:var E=null;switch(et.tag){case 26:E=et.memoizedState;case 5:case 27:var S=et;if(E?Pv(E):S.stateNode.complete){Ct=0,ur=null;var V=S.sibling;if(V!==null)et=V;else{var $=S.return;$!==null?(et=$,wf($)):et=null}break t}}Ct=0,ur=null,iu(t,i,m,5);break;case 6:Ct=0,ur=null,iu(t,i,m,6);break;case 8:$m(),ln=6;break e;default:throw Error(s(462))}}ZA();break}catch(ne){K_(t,ne)}while(!0);return Kr=ta=null,te.H=l,te.A=h,Tt=a,et!==null?0:(Ot=null,nt=0,jl(),ln)}function ZA(){for(;et!==null&&!Fu();)W_(et)}function W_(t){var i=T_(t.alternate,t,ma);t.memoizedProps=t.pendingProps,i===null?wf(t):et=i}function J_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=p_(a,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=p_(a,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:Kl(i);default:A_(a,i),i=et=Jh(i,ma),i=T_(a,i,ma)}t.memoizedProps=t.pendingProps,i===null?wf(t):et=i}function iu(t,i,a,l){Kr=ta=null,Kl(i),fe=null,_e=0;var h=i.return;try{if(BA(t,h,i,a,nt)){ln=1,hf(t,Hn(a,t.current)),et=null;return}}catch(m){if(h!==null)throw et=h,m;ln=1,hf(t,Hn(a,t.current)),et=null;return}i.flags&32768?(We||l===1?t=!0:Zl||(nt&536870912)!==0?t=!1:(oo=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ht.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(i,t)):wf(i)}function wf(t){var i=t;do{if((i.flags&32768)!==0){Z_(i,oo);return}t=i.return;var a=FA(i.alternate,i,ma);if(a!==null){et=a;return}if(i=i.sibling,i!==null){et=i;return}et=i=t}while(i!==null);ln===0&&(ln=5)}function Z_(t,i){do{var a=GA(t.alternate,t);if(a!==null){a.flags&=32767,et=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){et=t;return}et=t=a}while(t!==null);ln=6,et=null}function ev(t,i,a,l,h,m,E,S,V){t.cancelPendingCommit=null;do Sf();while(Ln!==0);if((Tt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=uc,cs(t,a,m,E,S,V),t===Ot&&(et=Ot=null,nt=0),tu=i,co=t,pa=a,qm=m,Fm=h,q_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iw(ls,function(){return sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=te.T,te.T=null,h=me.p,me.p=2,E=Tt,Tt|=4;try{$A(t,i,a)}finally{Tt=E,me.p=h,te.T=l}}Ln=1,tv(),nv(),iv()}}function tv(){if(Ln===1){Ln=0;var t=co,i=tu,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=te.T,te.T=null;var l=me.p;me.p=2;var h=Tt;Tt|=4;try{L_(i,t);var m=sp,E=ec(t.containerInfo),S=m.focusedElem,V=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&Zu(S.ownerDocument.documentElement,S)){if(V!==null&&tc(S)){var $=V.start,ne=V.end;if(ne===void 0&&(ne=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(ne,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Ae=S.textContent.length,Oe=Math.min(V.start,Ae),xt=V.end===void 0?Oe:Math.min(V.end,Ae);!X.extend&&Oe>xt&&(E=xt,xt=Oe,Oe=E);var H=Gh(S,Oe),P=Gh(S,xt);if(H&&P&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var G=se.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),Oe>xt?(X.addRange(G),X.extend(P.node,P.offset)):(G.setEnd(P.node,P.offset),X.addRange(G))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Pf=!!rp,sp=rp=null}finally{Tt=h,me.p=l,te.T=a}}t.current=i,Ln=2}}function nv(){if(Ln===2){Ln=0;var t=co,i=tu,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=te.T,te.T=null;var l=me.p;me.p=2;var h=Tt;Tt|=4;try{D_(t,i.alternate,i)}finally{Tt=h,me.p=l,te.T=a}}Ln=3}}function iv(){if(Ln===4||Ln===3){Ln=0,Rl();var t=co,i=tu,a=pa,l=q_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,tu=co=null,rv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(uo=null),Lr(a),i=i.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(oi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=te.T,h=me.p,me.p=2,te.T=null;try{for(var m=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];m(S.value,{componentStack:S.stack})}}finally{te.T=i,me.p=h}}(pa&3)!==0&&Sf(),xs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Gm?kc++:(kc=0,Gm=t):kc=0,Pc(0)}}function rv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bi(i)))}function Sf(){return tv(),nv(),iv(),sv()}function sv(){if(Ln!==5)return!1;var t=co,i=qm;qm=0;var a=Lr(pa),l=te.T,h=me.p;try{me.p=32>a?32:a,te.T=null,a=Fm,Fm=null;var m=co,E=pa;if(Ln=0,tu=co=null,pa=0,(Tt&6)!==0)throw Error(s(331));var S=Tt;if(Tt|=4,z_(m.current),P_(m,m.current,E,a),Tt=S,Pc(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(oi,m)}catch{}return!0}finally{me.p=h,te.T=l,rv(t,i)}}function av(t,i,a){i=Hn(a,i),i=Am(t.stateNode,i,2),t=Xe(t,i,2),t!==null&&(Bs(t,2),xs(t))}function Rt(t,i,a){if(t.tag===3)av(t,t,a);else for(;i!==null;){if(i.tag===3){av(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(uo===null||!uo.has(l))){t=Hn(a,t),a=o_(2),l=Xe(i,a,2),l!==null&&(l_(a,l,i,t),Bs(l,2),xs(l));break}}i=i.return}}function Qm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new YA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(zm=!0,h.add(a),t=ew.bind(null,t,i,a),i.then(t,t))}function ew(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ot===t&&(nt&a)===a&&(ln===4||ln===3&&(nt&62914560)===nt&&300>Kn()-vf?(Tt&2)===0&&nu(t,0):Bm|=a,eu===nt&&(eu=0)),xs(t)}function ov(t,i){i===0&&(i=Dl()),t=Wn(t,i),t!==null&&(Bs(t,i),xs(t))}function tw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ov(t,a)}function nw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ov(t,a)}function iw(t,i){return un(t,i)}var Cf=null,ru=null,Ym=!1,Rf=!1,Xm=!1,fo=0;function xs(t){t!==ru&&t.next===null&&(ru===null?Cf=ru=t:ru=ru.next=t),Rf=!0,Ym||(Ym=!0,sw())}function Pc(t,i){if(!Xm&&Rf){Xm=!0;do for(var a=!1,l=Cf;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var E=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Yt(42|t)+1)-1,m&=h&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,hv(l,m))}else m=nt,m=Xi(l,l===Ot?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||xi(l,m)||(a=!0,hv(l,m));l=l.next}while(a);Xm=!1}}function rw(){lv()}function lv(){Rf=Ym=!1;var t=0;fo!==0&&pw()&&(t=fo);for(var i=Kn(),a=null,l=Cf;l!==null;){var h=l.next,m=uv(l,i);m===0?(l.next=null,a===null?Cf=h:a.next=h,h===null&&(ru=a)):(a=l,(t!==0||(m&3)!==0)&&(Rf=!0)),l=h}Ln!==0&&Ln!==5||Pc(t),fo!==0&&(fo=0)}function uv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var E=31-Yt(m),S=1<<E,V=h[E];V===-1?((S&a)===0||(S&l)!==0)&&(h[E]=$u(S,i)):V<=i&&(t.expiredLanes|=S),m&=~S}if(i=Ot,a=nt,a=Xi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ct===2||Ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&os(l),Lr(a)){case 2:case 8:a=Oa;break;case 32:a=ls;break;case 268435456:a=us;break;default:a=ls}return l=cv.bind(null,t),a=un(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function cv(t,i){if(Ln!==0&&Ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sf()&&t.callbackNode!==a)return null;var l=nt;return l=Xi(t,t===Ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(G_(t,l,i),uv(t,Kn()),t.callbackNode!=null&&t.callbackNode===a?cv.bind(null,t):null)}function hv(t,i){if(Sf())return null;G_(t,i,!0)}function sw(){yw(function(){(Tt&6)!==0?un(Ii,rw):lv()})}function Wm(){if(fo===0){var t=to;t===0&&(t=gr,gr<<=1,(gr&261888)===0&&(gr=256)),fo=t}return fo}function fv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function dv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function aw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=fv((h[gn]||null).action),E=l.submitter;E&&(i=(i=E[gn]||null)?fv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var S=new ki("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fo!==0){var V=E?dv(h,E):new FormData(h);ym(a,{pending:!0,data:V,method:h.method,action:m},null,V)}}else typeof m=="function"&&(S.preventDefault(),V=E?dv(h,E):new FormData(h),ym(a,{pending:!0,data:V,method:h.method,action:m},m,V))},currentTarget:h}]})}}for(var Jm=0;Jm<lc.length;Jm++){var Zm=lc[Jm],ow=Zm.toLowerCase(),lw=Zm[0].toUpperCase()+Zm.slice(1);lr(ow,"on"+lw)}lr(wr,"onAnimationEnd"),lr(ac,"onAnimationIteration"),lr(Kh,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(Qh,"onTransitionRun"),lr(Yh,"onTransitionStart"),lr(Xh,"onTransitionCancel"),lr(oc,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function mv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(ne){el(ne)}h.currentTarget=null,m=V}else for(E=0;E<l.length;E++){if(S=l[E],V=S.instance,$=S.currentTarget,S=S.listener,V!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(ne){el(ne)}h.currentTarget=null,m=V}}}}function tt(t,i){var a=i[Va];a===void 0&&(a=i[Va]=new Set);var l=t+"__bubble";a.has(l)||(pv(i,t,2,!1),a.add(l))}function ep(t,i,a){var l=0;i&&(l|=4),pv(a,t,l,i)}var If="_reactListening"+Math.random().toString(36).slice(2);function tp(t){if(!t[If]){t[If]=!0,La.forEach(function(a){a!=="selectionchange"&&(uw.has(a)||ep(a,!1,t),ep(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[If]||(i[If]=!0,ep("selectionchange",!1,i))}}function pv(t,i,a,l){switch(Fv(i)){case 2:var h=Pw;break;case 8:h=jw;break;default:h=gp}a=h.bind(null,i,a,t),h=void 0,!Ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function np(t,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Vt(S),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){l=m=E;continue e}S=S.parentNode}}l=l.return}jr(function(){var $=m,ne=Ei(a),se=[];e:{var Q=Wh.get(t);if(Q!==void 0){var X=ki,Ae=t;switch(t){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":X=Wo;break;case"focusin":Ae="focus",X=gs;break;case"focusout":Ae="blur",X=gs;break;case"beforeblur":case"afterblur":X=gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case wr:case ac:case Kh:X=qa;break;case oc:X=I;break;case"scroll":case"scrollend":X=Hr;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=sr;break;case"toggle":case"beforetoggle":X=He}var Oe=(i&4)!==0,xt=!Oe&&(t==="scroll"||t==="scrollend"),H=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var P=$,G;P!==null;){var ie=P;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||H===null||(ie=Mi(P,H),ie!=null&&Oe.push(Uc(P,ie,G))),xt)break;P=P.return}0<Oe.length&&(Q=new X(Q,Ae,null,a,ne),se.push({event:Q,listeners:Oe}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&a!==ds&&(Ae=a.relatedTarget||a.fromElement)&&(Vt(Ae)||Ae[Di]))break e;if((X||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Ae=a.relatedTarget||a.toElement,X=$,Ae=Ae?Vt(Ae):null,Ae!==null&&(xt=u(Ae),Oe=Ae.tag,Ae!==xt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ae=null)):(X=null,Ae=$),X!==Ae)){if(Oe=Ko,ie="onMouseLeave",H="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=sr,ie="onPointerLeave",H="onPointerEnter",P="pointer"),xt=X==null?Q:vn(X),G=Ae==null?Q:vn(Ae),Q=new Oe(ie,P+"leave",X,a,ne),Q.target=xt,Q.relatedTarget=G,ie=null,Vt(ne)===$&&(Oe=new Oe(H,P+"enter",Ae,a,ne),Oe.target=G,Oe.relatedTarget=xt,ie=Oe),xt=ie,X&&Ae)t:{for(Oe=cw,H=X,P=Ae,G=0,ie=H;ie;ie=Oe(ie))G++;ie=0;for(var Re=P;Re;Re=Oe(Re))ie++;for(;0<G-ie;)H=Oe(H),G--;for(;0<ie-G;)P=Oe(P),ie--;for(;G--;){if(H===P||P!==null&&H===P.alternate){Oe=H;break t}H=Oe(H),P=Oe(P)}Oe=null}else Oe=null;X!==null&&gv(se,Q,X,Oe,!1),Ae!==null&&xt!==null&&gv(se,xt,Ae,Oe,!0)}}e:{if(Q=$?vn($):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var _t=Yu;else if(ji(Q))if(Jo)_t=Pl;else{_t=Bh;var we=zh}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&fs($.elementType)&&(_t=Yu):_t=Hh;if(_t&&(_t=_t(t,$))){Qu(se,_t,a,ne);break e}we&&we(t,Q,$),t==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&Ks(Q,"number",Q.value)}switch(we=$?vn($):window,t){case"focusin":(ji(we)||we.contentEditable==="true")&&(Qa=we,nc=$,Zo=null);break;case"focusout":Zo=nc=Qa=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,rc(se,a,ne);break;case"selectionchange":if(am)break;case"keydown":case"keyup":rc(se,a,ne)}var Qe;if(Ze)e:{switch(t){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Ga?Zs(t,a)&&(it="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(it="onCompositionStart");it&&(Ti&&a.locale!=="ko"&&(Ga||it!=="onCompositionStart"?it==="onCompositionEnd"&&Ga&&(Qe=$o()):(Vi=ne,ms="value"in Vi?Vi.value:Vi.textContent,Ga=!0)),we=xf($,it),0<we.length&&(it=new rr(it,t,null,a,ne),se.push({event:it,listeners:we}),Qe?it.data=Qe:(Qe=Fa(a),Qe!==null&&(it.data=Qe)))),(Qe=Pi?nm(t,a):im(t,a))&&(it=xf($,"onBeforeInput"),0<it.length&&(we=new rr("onBeforeInput","beforeinput",null,a,ne),se.push({event:we,listeners:it}),we.data=Qe)),aw(se,t,$,a,ne)}mv(se,i)})}function Uc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function xf(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Mi(t,a),h!=null&&l.unshift(Uc(t,h,m)),h=Mi(t,i),h!=null&&l.push(Uc(t,h,m))),t.tag===3)return l;t=t.return}return[]}function cw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gv(t,i,a,l,h){for(var m=i._reactName,E=[];a!==null&&a!==l;){var S=a,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||$===null||(V=$,h?($=Mi(a,m),$!=null&&E.unshift(Uc(a,$,V))):h||($=Mi(a,m),$!=null&&E.push(Uc(a,$,V)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var hw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(hw,`
`).replace(fw,"")}function _v(t,i){return i=yv(i),yv(t)===i}function It(t,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":ui(t,"class",l);break;case"tabIndex":ui(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(t,a,l);break;case"style":vr(t,l,m);break;case"data":if(i!=="object"){ui(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&It(t,i,"name",h.name,h,null),It(t,i,"formEncType",h.formEncType,h,null),It(t,i,"formMethod",h.formMethod,h,null),It(t,i,"formTarget",h.formTarget,h,null)):(It(t,i,"encType",h.encType,h,null),It(t,i,"method",h.method,h,null),It(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=En);break;case"onScroll":l!=null&&tt("scroll",t);break;case"onScrollEnd":l!=null&&tt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":tt("beforetoggle",t),tt("toggle",t),$s(t,"popover",l);break;case"xlinkActuate":Wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$s(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Go.get(a)||a,$s(t,a,l))}}function ip(t,i,a,l,h,m){switch(a){case"style":vr(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&tt("scroll",t);break;case"onScrollEnd":l!=null&&tt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=t[gn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):$s(t,a,l)}}}function Zn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",t),tt("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:It(t,i,m,E,a,null)}}h&&It(t,i,"srcSet",a.srcSet,a,null),l&&It(t,i,"src",a.src,a,null);return;case"input":tt("invalid",t);var S=m=E=h=null,V=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":h=ne;break;case"type":E=ne;break;case"checked":V=ne;break;case"defaultChecked":$=ne;break;case"value":m=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:It(t,i,l,ne,a,null)}}ja(t,m,S,V,$,E,h,!1);return;case"select":tt("invalid",t),l=E=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:It(t,i,h,S,a,null)}i=m,a=E,t.multiple=!!l,i!=null?On(t,!!l,i,!1):a!=null&&On(t,!!l,a,!0);return;case"textarea":tt("invalid",t),m=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:It(t,i,E,S,a,null)}Zi(t,l,h,m);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:It(t,i,V,l,a,null)}return;case"dialog":tt("beforetoggle",t),tt("toggle",t),tt("cancel",t),tt("close",t);break;case"iframe":case"object":tt("load",t);break;case"video":case"audio":for(l=0;l<jc.length;l++)tt(jc[l],t);break;case"image":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"embed":case"source":case"link":tt("error",t),tt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:It(t,i,$,l,a,null)}return;default:if(fs(i)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&ip(t,i,ne,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&It(t,i,S,l,a,null))}function dw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,S=null,V=null,$=null,ne=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=se;default:l.hasOwnProperty(X)||It(t,i,X,null,l,se)}}for(var Q in l){var X=l[Q];if(se=a[Q],l.hasOwnProperty(Q)&&(X!=null||se!=null))switch(Q){case"type":m=X;break;case"name":h=X;break;case"checked":$=X;break;case"defaultChecked":ne=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&It(t,i,Q,X,l,se)}}Nn(t,E,S,V,$,ne,m,h);return;case"select":X=E=S=Q=null;for(m in a)if(V=a[m],a.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":X=V;default:l.hasOwnProperty(m)||It(t,i,m,null,l,V)}for(h in l)if(m=l[h],V=a[h],l.hasOwnProperty(h)&&(m!=null||V!=null))switch(h){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==V&&It(t,i,h,m,l,V)}i=S,a=E,l=X,Q!=null?On(t,!!a,Q,!1):!!l!=!!a&&(i!=null?On(t,!!a,i,!0):On(t,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:It(t,i,S,null,l,h)}for(E in l)if(h=l[E],m=a[E],l.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&It(t,i,E,h,l,m)}_r(t,Q,X);return;case"option":for(var Ae in a)if(Q=a[Ae],a.hasOwnProperty(Ae)&&Q!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:It(t,i,Ae,null,l,Q)}for(V in l)if(Q=l[V],X=a[V],l.hasOwnProperty(V)&&Q!==X&&(Q!=null||X!=null))switch(V){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:It(t,i,V,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)Q=a[Oe],a.hasOwnProperty(Oe)&&Q!=null&&!l.hasOwnProperty(Oe)&&It(t,i,Oe,null,l,Q);for($ in l)if(Q=l[$],X=a[$],l.hasOwnProperty($)&&Q!==X&&(Q!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:It(t,i,$,Q,l,X)}return;default:if(fs(i)){for(var xt in a)Q=a[xt],a.hasOwnProperty(xt)&&Q!==void 0&&!l.hasOwnProperty(xt)&&ip(t,i,xt,void 0,l,Q);for(ne in l)Q=l[ne],X=a[ne],!l.hasOwnProperty(ne)||Q===X||Q===void 0&&X===void 0||ip(t,i,ne,Q,l,X);return}}for(var H in a)Q=a[H],a.hasOwnProperty(H)&&Q!=null&&!l.hasOwnProperty(H)&&It(t,i,H,null,l,Q);for(se in l)Q=l[se],X=a[se],!l.hasOwnProperty(se)||Q===X||Q==null&&X==null||It(t,i,se,Q,l,X)}function vv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],m=h.transferSize,E=h.initiatorType,S=h.duration;if(m&&S&&vv(E)){for(E=0,S=h.responseEnd,l+=1;l<a.length;l++){var V=a[l],$=V.startTime;if($>S)break;var ne=V.transferSize,se=V.initiatorType;ne&&vv(se)&&(V=V.responseEnd,E+=ne*(V<S?1:(S-$)/(V-$)))}if(--l,i+=8*(m+E)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rp=null,sp=null;function Df(t){return t.nodeType===9?t:t.ownerDocument}function Ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ap(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var op=null;function pw(){var t=window.event;return t&&t.type==="popstate"?t===op?!1:(op=t,!0):(op=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,yw=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(_w)}:bv;function _w(t){setTimeout(function(){throw t})}function mo(t){return t==="head"}function wv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),lu(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zc(a);for(var m=a.firstChild;m;){var E=m.nextSibling,S=m.nodeName;m[zt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=E}}else a==="body"&&zc(t.ownerDocument.body);a=h}while(a);lu(i)}function Sv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function lp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lp(a),_n(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=xr(t.nextSibling),t===null)break}return null}function Ew(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xr(t.nextSibling),t===null))return null;return t}function Cv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=xr(t.nextSibling),t===null))return null;return t}function up(t){return t.data==="$?"||t.data==="$~"}function cp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var hp=null;function Rv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return xr(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function xv(t,i,a){switch(i=Df(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_n(t)}var Dr=new Map,Dv=new Set;function Nf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ga=me.d;me.d={f:bw,r:Aw,D:ww,C:Sw,L:Cw,m:Rw,X:xw,S:Iw,M:Dw};function bw(){var t=ga.f(),i=bf();return t||i}function Aw(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):ga.r(t)}var su=typeof document>"u"?null:document;function Nv(t,i,a){var l=su;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Dv.has(h)||(Dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Zn(i,"link",t),Nt(i),l.head.appendChild(i)))}}function ww(t){ga.D(t),Nv("dns-prefetch",t,null)}function Sw(t,i){ga.C(t,i),Nv("preconnect",t,i)}function Cw(t,i,a){ga.L(t,i,a);var l=su;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var m=h;switch(i){case"style":m=au(t);break;case"script":m=ou(t)}Dr.has(m)||(t=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Dr.set(m,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Bc(m))||i==="script"&&l.querySelector(Hc(m))||(i=l.createElement("link"),Zn(i,"link",t),Nt(i),l.head.appendChild(i)))}}function Rw(t,i){ga.m(t,i);var a=su;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ou(t)}if(!Dr.has(m)&&(t=C({rel:"modulepreload",href:t},i),Dr.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hc(m)))return}l=a.createElement("link"),Zn(l,"link",t),Nt(l),a.head.appendChild(l)}}}function Iw(t,i,a){ga.S(t,i,a);var l=su;if(l&&t){var h=jn(l).hoistableStyles,m=au(t);i=i||"default";var E=h.get(m);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Bc(m)))S.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Dr.get(m))&&fp(t,a);var V=E=l.createElement("link");Nt(V),Zn(V,"link",t),V._p=new Promise(function($,ne){V.onload=$,V.onerror=ne}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Of(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(m,E)}}}function xw(t,i){ga.X(t,i);var a=su;if(a&&t){var l=jn(a).hoistableScripts,h=ou(t),m=l.get(h);m||(m=a.querySelector(Hc(h)),m||(t=C({src:t,async:!0},i),(i=Dr.get(h))&&dp(t,i),m=a.createElement("script"),Nt(m),Zn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Dw(t,i){ga.M(t,i);var a=su;if(a&&t){var l=jn(a).hoistableScripts,h=ou(t),m=l.get(h);m||(m=a.querySelector(Hc(h)),m||(t=C({src:t,async:!0,type:"module"},i),(i=Dr.get(h))&&dp(t,i),m=a.createElement("script"),Nt(m),Zn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Ov(t,i,a,l){var h=(h=ke.current)?Nf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=au(a.href),a=jn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=au(a.href);var m=jn(h).hoistableStyles,E=m.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,E),(m=h.querySelector(Bc(t)))&&!m._p&&(E.instance=m,E.state.loading=5),Dr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dr.set(t,a),m||Nw(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ou(a),a=jn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function au(t){return'href="'+rn(t)+'"'}function Bc(t){return'link[rel="stylesheet"]['+t+"]"}function Mv(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function Nw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zn(i,"link",a),Nt(i),t.head.appendChild(i))}function ou(t){return'[src="'+rn(t)+'"]'}function Hc(t){return"script[async]"+t}function Vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Nt(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Zn(l,"style",h),Of(l,a.precedence,t),i.instance=l;case"stylesheet":h=au(a.href);var m=t.querySelector(Bc(h));if(m)return i.state.loading|=4,i.instance=m,Nt(m),m;l=Mv(a),(h=Dr.get(h))&&fp(l,h),m=(t.ownerDocument||t).createElement("link"),Nt(m);var E=m;return E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),Zn(m,"link",l),i.state.loading|=4,Of(m,a.precedence,t),i.instance=m;case"script":return m=ou(a.src),(h=t.querySelector(Hc(m)))?(i.instance=h,Nt(h),h):(l=a,(h=Dr.get(m))&&(l=C({},a),dp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Zn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Of(l,a.precedence,t));return i.instance}function Of(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function fp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mf=null;function Lv(t,i,a){if(Mf===null){var l=new Map,h=Mf=new Map;h.set(a,l)}else h=Mf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[zt]||m[jt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(m):l.set(E,[m])}}return l}function kv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Ow(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=au(l.href),m=i.querySelector(Bc(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Vf.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,Nt(m);return}m=i.ownerDocument||i,l=Mv(l),(h=Dr.get(h))&&fp(l,h),m=m.createElement("link"),Nt(m);var E=m;E._p=new Promise(function(S,V){E.onload=S,E.onerror=V}),Zn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vf.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var mp=0;function Vw(t,i){return t.stylesheets&&t.count===0&&kf(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&mp===0&&(mp=62500*mw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>mp?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lf=null;function kf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lf=new Map,i.forEach(Lw,t),Lf=null,Vf.call(t))}function Lw(t,i){if(!(i.state.loading&4)){var a=Lf.get(t);if(a)var l=a.get(null);else{a=new Map,Lf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,h),a.set(E,h),this.count++,l=Vf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var qc={$$typeof:he,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function kw(t,i,a,l,h,m,E,S,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function jv(t,i,a,l,h,m,E,S,V,$,ne,se){return t=new kw(t,i,a,E,V,$,ne,se,S),i=1,m===!0&&(i|=24),m=wi(3,null,null,i),t.current=m,m.stateNode=t,i=Qr(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},yt(m),t}function Uv(t){return t?(t=Xa,t):Xa}function zv(t,i,a,l,h,m){h=Uv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pe(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Xe(t,l,i),a!==null&&($i(a,t,i),ze(a,t,i))}function Bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function pp(t,i){Bv(t,i),(t=t.alternate)&&Bv(t,i)}function Hv(t){if(t.tag===13||t.tag===31){var i=Wn(t,67108864);i!==null&&$i(i,t,67108864),pp(t,67108864)}}function qv(t){if(t.tag===13||t.tag===31){var i=hr();i=Hs(i);var a=Wn(t,i);a!==null&&$i(a,t,i),pp(t,i)}}var Pf=!0;function Pw(t,i,a,l){var h=te.T;te.T=null;var m=me.p;try{me.p=2,gp(t,i,a,l)}finally{me.p=m,te.T=h}}function jw(t,i,a,l){var h=te.T;te.T=null;var m=me.p;try{me.p=8,gp(t,i,a,l)}finally{me.p=m,te.T=h}}function gp(t,i,a,l){if(Pf){var h=yp(l);if(h===null)np(t,i,l,jf,a),Gv(t,l);else if(zw(h,t,i,a,l))l.stopPropagation();else if(Gv(t,l),i&4&&-1<Uw.indexOf(t)){for(;h!==null;){var m=Qn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=_i(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var V=1<<31-Yt(E);S.entanglements[1]|=V,E&=~V}xs(m),(Tt&6)===0&&(Ef=Kn()+500,Pc(0))}}break;case 31:case 13:S=Wn(m,2),S!==null&&$i(S,m,2),bf(),pp(m,2)}if(m=yp(l),m===null&&np(t,i,l,jf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else np(t,i,l,null,a)}}function yp(t){return t=Ei(t),_p(t)}var jf=null;function _p(t){if(jf=null,t=Vt(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jf=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case Ii:return 2;case Oa:return 8;case ls:case Gu:return 32;case us:return 268435456;default:return 32}default:return 32}}var vp=!1,po=null,go=null,yo=null,Fc=new Map,Gc=new Map,_o=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,i){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":Fc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(i.pointerId)}}function $c(t,i,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&Hv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zw(t,i,a,l,h){switch(i){case"focusin":return po=$c(po,t,i,a,l,h),!0;case"dragenter":return go=$c(go,t,i,a,l,h),!0;case"mouseover":return yo=$c(yo,t,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return Fc.set(m,$c(Fc.get(m)||null,t,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Gc.set(m,$c(Gc.get(m)||null,t,i,a,l,h)),!0}return!1}function $v(t){var i=Vt(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,vi(t.priority,function(){qv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,vi(t.priority,function(){qv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=yp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ds=l,a.target.dispatchEvent(l),ds=null}else return i=Qn(a),i!==null&&Hv(i),t.blockedOn=a,!1;i.shift()}return!0}function Kv(t,i,a){Uf(t)&&a.delete(i)}function Bw(){vp=!1,po!==null&&Uf(po)&&(po=null),go!==null&&Uf(go)&&(go=null),yo!==null&&Uf(yo)&&(yo=null),Fc.forEach(Kv),Gc.forEach(Kv)}function zf(t,i){t.blockedOn===i&&(t.blockedOn=null,vp||(vp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bw)))}var Bf=null;function Qv(t){Bf!==t&&(Bf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bf===t&&(Bf=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(_p(l||a)===null)continue;break}var m=Qn(a);m!==null&&(t.splice(i,3),i-=3,ym(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function lu(t){function i(V){return zf(V,t)}po!==null&&zf(po,t),go!==null&&zf(go,t),yo!==null&&zf(yo,t),Fc.forEach(i),Gc.forEach(i);for(var a=0;a<_o.length;a++){var l=_o[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_o.length&&(a=_o[0],a.blockedOn===null);)$v(a),a.blockedOn===null&&_o.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],E=h[gn]||null;if(typeof m=="function")E||Qv(a);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[gn]||null)S=E.formAction;else if(_p(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Qv(a)}}}function Yv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ep(t){this._internalRoot=t}Hf.prototype.render=Ep.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=hr();zv(a,l,t,i,null,null)},Hf.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;zv(t.current,2,null,t,null,null),bf(),i[Di]=null}};function Hf(t){this._internalRoot=t}Hf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nl();t={blockedOn:null,target:t,priority:i};for(var a=0;a<_o.length&&i!==0&&i<_o[a].priority;a++);_o.splice(a,0,t),a===0&&$v(t)}};var Xv=e.version;if(Xv!=="19.2.0")throw Error(s(527,Xv,"19.2.0"));me.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var Hw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{oi=qf.inject(Hw),Dn=qf}catch{}}return Qc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=i_,m=r_,E=s_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=jv(t,1,!1,null,null,a,l,null,h,m,E,Yv),t[Di]=i.current,tp(t),new Ep(i)},Qc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=i_,E=r_,S=s_,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),i=jv(t,1,!0,i,a??null,l,h,V,m,E,S,Yv),i.context=Uv(null),a=i.current,l=hr(),l=Hs(l),h=Pe(l),h.callback=null,Xe(a,h,l),a=l,i.current.lanes=a,Bs(i,a),xs(i),t[Di]=i.current,tp(t),new Hf(i)},Qc.version="19.2.0",Qc}var aE;function Jw(){if(aE)return Ap.exports;aE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ap.exports=Ww(),Ap.exports}var Zw=Jw();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oE="popstate";function eS(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Hp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:hh(o)}return nS(e,n,null,r)}function Kt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ns(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tS(){return Math.random().toString(36).substring(2,10)}function lE(r,e){return{usr:r.state,key:r.key,idx:e}}function Hp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Du(e):e,state:n,key:e&&e.key||s||tS()}}function hh({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Du(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function nS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=w();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function w(){return(f.state||{idx:null}).idx}function C(){p="POP";let J=w(),ee=J==null?null:J-y;y=J,g&&g({action:p,location:oe.location,delta:ee})}function D(J,ee){p="PUSH";let le=Hp(oe.location,J,ee);y=w()+1;let he=lE(le,y),Be=oe.createHref(le);try{f.pushState(he,"",Be)}catch(Ke){if(Ke instanceof DOMException&&Ke.name==="DataCloneError")throw Ke;o.location.assign(Be)}u&&g&&g({action:p,location:oe.location,delta:1})}function B(J,ee){p="REPLACE";let le=Hp(oe.location,J,ee);y=w();let he=lE(le,y),Be=oe.createHref(le);f.replaceState(he,"",Be),u&&g&&g({action:p,location:oe.location,delta:0})}function W(J){return iS(J)}let oe={get action(){return p},get location(){return r(o,f)},listen(J){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(oE,C),g=J,()=>{o.removeEventListener(oE,C),g=null}},createHref(J){return e(o,J)},createURL:W,encodeLocation(J){let ee=W(J);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:D,replace:B,go(J){return f.go(J)}};return oe}function iS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hh(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function GT(r,e,n="/"){return rS(r,e,n,!1)}function rS(r,e,n,s){let o=typeof e=="string"?Du(e):e,u=Ta(o.pathname||"/",n);if(u==null)return null;let f=$T(r);sS(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=gS(u);p=mS(f[g],y,s)}return p}function $T(r,e=[],n=[],s="",o=!1){let u=(f,p,g=o,y)=>{let w={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;Kt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let C=va([s,w.relativePath]),D=n.concat(w);f.children&&f.children.length>0&&(Kt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),$T(f.children,e,D,C,g)),!(f.path==null&&!f.index)&&e.push({path:C,score:fS(C,f.index),routesMeta:D})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of KT(f.path))u(f,p,!0,g)}),e}function KT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=KT(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function sS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:dS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aS=/^:[\w-]+$/,oS=3,lS=2,uS=1,cS=10,hS=-2,uE=r=>r==="*";function fS(r,e){let n=r.split("/"),s=n.length;return n.some(uE)&&(s+=hS),e&&(s+=lS),n.filter(o=>!uE(o)).reduce((o,u)=>o+(aS.test(u)?oS:u===""?uS:cS),s)}function dS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function mS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",C=cd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),D=g.route;if(!C&&y&&n&&!s[s.length-1].route.index&&(C=cd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:va([u,C.pathname]),pathnameBase:ES(va([u,C.pathnameBase])),route:D}),C.pathnameBase!=="/"&&(u=va([u,C.pathnameBase]))}return f}function cd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=pS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:C},D)=>{if(w==="*"){let W=p[D]||"";f=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const B=p[D];return C&&!B?y[w]=void 0:y[w]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function pS(r,e=!1,n=!0){ns(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function gS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ns(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ta(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function yS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Du(r):r;return{pathname:n?n.startsWith("/")?n:_S(n,e):e,search:TS(s),hash:bS(o)}}function _S(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _g(r){let e=vS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vg(r,e,n,s=!1){let o;typeof r=="string"?o=Du(r):(o={...r},Kt(!o.pathname||!o.pathname.includes("?"),Rp("?","pathname","search",o)),Kt(!o.pathname||!o.pathname.includes("#"),Rp("#","pathname","hash",o)),Kt(!o.search||!o.search.includes("#"),Rp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let C=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),C-=1;o.pathname=D.join("/")}p=C>=0?e[C]:"/"}let g=yS(o,p),y=f&&f!=="/"&&f.endsWith("/"),w=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var va=r=>r.join("/").replace(/\/\/+/g,"/"),ES=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function AS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var wS=["GET",...QT];new Set(wS);var Nu=K.createContext(null);Nu.displayName="DataRouter";var Dd=K.createContext(null);Dd.displayName="DataRouterState";K.createContext(!1);var YT=K.createContext({isTransitioning:!1});YT.displayName="ViewTransition";var SS=K.createContext(new Map);SS.displayName="Fetchers";var CS=K.createContext(null);CS.displayName="Await";var ss=K.createContext(null);ss.displayName="Navigation";var wh=K.createContext(null);wh.displayName="Location";var as=K.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var Eg=K.createContext(null);Eg.displayName="RouteError";function RS(r,{relative:e}={}){Kt(Ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(ss),{hash:o,pathname:u,search:f}=Sh(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:va([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Ou(){return K.useContext(wh)!=null}function js(){return Kt(Ou(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(wh).location}var XT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WT(r){K.useContext(ss).static||K.useLayoutEffect(r)}function Nd(){let{isDataRoute:r}=K.useContext(as);return r?HS():IS()}function IS(){Kt(Ou(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Nu),{basename:e,navigator:n}=K.useContext(ss),{matches:s}=K.useContext(as),{pathname:o}=js(),u=JSON.stringify(_g(s)),f=K.useRef(!1);return WT(()=>{f.current=!0}),K.useCallback((g,y={})=>{if(ns(f.current,XT),!f.current)return;if(typeof g=="number"){n.go(g);return}let w=vg(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:va([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,u,o,r])}var xS=K.createContext(null);function DS(r){let e=K.useContext(as).outlet;return K.useMemo(()=>e&&K.createElement(xS.Provider,{value:r},e),[e,r])}function Sh(r,{relative:e}={}){let{matches:n}=K.useContext(as),{pathname:s}=js(),o=JSON.stringify(_g(n));return K.useMemo(()=>vg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function NS(r,e){return JT(r,e)}function JT(r,e,n,s,o){Kt(Ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext(ss),{matches:f}=K.useContext(as),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",C=p&&p.route;{let le=C&&C.path||"";ZT(y,!C||le.endsWith("*")||le.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${le}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${le}"> to <Route path="${le==="/"?"*":`${le}/*`}">.`)}let D=js(),B;if(e){let le=typeof e=="string"?Du(e):e;Kt(w==="/"||le.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${le.pathname}" was given in the \`location\` prop.`),B=le}else B=D;let W=B.pathname||"/",oe=W;if(w!=="/"){let le=w.replace(/^\//,"").split("/");oe="/"+W.replace(/^\//,"").split("/").slice(le.length).join("/")}let J=GT(r,{pathname:oe});ns(C||J!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),ns(J==null||J[J.length-1].route.element!==void 0||J[J.length-1].route.Component!==void 0||J[J.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=kS(J&&J.map(le=>Object.assign({},le,{params:Object.assign({},g,le.params),pathname:va([w,u.encodeLocation?u.encodeLocation(le.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:le.pathname]),pathnameBase:le.pathnameBase==="/"?w:va([w,u.encodeLocation?u.encodeLocation(le.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:le.pathnameBase])})),f,n,s,o);return e&&ee?K.createElement(wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},ee):ee}function OS(){let r=BS(),e=AS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var MS=K.createElement(OS,null),VS=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?K.createElement(as.Provider,{value:this.props.routeContext},K.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LS({routeContext:r,match:e,children:n}){let s=K.useContext(Nu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(as.Provider,{value:r},n)}function kS(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);Kt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:C,errors:D}=n,B=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!D||D[w.route.id]===void 0);if(w.route.lazy||B){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,w,C)=>{let D,B=!1,W=null,oe=null;n&&(D=f&&w.route.id?f[w.route.id]:void 0,W=w.route.errorElement||MS,p&&(g<0&&C===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,oe=null):g===C&&(B=!0,oe=w.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,C+1)),ee=()=>{let le;return D?le=W:B?le=oe:w.route.Component?le=K.createElement(w.route.Component,null):w.route.element?le=w.route.element:le=y,K.createElement(LS,{match:w,routeContext:{outlet:y,matches:J,isDataRoute:n!=null},children:le})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?K.createElement(VS,{location:n.location,revalidation:n.revalidation,component:W,error:D,children:ee(),routeContext:{outlet:null,matches:J,isDataRoute:!0},unstable_onError:s}):ee()},null)}function Tg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(r){let e=K.useContext(Nu);return Kt(e,Tg(r)),e}function jS(r){let e=K.useContext(Dd);return Kt(e,Tg(r)),e}function US(r){let e=K.useContext(as);return Kt(e,Tg(r)),e}function bg(r){let e=US(r),n=e.matches[e.matches.length-1];return Kt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function zS(){return bg("useRouteId")}function BS(){let r=K.useContext(Eg),e=jS("useRouteError"),n=bg("useRouteError");return r!==void 0?r:e.errors?.[n]}function HS(){let{router:r}=PS("useNavigate"),e=bg("useNavigate"),n=K.useRef(!1);return WT(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{ns(n.current,XT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var cE={};function ZT(r,e,n){!e&&!cE[r]&&(cE[r]=!0,ns(!1,n))}K.memo(qS);function qS({routes:r,future:e,state:n,unstable_onError:s}){return JT(r,void 0,n,s,e)}function hE({to:r,replace:e,state:n,relative:s}){Kt(Ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(ss);ns(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=K.useContext(as),{pathname:f}=js(),p=Nd(),g=vg(r,_g(u),f,s==="path"),y=JSON.stringify(g);return K.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function FS(r){return DS(r.context)}function ei(r){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Kt(!Ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Du(n));let{pathname:g="/",search:y="",hash:w="",state:C=null,key:D="default"}=n,B=K.useMemo(()=>{let W=Ta(g,f);return W==null?null:{location:{pathname:W,search:y,hash:w,state:C,key:D},navigationType:s}},[f,g,y,w,C,D,s]);return ns(B!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:K.createElement(ss.Provider,{value:p},K.createElement(wh.Provider,{children:e,value:B}))}function $S({children:r,location:e}){return NS(qp(r),e)}function qp(r,e=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){n.push.apply(n,qp(s.props.children,u));return}Kt(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=qp(s.props.children,u)),n.push(f)}),n}var Wf="get",Jf="application/x-www-form-urlencoded";function Od(r){return r!=null&&typeof r.tagName=="string"}function KS(r){return Od(r)&&r.tagName.toLowerCase()==="button"}function QS(r){return Od(r)&&r.tagName.toLowerCase()==="form"}function YS(r){return Od(r)&&r.tagName.toLowerCase()==="input"}function XS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function WS(r,e){return r.button===0&&(!e||e==="_self")&&!XS(r)}var Ff=null;function JS(){if(Ff===null)try{new FormData(document.createElement("form"),0),Ff=!1}catch{Ff=!0}return Ff}var ZS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(r){return r!=null&&!ZS.has(r)?(ns(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):r}function e1(r,e){let n,s,o,u,f;if(QS(r)){let p=r.getAttribute("action");s=p?Ta(p,e):null,n=r.getAttribute("method")||Wf,o=Ip(r.getAttribute("enctype"))||Jf,u=new FormData(r)}else if(KS(r)||YS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ta(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Wf,o=Ip(r.getAttribute("formenctype"))||Ip(p.getAttribute("enctype"))||Jf,u=new FormData(p,r),!JS()){let{name:y,type:w,value:C}=r;if(w==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,C)}}else{if(Od(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wf,s=null,o=Jf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ag(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function t1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ta(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function n1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function r1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await n1(u,n);return f.links?f.links():[]}return[]}));return l1(s.flat(1).filter(i1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fE(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function s1(r,e,{includeHydrateFallback:n}={}){return a1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function a1(r){return[...new Set(r)]}function o1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function l1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(o1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function eb(){let r=K.useContext(Nu);return Ag(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function u1(){let r=K.useContext(Dd);return Ag(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wg=K.createContext(void 0);wg.displayName="FrameworkContext";function tb(){let r=K.useContext(wg);return Ag(r,"You must render this element inside a <HydratedRouter> element"),r}function c1(r,e){let n=K.useContext(wg),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:C}=e,D=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let oe=ee=>{ee.forEach(le=>{f(le.isIntersecting)})},J=new IntersectionObserver(oe,{threshold:.5});return D.current&&J.observe(D.current),()=>{J.disconnect()}}},[r]),K.useEffect(()=>{if(s){let oe=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(oe)}}},[s]);let B=()=>{o(!0)},W=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:Yc(p,B),onBlur:Yc(g,W),onMouseEnter:Yc(y,B),onMouseLeave:Yc(w,W),onTouchStart:Yc(C,B)}]:[!1,D,{}]}function Yc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function h1({page:r,...e}){let{router:n}=eb(),s=K.useMemo(()=>GT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(d1,{page:r,matches:s,...e}):null}function f1(r){let{manifest:e,routeModules:n}=tb(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return r1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function d1({page:r,matches:e,...n}){let s=js(),{manifest:o,routeModules:u}=tb(),{basename:f}=eb(),{loaderData:p,matches:g}=u1(),y=K.useMemo(()=>fE(r,e,g,o,s,"data"),[r,e,g,o,s]),w=K.useMemo(()=>fE(r,e,g,o,s,"assets"),[r,e,g,o,s]),C=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let W=new Set,oe=!1;if(e.forEach(ee=>{let le=o.routes[ee.route.id];!le||!le.hasLoader||(!y.some(he=>he.route.id===ee.route.id)&&ee.route.id in p&&u[ee.route.id]?.shouldRevalidate||le.hasClientLoader?oe=!0:W.add(ee.route.id))}),W.size===0)return[];let J=t1(r,f,"data");return oe&&W.size>0&&J.searchParams.set("_routes",e.filter(ee=>W.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[J.pathname+J.search]},[f,p,s,o,y,e,r,u]),D=K.useMemo(()=>s1(w,o),[w,o]),B=f1(w);return K.createElement(K.Fragment,null,C.map(W=>K.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...n})),D.map(W=>K.createElement("link",{key:W,rel:"modulepreload",href:W,...n})),B.map(({key:W,link:oe})=>K.createElement("link",{key:W,nonce:n.nonce,...oe})))}function m1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nb&&(window.__reactRouterVersion="7.9.3")}catch{}function p1({basename:r,children:e,window:n}){let s=K.useRef();s.current==null&&(s.current=eS({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),p=K.useCallback(g=>{K.startTransition(()=>f(g))},[f]);return K.useLayoutEffect(()=>o.listen(p),[o,p]),K.createElement(GS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pu=K.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:w,viewTransition:C,...D},B){let{basename:W}=K.useContext(ss),oe=typeof y=="string"&&ib.test(y),J,ee=!1;if(typeof y=="string"&&oe&&(J=y,nb))try{let O=new URL(window.location.href),U=y.startsWith("//")?new URL(O.protocol+y):new URL(y),k=Ta(U.pathname,W);U.origin===O.origin&&k!=null?y=k+U.search+U.hash:ee=!0}catch{ns(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=RS(y,{relative:o}),[he,Be,Ke]=c1(s,D),Ye=_1(y,{replace:f,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:C});function L(O){e&&e(O),O.defaultPrevented||Ye(O)}let N=K.createElement("a",{...D,...Ke,href:J||le,onClick:ee||u?e:L,ref:m1(B,Be),target:g,"data-discover":!oe&&n==="render"?"true":void 0});return he&&!oe?K.createElement(K.Fragment,null,N,K.createElement(h1,{page:le})):N});pu.displayName="Link";var gi=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},w){let C=Sh(f,{relative:y.relative}),D=js(),B=K.useContext(Dd),{navigator:W,basename:oe}=K.useContext(ss),J=B!=null&&A1(C)&&p===!0,ee=W.encodeLocation?W.encodeLocation(C).pathname:C.pathname,le=D.pathname,he=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(le=le.toLowerCase(),he=he?he.toLowerCase():null,ee=ee.toLowerCase()),he&&oe&&(he=Ta(he,oe)||he);const Be=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let Ke=le===ee||!o&&le.startsWith(ee)&&le.charAt(Be)==="/",Ye=he!=null&&(he===ee||!o&&he.startsWith(ee)&&he.charAt(ee.length)==="/"),L={isActive:Ke,isPending:Ye,isTransitioning:J},N=Ke?e:void 0,O;typeof s=="function"?O=s(L):O=[s,Ke?"active":null,Ye?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(L):u;return K.createElement(pu,{...y,"aria-current":N,className:O,ref:w,style:U,to:f,viewTransition:p},typeof g=="function"?g(L):g)});gi.displayName="NavLink";var g1=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wf,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:C,...D},B)=>{let W=T1(),oe=b1(p,{relative:y}),J=f.toLowerCase()==="get"?"get":"post",ee=typeof p=="string"&&ib.test(p),le=he=>{if(g&&g(he),he.defaultPrevented)return;he.preventDefault();let Be=he.nativeEvent.submitter,Ke=Be?.getAttribute("formmethod")||f;W(Be||he.currentTarget,{fetcherKey:e,method:Ke,navigate:n,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:C})};return K.createElement("form",{ref:B,method:J,action:oe,onSubmit:s?g:le,...D,"data-discover":!ee&&r==="render"?"true":void 0})});g1.displayName="Form";function y1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(r){let e=K.useContext(Nu);return Kt(e,y1(r)),e}function _1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Nd(),g=js(),y=Sh(r,{relative:u});return K.useCallback(w=>{if(WS(w,e)){w.preventDefault();let C=n!==void 0?n:hh(g)===hh(y);p(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,y,n,s,e,r,o,u,f])}var v1=0,E1=()=>`__${String(++v1)}__`;function T1(){let{router:r}=rb("useSubmit"),{basename:e}=K.useContext(ss),n=zS();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:g,body:y}=e1(s,e);if(o.navigate===!1){let w=o.fetcherKey||E1();await r.fetch(w,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function b1(r,{relative:e}={}){let{basename:n}=K.useContext(ss),s=K.useContext(as);Kt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Sh(r||".",{relative:e})},f=js();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(C=>C).forEach(C=>p.append("index",C));let w=p.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:va([n,u.pathname])),hh(u)}function A1(r,{relative:e}={}){let n=K.useContext(YT);Kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rb("useViewTransitionState"),o=Sh(r,{relative:e});if(!n.isTransitioning)return!1;let u=Ta(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ta(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cd(o.pathname,f)!=null||cd(o.pathname,u)!=null}const w1=()=>{};var dE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},S1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,C=(u&3)<<4|p>>4;let D=(p&15)<<2|y>>6,B=y&63;g||(B=64,f||(D=64)),s.push(n[w],n[C],n[D],n[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):S1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||C==null)throw new C1;const D=u<<2|p>>4;if(s.push(D),y!==64){const B=p<<4&240|y>>2;if(s.push(B),C!==64){const W=y<<6&192|C;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R1=function(r){const e=sb(r);return ab.encodeByteArray(e,!0)},hd=function(r){return R1(r).replace(/\./g,"")},ob=function(r){try{return ab.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=()=>I1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof dE>"u")return;const r=dE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},N1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ob(r[1]);return e&&JSON.parse(e)},Md=()=>{try{return w1()||x1()||D1()||N1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lb=r=>Md()?.emulatorHosts?.[r],O1=r=>{const e=lb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ub=()=>Md()?.config,cb=r=>Md()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hd(JSON.stringify(n)),hd(JSON.stringify(f)),""].join(".")}const sh={};function L1(){const r={prod:[],emulator:[]};for(const e of Object.keys(sh))sh[e]?r.emulator.push(e):r.prod.push(e);return r}function k1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let mE=!1;function fb(r,e){if(typeof window>"u"||typeof document>"u"||!Mu(window.location.host)||sh[r]===e||sh[r]||mE)return;sh[r]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=L1().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{mE=!0,f()},D}function w(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=k1(s),B=n("text"),W=document.getElementById(B)||document.createElement("span"),oe=n("learnmore"),J=document.getElementById(oe)||document.createElement("a"),ee=n("preprendIcon"),le=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const he=D.element;p(he),w(J,oe);const Be=y();g(le,ee),he.append(le,W,J,Be),document.body.appendChild(he)}u?(W.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yi())}function j1(){const r=Md()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H1(){const r=yi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function q1(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F1(){try{return typeof indexedDB=="object"}catch{return!1}}function G1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class Ra extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$1,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ch.prototype.create)}}class Ch{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?K1(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ra(o,p,s)}}function K1(r,e){return r.replace(Q1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Q1=/\{\$([^}]+)}/g;function Y1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _l(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(pE(u)&&pE(f)){if(!_l(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function pE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function eh(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function X1(r,e){const n=new W1(r,e);return n.subscribe.bind(n)}class W1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");J1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xp),o.error===void 0&&(o.error=xp),o.complete===void 0&&(o.complete=xp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r){return r&&r._delegate?r._delegate:r}class vl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new M1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tC(e))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pl){return this.instances.has(e)}getOptions(e=pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pl){return this.component?this.component.multipleInstances?e:pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(r){return r===pl?void 0:r}function tC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rt||(rt={}));const iC={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},rC=rt.INFO,sC={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},aC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=sC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=rC,this._logHandler=aC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const oC=(r,e)=>e.some(n=>r instanceof n);let gE,yE;function lC(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,Fp=new WeakMap,mb=new WeakMap,Dp=new WeakMap,Cg=new WeakMap;function cC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Co(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&db.set(n,r)}).catch(()=>{}),Cg.set(e,r),e}function hC(r){if(Fp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fp.set(r,e)}let Gp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||mb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fC(r){Gp=r(Gp)}function dC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Np(this),e,...n);return mb.set(s,e.sort?e.sort():[e]),Co(s)}:uC().includes(r)?function(...e){return r.apply(Np(this),e),Co(db.get(this))}:function(...e){return Co(r.apply(Np(this),e))}}function mC(r){return typeof r=="function"?dC(r):(r instanceof IDBTransaction&&hC(r),oC(r,lC())?new Proxy(r,Gp):r)}function Co(r){if(r instanceof IDBRequest)return cC(r);if(Dp.has(r))return Dp.get(r);const e=mC(r);return e!==r&&(Dp.set(r,e),Cg.set(e,r)),e}const Np=r=>Cg.get(r);function pC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Co(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Co(f.result),g.oldVersion,g.newVersion,Co(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gC=["get","getKey","getAll","getAllKeys","count"],yC=["put","add","delete","clear"],Op=new Map;function _E(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gC.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Op.set(e,u),u}fC(r=>({...r,get:(e,n,s)=>_E(e,n)||r.get(e,n,s),has:(e,n)=>!!_E(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vC(r){return r.getComponent()?.type==="VERSION"}const $p="@firebase/app",vE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Sg("@firebase/app"),EC="@firebase/app-compat",TC="@firebase/analytics-compat",bC="@firebase/analytics",AC="@firebase/app-check-compat",wC="@firebase/app-check",SC="@firebase/auth",CC="@firebase/auth-compat",RC="@firebase/database",IC="@firebase/data-connect",xC="@firebase/database-compat",DC="@firebase/functions",NC="@firebase/functions-compat",OC="@firebase/installations",MC="@firebase/installations-compat",VC="@firebase/messaging",LC="@firebase/messaging-compat",kC="@firebase/performance",PC="@firebase/performance-compat",jC="@firebase/remote-config",UC="@firebase/remote-config-compat",zC="@firebase/storage",BC="@firebase/storage-compat",HC="@firebase/firestore",qC="@firebase/ai",FC="@firebase/firestore-compat",GC="firebase",$C="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="[DEFAULT]",KC={[$p]:"fire-core",[EC]:"fire-core-compat",[bC]:"fire-analytics",[TC]:"fire-analytics-compat",[wC]:"fire-app-check",[AC]:"fire-app-check-compat",[SC]:"fire-auth",[CC]:"fire-auth-compat",[RC]:"fire-rtdb",[IC]:"fire-data-connect",[xC]:"fire-rtdb-compat",[DC]:"fire-fn",[NC]:"fire-fn-compat",[OC]:"fire-iid",[MC]:"fire-iid-compat",[VC]:"fire-fcm",[LC]:"fire-fcm-compat",[kC]:"fire-perf",[PC]:"fire-perf-compat",[jC]:"fire-rc",[UC]:"fire-rc-compat",[zC]:"fire-gcs",[BC]:"fire-gcs-compat",[HC]:"fire-fst",[FC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[GC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,QC=new Map,Qp=new Map;function EE(r,e){try{r.container.addComponent(e)}catch(n){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function bu(r){const e=r.name;if(Qp.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,r);for(const n of fd.values())EE(n,r);for(const n of QC.values())EE(n,r);return!0}function Rg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Zr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new Ch("app","Firebase",YC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=$C;function Ig(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Kp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ro.create("bad-app-name",{appName:String(o)});if(n||(n=ub()),!n)throw Ro.create("no-options");const u=fd.get(o);if(u){if(_l(n,u.options)&&_l(s,u.config))return u;throw Ro.create("duplicate-app",{appName:o})}const f=new nC(o);for(const g of Qp.values())f.addComponent(g);const p=new XC(n,s,f);return fd.set(o,p),p}function pb(r=Kp){const e=fd.get(r);if(!e&&r===Kp&&ub())return Ig();if(!e)throw Ro.create("no-app",{appName:r});return e}function Io(r,e,n){let s=KC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(f.join(" "));return}bu(new vl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebase-heartbeat-database",JC=1,fh="firebase-heartbeat-store";let Mp=null;function gb(){return Mp||(Mp=pC(WC,JC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fh)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ro.create("idb-open",{originalErrorMessage:r.message})})),Mp}async function ZC(r){try{const n=(await gb()).transaction(fh),s=await n.objectStore(fh).get(yb(r));return await n.done,s}catch(e){if(e instanceof Ra)ba.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e?.message});ba.warn(n.message)}}}async function TE(r,e){try{const s=(await gb()).transaction(fh,"readwrite");await s.objectStore(fh).put(e,yb(r)),await s.done}catch(n){if(n instanceof Ra)ba.warn(n.message);else{const s=Ro.create("idb-set",{originalErrorMessage:n?.message});ba.warn(s.message)}}}function yb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1024,tR=30;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tR){const o=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ba.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bE(),{heartbeatsToSend:n,unsentEntries:s}=iR(this._heartbeatsCache.heartbeats),o=hd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ba.warn(e),""}}}function bE(){return new Date().toISOString().substring(0,10)}function iR(r,e=eR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),AE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),AE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F1()?G1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return TE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return TE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function AE(r){return hd(JSON.stringify({version:2,heartbeats:r})).length}function sR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r){bu(new vl("platform-logger",e=>new _C(e),"PRIVATE")),bu(new vl("heartbeat",e=>new nR(e),"PRIVATE")),Io($p,vE,r),Io($p,vE,"esm2020"),Io("fire-js","")}aR("");var oR="firebase",lR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(oR,lR,"app");function _b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uR=_b,vb=new Ch("auth","Firebase",_b());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Sg("@firebase/auth");function cR(r,...e){dd.logLevel<=rt.WARN&&dd.warn(`Auth (${Vu}): ${r}`,...e)}function Zf(r,...e){dd.logLevel<=rt.ERROR&&dd.error(`Auth (${Vu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,...e){throw xg(r,...e)}function Ns(r,...e){return xg(r,...e)}function Eb(r,e,n){const s={...uR(),[e]:n};return new Ch("auth","Firebase",s).create(e,{appName:r.name})}function xo(r){return Eb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return vb.create(r,...e)}function Ve(r,e,...n){if(!r)throw xg(e,...n)}function ya(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zf(e),new Error(e)}function Aa(r,e){r||ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){return typeof self<"u"&&self.location?.href||""}function hR(){return wE()==="http:"||wE()==="https:"}function wE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hR()||z1()||"connection"in navigator)?navigator.onLine:!0}function dR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,Aa(n>e,"Short delay should be less than long delay!"),this.isMobile=P1()||B1()}get(){return fR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e){Aa(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gR=new Ih(3e4,6e4);function Al(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function jo(r,e,n,s,o={}){return bb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Rh({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return U1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Mu(r.emulatorConfig.host)&&(y.credentials="include"),Tb.fetch()(await Ab(r,r.config.apiHost,n,p),y)})}async function bb(r,e,n){r._canInitEmulator=!1;const s={...mR,...e};try{const o=new _R(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gf(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Gf(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Gf(r,"user-disabled",f);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Eb(r,w,y);is(r,w)}}catch(o){if(o instanceof Ra)throw o;is(r,"network-request-failed",{message:String(o)})}}async function Vd(r,e,n,s,o={}){const u=await jo(r,e,n,s,o);return"mfaPendingCredential"in u&&is(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ab(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Dg(r.config,o):`${r.config.apiScheme}://${o}`;return pR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function yR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ns(this.auth,"network-request-failed")),gR.get())})}}function Gf(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ns(r,e,s);return o.customData._tokenResponse=n,o}function SE(r){return r!==void 0&&r.enterprise!==void 0}class vR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ER(r,e){return jo(r,"GET","/v2/recaptchaConfig",Al(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(r,e){return jo(r,"POST","/v1/accounts:delete",e)}async function md(r,e){return jo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bR(r,e=!1){const n=ri(r),s=await n.getIdToken(e),o=Ng(s);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ah(Vp(o.auth_time)),issuedAtTime:ah(Vp(o.iat)),expirationTime:ah(Vp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vp(r){return Number(r)*1e3}function Ng(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const o=ob(n);return o?JSON.parse(o):(Zf("Failed to decode base64 JWT payload"),null)}catch(o){return Zf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function CE(r){const e=Ng(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ra&&AR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function AR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(r){const e=r.auth,n=await r.getIdToken(),s=await dh(r,md(e,{idToken:n}));Ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?wb(o.providerUserInfo):[],f=CR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function SR(r){const e=ri(r);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(r,e){const n=await bb(r,{},async()=>{const s=Rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Ab(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Mu(r.emulatorConfig.host)&&(g.credentials="include"),Tb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IR(r,e){return jo(r,"POST","/v2/accounts:revokeToken",Al(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=CE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new yu;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yu,this.toJSON())}_performRefresh(){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new wR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dh(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bR(this,e)}reload(){return SR(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(xo(this.auth));const e=await this.getIdToken();return await dh(this,TR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:C,emailVerified:D,isAnonymous:B,providerData:W,stsTokenManager:oe}=n;Ve(C&&oe,e,"internal-error");const J=yu.fromJSON(this.name,oe);Ve(typeof C=="string",e,"internal-error"),Eo(s,e.name),Eo(o,e.name),Ve(typeof D=="boolean",e,"internal-error"),Ve(typeof B=="boolean",e,"internal-error"),Eo(u,e.name),Eo(f,e.name),Eo(p,e.name),Eo(g,e.name),Eo(y,e.name),Eo(w,e.name);const ee=new es({uid:C,auth:e,email:o,emailVerified:D,displayName:s,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:w});return W&&Array.isArray(W)&&(ee.providerData=W.map(le=>({...le}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new yu;o.updateFromServerResponse(n);const u=new es({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await pd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new yu;p.updateFromIdToken(s);const g=new es({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function _a(r){Aa(r instanceof Function,"Expected a class definition");let e=RE.get(r);return e?(Aa(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,RE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sb.type="NONE";const IE=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(r,e,n){return`firebase:${r}:${e}:${n}`}class _u{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ed(this.userKey,o.apiKey,u),this.fullPersistenceKey=ed("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await md(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _u(_a(IE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||_a(IE);const f=ed(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const w=await y._get(f);if(w){let C;if(typeof w=="string"){const D=await md(e,{idToken:w}).catch(()=>{});if(!D)break;C=await es._fromGetAccountInfoResponse(e,D,w)}else C=es._fromJSON(e,w);y!==u&&(p=C),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new _u(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new _u(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nb(e))return"Blackberry";if(Ob(e))return"Webos";if(Rb(e))return"Safari";if((e.includes("chrome/")||Ib(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Cb(r=yi()){return/firefox\//i.test(r)}function Rb(r=yi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ib(r=yi()){return/crios\//i.test(r)}function xb(r=yi()){return/iemobile/i.test(r)}function Db(r=yi()){return/android/i.test(r)}function Nb(r=yi()){return/blackberry/i.test(r)}function Ob(r=yi()){return/webos/i.test(r)}function Og(r=yi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xR(r=yi()){return Og(r)&&!!window.navigator?.standalone}function DR(){return H1()&&document.documentMode===10}function Mb(r=yi()){return Og(r)||Db(r)||Ob(r)||Nb(r)||/windows phone/i.test(r)||xb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r,e=[]){let n;switch(r){case"Browser":n=xE(yi());break;case"Worker":n=`${xE(yi())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(r,e={}){return jo(r,"GET","/v2/passwordPolicy",Al(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=6;class VR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_a(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _u.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await md(this,{idToken:e}),s=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(xo(this));const n=e?ri(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OR(this),n=new VR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ch("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_a(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await _u.create(this,[_a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lu(r){return ri(r)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=X1(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kR(r){Ld=r}function Lb(r){return Ld.loadJS(r)}function PR(){return Ld.recaptchaEnterpriseScript}function jR(){return Ld.gapiScript}function UR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zR{constructor(){this.enterprise=new BR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HR="recaptcha-enterprise",kb="NO_RECAPTCHA";class qR{constructor(e){this.type=HR,this.auth=Lu(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{ER(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new vR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;SE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(kb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&SE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=PR();g.length!==0&&(g+=p),Lb(g).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function NE(r,e,n,s=!1,o=!1){const u=new qR(r);let f;if(o)f=kb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function OE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await NE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await NE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r,e){const n=Rg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_l(u,e??{}))return o;is(o,"already-initialized")}return n.initialize({options:e})}function GR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_a);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function $R(r,e,n){const s=Lu(r);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Pb(e),{host:f,port:p}=KR(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},w=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(_l(y,s.config.emulator)&&_l(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Mu(f)?(hb(`${u}//${f}${g}`),fb("Auth",!0)):QR()}function Pb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function KR(r){const e=Pb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ME(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:ME(f)}}}function ME(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function QR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ya("not implemented")}_getIdTokenResponse(e){return ya("not implemented")}_linkToIdToken(e,n){return ya("not implemented")}_getReauthenticationResolver(e){return ya("not implemented")}}async function YR(r,e){return jo(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(r,e){return Vd(r,"POST","/v1/accounts:signInWithPassword",Al(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(r,e){return Vd(r,"POST","/v1/accounts:signInWithEmailLink",Al(r,e))}async function JR(r,e){return Vd(r,"POST","/v1/accounts:signInWithEmailLink",Al(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Mg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new mh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return OE(e,n,"signInWithPassword",XR);case"emailLink":return WR(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return OE(e,s,"signUpPassword",YR);case"emailLink":return JR(e,{idToken:n,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(r,e){return Vd(r,"POST","/v1/accounts:signInWithIdp",Al(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="http://localhost";class El extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new El(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return vu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vu(e,n)}buildRequest(){const e={requestUri:ZR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tI(r){const e=Zc(eh(r)).link,n=e?Zc(eh(e)).deep_link_id:null,s=Zc(eh(r)).deep_link_id;return(s?Zc(eh(s)).link:null)||s||n||e||r}class Vg{constructor(e){const n=Zc(eh(e)),s=n.apiKey??null,o=n.oobCode??null,u=eI(n.mode??null);Ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tI(e);try{return new Vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.providerId=ku.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vg.parseLink(n);return Ve(s,"argument-error"),mh._fromEmailAndCode(e,s.code,s.tenantId)}}ku.PROVIDER_ID="password";ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends jb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends xh{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return El._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return bo.credential(n,s)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends xh{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends xh{constructor(){super("twitter.com")}static credential(e,n){return El._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return wo.credential(n,s)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await es._fromIdTokenResponse(e,s,o),f=VE(s);return new Au({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=VE(s);return new Au({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function VE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Ra{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gd(e,n,s,o)}}function Ub(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(r,u,e,s):u})}async function nI(r,e,n=!1){const s=await dh(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Au._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e,n=!1){const{auth:s}=r;if(Zr(s.app))return Promise.reject(xo(s));const o="reauthenticate";try{const u=await dh(r,Ub(s,o,e,r),n);Ve(u.idToken,s,"internal-error");const f=Ng(u.idToken);Ve(f,s,"internal-error");const{sub:p}=f;return Ve(r.uid===p,s,"user-mismatch"),Au._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&is(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(r,e,n=!1){if(Zr(r.app))return Promise.reject(xo(r));const s="signIn",o=await Ub(r,s,e),u=await Au._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function rI(r,e){return zb(Lu(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(r){const e=Lu(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function aI(r,e,n){return Zr(r.app)?Promise.reject(xo(r)):rI(ri(r),ku.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&sI(r),s})}function oI(r,e,n,s){return ri(r).onIdTokenChanged(e,n,s)}function lI(r,e,n){return ri(r).beforeAuthStateChanged(e,n)}function uI(r,e,n,s){return ri(r).onAuthStateChanged(e,n,s)}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=1e3,hI=10;class Hb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);DR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const fI=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qb.type="SESSION";const Fb=qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await dI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Lg("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(C){const D=C;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function pI(r){Os().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function gI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yI(){return navigator?.serviceWorker?.controller||null}function _I(){return Gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebaseLocalStorageDb",vI=1,_d="firebaseLocalStorage",Kb="fbase_key";class Dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(r,e){return r.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function EI(){const r=indexedDB.deleteDatabase($b);return new Dh(r).toPromise()}function Wp(){const r=indexedDB.open($b,vI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_d,{keyPath:Kb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_d)?e(s):(s.close(),await EI(),e(await Wp()))})})}async function LE(r,e,n){const s=Pd(r,!0).put({[Kb]:e,value:n});return new Dh(s).toPromise()}async function TI(r,e){const n=Pd(r,!1).get(e),s=await new Dh(n).toPromise();return s===void 0?null:s.value}function kE(r,e){const n=Pd(r,!0).delete(e);return new Dh(n).toPromise()}const bI=800,AI=3;class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(_I()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gI(),!this.activeServiceWorker)return;this.sender=new mI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wp();return await LE(e,yd,"1"),await kE(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>LE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Pd(o,!1).getAll();return new Dh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qb.type="LOCAL";const wI=Qb;new Ih(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r,e){return e?_a(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CI(r){return zb(r.auth,new kg(r),r.bypassAuthState)}function RI(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),iI(n,new kg(r),r.bypassAuthState)}async function II(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),nI(n,new kg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return RI;default:is(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Ih(2e3,1e4);class gu extends Yb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,gu.currentPopupAction&&gu.currentPopupAction.cancel(),gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xI.get())};e()}}gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="pendingRedirect",td=new Map;class NI extends Yb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const s=await OI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OI(r,e){const n=LI(e),s=VI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function MI(r,e){td.set(r._key(),e)}function VI(r){return _a(r._redirectPersistence)}function LI(r){return ed(DI,r.config.apiKey,r.name)}async function kI(r,e,n=!1){if(Zr(r.app))return Promise.reject(xo(r));const s=Lu(r),o=SI(s,e),f=await new NI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=600*1e3;class jI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Xb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PI&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Xb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function UI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,e={}){return jo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HI=/^https?/;async function qI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zI(r);for(const n of e)try{if(FI(n))return}catch{}is(r,"unauthorized-domain")}function FI(r){const e=Yp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!HI.test(n))return!1;if(BI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Ih(3e4,6e4);function jE(){const r=Os().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function $I(r){return new Promise((e,n)=>{function s(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),n(Ns(r,"network-request-failed"))},timeout:GI.get()})}if(Os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Os().gapi?.load)s();else{const o=UR("iframefcb");return Os()[o]=()=>{gapi.load?s():n(Ns(r,"network-request-failed"))},Lb(`${jR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw nd=null,e})}let nd=null;function KI(r){return nd=nd||$I(r),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Ih(5e3,15e3),YI="__/auth/iframe",XI="emulator/auth/iframe",WI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Dg(e,XI):`https://${r.config.authDomain}/${YI}`,s={apiKey:e.apiKey,appName:r.name,v:Vu},o=JI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Rh(s).slice(1)}`}async function ex(r){const e=await KI(r),n=Os().gapi;return Ve(n,r,"internal-error"),e.open({where:document.body,url:ZI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ns(r,"network-request-failed"),p=Os().setTimeout(()=>{u(f)},QI.get());function g(){Os().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nx=500,ix=600,rx="_blank",sx="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ax(r,e,n,s=nx,o=ix){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...tx,width:s.toString(),height:o.toString(),top:u,left:f},y=yi().toLowerCase();n&&(p=Ib(y)?rx:n),Cb(y)&&(e=e||sx,g.scrollbars="yes");const w=Object.entries(g).reduce((D,[B,W])=>`${D}${B}=${W},`,"");if(xR(y)&&p!=="_self")return ox(e||"",p),new UE(null);const C=window.open(e||"",p,w);Ve(C,r,"popup-blocked");try{C.focus()}catch{}return new UE(C)}function ox(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__/auth/handler",ux="emulator/auth/handler",cx=encodeURIComponent("fac");async function zE(r,e,n,s,o,u){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Vu,eventId:o};if(e instanceof jb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Y1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,C]of Object.entries({}))f[w]=C}if(e instanceof xh){const w=e.getScopes().filter(C=>C!=="");w.length>0&&(f.scopes=w.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await r._getAppCheckToken(),y=g?`#${cx}=${encodeURIComponent(g)}`:"";return`${hx(r)}?${Rh(p).slice(1)}${y}`}function hx({config:r}){return r.emulator?Dg(r,ux):`https://${r.authDomain}/${lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="webStorageSupport";class fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=kI,this._overrideRedirectResult=MI}async _openPopup(e,n,s,o){Aa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zE(e,n,s,Yp(),o);return ax(e,u,Lg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await zE(e,n,s,Yp(),o);return pI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Aa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ex(e),s=new jI(e);return n.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lp,{type:Lp},o=>{const u=o?.[0]?.[Lp];u!==void 0&&n(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mb()||Rb()||Og()}}const dx=fx;var BE="@firebase/auth",HE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gx(r){bu(new vl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(r)},y=new LR(s,o,u,g);return GR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),bu(new vl("auth-internal",e=>{const n=Lu(e.getProvider("auth").getImmediate());return(s=>new mx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(BE,HE,px(r)),Io(BE,HE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=300,_x=cb("authIdTokenMaxAge")||yx;let qE=null;const vx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_x)return;const o=n?.token;qE!==o&&(qE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Wb(r=pb()){const e=Rg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=FR(r,{popupRedirectResolver:dx,persistence:[wI,fI,Fb]}),s=cb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=vx(u.toString());lI(n,f,()=>f(n.currentUser)),oI(n,p=>f(p))}}const o=lb("auth");return o&&$R(n,`http://${o}`),n}function Ex(){return document.getElementsByTagName("head")?.[0]??document}kR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ns("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ex().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gx("Browser");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,Jb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function O(){}O.prototype=N.prototype,L.F=N.prototype,L.prototype=new O,L.prototype.constructor=L,L.D=function(U,k,q){for(var M=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)M[Dt-2]=arguments[Dt];return N.prototype[k].apply(U,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(L,N,O){O||(O=0);const U=Array(16);if(typeof N=="string")for(var k=0;k<16;++k)U[k]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(k=0;k<16;++k)U[k]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=L.g[0],O=L.g[1],k=L.g[2];let q=L.g[3],M;M=N+(q^O&(k^q))+U[0]+3614090360&4294967295,N=O+(M<<7&4294967295|M>>>25),M=q+(k^N&(O^k))+U[1]+3905402710&4294967295,q=N+(M<<12&4294967295|M>>>20),M=k+(O^q&(N^O))+U[2]+606105819&4294967295,k=q+(M<<17&4294967295|M>>>15),M=O+(N^k&(q^N))+U[3]+3250441966&4294967295,O=k+(M<<22&4294967295|M>>>10),M=N+(q^O&(k^q))+U[4]+4118548399&4294967295,N=O+(M<<7&4294967295|M>>>25),M=q+(k^N&(O^k))+U[5]+1200080426&4294967295,q=N+(M<<12&4294967295|M>>>20),M=k+(O^q&(N^O))+U[6]+2821735955&4294967295,k=q+(M<<17&4294967295|M>>>15),M=O+(N^k&(q^N))+U[7]+4249261313&4294967295,O=k+(M<<22&4294967295|M>>>10),M=N+(q^O&(k^q))+U[8]+1770035416&4294967295,N=O+(M<<7&4294967295|M>>>25),M=q+(k^N&(O^k))+U[9]+2336552879&4294967295,q=N+(M<<12&4294967295|M>>>20),M=k+(O^q&(N^O))+U[10]+4294925233&4294967295,k=q+(M<<17&4294967295|M>>>15),M=O+(N^k&(q^N))+U[11]+2304563134&4294967295,O=k+(M<<22&4294967295|M>>>10),M=N+(q^O&(k^q))+U[12]+1804603682&4294967295,N=O+(M<<7&4294967295|M>>>25),M=q+(k^N&(O^k))+U[13]+4254626195&4294967295,q=N+(M<<12&4294967295|M>>>20),M=k+(O^q&(N^O))+U[14]+2792965006&4294967295,k=q+(M<<17&4294967295|M>>>15),M=O+(N^k&(q^N))+U[15]+1236535329&4294967295,O=k+(M<<22&4294967295|M>>>10),M=N+(k^q&(O^k))+U[1]+4129170786&4294967295,N=O+(M<<5&4294967295|M>>>27),M=q+(O^k&(N^O))+U[6]+3225465664&4294967295,q=N+(M<<9&4294967295|M>>>23),M=k+(N^O&(q^N))+U[11]+643717713&4294967295,k=q+(M<<14&4294967295|M>>>18),M=O+(q^N&(k^q))+U[0]+3921069994&4294967295,O=k+(M<<20&4294967295|M>>>12),M=N+(k^q&(O^k))+U[5]+3593408605&4294967295,N=O+(M<<5&4294967295|M>>>27),M=q+(O^k&(N^O))+U[10]+38016083&4294967295,q=N+(M<<9&4294967295|M>>>23),M=k+(N^O&(q^N))+U[15]+3634488961&4294967295,k=q+(M<<14&4294967295|M>>>18),M=O+(q^N&(k^q))+U[4]+3889429448&4294967295,O=k+(M<<20&4294967295|M>>>12),M=N+(k^q&(O^k))+U[9]+568446438&4294967295,N=O+(M<<5&4294967295|M>>>27),M=q+(O^k&(N^O))+U[14]+3275163606&4294967295,q=N+(M<<9&4294967295|M>>>23),M=k+(N^O&(q^N))+U[3]+4107603335&4294967295,k=q+(M<<14&4294967295|M>>>18),M=O+(q^N&(k^q))+U[8]+1163531501&4294967295,O=k+(M<<20&4294967295|M>>>12),M=N+(k^q&(O^k))+U[13]+2850285829&4294967295,N=O+(M<<5&4294967295|M>>>27),M=q+(O^k&(N^O))+U[2]+4243563512&4294967295,q=N+(M<<9&4294967295|M>>>23),M=k+(N^O&(q^N))+U[7]+1735328473&4294967295,k=q+(M<<14&4294967295|M>>>18),M=O+(q^N&(k^q))+U[12]+2368359562&4294967295,O=k+(M<<20&4294967295|M>>>12),M=N+(O^k^q)+U[5]+4294588738&4294967295,N=O+(M<<4&4294967295|M>>>28),M=q+(N^O^k)+U[8]+2272392833&4294967295,q=N+(M<<11&4294967295|M>>>21),M=k+(q^N^O)+U[11]+1839030562&4294967295,k=q+(M<<16&4294967295|M>>>16),M=O+(k^q^N)+U[14]+4259657740&4294967295,O=k+(M<<23&4294967295|M>>>9),M=N+(O^k^q)+U[1]+2763975236&4294967295,N=O+(M<<4&4294967295|M>>>28),M=q+(N^O^k)+U[4]+1272893353&4294967295,q=N+(M<<11&4294967295|M>>>21),M=k+(q^N^O)+U[7]+4139469664&4294967295,k=q+(M<<16&4294967295|M>>>16),M=O+(k^q^N)+U[10]+3200236656&4294967295,O=k+(M<<23&4294967295|M>>>9),M=N+(O^k^q)+U[13]+681279174&4294967295,N=O+(M<<4&4294967295|M>>>28),M=q+(N^O^k)+U[0]+3936430074&4294967295,q=N+(M<<11&4294967295|M>>>21),M=k+(q^N^O)+U[3]+3572445317&4294967295,k=q+(M<<16&4294967295|M>>>16),M=O+(k^q^N)+U[6]+76029189&4294967295,O=k+(M<<23&4294967295|M>>>9),M=N+(O^k^q)+U[9]+3654602809&4294967295,N=O+(M<<4&4294967295|M>>>28),M=q+(N^O^k)+U[12]+3873151461&4294967295,q=N+(M<<11&4294967295|M>>>21),M=k+(q^N^O)+U[15]+530742520&4294967295,k=q+(M<<16&4294967295|M>>>16),M=O+(k^q^N)+U[2]+3299628645&4294967295,O=k+(M<<23&4294967295|M>>>9),M=N+(k^(O|~q))+U[0]+4096336452&4294967295,N=O+(M<<6&4294967295|M>>>26),M=q+(O^(N|~k))+U[7]+1126891415&4294967295,q=N+(M<<10&4294967295|M>>>22),M=k+(N^(q|~O))+U[14]+2878612391&4294967295,k=q+(M<<15&4294967295|M>>>17),M=O+(q^(k|~N))+U[5]+4237533241&4294967295,O=k+(M<<21&4294967295|M>>>11),M=N+(k^(O|~q))+U[12]+1700485571&4294967295,N=O+(M<<6&4294967295|M>>>26),M=q+(O^(N|~k))+U[3]+2399980690&4294967295,q=N+(M<<10&4294967295|M>>>22),M=k+(N^(q|~O))+U[10]+4293915773&4294967295,k=q+(M<<15&4294967295|M>>>17),M=O+(q^(k|~N))+U[1]+2240044497&4294967295,O=k+(M<<21&4294967295|M>>>11),M=N+(k^(O|~q))+U[8]+1873313359&4294967295,N=O+(M<<6&4294967295|M>>>26),M=q+(O^(N|~k))+U[15]+4264355552&4294967295,q=N+(M<<10&4294967295|M>>>22),M=k+(N^(q|~O))+U[6]+2734768916&4294967295,k=q+(M<<15&4294967295|M>>>17),M=O+(q^(k|~N))+U[13]+1309151649&4294967295,O=k+(M<<21&4294967295|M>>>11),M=N+(k^(O|~q))+U[4]+4149444226&4294967295,N=O+(M<<6&4294967295|M>>>26),M=q+(O^(N|~k))+U[11]+3174756917&4294967295,q=N+(M<<10&4294967295|M>>>22),M=k+(N^(q|~O))+U[2]+718787259&4294967295,k=q+(M<<15&4294967295|M>>>17),M=O+(q^(k|~N))+U[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+q&4294967295}s.prototype.v=function(L,N){N===void 0&&(N=L.length);const O=N-this.blockSize,U=this.C;let k=this.h,q=0;for(;q<N;){if(k==0)for(;q<=O;)o(this,L,q),q+=this.blockSize;if(typeof L=="string"){for(;q<N;)if(U[k++]=L.charCodeAt(q++),k==this.blockSize){o(this,U),k=0;break}}else for(;q<N;)if(U[k++]=L[q++],k==this.blockSize){o(this,U),k=0;break}}this.h=k,this.o+=N},s.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;N=this.o*8;for(var O=L.length-8;O<L.length;++O)L[O]=N&255,N/=256;for(this.v(L),L=Array(16),N=0,O=0;O<4;++O)for(let U=0;U<32;U+=8)L[N++]=this.g[O]>>>U&255;return L};function u(L,N){var O=p;return Object.prototype.hasOwnProperty.call(O,L)?O[L]:O[L]=N(L)}function f(L,N){this.h=N;const O=[];let U=!0;for(let k=L.length-1;k>=0;k--){const q=L[k]|0;U&&q==N||(O[k]=q,U=!1)}this.g=O}var p={};function g(L){return-128<=L&&L<128?u(L,function(N){return new f([N|0],N<0?-1:0)}):new f([L|0],L<0?-1:0)}function y(L){if(isNaN(L)||!isFinite(L))return C;if(L<0)return J(y(-L));const N=[];let O=1;for(let U=0;L>=O;U++)N[U]=L/O|0,O*=4294967296;return new f(N,0)}function w(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return J(w(L.substring(1),N));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=y(Math.pow(N,8));let U=C;for(let q=0;q<L.length;q+=8){var k=Math.min(8,L.length-q);const M=parseInt(L.substring(q,q+k),N);k<8?(k=y(Math.pow(N,k)),U=U.j(k).add(y(M))):(U=U.j(O),U=U.add(y(M)))}return U}var C=g(0),D=g(1),B=g(16777216);r=f.prototype,r.m=function(){if(oe(this))return-J(this).m();let L=0,N=1;for(let O=0;O<this.g.length;O++){const U=this.i(O);L+=(U>=0?U:4294967296+U)*N,N*=4294967296}return L},r.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(W(this))return"0";if(oe(this))return"-"+J(this).toString(L);const N=y(Math.pow(L,6));var O=this;let U="";for(;;){const k=Be(O,N).g;O=ee(O,k.j(N));let q=((O.g.length>0?O.g[0]:O.h)>>>0).toString(L);if(O=k,W(O))return q+U;for(;q.length<6;)q="0"+q;U=q+U}},r.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function W(L){if(L.h!=0)return!1;for(let N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function oe(L){return L.h==-1}r.l=function(L){return L=ee(this,L),oe(L)?-1:W(L)?0:1};function J(L){const N=L.g.length,O=[];for(let U=0;U<N;U++)O[U]=~L.g[U];return new f(O,~L.h).add(D)}r.abs=function(){return oe(this)?J(this):this},r.add=function(L){const N=Math.max(this.g.length,L.g.length),O=[];let U=0;for(let k=0;k<=N;k++){let q=U+(this.i(k)&65535)+(L.i(k)&65535),M=(q>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);U=M>>>16,q&=65535,M&=65535,O[k]=M<<16|q}return new f(O,O[O.length-1]&-2147483648?-1:0)};function ee(L,N){return L.add(J(N))}r.j=function(L){if(W(this)||W(L))return C;if(oe(this))return oe(L)?J(this).j(J(L)):J(J(this).j(L));if(oe(L))return J(this.j(J(L)));if(this.l(B)<0&&L.l(B)<0)return y(this.m()*L.m());const N=this.g.length+L.g.length,O=[];for(var U=0;U<2*N;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(let k=0;k<L.g.length;k++){const q=this.i(U)>>>16,M=this.i(U)&65535,Dt=L.i(k)>>>16,tn=L.i(k)&65535;O[2*U+2*k]+=M*tn,le(O,2*U+2*k),O[2*U+2*k+1]+=q*tn,le(O,2*U+2*k+1),O[2*U+2*k+1]+=M*Dt,le(O,2*U+2*k+1),O[2*U+2*k+2]+=q*Dt,le(O,2*U+2*k+2)}for(L=0;L<N;L++)O[L]=O[2*L+1]<<16|O[2*L];for(L=N;L<2*N;L++)O[L]=0;return new f(O,0)};function le(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function he(L,N){this.g=L,this.h=N}function Be(L,N){if(W(N))throw Error("division by zero");if(W(L))return new he(C,C);if(oe(L))return N=Be(J(L),N),new he(J(N.g),J(N.h));if(oe(N))return N=Be(L,J(N)),new he(J(N.g),N.h);if(L.g.length>30){if(oe(L)||oe(N))throw Error("slowDivide_ only works with positive integers.");for(var O=D,U=N;U.l(L)<=0;)O=Ke(O),U=Ke(U);var k=Ye(O,1),q=Ye(U,1);for(U=Ye(U,2),O=Ye(O,2);!W(U);){var M=q.add(U);M.l(L)<=0&&(k=k.add(O),q=M),U=Ye(U,1),O=Ye(O,1)}return N=ee(L,k.j(N)),new he(k,N)}for(k=C;L.l(N)>=0;){for(O=Math.max(1,Math.floor(L.m()/N.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),q=y(O),M=q.j(N);oe(M)||M.l(L)>0;)O-=U,q=y(O),M=q.j(N);W(q)&&(q=D),k=k.add(q),L=ee(L,M)}return new he(k,L)}r.B=function(L){return Be(this,L).h},r.and=function(L){const N=Math.max(this.g.length,L.g.length),O=[];for(let U=0;U<N;U++)O[U]=this.i(U)&L.i(U);return new f(O,this.h&L.h)},r.or=function(L){const N=Math.max(this.g.length,L.g.length),O=[];for(let U=0;U<N;U++)O[U]=this.i(U)|L.i(U);return new f(O,this.h|L.h)},r.xor=function(L){const N=Math.max(this.g.length,L.g.length),O=[];for(let U=0;U<N;U++)O[U]=this.i(U)^L.i(U);return new f(O,this.h^L.h)};function Ke(L){const N=L.g.length+1,O=[];for(let U=0;U<N;U++)O[U]=L.i(U)<<1|L.i(U-1)>>>31;return new f(O,L.h)}function Ye(L,N){const O=N>>5;N%=32;const U=L.g.length-O,k=[];for(let q=0;q<U;q++)k[q]=N>0?L.i(q+O)>>>N|L.i(q+O+1)<<32-N:L.i(q+O);return new f(k,L.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Jb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=w,Do=f}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zb,th,e0,id,Jp,t0,n0,i0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $f=="object"&&$f];for(var _=0;_<c.length;++_){var T=c[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var T=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var F=c[I];if(!(F in T))break e;T=T[F]}c=c[c.length-1],I=T[c],_=_(I),_!=I&&_!=null&&e(T,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var T=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&T.push([I,_[I]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function g(c,_,T){return c.call.apply(c.bind,arguments)}function y(c,_,T){return y=g,y.apply(null,arguments)}function w(c,_){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function C(c,_){function T(){}T.prototype=_.prototype,c.Z=_.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(I,F,Y){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return _.prototype[F].apply(I,de)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const _=c.length;if(_>0){const T=Array(_);for(let I=0;I<_;I++)T[I]=c[I];return T}return[]}function W(c,_){for(let I=1;I<arguments.length;I++){const F=arguments[I];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=c.length||0;const Y=F.length||0;c.length=T+Y;for(let de=0;de<Y;de++)c[T+de]=F[de]}else c.push(F)}}class oe{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function J(c){f.setTimeout(()=>{throw c},0)}function ee(){var c=L;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class le{constructor(){this.h=this.g=null}add(_,T){const I=he.get();I.set(_,T),this.h?this.h.next=I:this.g=I,this.h=I}}var he=new oe(()=>new Be,c=>c.reset());class Be{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Ye=!1,L=new le,N=()=>{const c=Promise.resolve(void 0);Ke=()=>{c.then(O)}};function O(){for(var c;c=ee();){try{c.h.call(c.g)}catch(T){J(T)}var _=he;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}Ye=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};f.addEventListener("test",T,_),f.removeEventListener("test",T,_)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function Dt(c,_){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}C(Dt,k),Dt.prototype.init=function(c,_){const T=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(T=="mouseover"?_=c.fromElement:T=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tn="closure_listenable_"+(Math.random()*1e6|0),te=0;function me(c,_,T,I,F){this.listener=c,this.proxy=null,this.src=_,this.type=T,this.capture=!!I,this.ha=F,this.key=++te,this.da=this.fa=!1}function Se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ot(c,_,T){for(const I in c)_.call(T,c[I],I,c)}function dt(c,_){for(const T in c)_.call(void 0,c[T],T,c)}function x(c){const _={};for(const T in c)_[T]=c[T];return _}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(c,_){let T,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(T in I)c[T]=I[T];for(let Y=0;Y<re.length;Y++)T=re[Y],Object.prototype.hasOwnProperty.call(I,T)&&(c[T]=I[T])}}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,_,T,I,F){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const de=ke(c,_,I,F);return de>-1?(_=c[de],T||(_.fa=!1)):(_=new me(_,this.src,Y,!!I,F),_.fa=T,c.push(_)),_};function Ce(c,_){const T=_.type;if(T in c.g){var I=c.g[T],F=Array.prototype.indexOf.call(I,_,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(I,F,1),Y&&(Se(_),c.g[T].length==0&&(delete c.g[T],c.h--))}}function ke(c,_,T,I){for(let F=0;F<c.length;++F){const Y=c[F];if(!Y.da&&Y.listener==_&&Y.capture==!!T&&Y.ha==I)return F}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Qt={};function ge(c,_,T,I,F){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)ge(c,_[Y],T,I,F);return null}return T=Bo(T),c&&c[tn]?c.J(_,T,p(I)?!!I.capture:!1,F):dr(c,_,T,!1,I,F)}function dr(c,_,T,I,F,Y){if(!_)throw Error("Invalid event type");const de=p(F)?!!F.capture:!!F;let He=Yi(c);if(He||(c[je]=He=new ve(c)),T=He.add(_,T,I,de,Y),T.proxy)return T;if(I=Us(),T.proxy=I,I.src=c,I.listener=T,c.addEventListener)q||(F=de),F===void 0&&(F=!1),c.addEventListener(_.toString(),I,F);else if(c.attachEvent)c.attachEvent(ai(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Us(){function c(T){return _.call(c.src,c.listener,T)}const _=Na;return c}function xa(c,_,T,I,F){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)xa(c,_[Y],T,I,F);else I=p(I)?!!I.capture:!!I,T=Bo(T),c&&c[tn]?(c=c.i,Y=String(_).toString(),Y in c.g&&(_=c.g[Y],T=ke(_,T,I,F),T>-1&&(Se(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Yi(c))&&(_=c.g[_.toString()],c=-1,_&&(c=ke(_,T,I,F)),(T=c>-1?_[c]:null)&&Da(T))}function Da(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[tn])Ce(_.i,c);else{var T=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(T,I,c.capture):_.detachEvent?_.detachEvent(ai(T),I):_.addListener&&_.removeListener&&_.removeListener(I),(T=Yi(_))?(Ce(T,c),T.h==0&&(T.src=null,_[je]=null)):Se(c)}}}function ai(c){return c in Qt?Qt[c]:Qt[c]="on"+c}function Na(c,_){if(c.da)c=!0;else{_=new Dt(_,this);const T=c.listener,I=c.ha||c.src;c.fa&&Da(c),c=T.call(I,_)}return c}function Yi(c){return c=c[je],c instanceof ve?c:null}var mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(c){return typeof c=="function"?c:(c[mr]||(c[mr]=function(_){return c.handleEvent(_)}),c[mr])}function nn(){U.call(this),this.i=new ve(this),this.M=this,this.G=null}C(nn,U),nn.prototype[tn]=!0,nn.prototype.removeEventListener=function(c,_,T,I){xa(this,c,_,T,I)};function un(c,_){var T,I=c.G;if(I)for(T=[];I;I=I.G)T.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new k(_,c);else if(_ instanceof k)_.target=_.target||c;else{var F=_;_=new k(I,c),pe(_,F)}F=!0;let Y,de;if(T)for(de=T.length-1;de>=0;de--)Y=_.g=T[de],F=os(Y,I,!0,_)&&F;if(Y=_.g=c,F=os(Y,I,!0,_)&&F,F=os(Y,I,!1,_)&&F,T)for(de=0;de<T.length;de++)Y=_.g=T[de],F=os(Y,I,!1,_)&&F}nn.prototype.N=function(){if(nn.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const T=c.g[_];for(let I=0;I<T.length;I++)Se(T[I]);delete c.g[_],c.h--}}this.G=null},nn.prototype.J=function(c,_,T,I){return this.i.add(String(c),_,!1,T,I)},nn.prototype.K=function(c,_,T,I){return this.i.add(String(c),_,!0,T,I)};function os(c,_,T,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let Y=0;Y<_.length;++Y){const de=_[Y];if(de&&!de.da&&de.capture==T){const He=de.listener,Jt=de.ha||de.src;de.fa&&Ce(c.i,de),F=He.call(Jt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Fu(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:f.setTimeout(c,_||0)}function Rl(c){c.g=Fu(()=>{c.g=null,c.i&&(c.i=!1,Rl(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Kn extends U{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(c){U.call(this),this.h=c,this.g={}}C(pr,U);var Ii=[];function Oa(c){ot(c.g,function(_,T){this.g.hasOwnProperty(T)&&Da(_)},c),c.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Oa(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=f.JSON.stringify,Gu=f.JSON.parse,us=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Mr(){}function Vr(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dn(){k.call(this,"d")}C(Dn,k);function li(){k.call(this,"c")}C(li,k);var Yt={},Il=null;function Ma(){return Il=Il||new nn}Yt.Ia="serverreachability";function xl(c){k.call(this,Yt.Ia,c)}C(xl,k);function gr(c){const _=Ma();un(_,new xl(_))}Yt.STAT_EVENT="statevent";function zs(c,_){k.call(this,Yt.STAT_EVENT,c),this.stat=_}C(zs,k);function Xt(c){const _=Ma();un(_,new zs(_,c))}Yt.Ja="timingevent";function _i(c,_){k.call(this,Yt.Ja,c),this.size=_}C(_i,k);function Xi(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},_)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function $u(c,_,T,I,F,Y){c.info(function(){if(c.g)if(Y){var de="",He=Y.split("&");for(let Ze=0;Ze<He.length;Ze++){var Jt=He[Ze].split("=");if(Jt.length>1){const pt=Jt[0];Jt=Jt[1];const Pi=pt.split("_");de=Pi.length>=2&&Pi[1]=="type"?de+(pt+"="+Jt+"&"):de+(pt+"=redacted&")}}}else de=null;else de=Y;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+_+`
`+T+`
`+de})}function Dl(c,_,T,I,F,Y,de){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+_+`
`+T+`
`+Y+" "+de})}function yr(c,_,T,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+cs(c,T)+(I?" "+I:"")})}function Bs(c,_){c.info(function(){return"TIMEOUT: "+_})}xi.prototype.info=function(){};function cs(c,_){if(!c.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var T=Y[c];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var F=I[0];if(F!="noop"&&F!="stop"&&F!="close")for(let de=1;de<I.length;de++)I[de]=""}}}}return ls(Y)}catch{return _}}var Wi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Hs(){}C(Hs,Mr),Hs.prototype.g=function(){return new XMLHttpRequest},qo=new Hs;function Lr(c){return encodeURIComponent(String(c))}function Nl(c){var _=1;c=c.split(":");const T=[];for(;_>0&&c.length;)T.push(c.shift()),_--;return c.length&&T.push(c.join(":")),T}function vi(c,_,T,I){this.j=c,this.i=_,this.l=T,this.S=I||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var jt={},gn={};function Di(c,_,T){c.M=1,c.A=hs(Wt(_)),c.u=T,c.R=!0,Va(c,null)}function Va(c,_){c.F=Date.now(),zt(c),c.B=Wt(c.A);var T=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),fs(T.i,"t",I),c.C=0,T=c.j.L,c.h=new Pn,c.g=Vl(c.j,T?_:null,!c.u),c.P>0&&(c.O=new Kn(y(c.Y,c,c.g),c.P)),_=c.V,T=c.g,I=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ii[0]=F.toString()),F=Ii);for(let Y=0;Y<F.length;Y++){const de=ge(T,F[Y],I||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),gr(),$u(c.i,c.v,c.B,c.l,c.S,c.u)}vi.prototype.ba=function(c){c=c.target;const _=this.O;_&&Li(c)==3?_.j():this.Y(c)},vi.prototype.Y=function(c){try{if(c==this.g)e:{const He=Li(this.g),Jt=this.g.ya(),Ze=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||He!=4||Jt==7||(Jt==8||Ze<=0?gr(3):gr(2)),Vt(this);var _=this.g.ca();this.X=_;var T=Ku(this);if(this.o=_==200,Dl(this.i,this.v,this.B,this.l,this.S,He,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,F=this.g;if((I=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(I)){var Y=I;break t}}Y=null}if(c=Y)yr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jn(this,c);else{this.o=!1,this.m=3,Xt(12),vn(this),Qn(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<T.length;)if(pt=yn(this,T),pt==gn){He==4&&(this.m=4,Xt(14),c=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==jt){this.m=4,Xt(15),yr(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else yr(this.i,this.l,pt,null),jn(this,pt);if(kr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||T.length!=0||this.h.h||(this.m=1,Xt(16),c=!1),this.o=this.o&&c,!c)yr(this.i,this.l,T,"[Invalid Chunked Response]"),vn(this),Qn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ha(de),de.P=!0,Xt(11))}}else yr(this.i,this.l,T,null),jn(this,T);He==4&&vn(this),this.o&&!this.K&&(He==4?Ol(this.j,this):(this.o=!1,zt(this)))}else tr(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),vn(this),Qn(this)}}}catch{}finally{}};function Ku(c){if(!kr(c))return c.g.la();const _=mn(c.g);if(_==="")return"";let T="";const I=_.length,F=Li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Qn(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<I;Y++)c.h.h=!0,T+=c.h.i.decode(_[Y],{stream:!(F&&Y==I-1)});return _.length=0,c.h.g+=T,c.C=0,c.h.g}function kr(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yn(c,_){var T=c.C,I=_.indexOf(`
`,T);return I==-1?gn:(T=Number(_.substring(T,I)),isNaN(T)?jt:(I+=1,I+T>_.length?gn:(_=_.slice(I,I+T),c.C=I+T,_)))}vi.prototype.cancel=function(){this.K=!0,vn(this)};function zt(c){c.T=Date.now()+c.H,_n(c,c.H)}function _n(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Xi(y(c.aa,c),_)}function Vt(c){c.D&&(f.clearTimeout(c.D),c.D=null)}vi.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(gr(),Xt(17)),vn(this),this.m=2,Qn(this)):_n(this,this.T-c)};function Qn(c){c.j.I==0||c.K||Ol(c.j,c)}function vn(c){Vt(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Oa(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function jn(c,_){try{var T=c.j;if(T.I!=0&&(T.g==c||Ji(T.h,c))){if(!c.L&&Ji(T.h,c)&&T.I==3){try{var I=T.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)Ws(T),Tr(T);else break e;gs(T),Xt(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Xi(y(T.Va,T),6e3));Yn(T.h)<=1&&T.ta&&(T.ta=void 0)}else rr(T,11)}else if((c.L||T.g==c)&&Ws(T),!M(_))for(F=T.Ba.g.parse(_),_=0;_<F.length;_++){let Ze=F[_];const pt=Ze[0];if(!(pt<=T.K))if(T.K=pt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Pi=Ze[3];Pi!=null&&(T.ka=Pi,T.j.info("VER="+T.ka));const Ti=Ze[4];Ti!=null&&(T.za=Ti,T.j.info("SVER="+T.za));const ar=Ze[5];ar!=null&&typeof ar=="number"&&ar>0&&(I=1.5*ar,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const or=c.g;if(or){const Zs=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var Y=I.h;Y.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fs(Y,Y.h),Y.h=null))}if(I.G){const Fa=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(I.wa=Fa,mt(I.J,I.G,Fa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var de=c;if(I.na=Js(I,I.L?I.ba:null,I.W),de.L){Gs(I.h,de);var He=de,Jt=I.O;Jt&&(He.H=Jt),He.D&&(Vt(He),zt(He)),I.g=de}else Yo(I);T.i.length>0&&nr(T)}else Ze[0]!="stop"&&Ze[0]!="close"||rr(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?rr(T,7):Hr(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}gr(4)}catch{}}var Nt=class{constructor(c,_){this.g=c,this.map=_}};function La(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yn(c){return c.h?1:c.g?c.g.size:0}function Ji(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Fs(c,_){c.g?c.g.add(_):c.h=_}function Gs(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}La.prototype.cancel=function(){if(this.i=ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ka(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const T of c.g.values())_=_.concat(T.G);return _}return B(c.i)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(c,_){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const I=c[T].indexOf("=");let F,Y=null;I>=0?(F=c[T].substring(0,I),Y=c[T].substring(I+1)):F=c[T],_(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ui(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof ui?(this.l=c.l,cn(this,c.j),this.o=c.o,this.g=c.g,Pr(this,c.u),this.h=c.h,Pa(this,Go(c.i)),this.m=c.m):c&&(_=String(c).match(Fo))?(this.l=!1,cn(this,_[1]||"",!0),this.o=hn(_[2]||""),this.g=hn(_[3]||"",!0),Pr(this,_[4]),this.h=hn(_[5]||"",!0),Pa(this,_[6]||"",!0),this.m=hn(_[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}ui.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(fn(_,Nn,!0),":");var T=this.g;return(T||_=="file")&&(c.push("//"),(_=this.o)&&c.push(fn(_,Nn,!0),"@"),c.push(Lr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(fn(T,T.charAt(0)=="/"?Ks:ja,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",fn(T,_r)),c.join("")},ui.prototype.resolve=function(c){const _=Wt(this);let T=!!c.j;T?cn(_,c.j):T=!!c.o,T?_.o=c.o:T=!!c.g,T?_.g=c.g:T=c.u!=null;var I=c.h;if(T)Pr(_,c.u);else if(T=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var F=_.h.lastIndexOf("/");F!=-1&&(I=_.h.slice(0,F+1)+I)}if(F=I,F==".."||F==".")I="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){I=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let de=0;de<F.length;){const He=F[de++];He=="."?I&&de==F.length&&Y.push(""):He==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),I&&de==F.length&&Y.push("")):(Y.push(He),I=!0)}I=Y.join("/")}else I=F}return T?_.h=I:T=c.i.toString()!=="",T?Pa(_,Go(c.i)):T=!!c.m,T&&(_.m=c.m),_};function Wt(c){return new ui(c)}function cn(c,_,T){c.j=T?hn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Pr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Pa(c,_,T){_ instanceof Zi?(c.i=_,Ba(c.i,c.l)):(T||(_=fn(_,On)),c.i=new Zi(_,c.l))}function mt(c,_,T){c.i.set(_,T)}function hs(c){return mt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fn(c,_,T){return typeof c=="string"?(c=encodeURI(c).replace(_,rn),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Nn=/[#\/\?@]/g,ja=/[#\?:]/g,Ks=/[#\?]/g,On=/[#\?@]/g,_r=/#/g;function Zi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&$s(c.i,function(_,T){c.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}r=Zi.prototype,r.add=function(c,_){dn(this),this.i=null,c=Un(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(_),this.h+=1,this};function Ua(c,_){dn(c),_=Un(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function za(c,_){return dn(c),_=Un(c,_),c.g.has(_)}r.forEach=function(c,_){dn(this),this.g.forEach(function(T,I){T.forEach(function(F){c.call(_,F,I,this)},this)},this)};function vr(c,_){dn(c);let T=[];if(typeof _=="string")za(c,_)&&(T=T.concat(c.g.get(Un(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)T=T.concat(c[_]);return T}r.set=function(c,_){return dn(this),this.i=null,c=Un(this,c),za(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=vr(this,c),c.length>0?String(c[0]):_):_};function fs(c,_,T){Ua(c,_),T.length>0&&(c.i=null,c.g.set(Un(c,_),B(T)),c.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var T=_[I];const F=Lr(T);T=vr(this,T);for(let Y=0;Y<T.length;Y++){let de=F;T[Y]!==""&&(de+="="+Lr(T[Y])),c.push(de)}}return this.i=c.join("&")};function Go(c){const _=new Zi;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Un(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ba(c,_){_&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(T,I){const F=I.toLowerCase();I!=F&&(Ua(this,I),fs(this,F,T))},c)),c.j=_}function En(c,_){const T=new xi;if(f.Image){const I=new Image;I.onload=w(Ei,T,"TestLoadImage: loaded",!0,_,I),I.onerror=w(Ei,T,"TestLoadImage: error",!1,_,I),I.onabort=w(Ei,T,"TestLoadImage: abort",!1,_,I),I.ontimeout=w(Ei,T,"TestLoadImage: timeout",!1,_,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function ds(c,_){const T=new xi,I=new AbortController,F=setTimeout(()=>{I.abort(),Ei(T,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(Y=>{clearTimeout(F),Y.ok?Ei(T,"TestPingServer: ok",!0,_):Ei(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Ei(T,"TestPingServer: error",!1,_)})}function Ei(c,_,T,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(T)}catch{}}function Ni(){this.g=new us}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}C(Oi,Mr),Oi.prototype.g=function(){return new er(this.i,this.h)};function er(c,_){nn.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(er,nn),r=er.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Mi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||f).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?jr(this):Mi(this),this.readyState==3&&Qs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,jr(this))},r.Na=function(c){this.g&&(this.response=c,jr(this))},r.ga=function(){this.g&&jr(this)};function jr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Mi(c)}r.setRequestHeader=function(c,_){this.A.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=_.next();return c.join(`\r
`)};function Mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let _="";return ot(c,function(T,I){_+=I,_+=":",_+=T,_+=`\r
`}),_}function Ys(c,_,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=Mn(T),typeof c=="string"?T!=null&&Lr(T):mt(c,_,T))}function Et(c){nn.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Et,nn);var Vi=/^https?$/i,ms=["POST","PUT"];r=Et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,_,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){Ur(this,Y);return}if(c=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)T.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())T.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ms,_,void 0)>=0)||I||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of T)this.g.setRequestHeader(Y,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ur(this,Y)}};function Ur(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,$o(c),zr(c)}function $o(c){c.A||(c.A=!0,un(c,"complete"),un(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,un(this,"complete"),un(this,"abort"),zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),Et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},r.Xa=function(){Er(this)};function Er(c){if(c.h&&typeof u<"u"){if(c.v&&Li(c)==4)setTimeout(c.Ca.bind(c),0);else if(un(c,"readystatechange"),Li(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var I;if(I=Y===0){let de=String(c.D).match(Fo)[1]||null;!de&&f.self&&f.self.location&&(de=f.self.location.protocol.slice(0,-1)),I=!Vi.test(de?de.toLowerCase():"")}T=I}if(T)un(c,"complete"),un(c,"success");else{c.o=6;try{var F=Li(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",$o(c)}}finally{zr(c)}}}}function zr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,_||un(c,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Li(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Li(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Gu(_)}};function mn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(c){const _={};c=(c.g&&Li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(M(c[I]))continue;var T=Nl(c[I]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=_[F]||[];_[F]=Y,Y.push(T)}dt(_,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||_}function Br(c){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,c),this.Za=ki("retryDelaySeedMs",1e4,c),this.Ta=ki("forwardChannelMaxRetries",2,c),this.va=ki("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new La(c&&c.concurrentRequestLimit),this.Ba=new Ni,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Br.prototype,r.ka=8,r.I=1,r.connect=function(c,_,T,I){Xt(0),this.W=c,this.H=_||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=Js(this,null,this.W),nr(this)};function Hr(c){if(Xs(c),c.I==3){var _=c.V++,T=Wt(c.J);if(mt(T,"SID",c.M),mt(T,"RID",_),mt(T,"TYPE","terminate"),ps(c,T),_=new vi(c,c.j,_),_.M=2,_.A=hs(Wt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&f.Image&&(new Image().src=_.A,T=!0),T||(_.g=Vl(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zt(_)}Xo(c)}function Tr(c){c.g&&(Ha(c),c.g.cancel(),c.g=null)}function Xs(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ws(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function nr(c){if(!qs(c.h)&&!c.m){c.m=!0;var _=c.Ea;Ke||N(),Ye||(Ke(),Ye=!0),L.add(_,c),c.D=0}}function ir(c,_){return Yn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Xi(y(c.Ea,c,_),Ml(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new vi(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=x(Y),pe(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Qo(this,F,_),T=Wt(this.J),mt(T,"RID",c),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),ps(this,T),Y&&(this.R?_="headers="+Lr(Mn(Y))+"&"+_:this.u&&Ys(T,this.u,Y)),Fs(this.h,F),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",_),mt(T,"SID","null"),F.U=!0,Di(F,T,null)):Di(F,T,_),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||qs(this.h)||Ko(this))};function Ko(c,_){var T;_?T=_.l:T=c.V++;const I=Wt(c.J);mt(I,"SID",c.M),mt(I,"RID",T),mt(I,"AID",c.K),ps(c,I),c.u&&c.o&&Ys(I,c.u,c.o),T=new vi(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Qo(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fs(c.h,T),Di(T,I,_)}function ps(c,_){c.H&&ot(c.H,function(T,I){mt(_,I,T)}),c.l&&ot({},function(T,I){mt(_,I,T)})}function Qo(c,_,T){T=Math.min(c.i.length,T);const I=c.l?y(c.l.Ka,c.l,c):null;e:{var F=c.i;let He=-1;for(;;){const Jt=["count="+T];He==-1?T>0?(He=F[0].g,Jt.push("ofs="+He)):He=0:Jt.push("ofs="+He);let Ze=!0;for(let pt=0;pt<T;pt++){var Y=F[pt].g;const Pi=F[pt].map;if(Y-=He,Y<0)He=Math.max(0,F[pt].g-100),Ze=!1;else try{Y="req"+Y+"_"||"";try{var de=Pi instanceof Map?Pi:Object.entries(Pi);for(const[Ti,ar]of de){let or=ar;p(ar)&&(or=ls(ar)),Jt.push(Y+Ti+"="+encodeURIComponent(or))}}catch(Ti){throw Jt.push(Y+"type="+encodeURIComponent("_badmap")),Ti}}catch{I&&I(Pi)}}if(Ze){de=Jt.join("&");break e}}de=void 0}return c=c.i.splice(0,T),_.G=c,de}function Yo(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;Ke||N(),Ye||(Ke(),Ye=!0),L.add(_,c),c.A=0}}function gs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Xi(y(c.Da,c),Ml(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Xi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Tr(this),qa(this))};function Ha(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qa(c){c.g=new vi(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Wt(c.na);mt(_,"RID","rpc"),mt(_,"SID",c.M),mt(_,"AID",c.K),mt(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&mt(_,"TO",c.ia),mt(_,"TYPE","xmlhttp"),ps(c,_),c.u&&c.o&&Ys(_,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=hs(Wt(_)),T.u=null,T.R=!0,Va(T,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),gs(this),Xt(19))};function Ws(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ol(c,_){var T=null;if(c.g==_){Ws(c),Ha(c),c.g=null;var I=2}else if(Ji(c.h,_))T=_.G,Gs(c.h,_),I=1;else return;if(c.I!=0){if(_.o)if(I==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var F=c.D;I=Ma(),un(I,new _i(I,T)),nr(c)}else Yo(c);else if(F=_.m,F==3||F==0&&_.X>0||!(I==1&&ir(c,_)||I==2&&gs(c)))switch(T&&T.length>0&&(_=c.h,_.i=_.i.concat(T)),F){case 1:rr(c,5);break;case 4:rr(c,10);break;case 3:rr(c,6);break;default:rr(c,2)}}}function Ml(c,_){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*_}function rr(c,_){if(c.j.info("Error code "+_),_==2){var T=y(c.bb,c),I=c.Ua;const F=!I;I=new ui(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||cn(I,"https"),hs(I),F?En(I.toString(),T):ds(I.toString(),T)}else Xt(2);c.I=0,c.l&&c.l.pa(_),Xo(c),Xs(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Xo(c){if(c.I=0,c.ja=[],c.l){const _=ka(c.h);(_.length!=0||c.i.length!=0)&&(W(c.ja,_),W(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Js(c,_,T){var I=T instanceof ui?Wt(T):new ui(T);if(I.g!="")_&&(I.g=_+"."+I.g),Pr(I,I.u);else{var F=f.location;I=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const Y=new ui(null);I&&cn(Y,I),_&&(Y.g=_),F&&Pr(Y,F),T&&(Y.h=T),I=Y}return T=c.G,_=c.wa,T&&_&&mt(I,T,_),mt(I,"VER",c.ka),ps(c,I),I}function Vl(c,_,T){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Et(new Oi({ab:T})):new Et(c.ma),_.Fa(c.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ll(){}r=Ll.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function br(){}br.prototype.g=function(c,_){return new zn(c,_)};function zn(c,_){nn.call(this),this.g=new Br(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!M(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new sr(this)}C(zn,nn),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Hr(this.g)},zn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=ls(c),c=T);_.i.push(new Nt(_.Ya++,c)),_.I==3&&nr(_)},zn.prototype.N=function(){this.g.l=null,delete this.j,Hr(this.g),delete this.g,zn.Z.N.call(this)};function Wo(c){Dn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const T in _){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}C(Wo,Dn);function Ar(){li.call(this),this.status=1}C(Ar,li);function sr(c){this.g=c}C(sr,Ll),sr.prototype.ra=function(){un(this.g,"a")},sr.prototype.qa=function(c){un(this.g,new Wo(c))},sr.prototype.pa=function(c){un(this.g,new Ar)},sr.prototype.oa=function(){un(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,i0=function(){return new br},n0=function(){return Ma()},t0=Yt,Jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,id=Wi,Ho.COMPLETE="complete",e0=Ho,Vr.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",nn.prototype.listen=nn.prototype.J,th=Vr,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,Zb=Et}).apply(typeof $f<"u"?$f:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",$E="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Sg("@firebase/firestore");function hu(){return Tl.logLevel}function be(r,...e){if(Tl.logLevel<=rt.DEBUG){const n=e.map(Pg);Tl.debug(`Firestore (${Pu}): ${r}`,...n)}}function wa(r,...e){if(Tl.logLevel<=rt.ERROR){const n=e.map(Pg);Tl.error(`Firestore (${Pu}): ${r}`,...n)}}function wu(r,...e){if(Tl.logLevel<=rt.WARN){const n=e.map(Pg);Tl.warn(`Firestore (${Pu}): ${r}`,...n)}}function Pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r0(r,s,n)}function r0(r,e,n){let s=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wa(s),new Error(s)}function St(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||r0(e,o,s)}function $e(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mi.UNAUTHENTICATED)))}shutdown(){}}class bx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ax{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ea,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ea)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string",31837,{l:s}),new s0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new mi(e)}}class wx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){St(this.o===void 0,3512);const s=u=>{u.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,be("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new KE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Rx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function st(r,e){return r<e?-1:r>e?1:0}function Zp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return kp(o)===kp(u)?st(o,u):kp(o)?1:-1}return st(r.length,e.length)}const Ix=55296,xx=57343;function kp(r){const e=r.charCodeAt(0);return e>=Ix&&e<=xx}function Su(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="__name__";class Ds{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ds.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return st(e.length,n.length)}static compareSegments(e,n){const s=Ds.isNumericId(e),o=Ds.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):Zp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class Pt extends Ds{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const Dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends Ds{construct(e,n,s){return new ii(e,n,s)}static isValidIdentifier(e){return Dx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QE}static keyField(){return new ii([QE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ee(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new Ee(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(n)}static emptyPath(){return new ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Pt.fromString(e))}static fromName(e){return new Ie(Pt.fromString(e).popFirst(5))}static empty(){return new Ie(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r,e,n){if(!n)throw new Ee(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Nx(r,e,n,s){if(e===!0&&s===!0)throw new Ee(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function YE(r){if(!Ie.isDocumentKey(r))throw new Ee(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function XE(r){if(Ie.isDocumentKey(r))throw new Ee(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function o0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le(12329,{type:typeof r})}function Sa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ee(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(r);throw new Ee(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nh(r,e){if(!o0(r))throw new Ee(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ee(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,JE=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*JE);return new Mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nh(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:In("string",Mt._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Mt(0,0))}static max(){return new Fe(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function Ox(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(s===1e9?new Mt(n+1,0):new Mt(n,s));return new Oo(o,Ie.empty(),e)}function Mx(r){return new Oo(r.readTime,r.key,ph)}class Oo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Oo(Fe.min(),Ie.empty(),ph)}static max(){return new Oo(Fe.max(),Ie.empty(),ph)}}function Vx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:st(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==Lx)throw r;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,s)=>{n(e)}))}static reject(e){return new ue(((n,s)=>{s(e)}))}static waitFor(e){return new ue(((n,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next((o=>o?ue.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ue(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((w=>{f[y]=w,++p,p===u&&s(f)}),(w=>o(w)))}}))}static doWhile(e,n){return new ue(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Px(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ud.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function zd(r){return r==null}function vd(r){return r===0&&1/r==-1/0}function jx(r){return typeof r=="number"&&Number.isInteger(r)&&!vd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="";function Ux(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=ZE(e)),e=zx(r.get(n),e);return ZE(e)}function zx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case l0:n+="";break;default:n+=u}}return n}function ZE(r){return r+l0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Uo(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function u0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||ni.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kf(this.root,e,this.comparator,!0)}}class Kf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??ni.RED,this.left=o??ni.EMPTY,this.right=u??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new ni(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ni.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new ni(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new fr([])}unionWith(e){let n=new kn(ii.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new c0("Invalid base64 string: "+u):u}})(e);return new si(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const Bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(r){if(St(!!r,39018),typeof r=="string"){let e=0;const n=Bx.exec(r);if(St(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pn(r.seconds),nanos:pn(r.nanos)}}function pn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vo(r){return typeof r=="string"?si.fromBase64String(r):si.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="server_timestamp",f0="__type__",d0="__previous_value__",m0="__local_write_time__";function zg(r){return(r?.mapValue?.fields||{})[f0]?.stringValue===h0}function Bd(r){const e=r.mapValue.fields[d0];return zg(e)?Bd(e):e}function gh(r){const e=Mo(r.mapValue.fields[m0].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,s,o,u,f,p,g,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const Ed="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||Ed}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__type__",qx="__max__",Qf={mapValue:{}},g0="__vector__",Td="value";function Lo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zg(r)?4:Gx(r)?9007199254740991:Fx(r)?10:11:Le(28295,{value:r})}function Ps(r,e){if(r===e)return!0;const n=Lo(r);if(n!==Lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return gh(r).isEqual(gh(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Mo(o.timestampValue),p=Mo(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Vo(o.bytesValue).isEqual(Vo(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return pn(o.geoPointValue.latitude)===pn(u.geoPointValue.latitude)&&pn(o.geoPointValue.longitude)===pn(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pn(o.integerValue)===pn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pn(o.doubleValue),p=pn(u.doubleValue);return f===p?vd(f)===vd(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return Su(r.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(eT(f)!==eT(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ps(f[g],p[g])))return!1;return!0})(r,e);default:return Le(52216,{left:r})}}function _h(r,e){return(r.values||[]).find((n=>Ps(n,e)))!==void 0}function Cu(r,e){if(r===e)return 0;const n=Lo(r),s=Lo(e);if(n!==s)return st(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=pn(u.integerValue||u.doubleValue),g=pn(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return nT(r.timestampValue,e.timestampValue);case 4:return nT(gh(r),gh(e));case 5:return Zp(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=Vo(u),g=Vo(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=st(p[y],g[y]);if(w!==0)return w}return st(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=st(pn(u.latitude),pn(f.latitude));return p!==0?p:st(pn(u.longitude),pn(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iT(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[Td]?.arrayValue,w=g[Td]?.arrayValue,C=st(y?.values?.length||0,w?.values?.length||0);return C!==0?C:iT(y,w)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qf.mapValue&&f===Qf.mapValue)return 0;if(u===Qf.mapValue)return 1;if(f===Qf.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let C=0;C<g.length&&C<w.length;++C){const D=Zp(g[C],w[C]);if(D!==0)return D;const B=Cu(p[g[C]],y[w[C]]);if(B!==0)return B}return st(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function nT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return st(r,e);const n=Mo(r),s=Mo(e),o=st(n.seconds,s.seconds);return o!==0?o:st(n.nanos,s.nanos)}function iT(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Cu(n[o],s[o]);if(u)return u}return st(n.length,s.length)}function Ru(r){return eg(r)}function eg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Mo(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Vo(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ie.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=eg(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${eg(n.fields[f])}`;return o+"}"})(r.mapValue):Le(61005,{value:r})}function rd(r){switch(Lo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(r);return e?16+rd(e):16;case 5:return 2*r.stringValue.length;case 6:return Vo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+rd(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Uo(s.fields,((u,f)=>{o+=u.length+rd(f)})),o})(r.mapValue);default:throw Le(13486,{value:r})}}function rT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tg(r){return!!r&&"integerValue"in r}function Bg(r){return!!r&&"arrayValue"in r}function sT(r){return!!r&&"nullValue"in r}function aT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sd(r){return!!r&&"mapValue"in r}function Fx(r){return(r?.mapValue?.fields||{})[p0]?.stringValue===g0}function oh(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Uo(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=oh(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oh(r.arrayValue.values[n]);return e}return{...r}}function Gx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oh(n)}setAll(e){let n=ii.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=oh(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Uo(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Qi(oh(this.value))}}function y0(r){const e=[];return Uo(r.fields,((n,s)=>{const o=new ii([n]);if(sd(s)){const u=y0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new pi(e,0,Fe.min(),Fe.min(),Fe.min(),Qi.empty(),0)}static newFoundDocument(e,n,s,o){return new pi(e,1,n,Fe.min(),s,o,0)}static newNoDocument(e,n){return new pi(e,2,n,Fe.min(),Fe.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new pi(e,3,n,Fe.min(),Fe.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.position=e,this.inclusive=n}}function oT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ie.comparator(Ie.fromName(f.referenceValue),n.key):s=Cu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ps(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function $x(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class Rn extends _0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Qx(e,n,s):n==="array-contains"?new Wx(e,s):n==="in"?new Jx(e,s):n==="not-in"?new Zx(e,s):n==="array-contains-any"?new eD(e,s):new Rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Yx(e,s):new Xx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cu(n,this.value)):n!==null&&Lo(this.value)===Lo(n)&&this.matchesComparison(Cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends _0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new rs(e,n)}matches(e){return v0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v0(r){return r.op==="and"}function E0(r){return Kx(r)&&v0(r)}function Kx(r){for(const e of r.filters)if(e instanceof rs)return!1;return!0}function ng(r){if(r instanceof Rn)return r.field.canonicalString()+r.op.toString()+Ru(r.value);if(E0(r))return r.filters.map((e=>ng(e))).join(",");{const e=r.filters.map((n=>ng(n))).join(",");return`${r.op}(${e})`}}function T0(r,e){return r instanceof Rn?(function(s,o){return o instanceof Rn&&s.op===o.op&&s.field.isEqual(o.field)&&Ps(s.value,o.value)})(r,e):r instanceof rs?(function(s,o){return o instanceof rs&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&T0(f,o.filters[p])),!0):!1})(r,e):void Le(19439)}function b0(r){return r instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ru(n.value)}`})(r):r instanceof rs?(function(n){return n.op.toString()+" {"+n.getFilters().map(b0).join(" ,")+"}"})(r):"Filter"}class Qx extends Rn{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yx extends Rn{constructor(e,n){super(e,"in",n),this.keys=A0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Xx extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=A0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function A0(r,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class Wx extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&_h(n.arrayValue,this.value)}}class Jx extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_h(this.value.arrayValue,n)}}class Zx extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_h(this.value.arrayValue,n)}}class eD extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>_h(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function uT(r,e=null,n=[],s=[],o=null,u=null,f=null){return new tD(r,e,n,s,o,u,f)}function Hg(r){const e=$e(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ng(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ru(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ru(s))).join(",")),e.Te=n}return e.Te}function qg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$x(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!T0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lT(r.startAt,e.startAt)&&lT(r.endAt,e.endAt)}function ig(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nD(r,e,n,s,o,u,f,p){return new Oh(r,e,n,s,o,u,f,p)}function Fg(r){return new Oh(r)}function cT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function w0(r){return r.collectionGroup!==null}function lh(r){const e=$e(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kn(ii.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ad(u,s))})),n.has(ii.keyField().canonicalString())||e.Ie.push(new Ad(ii.keyField(),s))}return e.Ie}function Ms(r){const e=$e(r);return e.Ee||(e.Ee=iD(e,lh(r))),e.Ee}function iD(r,e){if(r.limitType==="F")return uT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ad(o.field,u)}));const n=r.endAt?new bd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bd(r.startAt.position,r.startAt.inclusive):null;return uT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function rg(r,e){const n=r.filters.concat([e]);return new Oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function sg(r,e,n){return new Oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hd(r,e){return qg(Ms(r),Ms(e))&&r.limitType===e.limitType}function S0(r){return`${Hg(Ms(r))}|lt:${r.limitType}`}function fu(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>b0(o))).join(", ")}]`),zd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ru(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ru(o))).join(",")),`Target(${s})`})(Ms(r))}; limitType=${r.limitType})`}function qd(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ie.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of lh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=oT(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,lh(s),o)||s.endAt&&!(function(f,p,g){const y=oT(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,lh(s),o))})(r,e)}function rD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C0(r){return(e,n)=>{let s=!1;for(const o of lh(r)){const u=sD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function sD(r,e,n){const s=r.field.isKeyField()?Ie.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Cu(g,y):Le(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new en(Ie.comparator);function Ca(){return aD}const R0=new en(Ie.comparator);function nh(...r){let e=R0;for(const n of r)e=e.insert(n.key,n);return e}function I0(r){let e=R0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function gl(){return uh()}function x0(){return uh()}function uh(){return new wl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const oD=new en(Ie.comparator),lD=new kn(Ie.comparator);function at(...r){let e=lD;for(const n of r)e=e.add(n);return e}const uD=new kn(st);function cD(){return uD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function D0(r){return{integerValue:""+r}}function hD(r,e){return jx(e)?D0(e):Gg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function fD(r,e,n){return r instanceof vh?(function(o,u){const f={fields:{[f0]:{stringValue:h0},[m0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zg(u)&&(u=Bd(u)),u&&(f.fields[d0]=u),{mapValue:f}})(n,e):r instanceof Eh?O0(r,e):r instanceof Th?M0(r,e):(function(o,u){const f=N0(o,u),p=hT(f)+hT(o.Ae);return tg(f)&&tg(o.Ae)?D0(p):Gg(o.serializer,p)})(r,e)}function dD(r,e,n){return r instanceof Eh?O0(r,e):r instanceof Th?M0(r,e):n}function N0(r,e){return r instanceof wd?(function(s){return tg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vh extends Fd{}class Eh extends Fd{constructor(e){super(),this.elements=e}}function O0(r,e){const n=V0(e);for(const s of r.elements)n.some((o=>Ps(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Th extends Fd{constructor(e){super(),this.elements=e}}function M0(r,e){let n=V0(e);for(const s of r.elements)n=n.filter((o=>!Ps(o,s)));return{arrayValue:{values:n}}}class wd extends Fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hT(r){return pn(r.integerValue||r.doubleValue)}function V0(r){return Bg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.field=e,this.transform=n}}function pD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Eh&&o instanceof Eh||s instanceof Th&&o instanceof Th?Su(s.elements,o.elements,Ps):s instanceof wd&&o instanceof wd?Ps(s.Ae,o.Ae):s instanceof vh&&o instanceof vh})(r.transform,e.transform)}class gD{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gd{}function L0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $g(r.key,ts.none()):new Mh(r.key,r.data,ts.none());{const n=r.data,s=Qi.empty();let o=new kn(ii.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zo(r.key,s,new fr(o.toArray()),ts.none())}}function yD(r,e,n){r instanceof Mh?(function(o,u,f){const p=o.value.clone(),g=dT(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof zo?(function(o,u,f){if(!ad(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=dT(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(k0(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ch(r,e,n,s){return r instanceof Mh?(function(u,f,p,g){if(!ad(u.precondition,f))return p;const y=u.value.clone(),w=mT(u.fieldTransforms,g,f);return y.setAll(w),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof zo?(function(u,f,p,g){if(!ad(u.precondition,f))return p;const y=mT(u.fieldTransforms,g,f),w=f.data;return w.setAll(k0(u)),w.setAll(y),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(r,e,n,s):(function(u,f,p){return ad(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function _D(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=N0(s.transform,o||null);u!=null&&(n===null&&(n=Qi.empty()),n.set(s.field,u))}return n||null}function fT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Su(s,o,((u,f)=>pD(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mh extends Gd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zo extends Gd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function k0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function dT(r,e,n){const s=new Map;St(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,dD(f,p,n[o]))}return s}function mT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,fD(u,f,e))}return s}class $g extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ch(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ch(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=x0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=L0(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Fe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,((n,s)=>fT(n,s)))&&Su(this.baseMutations,e.baseMutations,((n,s)=>fT(n,s)))}}class Kg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){St(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return oD})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Kg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,ct;function AD(r){switch(r){case ae.OK:return Le(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Le(15467,{code:r})}}function P0(r){if(r===void 0)return wa("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Cn.OK:return ae.OK;case Cn.CANCELLED:return ae.CANCELLED;case Cn.UNKNOWN:return ae.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ae.INTERNAL;case Cn.UNAVAILABLE:return ae.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ae.NOT_FOUND;case Cn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Cn.ABORTED:return ae.ABORTED;case Cn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Cn.DATA_LOSS:return ae.DATA_LOSS;default:return Le(39323,{code:r})}}(ct=Cn||(Cn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Do([4294967295,4294967295],0);function pT(r){const e=wD().encode(r),n=new Jb;return n.update(e),new Uint8Array(n.digest())}function gT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Do([n,s],0),new Do([o,u],0)]}class Qg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ih(`Invalid padding: ${n}`);if(s<0)throw new ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ih(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Do.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Do.fromNumber(s)));return o.compare(SD)===1&&(o=new Do([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pT(e),[s,o]=gT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Qg(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=pT(e),[s,o]=gT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $d(Fe.min(),o,new en(st),Ca(),at())}}class Vh{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vh(s,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class j0{constructor(e,n){this.targetId=e,this.Ce=n}}class U0{constructor(e,n,s=si.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class yT{constructor(){this.ve=0,this.Fe=_T(),this.Me=si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),s=at();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Le(38017,{changeType:u})}})),new Vh(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=_T()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ca(),this.Je=Yf(),this.He=Yf(),this.Ye=new en(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ig(u))if(s===0){const f=new Ie(u.path);this.et(n,f,pi.newNoDocument(f,Fe.min()))}else St(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Vo(s).toUint8Array()}catch(g){if(g instanceof c0)return wu("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Qg(f,o,u)}catch(g){return wu(g instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&ig(p.target)){const g=new Ie(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,pi.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=at();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new $d(e,n,this.Ye,this.je,s);return this.je=Ca(),this.Je=Yf(),this.He=Yf(),this.Ye=new en(st),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yf(){return new en(Ie.comparator)}function _T(){return new en(Ie.comparator)}const RD={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xD={and:"AND",or:"OR"};class DD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ag(r,e){return r.useProto3Json||zd(e)?e:{value:e}}function Sd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ND(r,e){return Sd(r,e.toTimestamp())}function Vs(r){return St(!!r,49232),Fe.fromTimestamp((function(n){const s=Mo(n);return new Mt(s.seconds,s.nanos)})(r))}function Yg(r,e){return og(r,e).canonicalString()}function og(r,e){const n=(function(o){return new Pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function B0(r){const e=Pt.fromString(r);return St($0(e),10190,{key:e.toString()}),e}function lg(r,e){return Yg(r.databaseId,e.path)}function Pp(r,e){const n=B0(e);if(n.get(1)!==r.databaseId.projectId)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(q0(n))}function H0(r,e){return Yg(r.databaseId,e)}function OD(r){const e=B0(r);return e.length===4?Pt.emptyPath():q0(e)}function ug(r){return new Pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function q0(r){return St(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vT(r,e,n){return{name:lg(r,e),fields:n.value.mapValue.fields}}function MD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Le(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(St(w===void 0||typeof w=="string",58123),si.fromBase64String(w||"")):(St(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),si.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const w=y.code===void 0?ae.UNKNOWN:P0(y.code);return new Ee(w,y.message||"")})(f);n=new U0(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pp(r,s.document.name),u=Vs(s.document.updateTime),f=s.document.createTime?Vs(s.document.createTime):Fe.min(),p=new Qi({mapValue:{fields:s.document.fields}}),g=pi.newFoundDocument(o,u,f,p),y=s.targetIds||[],w=s.removedTargetIds||[];n=new od(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pp(r,s.document),u=s.readTime?Vs(s.readTime):Fe.min(),f=pi.newNoDocument(o,u),p=s.removedTargetIds||[];n=new od([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pp(r,s.document),u=s.removedTargetIds||[];n=new od([],u,o,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new bD(o,u),p=s.targetId;n=new j0(p,f)}}return n}function VD(r,e){let n;if(e instanceof Mh)n={update:vT(r,e.key,e.value)};else if(e instanceof $g)n={delete:lg(r,e.key)};else if(e instanceof zo)n={update:vT(r,e.key,e.data),updateMask:qD(e.fieldMask)};else{if(!(e instanceof vD))return Le(16599,{Vt:e.type});n={verify:lg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Eh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Th)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wd)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Le(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ND(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Le(27497)})(r,e.precondition)),n}function LD(r,e){return r&&r.length>0?(St(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Vs(o.updateTime):Vs(u);return f.isEqual(Fe.min())&&(f=Vs(u)),new gD(f,o.transformResults||[])})(n,e)))):[]}function kD(r,e){return{documents:[H0(r,e.path)]}}function PD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=H0(r,o);const u=(function(y){if(y.length!==0)return G0(rs.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((w=>(function(D){return{field:du(D.field),direction:zD(D.dir)}})(w)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=ag(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function jD(r){let e=OD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){St(s===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(C){const D=F0(C);return D instanceof rs&&E0(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(C){return C.map((D=>(function(W){return new Ad(mu(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(C){let D;return D=typeof C=="object"?C.value:C,zd(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(C){const D=!!C.before,B=C.values||[];return new bd(B,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(C){const D=!C.before,B=C.values||[];return new bd(B,D)})(n.endAt)),nD(e,o,f,u,p,"F",g,y)}function UD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mu(n.unaryFilter.field);return Rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mu(n.unaryFilter.field);return Rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mu(n.unaryFilter.field);return Rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=mu(n.unaryFilter.field);return Rn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Rn.create(mu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return rs.create(n.compositeFilter.filters.map((s=>F0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(r):Le(30097,{filter:r})}function zD(r){return RD[r]}function BD(r){return ID[r]}function HD(r){return xD[r]}function du(r){return{fieldPath:r.canonicalString()}}function mu(r){return ii.fromServerFormat(r.fieldPath)}function G0(r){return r instanceof Rn?(function(n){if(n.op==="=="){if(aT(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(sT(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aT(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(sT(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:BD(n.op),value:n.value}}})(r):r instanceof rs?(function(n){const s=n.getFilters().map((o=>G0(o)));return s.length===1?s[0]:{compositeFilter:{op:HD(n.op),filters:s}}})(r):Le(54877,{filter:r})}function qD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,s,o,u=Fe.min(),f=Fe.min(),p=si.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.yt=e}}function GD(r){const e=jD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Cn=new KD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Oo.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class KD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kn(Pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K0=41943040;class Ki{static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(K0,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Iu(0)}static cr(){return new Iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",QD=1048576;function bT([r,e],[n,s]){const o=st(r,n);return o===0?st(e,s):o}class YD{constructor(e){this.Ir=e,this.buffer=new kn(bT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(TT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uu(n)?be(TT,"Ignoring IndexedDB error during garbage collection: ",n):await ju(n)}await this.Vr(3e5)}))}}class WD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Ud.ce);const s=new YD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ET)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(s=C,p=Date.now(),this.removeTargets(e,s,n)))).next((C=>(u=C,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((C=>(y=Date.now(),hu()<=rt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${C} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C}))))}}function JD(r,e){return new WD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.changes=new wl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ch(s.mutation,o,fr.empty(),Mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,at()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=at()){const o=gl();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=nh();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=gl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,at())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let u=Ca();const f=uh(),p=(function(){return uh()})();return n.forEach(((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof zo)?u=u.insert(y.key,y):w!==void 0?(f.set(y.key,w.mutation.getFieldMask()),ch(w.mutation,y,w.mutation.getFieldMask(),Mt.now())):f.set(y.key,fr.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,w)=>f.set(y,w))),n.forEach(((y,w)=>p.set(y,new eN(w,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=uh();let o=new en(((f,p)=>f-p)),u=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let w=s.get(g)||fr.empty();w=p.applyToLocalView(y,w),s.set(g,w);const C=(o.get(p.batchId)||at()).add(g);o=o.insert(p.batchId,C)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,C=x0();w.forEach((D=>{if(!u.has(D)){const B=L0(n.get(D),s.get(D));B!==null&&C.set(D,B),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,C))}return ue.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ue.resolve(gl());let p=ph,g=u;return f.next((y=>ue.forEach(y,((w,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),u.get(w)?ue.resolve():this.remoteDocumentCache.getEntry(e,w).next((D=>{g=g.insert(w,D)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,at()))).next((w=>({batchId:p,changes:I0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let o=nh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=nh();return this.indexManager.getCollectionParents(e,u).next((p=>ue.forEach(p,(g=>{const y=(function(C,D){return new Oh(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((C,D)=>{f=f.insert(C,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const w=y.getKey();f.get(w)===null&&(f=f.insert(w,pi.newInvalidDocument(w)))}));let p=nh();return f.forEach(((g,y)=>{const w=u.get(g);w!==void 0&&ch(w.mutation,y,fr.empty(),Mt.now()),qd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:GD(o.bundledQuery),readTime:Vs(o.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.overlays=new en(Ie.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=gl();return ue.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ue.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const o=gl(),u=n.length+1,f=new Ie(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new en(((y,w)=>y-w));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=gl(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=gl(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return ue.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new TD(n,s));let u=this.qr.get(n);u===void 0&&(u=at(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.sessionToken=si.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.Qr=new kn($n.$r),this.Ur=new kn($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $n(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $n(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new Pt([])),s=new $n(n,e),o=new $n(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Pt([])),s=new $n(n,e),o=new $n(n,e+1);let u=at();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new $n(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kn($n.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ED(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new $n(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(f)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Ug:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $n(n,0),o=new $n(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kn(st);return n.forEach((o=>{const u=new $n(o,0),f=new $n(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ie.isDocumentKey(u)||(u=u.child(""));const f=new $n(new Ie(u),0);let p=new kn(st);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ue.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){St(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(n.mutations,(o=>{const u=new $n(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $n(n,0),o=this.Zr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.ri=e,this.docs=(function(){return new en(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():pi.newInvalidDocument(n))}getEntries(e,n){let s=Ca();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():pi.newInvalidDocument(o))})),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ca();const f=n.path,p=new Ie(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Vx(Mx(w),s)<=0||(o.has(w.key)||qd(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Le(9500)}ii(e,n){return ue.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oN(this)}getSize(e){return ue.resolve(this.size)}}class oN extends ZD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.persistence=e,this.si=new wl((n=>Hg(n)),qg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Xg,this.targetCount=0,this.ai=Iu.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Iu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ue.waitFor(u).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ue.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ud(0),this.li=!1,this.li=!0,this.hi=new rN,this.referenceDelegate=e(this),this.Pi=new lN(this),this.indexManager=new $D,this.remoteDocumentCache=(function(o){return new aN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FD(n),this.Ii=new nN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new sN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){be("MemoryPersistence","Starting transaction:",e);const o=new uN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class uN extends kx{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ri=new Xg,this.Vi=null}static mi(e){return new Wg(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const o=Ie.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cd{constructor(e,n){this.persistence=e,this.pi=new wl((s=>Ux(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=JD(this,n)}static mi(e,n){return new Cd(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ue.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,u.removeEntry(f,Fe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rd(e.data.value)),n}br(e,n,s){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=at(),o=at();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return q1()?8:Px(yi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new cN;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(hu()<=rt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(hu()<=rt.DEBUG&&be("QueryEngine","Query:",fu(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(hu()<=rt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):ue.resolve())}ys(e,n){if(cT(n))return ue.resolve(null);let s=Ms(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sg(n,null,"F"),s=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=at(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,sg(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return cT(n)||o.isEqual(Fe.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ue.resolve(null):(hu()<=rt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fu(n)),this.vs(e,f,n,Ox(o,ph)).next((p=>p)))}))}Ds(e,n){let s=new kn(C0(e));return n.forEach(((o,u)=>{qd(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return hu()<=rt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",fu(n)),this.ps.getDocumentsMatchingQuery(e,n,Oo.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="LocalStore",fN=3e8;class dN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new en(st),this.xs=new wl((u=>Hg(u)),qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mN(r,e,n,s){return new dN(r,e,n,s)}async function Y0(r,e){const n=$e(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=at();for(const y of o){f.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function pN(r,e){const n=$e(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const C=y.batch,D=C.keys();let B=ue.resolve();return D.forEach((W=>{B=B.next((()=>w.getEntry(g,W))).next((oe=>{const J=y.docVersions.get(W);St(J!==null,48541),oe.version.compareTo(J)<0&&(C.applyToRemoteDocument(oe,y),oe.isValidDocument()&&(oe.setReadTime(y.commitVersion),w.addEntry(oe)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,C)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=at();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function X0(r){const e=$e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function gN(r,e){const n=$e(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((w,C)=>{const D=o.get(C);if(!D)return;p.push(n.Pi.removeMatchingKeys(u,w.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(u,w.addedDocuments,C))));let B=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(si.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,s)),o=o.insert(C,B),(function(oe,J,ee){return oe.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=fN?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(D,B,w)&&p.push(n.Pi.updateTargetData(u,B))}));let g=Ca(),y=at();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(yN(u,f,e.documentUpdates).next((w=>{g=w.ks,y=w.qs}))),!s.isEqual(Fe.min())){const w=n.Pi.getLastRemoteSnapshotVersion(u).next((C=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(w)}return ue.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function yN(r,e,n){let s=at(),o=at();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Ca();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Fe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):be(Zg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function _N(r,e){const n=$e(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vN(r,e){const n=$e(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ue.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new So(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function cg(r,e,n){const s=$e(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Uu(f))throw f;be(Zg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function AT(r,e,n){const s=$e(r);let o=Fe.min(),u=at();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,w){const C=$e(g),D=C.xs.get(w);return D!==void 0?ue.resolve(C.Ms.get(D)):C.Pi.getTargetData(y,w)})(s,f,Ms(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Fe.min(),n?u:at()))).next((p=>(EN(s,rD(e),p),{documents:p,Qs:u})))))}function EN(r,e,n){let s=r.Os.get(e)||Fe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class wT{constructor(){this.activeTargetIds=cD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TN{constructor(){this.Mo=new wT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class CT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(ST,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf=null;function hg(){return Xf===null?Xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xf++,"0x"+Xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",AN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ed?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=hg(),p=this.zo(e,n.toUriEncodedString());be(jp,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),w=Mu(y);return this.Jo(e,p,g,s,w).then((C=>(be(jp,`Received RPC '${e}' ${f}: `,C),C)),(C=>{throw wu(jp,`RPC '${e}' ${f} failed with error: `,C,"url: ",p,"request:",s),C}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=AN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="WebChannelConnection";class CN extends wN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=hg();return new Promise(((p,g)=>{const y=new Zb;y.setWithCredentials(!0),y.listenOnce(e0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case id.NO_ERROR:const C=y.getResponseJson();be(di,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(C)),p(C);break;case id.TIMEOUT:be(di,`RPC '${e}' ${f} timed out`),g(new Ee(ae.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const D=y.getStatus();if(be(di,`RPC '${e}' ${f} failed with status:`,D,"response text:",y.getResponseText()),D>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const W=B?.error;if(W&&W.status&&W.message){const oe=(function(ee){const le=ee.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(le)>=0?le:ae.UNKNOWN})(W.status);g(new Ee(oe,W.message))}else g(new Ee(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ee(ae.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{be(di,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(o);be(di,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",w,s,15)}))}T_(e,n,s){const o=hg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=i0(),p=n0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");be(di,`Creating RPC '${e}' stream ${o}: ${w}`,g);const C=f.createWebChannel(w,g);this.I_(C);let D=!1,B=!1;const W=new SN({Yo:J=>{B?be(di,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(D||(be(di,`Opening RPC '${e}' stream ${o} transport.`),C.open(),D=!0),be(di,`RPC '${e}' stream ${o} sending:`,J),C.send(J))},Zo:()=>C.close()}),oe=(J,ee,le)=>{J.listen(ee,(he=>{try{le(he)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return oe(C,th.EventType.OPEN,(()=>{B||(be(di,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),oe(C,th.EventType.CLOSE,(()=>{B||(B=!0,be(di,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(C))})),oe(C,th.EventType.ERROR,(J=>{B||(B=!0,wu(di,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new Ee(ae.UNAVAILABLE,"The operation could not be completed")))})),oe(C,th.EventType.MESSAGE,(J=>{if(!B){const ee=J.data[0];St(!!ee,16349);const le=ee,he=le?.error||le[0]?.error;if(he){be(di,`RPC '${e}' stream ${o} received error:`,he);const Be=he.status;let Ke=(function(N){const O=Cn[N];if(O!==void 0)return P0(O)})(Be),Ye=he.message;Ke===void 0&&(Ke=ae.INTERNAL,Ye="Unknown error status: "+Be+" with message "+he.message),B=!0,W.a_(new Ee(Ke,Ye)),C.close()}else be(di,`RPC '${e}' stream ${o} received:`,ee),W.u_(ee)}})),oe(p,t0.STAT_EVENT,(J=>{J.stat===Jp.PROXY?be(di,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Jp.NOPROXY&&be(di,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(r){return new DD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="PersistentStream";class J0{constructor(e,n,s,o,u,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ee(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(RT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(RT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RN extends J0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Fe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Fe.min():f.readTime?Vs(f.readTime):Fe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ug(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=ig(g)?{documents:kD(u,g)}:{query:PD(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=z0(u,f.resumeToken);const y=ag(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Fe.min())>0){p.readTime=Sd(u,f.snapshotVersion.toTimestamp());const y=ag(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=UD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ug(this.serializer),n.removeTarget=e,this.q_(n)}}class IN extends J0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LD(e.writeResults,e.commitTime),s=Vs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>VD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{}class DN extends xN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,og(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ae.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,og(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ee(ae.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wa(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class ON{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Sl(this)&&(be(bl,"Restarting streams for network reachability change."),await(async function(g){const y=$e(g);y.Ea.add(4),await Lh(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Qd(y)})(this))}))})),this.Ra=new NN(s,o)}}async function Qd(r){if(Sl(r))for(const e of r.da)await e(!0)}async function Lh(r){for(const e of r.da)await e(!1)}function Z0(r,e){const n=$e(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iy(n)?ny(n):zu(n).O_()&&ty(n,e))}function ey(r,e){const n=$e(r),s=zu(n);n.Ia.delete(e),s.O_()&&eA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Sl(n)&&n.Ra.set("Unknown"))}function ty(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zu(r).Y_(e)}function eA(r,e){r.Va.Ue(e),zu(r).Z_(e)}function ny(r){r.Va=new CD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),zu(r).start(),r.Ra.ua()}function iy(r){return Sl(r)&&!zu(r).x_()&&r.Ia.size>0}function Sl(r){return $e(r).Ea.size===0}function tA(r){r.Va=void 0}async function MN(r){r.Ra.set("Online")}async function VN(r){r.Ia.forEach(((e,n)=>{ty(r,e)}))}async function LN(r,e){tA(r),iy(r)?(r.Ra.ha(e),ny(r)):r.Ra.set("Unknown")}async function kN(r,e,n){if(r.Ra.set("Online"),e instanceof U0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){be(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rd(r,s)}else if(e instanceof od?r.Va.Ze(e):e instanceof j0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Fe.min()))try{const s=await X0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(si.EMPTY_BYTE_STRING,w.snapshotVersion)),eA(u,g);const C=new So(w.target,g,y,w.sequenceNumber);ty(u,C)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){be(bl,"Failed to raise snapshot:",s),await Rd(r,s)}}async function Rd(r,e,n){if(!Uu(e))throw e;r.Ea.add(1),await Lh(r),r.Ra.set("Offline"),n||(n=()=>X0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{be(bl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qd(r)}))}function nA(r,e){return e().catch((n=>Rd(r,n,e)))}async function Yd(r){const e=$e(r),n=ko(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ug;for(;PN(e);)try{const o=await _N(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,jN(e,o)}catch(o){await Rd(e,o)}iA(e)&&rA(e)}function PN(r){return Sl(r)&&r.Ta.length<10}function jN(r,e){r.Ta.push(e);const n=ko(r);n.O_()&&n.X_&&n.ea(e.mutations)}function iA(r){return Sl(r)&&!ko(r).x_()&&r.Ta.length>0}function rA(r){ko(r).start()}async function UN(r){ko(r).ra()}async function zN(r){const e=ko(r);for(const n of r.Ta)e.ea(n.mutations)}async function BN(r,e,n){const s=r.Ta.shift(),o=Kg.from(s,e,n);await nA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yd(r)}async function HN(r,e){e&&ko(r).X_&&await(async function(s,o){if((function(f){return AD(f)&&f!==ae.ABORTED})(o.code)){const u=s.Ta.shift();ko(s).B_(),await nA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yd(s)}})(r,e),iA(r)&&rA(r)}async function IT(r,e){const n=$e(r);n.asyncQueue.verifyOperationInProgress(),be(bl,"RemoteStore received new credentials");const s=Sl(n);n.Ea.add(3),await Lh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qd(n)}async function qN(r,e){const n=$e(r);e?(n.Ea.delete(2),await Qd(n)):e||(n.Ea.add(2),await Lh(n),n.Ra.set("Unknown"))}function zu(r){return r.ma||(r.ma=(function(n,s,o){const u=$e(n);return u.sa(),new RN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:MN.bind(null,r),t_:VN.bind(null,r),r_:LN.bind(null,r),H_:kN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),iy(r)?ny(r):r.Ra.set("Unknown")):(await r.ma.stop(),tA(r))}))),r.ma}function ko(r){return r.fa||(r.fa=(function(n,s,o){const u=$e(n);return u.sa(),new IN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:UN.bind(null,r),r_:HN.bind(null,r),ta:zN.bind(null,r),na:BN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yd(r)):(await r.fa.stop(),r.Ta.length>0&&(be(bl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new ry(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(r,e){if(wa("AsyncQueue",`${e}: ${r}`),Uu(r))return new Ee(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{static emptySet(e){return new Eu(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=nh(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.ga=new en(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class xu{constructor(e,n,s,o,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new xu(e,n,Eu.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GN{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=$e(n),u=o.queries;o.queries=DT(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new Ee(ae.ABORTED,"Firestore shutting down"))}}function DT(){return new wl((r=>S0(r)),Hd)}async function sA(r,e){const n=$e(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new FN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=sy(f,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ay(n)}async function aA(r,e){const n=$e(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $N(r,e){const n=$e(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&ay(n)}function KN(r,e,n){const s=$e(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ay(r){r.Ca.forEach((e=>{e.next()}))}var fg,NT;(NT=fg||(fg={})).Ma="default",NT.Cache="cache";class oA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class QN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=C0(e),this.tu=new Eu(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new xT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,C)=>{const D=o.get(w),B=qd(this.query,C)?C:null,W=!!D&&this.mutatedKeys.has(D.key),oe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;D&&B?D.data.isEqual(B.data)?W!==oe&&(s.track({type:3,doc:B}),J=!0):this.su(D,B)||(s.track({type:2,doc:B}),J=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!D&&B?(s.track({type:0,doc:B}),J=!0):D&&!B&&(s.track({type:1,doc:D}),J=!0,(g||y)&&(p=!0)),J&&(B?(f=f.add(B),u=oe?u.add(w):u.delete(w)):(f=f.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,C)=>(function(B,W){const oe=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:J})}};return oe(B)-oe(W)})(w.type,C.type)||this.eu(w.doc,C.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new xu(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new uA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new lA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oy="SyncEngine";class YN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XN{constructor(e){this.key=e,this.hu=!1}}class WN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new wl((p=>S0(p)),Hd),this.Iu=new Map,this.Eu=new Set,this.du=new en(Ie.comparator),this.Au=new Map,this.Ru=new Xg,this.Vu={},this.mu=new Map,this.fu=Iu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JN(r,e,n=!0){const s=pA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await cA(s,e,n,!0),o}async function ZN(r,e){const n=pA(r);await cA(n,e,!0,!1)}async function cA(r,e,n,s){const o=await vN(r.localStore,Ms(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await e2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Z0(r.remoteStore,o),p}async function e2(r,e,n,s,o){r.pu=(C,D,B)=>(async function(oe,J,ee,le){let he=J.view.ru(ee);he.Cs&&(he=await AT(oe.localStore,J.query,!1).then((({documents:L})=>J.view.ru(L,he))));const Be=le&&le.targetChanges.get(J.targetId),Ke=le&&le.targetMismatches.get(J.targetId)!=null,Ye=J.view.applyChanges(he,oe.isPrimaryClient,Be,Ke);return MT(oe,J.targetId,Ye.au),Ye.snapshot})(r,C,D,B);const u=await AT(r.localStore,e,!0),f=new QN(e,u.Qs),p=f.ru(u.documents),g=Vh.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);MT(r,n,y.au);const w=new YN(e,n,f);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function t2(r,e,n){const s=$e(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hd(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ey(s.remoteStore,o.targetId),dg(s,o.targetId)})).catch(ju)):(dg(s,o.targetId),await cg(s.localStore,o.targetId,!0))}async function n2(r,e){const n=$e(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ey(n.remoteStore,s.targetId))}async function i2(r,e,n){const s=c2(r);try{const o=await(function(f,p){const g=$e(f),y=Mt.now(),w=p.reduce(((B,W)=>B.add(W.key)),at());let C,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let W=Ca(),oe=at();return g.Ns.getEntries(B,w).next((J=>{W=J,W.forEach(((ee,le)=>{le.isValidDocument()||(oe=oe.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,W))).next((J=>{C=J;const ee=[];for(const le of p){const he=_D(le,C.get(le.key).overlayedDocument);he!=null&&ee.push(new zo(le.key,he,y0(he.value.mapValue),ts.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ee,p)})).next((J=>{D=J;const ee=J.applyToLocalDocumentSet(C,oe);return g.documentOverlayCache.saveOverlays(B,J.batchId,ee)}))})).then((()=>({batchId:D.batchId,changes:I0(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new en(st)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await kh(s,o.changes),await Yd(s.remoteStore)}catch(o){const u=sy(o,"Failed to persist write");n.reject(u)}}async function hA(r,e){const n=$e(r);try{const s=await gN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?St(f.hu,14607):o.removedDocuments.size>0&&(St(f.hu,42227),f.hu=!1))})),await kh(n,s,e)}catch(s){await ju(s)}}function OT(r,e,n){const s=$e(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=$e(f);g.onlineState=p;let y=!1;g.queries.forEach(((w,C)=>{for(const D of C.Sa)D.va(p)&&(y=!0)})),y&&ay(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r2(r,e,n){const s=$e(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new en(Ie.comparator);f=f.insert(u,pi.newNoDocument(u,Fe.min()));const p=at().add(u),g=new $d(Fe.min(),new Map,new en(st),f,p);await hA(s,g),s.du=s.du.remove(u),s.Au.delete(e),ly(s)}else await cg(s.localStore,e,!1).then((()=>dg(s,e,n))).catch(ju)}async function s2(r,e){const n=$e(r),s=e.batch.batchId;try{const o=await pN(n.localStore,e);dA(n,s,null),fA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await kh(n,o)}catch(o){await ju(o)}}async function a2(r,e,n){const s=$e(r);try{const o=await(function(f,p){const g=$e(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((C=>(St(C!==null,37113),w=C.keys(),g.mutationQueue.removeMutationBatch(y,C)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);dA(s,e,n),fA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await kh(s,o)}catch(o){await ju(o)}}function fA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function dA(r,e,n){const s=$e(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function dg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||mA(r,s)}))}function mA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ey(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ly(r))}function MT(r,e,n){for(const s of n)s instanceof lA?(r.Ru.addReference(s.key,e),o2(r,s)):s instanceof uA?(be(oy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||mA(r,s.key)):Le(19791,{wu:s})}function o2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(be(oy,"New document in limbo: "+n),r.Eu.add(s),ly(r))}function ly(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ie(Pt.fromString(e)),s=r.fu.next();r.Au.set(s,new XN(n)),r.du=r.du.insert(n,s),Z0(r.remoteStore,new So(Ms(Fg(n.path)),s,"TargetPurposeLimboResolution",Ud.ce))}}async function kh(r,e,n){const s=$e(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Jg.As(g.targetId,y);u.push(w)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const w=$e(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>ue.forEach(y,(D=>ue.forEach(D.Es,(B=>w.persistence.referenceDelegate.addReference(C,D.targetId,B))).next((()=>ue.forEach(D.ds,(B=>w.persistence.referenceDelegate.removeReference(C,D.targetId,B)))))))))}catch(C){if(!Uu(C))throw C;be(Zg,"Failed to update sequence numbers: "+C)}for(const C of y){const D=C.targetId;if(!C.fromCache){const B=w.Ms.get(D),W=B.snapshotVersion,oe=B.withLastLimboFreeSnapshotVersion(W);w.Ms=w.Ms.insert(D,oe)}}})(s.localStore,u))}async function l2(r,e){const n=$e(r);if(!n.currentUser.isEqual(e)){be(oy,"User change. New user:",e.toKey());const s=await Y0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ee(ae.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kh(n,s.Ls)}}function u2(r,e){const n=$e(r),s=n.Au.get(e);if(s&&s.hu)return at().add(s.key);{let o=at();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function pA(r){const e=$e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.Pu.H_=$N.bind(null,e.eventManager),e.Pu.yu=KN.bind(null,e.eventManager),e}function c2(r){const e=$e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mN(this.persistence,new hN,e.initialUser,this.serializer)}Cu(e){return new Q0(Wg.mi,this.serializer)}Du(e){return new TN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class h2 extends Id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){St(this.persistence.referenceDelegate instanceof Cd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new Q0((s=>Cd.mi(s,n)),this.serializer)}}class mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await qN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GN})()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),s=(function(u){return new CN(u)})(e.databaseInfo);return(function(u,f,p,g){return new DN(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,p){return new ON(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>OT(this.syncEngine,n,0)),(function(){return CT.v()?new CT:new bN})())}createSyncEngine(e,n){return(function(o,u,f,p,g,y,w){const C=new WN(o,u,f,p,g,y);return w&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=$e(n);be(bl,"RemoteStore shutting down."),s.Ea.add(5),await Lh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class f2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=mi.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{be(Po,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(be(Po,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zp(r,e){r.asyncQueue.verifyOperationInProgress(),be(Po,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Y0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function VT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await d2(r);be(Po,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>IT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>IT(e.remoteStore,o))),r._onlineComponents=e}async function d2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){be(Po,"Using user provided OfflineComponentProvider");try{await zp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wu("Error using user provided cache. Falling back to memory cache: "+n),await zp(r,new Id)}}else be(Po,"Using default OfflineComponentProvider"),await zp(r,new h2(void 0));return r._offlineComponents}async function yA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(be(Po,"Using user provided OnlineComponentProvider"),await VT(r,r._uninitializedComponentsProvider._online)):(be(Po,"Using default OnlineComponentProvider"),await VT(r,new mg))),r._onlineComponents}function m2(r){return yA(r).then((e=>e.syncEngine))}async function _A(r){const e=await yA(r),n=e.eventManager;return n.onListen=JN.bind(null,e.syncEngine),n.onUnlisten=t2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),n}function p2(r,e,n={}){const s=new Ea;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const w=new gA({next:D=>{w.Nu(),f.enqueueAndForget((()=>aA(u,C)));const B=D.docs.has(p);!B&&D.fromCache?y.reject(new Ee(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&g&&g.source==="server"?y.reject(new Ee(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),C=new oA(Fg(p.path),w,{includeMetadataChanges:!0,qa:!0});return sA(u,C)})(await _A(r),r.asyncQueue,e,n,s))),s.promise}function g2(r,e,n={}){const s=new Ea;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const w=new gA({next:D=>{w.Nu(),f.enqueueAndForget((()=>aA(u,C))),D.fromCache&&g.source==="server"?y.reject(new Ee(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),C=new oA(p,w,{includeMetadataChanges:!0,qa:!0});return sA(u,C)})(await _A(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firestore.googleapis.com",kT=!0;class PT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=kT}else this.host=e.host,this.ssl=e.ssl??kT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QD)throw new Ee(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Tx;switch(s.type){case"firstParty":return new Sx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=LT.get(n);s&&(be("ComponentProvider","Removing Datastore"),LT.delete(n),s.terminate())})(this),Promise.resolve()}}function y2(r,e,n,s={}){r=Sa(r,Xd);const o=Mu(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(hb(`https://${p}`),fb("Firestore",!0)),u.host!==EA&&u.host!==p&&wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!_l(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,w;if(typeof s.mockUserToken=="string")y=s.mockUserToken,w=mi.MOCK_USER;else{y=V1(s.mockUserToken,r._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Ee(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new mi(C)}r._authCredentials=new bx(new s0(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class xn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}toJSON(){return{type:xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nh(n,xn._jsonSchema))return new xn(e,s||null,new Ie(Pt.fromString(n.referencePath)))}}xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:In("string",xn._jsonSchemaVersion),referencePath:In("string")};class No extends Bu{constructor(e,n,s){super(e,n,Fg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Ie(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function bh(r,e,...n){if(r=ri(r),a0("collection","path",e),r instanceof Xd){const s=Pt.fromString(e,...n);return XE(s),new No(r,null,s)}{if(!(r instanceof xn||r instanceof No))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pt.fromString(e,...n));return XE(s),new No(r.firestore,null,s)}}function Ia(r,e,...n){if(r=ri(r),arguments.length===1&&(e=jg.newId()),a0("doc","path",e),r instanceof Xd){const s=Pt.fromString(e,...n);return YE(s),new xn(r,null,new Ie(s))}{if(!(r instanceof xn||r instanceof No))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pt.fromString(e,...n));return YE(s),new xn(r.firestore,r instanceof No?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class UT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W0(this,"async_queue_retry"),this._c=()=>{const s=Up();s&&be(jT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uu(e))throw e;be(jT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wa("INTERNAL UNHANDLED ERROR: ",zT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ry.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Le(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Hu extends Xd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new UT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function TA(r,e){const n=typeof r=="object"?r:pb(),s=typeof r=="string"?r:Ed,o=Rg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=O1("firestore");u&&y2(o,...u)}return o}function uy(r){if(r._terminated)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_2(r),r._firestoreClient}function _2(r){const e=r._freezeSettings(),n=(function(o,u,f,p){return new Hx(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,vA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new f2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(si.fromBase64String(e))}catch(n){throw new Ee(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nh(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:In("string",Nr._jsonSchemaVersion),bytes:In("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(Nh(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:In("string",Ls._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nh(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ks(e.vectorValues);throw new Ee(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:In("string",ks._jsonSchemaVersion),vectorValues:In("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^__.*__$/;class E2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mh(e,this.data,n,this.fieldTransforms)}}class bA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:r})}}class cy{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&v2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class T2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kd(e)}Cc(e,n,s,o=!1){return new cy({Ac:e,methodName:n,Dc:s,path:ii.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(r){const e=r._freezeSettings(),n=Kd(r._databaseId);return new T2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function b2(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);dy("Data must be an object, but it was:",f,s);const p=wA(s,f);let g,y;if(u.merge)g=new fr(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const w=[];for(const C of u.mergeFields){const D=pg(e,C,n);if(!f.contains(D))throw new Ee(ae.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);CA(w,D)||w.push(D)}g=new fr(w),y=f.fieldTransforms.filter((C=>g.covers(C.field)))}else g=null,y=f.fieldTransforms;return new E2(new Qi(p),g,y)}class Zd extends Jd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}class fy extends Jd{_toFieldTransform(e){return new mD(e.path,new vh)}isEqual(e){return e instanceof fy}}function A2(r,e,n,s){const o=r.Cc(1,e,n);dy("Data must be an object, but it was:",o,s);const u=[],f=Qi.empty();Uo(s,((g,y)=>{const w=my(e,g,n);y=ri(y);const C=o.yc(w);if(y instanceof Zd)u.push(w);else{const D=Ph(y,C);D!=null&&(u.push(w),f.set(w,D))}}));const p=new fr(u);return new bA(f,p,o.fieldTransforms)}function w2(r,e,n,s,o,u){const f=r.Cc(1,e,n),p=[pg(e,s,n)],g=[o];if(u.length%2!=0)throw new Ee(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(pg(e,u[D])),g.push(u[D+1]);const y=[],w=Qi.empty();for(let D=p.length-1;D>=0;--D)if(!CA(y,p[D])){const B=p[D];let W=g[D];W=ri(W);const oe=f.yc(B);if(W instanceof Zd)y.push(B);else{const J=Ph(W,oe);J!=null&&(y.push(B),w.set(B,J))}}const C=new fr(y);return new bA(w,C,f.fieldTransforms)}function S2(r,e,n,s=!1){return Ph(n,r.Cc(s?4:3,e))}function Ph(r,e){if(SA(r=ri(r)))return dy("Unsupported field value:",e,r),wA(r,e);if(r instanceof Jd)return(function(s,o){if(!AA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=Ph(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ri(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Mt.fromDate(s);return{timestampValue:Sd(o.serializer,u)}}if(s instanceof Mt){const u=new Mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sd(o.serializer,u)}}if(s instanceof Ls)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nr)return{bytesValue:z0(o.serializer,s._byteString)};if(s instanceof xn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ks)return(function(f,p){return{mapValue:{fields:{[p0]:{stringValue:g0},[Td]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Gg(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jd(s)}`)})(r,e)}function wA(r,e){const n={};return u0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(r,((s,o)=>{const u=Ph(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function SA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Mt||r instanceof Ls||r instanceof Nr||r instanceof xn||r instanceof Jd||r instanceof ks)}function dy(r,e,n){if(!SA(n)||!o0(n)){const s=jd(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function pg(r,e,n){if((e=ri(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return my(r,e);throw xd("Field path arguments must be of type string or ",r,!1,void 0,n)}const C2=new RegExp("[~\\*/\\[\\]]");function my(r,e,n){if(e.search(C2)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wd(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xd(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new Ee(ae.INVALID_ARGUMENT,p+r+g)}function CA(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R2 extends RA{data(){return super.data()}}function py(r,e){return typeof e=="string"?my(r,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ee(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class x2 extends gy{}function D2(r,e,...n){let s=[];e instanceof gy&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof yy)).length,p=u.filter((g=>g instanceof em)).length;if(f>1||f>0&&p>0)throw new Ee(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class em extends x2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new em(e,n,s)}_apply(e){const n=this._parse(e);return IA(e._query,n),new Bu(e.firestore,e.converter,rg(e._query,n))}_parse(e){const n=hy(e.firestore);return(function(u,f,p,g,y,w,C){let D;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ee(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){HT(C,w);const W=[];for(const oe of C)W.push(BT(g,u,oe));D={arrayValue:{values:W}}}else D=BT(g,u,C)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||HT(C,w),D=S2(p,f,C,w==="in"||w==="not-in");return Rn.create(y,w,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function N2(r,e,n){const s=e,o=py("where",r);return em._create(o,s,n)}class yy extends gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)IA(f,g),f=rg(f,g)})(e._query,n),new Bu(e.firestore,e.converter,rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BT(r,e,n){if(typeof(n=ri(n))=="string"){if(n==="")throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w0(e)&&n.indexOf("/")!==-1)throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Pt.fromString(n));if(!Ie.isDocumentKey(s))throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rT(r,new Ie(s))}if(n instanceof xn)return rT(r,n._key);throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(n)}.`)}function HT(r,e){if(!Array.isArray(r)||r.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(r,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O2{convertValue(e,n="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Uo(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Td].arrayValue?.values?.map((s=>pn(s.doubleValue)));return new ks(n)}convertGeoPoint(e){return new Ls(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=Mo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);St($0(s),9688,{name:e});const o=new yh(s.get(1),s.get(3)),u=new Ie(s.popFirst(5));return o.isEqual(n)||wa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends RA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(py("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",yl._jsonSchema={type:In("string",yl._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class ld extends yl{data(e={}){return super.data(e)}}class Tu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new rh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ld(this._firestore,this._userDataWriter,s.key,s,new rh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new ld(o._firestore,o._userDataWriter,p.doc.key,p.doc,new rh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ld(o._firestore,o._userDataWriter,p.doc.key,p.doc,new rh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),w=f.indexOf(p.doc.key)),{type:V2(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r){r=Sa(r,xn);const e=Sa(r.firestore,Hu);return p2(uy(e),r._key).then((n=>P2(e,r,n)))}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:In("string",Tu._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class xA extends O2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Ah(r){r=Sa(r,Bu);const e=Sa(r.firestore,Hu),n=uy(e),s=new xA(e);return I2(r._query),g2(n,r._query).then((o=>new Tu(e,s,r,o)))}function DA(r,e,n,...s){r=Sa(r,xn);const o=Sa(r.firestore,Hu),u=hy(o);let f;return f=typeof(e=ri(e))=="string"||e instanceof Wd?w2(u,"updateDoc",r._key,e,n,s):A2(u,"updateDoc",r._key,e),_y(o,[f.toMutation(r._key,ts.exists(!0))])}function L2(r){return _y(Sa(r.firestore,Hu),[new $g(r._key,ts.none())])}function k2(r,e){const n=Sa(r.firestore,Hu),s=Ia(r),o=M2(r.converter,e);return _y(n,[b2(hy(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ts.exists(!1))]).then((()=>s))}function _y(r,e){return(function(s,o){const u=new Ea;return s.asyncQueue.enqueueAndForget((async()=>i2(await m2(s),o,u))),u.promise})(uy(r),e)}function P2(r,e,n){const s=n.docs.get(e._key),o=new xA(r);return new yl(r,o,e._key,s,new rh(n.hasPendingWrites,n.fromCache),e.converter)}function gg(){return new fy("serverTimestamp")}(function(e,n=!0){(function(o){Pu=o})(Vu),bu(new vl("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Hu(new Ax(s.getProvider("auth-internal")),new Cx(f,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ee(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(y.options.projectId,w)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Io(GE,$E,e),Io(GE,$E,"esm2020")})();const j2={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},NA=Ig(j2),tm=Wb(NA),Or=TA(NA),OA=K.createContext(),Cl=()=>K.useContext(OA);function U2({children:r}){const[e,n]=K.useState(null),[s,o]=K.useState(null),[u,f]=K.useState(!0);return K.useEffect(()=>{const p=uI(tm,async g=>{if(g){n(g);const y=await qu(Ia(Or,"users",g.uid));y.exists()?o({uid:g.uid,...y.data()}):o({uid:g.uid})}else n(null),o(null);f(!1)});return()=>p()},[]),b.jsx(OA.Provider,{value:{user:e,profile:s,loading:u},children:!u&&r})}function z2(){return b.jsxs("aside",{className:"sidebar",children:[b.jsx("h2",{className:"logo",children:"SalamatDoc"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(gi,{to:"/admin/dashboard",className:({isActive:r})=>r?"active":"",children:"Dashboard"})}),b.jsx("li",{children:b.jsx(gi,{to:"/admin/users",className:({isActive:r})=>r?"active":"",children:"Manage Users"})}),b.jsx("li",{children:b.jsx(gi,{to:"/admin/reports",className:({isActive:r})=>r?"active":"",children:"Reports"})}),b.jsx("li",{children:b.jsx(gi,{to:"/admin/settings",className:({isActive:r})=>r?"active":"",children:"Settings"})}),b.jsx("li",{children:b.jsx(gi,{to:"/logout",className:({isActive:r})=>r?"active":"",children:"Log out"})})]})]})}function B2(){return b.jsxs("aside",{className:"sidebar",children:[b.jsx("h2",{className:"logo",children:"SalamatDoc"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(gi,{to:"/doctor/dashboard",className:({isActive:r})=>r?"active":"",children:"Dashboard"})}),b.jsx("li",{children:b.jsx(gi,{to:"/doctor/patients",className:({isActive:r})=>r?"active":"",children:"Patients"})}),b.jsx("li",{children:b.jsx(gi,{to:"/doctor/appointments",className:({isActive:r})=>r?"active":"",children:"Appointments"})}),b.jsx("li",{children:b.jsx(gi,{to:"/doctor/profile",className:({isActive:r})=>r?"active":"",children:"Profile"})}),b.jsx("li",{children:b.jsx(gi,{to:"/logout",className:({isActive:r})=>r?"active":"",children:"Log out"})})]})]})}function H2(){const{logout:r}=Cl();return Nd(),b.jsxs("aside",{className:"sidebar",children:[b.jsx("h2",{className:"logo",children:"SalamatDoc"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx(gi,{to:"/patient/dashboard",className:({isActive:e})=>e?"active":"",children:"Dashboard"})}),b.jsx("li",{children:b.jsx(gi,{to:"/patient/medicine",className:({isActive:e})=>e?"active":"",children:"Dailies – Medicine"})}),b.jsx("li",{children:b.jsx(gi,{to:"/patient/food",className:({isActive:e})=>e?"active":"",children:"Dailies – Food"})}),b.jsx("li",{children:b.jsx(gi,{to:"/patient/appointments",className:({isActive:e})=>e?"active":"",children:"Appointments"})}),b.jsx("li",{children:b.jsx(gi,{to:"/patient/profile",className:({isActive:e})=>e?"active":"",children:"Profile"})}),b.jsx("li",{children:b.jsx("a",{href:"/logout",onClick:e=>{e.preventDefault(),r()},children:"Log out"})})]})]})}var ud={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var q2=ud.exports,qT;function F2(){return qT||(qT=1,(function(r,e){(function(n,s){r.exports=s()})(q2,function(){const n=new Map,s={set(A,d,v){n.has(A)||n.set(A,new Map);const R=n.get(A);R.has(d)||R.size===0?R.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(R.keys())[0]}.`)},get:(A,d)=>n.has(A)&&n.get(A).get(d)||null,remove(A,d){if(!n.has(A))return;const v=n.get(A);v.delete(d),v.size===0&&n.delete(A)}},o="transitionend",u=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),A),f=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),p=A=>{A.dispatchEvent(new Event(o))},g=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),y=A=>g(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(u(A)):null,w=A=>{if(!g(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",v=A.closest("details:not([open])");if(!v)return d;if(v!==A){const R=A.closest("summary");if(R&&R.parentNode!==v||R===null)return!1}return d},C=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),D=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?D(A.parentNode):null},B=()=>{},W=A=>{A.offsetHeight},oe=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,J=[],ee=()=>document.documentElement.dir==="rtl",le=A=>{var d;d=()=>{const v=oe();if(v){const R=A.NAME,j=v.fn[R];v.fn[R]=A.jQueryInterface,v.fn[R].Constructor=A,v.fn[R].noConflict=()=>(v.fn[R]=j,A.jQueryInterface)}},document.readyState==="loading"?(J.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of J)v()}),J.push(d)):d()},he=(A,d=[],v=A)=>typeof A=="function"?A.call(...d):v,Be=(A,d,v=!0)=>{if(!v)return void he(A);const R=(Z=>{if(!Z)return 0;let{transitionDuration:ce,transitionDelay:fe}=window.getComputedStyle(Z);const _e=Number.parseFloat(ce),Te=Number.parseFloat(fe);return _e||Te?(ce=ce.split(",")[0],fe=fe.split(",")[0],1e3*(Number.parseFloat(ce)+Number.parseFloat(fe))):0})(d)+5;let j=!1;const z=({target:Z})=>{Z===d&&(j=!0,d.removeEventListener(o,z),he(A))};d.addEventListener(o,z),setTimeout(()=>{j||p(d)},R)},Ke=(A,d,v,R)=>{const j=A.length;let z=A.indexOf(d);return z===-1?!v&&R?A[j-1]:A[0]:(z+=v?1:-1,R&&(z=(z+j)%j),A[Math.max(0,Math.min(z,j-1))])},Ye=/[^.]*(?=\..*)\.|.*/,L=/\..*/,N=/::\d+$/,O={};let U=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},q=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(A,d){return d&&`${d}::${U++}`||A.uidEvent||U++}function Dt(A){const d=M(A);return A.uidEvent=d,O[d]=O[d]||{},O[d]}function tn(A,d,v=null){return Object.values(A).find(R=>R.callable===d&&R.delegationSelector===v)}function te(A,d,v){const R=typeof d=="string",j=R?v:d||v;let z=dt(A);return q.has(z)||(z=A),[R,j,z]}function me(A,d,v,R,j){if(typeof d!="string"||!A)return;let[z,Z,ce]=te(d,v,R);d in k&&(Z=(Ne=>function(Me){if(!Me.relatedTarget||Me.relatedTarget!==Me.delegateTarget&&!Me.delegateTarget.contains(Me.relatedTarget))return Ne.call(this,Me)})(Z));const fe=Dt(A),_e=fe[ce]||(fe[ce]={}),Te=tn(_e,Z,z?v:null);if(Te)return void(Te.oneOff=Te.oneOff&&j);const ye=M(Z,d.replace(Ye,"")),Ue=z?(function(De,Ne,Me){return function xe(yt){const bt=De.querySelectorAll(Ne);for(let{target:Pe}=yt;Pe&&Pe!==this;Pe=Pe.parentNode)for(const Xe of bt)if(Xe===Pe)return re(yt,{delegateTarget:Pe}),xe.oneOff&&x.off(De,yt.type,Ne,Me),Me.apply(Pe,[yt])}})(A,v,Z):(function(De,Ne){return function Me(xe){return re(xe,{delegateTarget:De}),Me.oneOff&&x.off(De,xe.type,Ne),Ne.apply(De,[xe])}})(A,Z);Ue.delegationSelector=z?v:null,Ue.callable=Z,Ue.oneOff=j,Ue.uidEvent=ye,_e[ye]=Ue,A.addEventListener(ce,Ue,z)}function Se(A,d,v,R,j){const z=tn(d[v],R,j);z&&(A.removeEventListener(v,z,!!j),delete d[v][z.uidEvent])}function ot(A,d,v,R){const j=d[v]||{};for(const[z,Z]of Object.entries(j))z.includes(R)&&Se(A,d,v,Z.callable,Z.delegationSelector)}function dt(A){return A=A.replace(L,""),k[A]||A}const x={on(A,d,v,R){me(A,d,v,R,!1)},one(A,d,v,R){me(A,d,v,R,!0)},off(A,d,v,R){if(typeof d!="string"||!A)return;const[j,z,Z]=te(d,v,R),ce=Z!==d,fe=Dt(A),_e=fe[Z]||{},Te=d.startsWith(".");if(z===void 0){if(Te)for(const ye of Object.keys(fe))ot(A,fe,ye,d.slice(1));for(const[ye,Ue]of Object.entries(_e)){const De=ye.replace(N,"");ce&&!d.includes(De)||Se(A,fe,Z,Ue.callable,Ue.delegationSelector)}}else{if(!Object.keys(_e).length)return;Se(A,fe,Z,z,j?v:null)}},trigger(A,d,v){if(typeof d!="string"||!A)return null;const R=oe();let j=null,z=!0,Z=!0,ce=!1;d!==dt(d)&&R&&(j=R.Event(d,v),R(A).trigger(j),z=!j.isPropagationStopped(),Z=!j.isImmediatePropagationStopped(),ce=j.isDefaultPrevented());const fe=re(new Event(d,{bubbles:z,cancelable:!0}),v);return ce&&fe.preventDefault(),Z&&A.dispatchEvent(fe),fe.defaultPrevented&&j&&j.preventDefault(),fe}};function re(A,d={}){for(const[v,R]of Object.entries(d))try{A[v]=R}catch{Object.defineProperty(A,v,{configurable:!0,get:()=>R})}return A}function pe(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function ve(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Ce={setDataAttribute(A,d,v){A.setAttribute(`data-bs-${ve(d)}`,v)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${ve(d)}`)},getDataAttributes(A){if(!A)return{};const d={},v=Object.keys(A.dataset).filter(R=>R.startsWith("bs")&&!R.startsWith("bsConfig"));for(const R of v){let j=R.replace(/^bs/,"");j=j.charAt(0).toLowerCase()+j.slice(1),d[j]=pe(A.dataset[R])}return d},getDataAttribute:(A,d)=>pe(A.getAttribute(`data-bs-${ve(d)}`))};class ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const R=g(v)?Ce.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof R=="object"?R:{},...g(v)?Ce.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[R,j]of Object.entries(v)){const z=d[R],Z=g(z)?"element":f(z);if(!new RegExp(j).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${R}" provided type "${Z}" but expected type "${j}".`)}}}class je extends ke{constructor(d,v){super(),(d=y(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),x.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,R=!0){Be(d,v,R)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(y(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Qt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let v=A.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>u(v)).join(","):null},ge={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(v=>v.matches(d)),parents(A,d){const v=[];let R=A.parentNode.closest(d);for(;R;)v.push(R),R=R.parentNode.closest(d);return v},prev(A,d){let v=A.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(A,d){let v=A.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(v=>!C(v)&&w(v))},getSelectorFromElement(A){const d=Qt(A);return d&&ge.findOne(d)?d:null},getElementFromSelector(A){const d=Qt(A);return d?ge.findOne(d):null},getMultipleElementsFromSelector(A){const d=Qt(A);return d?ge.find(d):[]}},dr=(A,d="hide")=>{const v=`click.dismiss${A.EVENT_KEY}`,R=A.NAME;x.on(document,v,`[data-bs-dismiss="${R}"]`,function(j){if(["A","AREA"].includes(this.tagName)&&j.preventDefault(),C(this))return;const z=ge.getElementFromSelector(this)||this.closest(`.${R}`);A.getOrCreateInstance(z)[d]()})},Us=".bs.alert",xa=`close${Us}`,Da=`closed${Us}`;class ai extends je{static get NAME(){return"alert"}close(){if(x.trigger(this._element,xa).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),x.trigger(this._element,Da),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=ai.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}dr(ai,"close"),le(ai);const Na='[data-bs-toggle="button"]';class Yi extends je{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Yi.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}x.on(document,"click.bs.button.data-api",Na,A=>{A.preventDefault();const d=A.target.closest(Na);Yi.getOrCreateInstance(d).toggle()}),le(Yi);const mr=".bs.swipe",Bo=`touchstart${mr}`,nn=`touchmove${mr}`,un=`touchend${mr}`,os=`pointerdown${mr}`,Fu=`pointerup${mr}`,Rl={endCallback:null,leftCallback:null,rightCallback:null},Kn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class pr extends ke{constructor(d,v){super(),this._element=d,d&&pr.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Rl}static get DefaultType(){return Kn}static get NAME(){return"swipe"}dispose(){x.off(this._element,mr)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),he(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&he(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(x.on(this._element,os,d=>this._start(d)),x.on(this._element,Fu,d=>this._end(d)),this._element.classList.add("pointer-event")):(x.on(this._element,Bo,d=>this._start(d)),x.on(this._element,nn,d=>this._move(d)),x.on(this._element,un,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ii=".bs.carousel",Oa=".data-api",ls="ArrowLeft",Gu="ArrowRight",us="next",Mr="prev",Vr="left",oi="right",Dn=`slide${Ii}`,li=`slid${Ii}`,Yt=`keydown${Ii}`,Il=`mouseenter${Ii}`,Ma=`mouseleave${Ii}`,xl=`dragstart${Ii}`,gr=`load${Ii}${Oa}`,zs=`click${Ii}${Oa}`,Xt="carousel",_i="active",Xi=".active",xi=".carousel-item",$u=Xi+xi,Dl={[ls]:oi,[Gu]:Vr},yr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Bs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class cs extends je{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xt&&this.cycle()}static get Default(){return yr}static get DefaultType(){return Bs}static get NAME(){return"carousel"}next(){this._slide(us)}nextWhenVisible(){!document.hidden&&w(this._element)&&this.next()}prev(){this._slide(Mr)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?x.one(this._element,li,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void x.one(this._element,li,()=>this.to(d));const R=this._getItemIndex(this._getActive());if(R===d)return;const j=d>R?us:Mr;this._slide(j,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&x.on(this._element,Yt,d=>this._keydown(d)),this._config.pause==="hover"&&(x.on(this._element,Il,()=>this.pause()),x.on(this._element,Ma,()=>this._maybeEnableCycle())),this._config.touch&&pr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ge.find(".carousel-item img",this._element))x.on(v,xl,R=>R.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Vr)),rightCallback:()=>this._slide(this._directionToOrder(oi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new pr(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=Dl[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ge.findOne(Xi,this._indicatorsElement);v.classList.remove(_i),v.removeAttribute("aria-current");const R=ge.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);R&&(R.classList.add(_i),R.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const R=this._getActive(),j=d===us,z=v||Ke(this._getItems(),R,j,this._config.wrap);if(z===R)return;const Z=this._getItemIndex(z),ce=ye=>x.trigger(this._element,ye,{relatedTarget:z,direction:this._orderToDirection(d),from:this._getItemIndex(R),to:Z});if(ce(Dn).defaultPrevented||!R||!z)return;const fe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Z),this._activeElement=z;const _e=j?"carousel-item-start":"carousel-item-end",Te=j?"carousel-item-next":"carousel-item-prev";z.classList.add(Te),W(z),R.classList.add(_e),z.classList.add(_e),this._queueCallback(()=>{z.classList.remove(_e,Te),z.classList.add(_i),R.classList.remove(_i,Te,_e),this._isSliding=!1,ce(li)},R,this._isAnimated()),fe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ge.findOne($u,this._element)}_getItems(){return ge.find(xi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return ee()?d===Vr?Mr:us:d===Vr?us:Mr}_orderToDirection(d){return ee()?d===Mr?Vr:oi:d===Mr?oi:Vr}static jQueryInterface(d){return this.each(function(){const v=cs.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}x.on(document,zs,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=ge.getElementFromSelector(this);if(!d||!d.classList.contains(Xt))return;A.preventDefault();const v=cs.getOrCreateInstance(d),R=this.getAttribute("data-bs-slide-to");return R?(v.to(R),void v._maybeEnableCycle()):Ce.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),x.on(window,gr,()=>{const A=ge.find('[data-bs-ride="carousel"]');for(const d of A)cs.getOrCreateInstance(d)}),le(cs);const Wi=".bs.collapse",Ho=`show${Wi}`,qo=`shown${Wi}`,Hs=`hide${Wi}`,Lr=`hidden${Wi}`,Nl=`click${Wi}.data-api`,vi="show",Pn="collapse",jt="collapsing",gn=`:scope .${Pn} .${Pn}`,Di='[data-bs-toggle="collapse"]',Va={parent:null,toggle:!0},Ku={parent:"(null|element)",toggle:"boolean"};class kr extends je{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const R=ge.find(Di);for(const j of R){const z=ge.getSelectorFromElement(j),Z=ge.find(z).filter(ce=>ce===this._element);z!==null&&Z.length&&this._triggerArray.push(j)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Va}static get DefaultType(){return Ku}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(j=>j!==this._element).map(j=>kr.getOrCreateInstance(j,{toggle:!1}))),d.length&&d[0]._isTransitioning||x.trigger(this._element,Ho).defaultPrevented)return;for(const j of d)j.hide();const v=this._getDimension();this._element.classList.remove(Pn),this._element.classList.add(jt),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(jt),this._element.classList.add(Pn,vi),this._element.style[v]="",x.trigger(this._element,qo)},this._element,!0),this._element.style[v]=`${this._element[R]}px`}hide(){if(this._isTransitioning||!this._isShown()||x.trigger(this._element,Hs).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,W(this._element),this._element.classList.add(jt),this._element.classList.remove(Pn,vi);for(const v of this._triggerArray){const R=ge.getElementFromSelector(v);R&&!this._isShown(R)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(jt),this._element.classList.add(Pn),x.trigger(this._element,Lr)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(vi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=y(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Di);for(const v of d){const R=ge.getElementFromSelector(v);R&&this._addAriaAndCollapsedClass([v],this._isShown(R))}}_getFirstLevelChildren(d){const v=ge.find(gn,this._config.parent);return ge.find(d,this._config.parent).filter(R=>!v.includes(R))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const R of d)R.classList.toggle("collapsed",!v),R.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const R=kr.getOrCreateInstance(this,v);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d]()}})}}x.on(document,Nl,Di,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of ge.getMultipleElementsFromSelector(this))kr.getOrCreateInstance(d,{toggle:!1}).toggle()}),le(kr);var yn="top",zt="bottom",_n="right",Vt="left",Qn="auto",vn=[yn,zt,_n,Vt],jn="start",Nt="end",La="clippingParents",qs="viewport",Yn="popper",Ji="reference",Fs=vn.reduce(function(A,d){return A.concat([d+"-"+jn,d+"-"+Nt])},[]),Gs=[].concat(vn,[Qn]).reduce(function(A,d){return A.concat([d,d+"-"+jn,d+"-"+Nt])},[]),ka="beforeRead",Fo="read",$s="afterRead",ui="beforeMain",Wt="main",cn="afterMain",Pr="beforeWrite",Pa="write",mt="afterWrite",hs=[ka,Fo,$s,ui,Wt,cn,Pr,Pa,mt];function hn(A){return A?(A.nodeName||"").toLowerCase():null}function fn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function rn(A){return A instanceof fn(A).Element||A instanceof Element}function Nn(A){return A instanceof fn(A).HTMLElement||A instanceof HTMLElement}function ja(A){return typeof ShadowRoot<"u"&&(A instanceof fn(A).ShadowRoot||A instanceof ShadowRoot)}const Ks={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(v){var R=d.styles[v]||{},j=d.attributes[v]||{},z=d.elements[v];Nn(z)&&hn(z)&&(Object.assign(z.style,R),Object.keys(j).forEach(function(Z){var ce=j[Z];ce===!1?z.removeAttribute(Z):z.setAttribute(Z,ce===!0?"":ce)}))})},effect:function(A){var d=A.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(R){var j=d.elements[R],z=d.attributes[R]||{},Z=Object.keys(d.styles.hasOwnProperty(R)?d.styles[R]:v[R]).reduce(function(ce,fe){return ce[fe]="",ce},{});Nn(j)&&hn(j)&&(Object.assign(j.style,Z),Object.keys(z).forEach(function(ce){j.removeAttribute(ce)}))})}},requires:["computeStyles"]};function On(A){return A.split("-")[0]}var _r=Math.max,Zi=Math.min,dn=Math.round;function Ua(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function za(){return!/^((?!chrome|android).)*safari/i.test(Ua())}function vr(A,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var R=A.getBoundingClientRect(),j=1,z=1;d&&Nn(A)&&(j=A.offsetWidth>0&&dn(R.width)/A.offsetWidth||1,z=A.offsetHeight>0&&dn(R.height)/A.offsetHeight||1);var Z=(rn(A)?fn(A):window).visualViewport,ce=!za()&&v,fe=(R.left+(ce&&Z?Z.offsetLeft:0))/j,_e=(R.top+(ce&&Z?Z.offsetTop:0))/z,Te=R.width/j,ye=R.height/z;return{width:Te,height:ye,top:_e,right:fe+Te,bottom:_e+ye,left:fe,x:fe,y:_e}}function fs(A){var d=vr(A),v=A.offsetWidth,R=A.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-R)<=1&&(R=d.height),{x:A.offsetLeft,y:A.offsetTop,width:v,height:R}}function Go(A,d){var v=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(v&&ja(v)){var R=d;do{if(R&&A.isSameNode(R))return!0;R=R.parentNode||R.host}while(R)}return!1}function Un(A){return fn(A).getComputedStyle(A)}function Ba(A){return["table","td","th"].indexOf(hn(A))>=0}function En(A){return((rn(A)?A.ownerDocument:A.document)||window.document).documentElement}function ds(A){return hn(A)==="html"?A:A.assignedSlot||A.parentNode||(ja(A)?A.host:null)||En(A)}function Ei(A){return Nn(A)&&Un(A).position!=="fixed"?A.offsetParent:null}function Ni(A){for(var d=fn(A),v=Ei(A);v&&Ba(v)&&Un(v).position==="static";)v=Ei(v);return v&&(hn(v)==="html"||hn(v)==="body"&&Un(v).position==="static")?d:v||(function(R){var j=/firefox/i.test(Ua());if(/Trident/i.test(Ua())&&Nn(R)&&Un(R).position==="fixed")return null;var z=ds(R);for(ja(z)&&(z=z.host);Nn(z)&&["html","body"].indexOf(hn(z))<0;){var Z=Un(z);if(Z.transform!=="none"||Z.perspective!=="none"||Z.contain==="paint"||["transform","perspective"].indexOf(Z.willChange)!==-1||j&&Z.willChange==="filter"||j&&Z.filter&&Z.filter!=="none")return z;z=z.parentNode}return null})(A)||d}function Oi(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function er(A,d,v){return _r(A,Zi(d,v))}function Qs(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function jr(A,d){return d.reduce(function(v,R){return v[R]=A,v},{})}const Mi={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,v=A.state,R=A.name,j=A.options,z=v.elements.arrow,Z=v.modifiersData.popperOffsets,ce=On(v.placement),fe=Oi(ce),_e=[Vt,_n].indexOf(ce)>=0?"height":"width";if(z&&Z){var Te=(function(ut,lt){return Qs(typeof(ut=typeof ut=="function"?ut(Object.assign({},lt.rects,{placement:lt.placement})):ut)!="number"?ut:jr(ut,vn))})(j.padding,v),ye=fs(z),Ue=fe==="y"?yn:Vt,De=fe==="y"?zt:_n,Ne=v.rects.reference[_e]+v.rects.reference[fe]-Z[fe]-v.rects.popper[_e],Me=Z[fe]-v.rects.reference[fe],xe=Ni(z),yt=xe?fe==="y"?xe.clientHeight||0:xe.clientWidth||0:0,bt=Ne/2-Me/2,Pe=Te[Ue],Xe=yt-ye[_e]-Te[De],ze=yt/2-ye[_e]/2+bt,Je=er(Pe,ze,Xe),ht=fe;v.modifiersData[R]=((d={})[ht]=Je,d.centerOffset=Je-ze,d)}},effect:function(A){var d=A.state,v=A.options.element,R=v===void 0?"[data-popper-arrow]":v;R!=null&&(typeof R!="string"||(R=d.elements.popper.querySelector(R)))&&Go(d.elements.popper,R)&&(d.elements.arrow=R)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mn(A){return A.split("-")[1]}var Ys={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Et(A){var d,v=A.popper,R=A.popperRect,j=A.placement,z=A.variation,Z=A.offsets,ce=A.position,fe=A.gpuAcceleration,_e=A.adaptive,Te=A.roundOffsets,ye=A.isFixed,Ue=Z.x,De=Ue===void 0?0:Ue,Ne=Z.y,Me=Ne===void 0?0:Ne,xe=typeof Te=="function"?Te({x:De,y:Me}):{x:De,y:Me};De=xe.x,Me=xe.y;var yt=Z.hasOwnProperty("x"),bt=Z.hasOwnProperty("y"),Pe=Vt,Xe=yn,ze=window;if(_e){var Je=Ni(v),ht="clientHeight",ut="clientWidth";Je===fn(v)&&Un(Je=En(v)).position!=="static"&&ce==="absolute"&&(ht="scrollHeight",ut="scrollWidth"),(j===yn||(j===Vt||j===_n)&&z===Nt)&&(Xe=zt,Me-=(ye&&Je===ze&&ze.visualViewport?ze.visualViewport.height:Je[ht])-R.height,Me*=fe?1:-1),j!==Vt&&(j!==yn&&j!==zt||z!==Nt)||(Pe=_n,De-=(ye&&Je===ze&&ze.visualViewport?ze.visualViewport.width:Je[ut])-R.width,De*=fe?1:-1)}var lt,Bt=Object.assign({position:ce},_e&&Ys),ci=Te===!0?(function(qn,An){var Ci=qn.x,hi=qn.y,Lt=An.devicePixelRatio||1;return{x:dn(Ci*Lt)/Lt||0,y:dn(hi*Lt)/Lt||0}})({x:De,y:Me},fn(v)):{x:De,y:Me};return De=ci.x,Me=ci.y,fe?Object.assign({},Bt,((lt={})[Xe]=bt?"0":"",lt[Pe]=yt?"0":"",lt.transform=(ze.devicePixelRatio||1)<=1?"translate("+De+"px, "+Me+"px)":"translate3d("+De+"px, "+Me+"px, 0)",lt)):Object.assign({},Bt,((d={})[Xe]=bt?Me+"px":"",d[Pe]=yt?De+"px":"",d.transform="",d))}const Vi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,v=A.options,R=v.gpuAcceleration,j=R===void 0||R,z=v.adaptive,Z=z===void 0||z,ce=v.roundOffsets,fe=ce===void 0||ce,_e={placement:On(d.placement),variation:Mn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:j,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Et(Object.assign({},_e,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:Z,roundOffsets:fe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Et(Object.assign({},_e,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:fe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var ms={passive:!0};const Ur={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,v=A.instance,R=A.options,j=R.scroll,z=j===void 0||j,Z=R.resize,ce=Z===void 0||Z,fe=fn(d.elements.popper),_e=[].concat(d.scrollParents.reference,d.scrollParents.popper);return z&&_e.forEach(function(Te){Te.addEventListener("scroll",v.update,ms)}),ce&&fe.addEventListener("resize",v.update,ms),function(){z&&_e.forEach(function(Te){Te.removeEventListener("scroll",v.update,ms)}),ce&&fe.removeEventListener("resize",v.update,ms)}},data:{}};var $o={left:"right",right:"left",bottom:"top",top:"bottom"};function Er(A){return A.replace(/left|right|bottom|top/g,function(d){return $o[d]})}var zr={start:"end",end:"start"};function Li(A){return A.replace(/start|end/g,function(d){return zr[d]})}function mn(A){var d=fn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function tr(A){return vr(En(A)).left+mn(A).scrollLeft}function ki(A){var d=Un(A),v=d.overflow,R=d.overflowX,j=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+j+R)}function Br(A){return["html","body","#document"].indexOf(hn(A))>=0?A.ownerDocument.body:Nn(A)&&ki(A)?A:Br(ds(A))}function Hr(A,d){var v;d===void 0&&(d=[]);var R=Br(A),j=R===((v=A.ownerDocument)==null?void 0:v.body),z=fn(R),Z=j?[z].concat(z.visualViewport||[],ki(R)?R:[]):R,ce=d.concat(Z);return j?ce:ce.concat(Hr(ds(Z)))}function Tr(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Xs(A,d,v){return d===qs?Tr((function(R,j){var z=fn(R),Z=En(R),ce=z.visualViewport,fe=Z.clientWidth,_e=Z.clientHeight,Te=0,ye=0;if(ce){fe=ce.width,_e=ce.height;var Ue=za();(Ue||!Ue&&j==="fixed")&&(Te=ce.offsetLeft,ye=ce.offsetTop)}return{width:fe,height:_e,x:Te+tr(R),y:ye}})(A,v)):rn(d)?(function(R,j){var z=vr(R,!1,j==="fixed");return z.top=z.top+R.clientTop,z.left=z.left+R.clientLeft,z.bottom=z.top+R.clientHeight,z.right=z.left+R.clientWidth,z.width=R.clientWidth,z.height=R.clientHeight,z.x=z.left,z.y=z.top,z})(d,v):Tr((function(R){var j,z=En(R),Z=mn(R),ce=(j=R.ownerDocument)==null?void 0:j.body,fe=_r(z.scrollWidth,z.clientWidth,ce?ce.scrollWidth:0,ce?ce.clientWidth:0),_e=_r(z.scrollHeight,z.clientHeight,ce?ce.scrollHeight:0,ce?ce.clientHeight:0),Te=-Z.scrollLeft+tr(R),ye=-Z.scrollTop;return Un(ce||z).direction==="rtl"&&(Te+=_r(z.clientWidth,ce?ce.clientWidth:0)-fe),{width:fe,height:_e,x:Te,y:ye}})(En(A)))}function nr(A){var d,v=A.reference,R=A.element,j=A.placement,z=j?On(j):null,Z=j?Mn(j):null,ce=v.x+v.width/2-R.width/2,fe=v.y+v.height/2-R.height/2;switch(z){case yn:d={x:ce,y:v.y-R.height};break;case zt:d={x:ce,y:v.y+v.height};break;case _n:d={x:v.x+v.width,y:fe};break;case Vt:d={x:v.x-R.width,y:fe};break;default:d={x:v.x,y:v.y}}var _e=z?Oi(z):null;if(_e!=null){var Te=_e==="y"?"height":"width";switch(Z){case jn:d[_e]=d[_e]-(v[Te]/2-R[Te]/2);break;case Nt:d[_e]=d[_e]+(v[Te]/2-R[Te]/2)}}return d}function ir(A,d){d===void 0&&(d={});var v=d,R=v.placement,j=R===void 0?A.placement:R,z=v.strategy,Z=z===void 0?A.strategy:z,ce=v.boundary,fe=ce===void 0?La:ce,_e=v.rootBoundary,Te=_e===void 0?qs:_e,ye=v.elementContext,Ue=ye===void 0?Yn:ye,De=v.altBoundary,Ne=De!==void 0&&De,Me=v.padding,xe=Me===void 0?0:Me,yt=Qs(typeof xe!="number"?xe:jr(xe,vn)),bt=Ue===Yn?Ji:Yn,Pe=A.rects.popper,Xe=A.elements[Ne?bt:Ue],ze=(function(An,Ci,hi,Lt){var Ht=Ci==="clippingParents"?(function(At){var qt=Hr(ds(At)),kt=["absolute","fixed"].indexOf(Un(At).position)>=0&&Nn(At)?Ni(At):At;return rn(kt)?qt.filter(function(wt){return rn(wt)&&Go(wt,kt)&&hn(wt)!=="body"}):[]})(An):[].concat(Ci),Zt=[].concat(Ht,[hi]),Ri=Zt[0],an=Zt.reduce(function(At,qt){var kt=Xs(An,qt,Lt);return At.top=_r(kt.top,At.top),At.right=Zi(kt.right,At.right),At.bottom=Zi(kt.bottom,At.bottom),At.left=_r(kt.left,At.left),At},Xs(An,Ri,Lt));return an.width=an.right-an.left,an.height=an.bottom-an.top,an.x=an.left,an.y=an.top,an})(rn(Xe)?Xe:Xe.contextElement||En(A.elements.popper),fe,Te,Z),Je=vr(A.elements.reference),ht=nr({reference:Je,element:Pe,placement:j}),ut=Tr(Object.assign({},Pe,ht)),lt=Ue===Yn?ut:Je,Bt={top:ze.top-lt.top+yt.top,bottom:lt.bottom-ze.bottom+yt.bottom,left:ze.left-lt.left+yt.left,right:lt.right-ze.right+yt.right},ci=A.modifiersData.offset;if(Ue===Yn&&ci){var qn=ci[j];Object.keys(Bt).forEach(function(An){var Ci=[_n,zt].indexOf(An)>=0?1:-1,hi=[yn,zt].indexOf(An)>=0?"y":"x";Bt[An]+=qn[hi]*Ci})}return Bt}function Ko(A,d){d===void 0&&(d={});var v=d,R=v.placement,j=v.boundary,z=v.rootBoundary,Z=v.padding,ce=v.flipVariations,fe=v.allowedAutoPlacements,_e=fe===void 0?Gs:fe,Te=Mn(R),ye=Te?ce?Fs:Fs.filter(function(Ne){return Mn(Ne)===Te}):vn,Ue=ye.filter(function(Ne){return _e.indexOf(Ne)>=0});Ue.length===0&&(Ue=ye);var De=Ue.reduce(function(Ne,Me){return Ne[Me]=ir(A,{placement:Me,boundary:j,rootBoundary:z,padding:Z})[On(Me)],Ne},{});return Object.keys(De).sort(function(Ne,Me){return De[Ne]-De[Me]})}const ps={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,R=A.name;if(!d.modifiersData[R]._skip){for(var j=v.mainAxis,z=j===void 0||j,Z=v.altAxis,ce=Z===void 0||Z,fe=v.fallbackPlacements,_e=v.padding,Te=v.boundary,ye=v.rootBoundary,Ue=v.altBoundary,De=v.flipVariations,Ne=De===void 0||De,Me=v.allowedAutoPlacements,xe=d.options.placement,yt=On(xe),bt=fe||(yt!==xe&&Ne?(function(At){if(On(At)===Qn)return[];var qt=Er(At);return[Li(At),qt,Li(qt)]})(xe):[Er(xe)]),Pe=[xe].concat(bt).reduce(function(At,qt){return At.concat(On(qt)===Qn?Ko(d,{placement:qt,boundary:Te,rootBoundary:ye,padding:_e,flipVariations:Ne,allowedAutoPlacements:Me}):qt)},[]),Xe=d.rects.reference,ze=d.rects.popper,Je=new Map,ht=!0,ut=Pe[0],lt=0;lt<Pe.length;lt++){var Bt=Pe[lt],ci=On(Bt),qn=Mn(Bt)===jn,An=[yn,zt].indexOf(ci)>=0,Ci=An?"width":"height",hi=ir(d,{placement:Bt,boundary:Te,rootBoundary:ye,altBoundary:Ue,padding:_e}),Lt=An?qn?_n:Vt:qn?zt:yn;Xe[Ci]>ze[Ci]&&(Lt=Er(Lt));var Ht=Er(Lt),Zt=[];if(z&&Zt.push(hi[ci]<=0),ce&&Zt.push(hi[Lt]<=0,hi[Ht]<=0),Zt.every(function(At){return At})){ut=Bt,ht=!1;break}Je.set(Bt,Zt)}if(ht)for(var Ri=function(At){var qt=Pe.find(function(kt){var wt=Je.get(kt);if(wt)return wt.slice(0,At).every(function(ra){return ra})});if(qt)return ut=qt,"break"},an=Ne?3:1;an>0&&Ri(an)!=="break";an--);d.placement!==ut&&(d.modifiersData[R]._skip=!0,d.placement=ut,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Qo(A,d,v){return v===void 0&&(v={x:0,y:0}),{top:A.top-d.height-v.y,right:A.right-d.width+v.x,bottom:A.bottom-d.height+v.y,left:A.left-d.width-v.x}}function Yo(A){return[yn,_n,zt,Vt].some(function(d){return A[d]>=0})}const gs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,v=A.name,R=d.rects.reference,j=d.rects.popper,z=d.modifiersData.preventOverflow,Z=ir(d,{elementContext:"reference"}),ce=ir(d,{altBoundary:!0}),fe=Qo(Z,R),_e=Qo(ce,j,z),Te=Yo(fe),ye=Yo(_e);d.modifiersData[v]={referenceClippingOffsets:fe,popperEscapeOffsets:_e,isReferenceHidden:Te,hasPopperEscaped:ye},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Te,"data-popper-escaped":ye})}},Ha={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,v=A.options,R=A.name,j=v.offset,z=j===void 0?[0,0]:j,Z=Gs.reduce(function(Te,ye){return Te[ye]=(function(Ue,De,Ne){var Me=On(Ue),xe=[Vt,yn].indexOf(Me)>=0?-1:1,yt=typeof Ne=="function"?Ne(Object.assign({},De,{placement:Ue})):Ne,bt=yt[0],Pe=yt[1];return bt=bt||0,Pe=(Pe||0)*xe,[Vt,_n].indexOf(Me)>=0?{x:Pe,y:bt}:{x:bt,y:Pe}})(ye,d.rects,z),Te},{}),ce=Z[d.placement],fe=ce.x,_e=ce.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=fe,d.modifiersData.popperOffsets.y+=_e),d.modifiersData[R]=Z}},qa={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,v=A.name;d.modifiersData[v]=nr({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Ws={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,R=A.name,j=v.mainAxis,z=j===void 0||j,Z=v.altAxis,ce=Z!==void 0&&Z,fe=v.boundary,_e=v.rootBoundary,Te=v.altBoundary,ye=v.padding,Ue=v.tether,De=Ue===void 0||Ue,Ne=v.tetherOffset,Me=Ne===void 0?0:Ne,xe=ir(d,{boundary:fe,rootBoundary:_e,padding:ye,altBoundary:Te}),yt=On(d.placement),bt=Mn(d.placement),Pe=!bt,Xe=Oi(yt),ze=Xe==="x"?"y":"x",Je=d.modifiersData.popperOffsets,ht=d.rects.reference,ut=d.rects.popper,lt=typeof Me=="function"?Me(Object.assign({},d.rects,{placement:d.placement})):Me,Bt=typeof lt=="number"?{mainAxis:lt,altAxis:lt}:Object.assign({mainAxis:0,altAxis:0},lt),ci=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,qn={x:0,y:0};if(Je){if(z){var An,Ci=Xe==="y"?yn:Vt,hi=Xe==="y"?zt:_n,Lt=Xe==="y"?"height":"width",Ht=Je[Xe],Zt=Ht+xe[Ci],Ri=Ht-xe[hi],an=De?-ut[Lt]/2:0,At=bt===jn?ht[Lt]:ut[Lt],qt=bt===jn?-ut[Lt]:-ht[Lt],kt=d.elements.arrow,wt=De&&kt?fs(kt):{width:0,height:0},ra=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ir=ra[Ci],qe=ra[hi],ft=er(0,ht[Lt],wt[Lt]),on=Pe?ht[Lt]/2-an-ft-Ir-Bt.mainAxis:At-ft-Ir-Bt.mainAxis,Gl=Pe?-ht[Lt]/2+an+ft+qe+Bt.mainAxis:qt+ft+qe+Bt.mainAxis,Rs=d.elements.arrow&&Ni(d.elements.arrow),sa=Rs?Xe==="y"?Rs.clientTop||0:Rs.clientLeft||0:0,ol=(An=ci?.[Xe])!=null?An:0,ll=Ht+Gl-ol,aa=er(De?Zi(Zt,Ht+on-ol-sa):Zt,Ht,De?_r(Ri,ll):Ri);Je[Xe]=aa,qn[Xe]=aa-Ht}if(ce){var sf,Ft=Xe==="x"?yn:Vt,wc=Xe==="x"?zt:_n,Yr=Je[ze],ul=ze==="y"?"height":"width",Sc=Yr+xe[Ft],af=Yr-xe[wc],cl=[yn,Vt].indexOf(yt)!==-1,$l=(sf=ci?.[ze])!=null?sf:0,Kl=cl?Sc:Yr-ht[ul]-ut[ul]-$l+Bt.altAxis,Fn=cl?Yr+ht[ul]+ut[ul]-$l-Bt.altAxis:af,Gt=De&&cl?(function(Ql,hl,so){var Yl=er(Ql,hl,so);return Yl>so?so:Yl})(Kl,Yr,Fn):er(De?Kl:Sc,Yr,De?Fn:af);Je[ze]=Gt,qn[ze]=Gt-Yr}d.modifiersData[R]=qn}},requiresIfExists:["offset"]};function Ol(A,d,v){v===void 0&&(v=!1);var R,j,z=Nn(d),Z=Nn(d)&&(function(ye){var Ue=ye.getBoundingClientRect(),De=dn(Ue.width)/ye.offsetWidth||1,Ne=dn(Ue.height)/ye.offsetHeight||1;return De!==1||Ne!==1})(d),ce=En(d),fe=vr(A,Z,v),_e={scrollLeft:0,scrollTop:0},Te={x:0,y:0};return(z||!z&&!v)&&((hn(d)!=="body"||ki(ce))&&(_e=(R=d)!==fn(R)&&Nn(R)?{scrollLeft:(j=R).scrollLeft,scrollTop:j.scrollTop}:mn(R)),Nn(d)?((Te=vr(d,!0)).x+=d.clientLeft,Te.y+=d.clientTop):ce&&(Te.x=tr(ce))),{x:fe.left+_e.scrollLeft-Te.x,y:fe.top+_e.scrollTop-Te.y,width:fe.width,height:fe.height}}function Ml(A){var d=new Map,v=new Set,R=[];function j(z){v.add(z.name),[].concat(z.requires||[],z.requiresIfExists||[]).forEach(function(Z){if(!v.has(Z)){var ce=d.get(Z);ce&&j(ce)}}),R.push(z)}return A.forEach(function(z){d.set(z.name,z)}),A.forEach(function(z){v.has(z.name)||j(z)}),R}var rr={placement:"bottom",modifiers:[],strategy:"absolute"};function Xo(){for(var A=arguments.length,d=new Array(A),v=0;v<A;v++)d[v]=arguments[v];return!d.some(function(R){return!(R&&typeof R.getBoundingClientRect=="function")})}function Js(A){A===void 0&&(A={});var d=A,v=d.defaultModifiers,R=v===void 0?[]:v,j=d.defaultOptions,z=j===void 0?rr:j;return function(Z,ce,fe){fe===void 0&&(fe=z);var _e,Te,ye={placement:"bottom",orderedModifiers:[],options:Object.assign({},rr,z),modifiersData:{},elements:{reference:Z,popper:ce},attributes:{},styles:{}},Ue=[],De=!1,Ne={state:ye,setOptions:function(xe){var yt=typeof xe=="function"?xe(ye.options):xe;Me(),ye.options=Object.assign({},z,ye.options,yt),ye.scrollParents={reference:rn(Z)?Hr(Z):Z.contextElement?Hr(Z.contextElement):[],popper:Hr(ce)};var bt,Pe,Xe=(function(ze){var Je=Ml(ze);return hs.reduce(function(ht,ut){return ht.concat(Je.filter(function(lt){return lt.phase===ut}))},[])})((bt=[].concat(R,ye.options.modifiers),Pe=bt.reduce(function(ze,Je){var ht=ze[Je.name];return ze[Je.name]=ht?Object.assign({},ht,Je,{options:Object.assign({},ht.options,Je.options),data:Object.assign({},ht.data,Je.data)}):Je,ze},{}),Object.keys(Pe).map(function(ze){return Pe[ze]})));return ye.orderedModifiers=Xe.filter(function(ze){return ze.enabled}),ye.orderedModifiers.forEach(function(ze){var Je=ze.name,ht=ze.options,ut=ht===void 0?{}:ht,lt=ze.effect;if(typeof lt=="function"){var Bt=lt({state:ye,name:Je,instance:Ne,options:ut});Ue.push(Bt||function(){})}}),Ne.update()},forceUpdate:function(){if(!De){var xe=ye.elements,yt=xe.reference,bt=xe.popper;if(Xo(yt,bt)){ye.rects={reference:Ol(yt,Ni(bt),ye.options.strategy==="fixed"),popper:fs(bt)},ye.reset=!1,ye.placement=ye.options.placement,ye.orderedModifiers.forEach(function(lt){return ye.modifiersData[lt.name]=Object.assign({},lt.data)});for(var Pe=0;Pe<ye.orderedModifiers.length;Pe++)if(ye.reset!==!0){var Xe=ye.orderedModifiers[Pe],ze=Xe.fn,Je=Xe.options,ht=Je===void 0?{}:Je,ut=Xe.name;typeof ze=="function"&&(ye=ze({state:ye,options:ht,name:ut,instance:Ne})||ye)}else ye.reset=!1,Pe=-1}}},update:(_e=function(){return new Promise(function(xe){Ne.forceUpdate(),xe(ye)})},function(){return Te||(Te=new Promise(function(xe){Promise.resolve().then(function(){Te=void 0,xe(_e())})})),Te}),destroy:function(){Me(),De=!0}};if(!Xo(Z,ce))return Ne;function Me(){Ue.forEach(function(xe){return xe()}),Ue=[]}return Ne.setOptions(fe).then(function(xe){!De&&fe.onFirstUpdate&&fe.onFirstUpdate(xe)}),Ne}}var Vl=Js(),Ll=Js({defaultModifiers:[Ur,qa,Vi,Ks]}),br=Js({defaultModifiers:[Ur,qa,Vi,Ks,Ha,ps,Ws,Mi,gs]});const zn=Object.freeze(Object.defineProperty({__proto__:null,afterMain:cn,afterRead:$s,afterWrite:mt,applyStyles:Ks,arrow:Mi,auto:Qn,basePlacements:vn,beforeMain:ui,beforeRead:ka,beforeWrite:Pr,bottom:zt,clippingParents:La,computeStyles:Vi,createPopper:br,createPopperBase:Vl,createPopperLite:Ll,detectOverflow:ir,end:Nt,eventListeners:Ur,flip:ps,hide:gs,left:Vt,main:Wt,modifierPhases:hs,offset:Ha,placements:Gs,popper:Yn,popperGenerator:Js,popperOffsets:qa,preventOverflow:Ws,read:Fo,reference:Ji,right:_n,start:jn,top:yn,variationPlacements:Fs,viewport:qs,write:Pa},Symbol.toStringTag,{value:"Module"})),Wo="dropdown",Ar=".bs.dropdown",sr=".data-api",c="ArrowUp",_="ArrowDown",T=`hide${Ar}`,I=`hidden${Ar}`,F=`show${Ar}`,Y=`shown${Ar}`,de=`click${Ar}${sr}`,He=`keydown${Ar}${sr}`,Jt=`keyup${Ar}${sr}`,Ze="show",pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Pi=`${pt}.${Ze}`,Ti=".dropdown-menu",ar=ee()?"top-end":"top-start",or=ee()?"top-start":"top-end",Zs=ee()?"bottom-end":"bottom-start",Fa=ee()?"bottom-start":"bottom-end",Ga=ee()?"left-start":"right-start",nm=ee()?"right-start":"left-start",im={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rm={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ji extends je{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,Ti)[0]||ge.prev(this._element,Ti)[0]||ge.findOne(Ti,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return im}static get DefaultType(){return rm}static get NAME(){return Wo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(C(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!x.trigger(this._element,F,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))x.on(v,"mouseover",B);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ze),this._element.classList.add(Ze),x.trigger(this._element,Y,d)}}hide(){if(C(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!x.trigger(this._element,T,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))x.off(v,"mouseover",B);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ze),this._element.classList.remove(Ze),this._element.setAttribute("aria-expanded","false"),Ce.removeDataAttribute(this._menu,"popper"),x.trigger(this._element,I,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!g(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Wo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(zn===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:g(this._config.reference)?d=y(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=br(d,this._menu,v)}_isShown(){return this._menu.classList.contains(Ze)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Ga;if(d.classList.contains("dropstart"))return nm;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?or:ar:v?Fa:Zs}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ce.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...he(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:v}){const R=ge.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(j=>w(j));R.length&&Ke(R,v,d===_,!R.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=ji.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ge.find(Pi);for(const R of v){const j=ji.getInstance(R);if(!j||j._config.autoClose===!1)continue;const z=d.composedPath(),Z=z.includes(j._menu);if(z.includes(j._element)||j._config.autoClose==="inside"&&!Z||j._config.autoClose==="outside"&&Z||j._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ce={relatedTarget:j._element};d.type==="click"&&(ce.clickEvent=d),j._completeHide(ce)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),R=d.key==="Escape",j=[c,_].includes(d.key);if(!j&&!R||v&&!R)return;d.preventDefault();const z=this.matches(pt)?this:ge.prev(this,pt)[0]||ge.next(this,pt)[0]||ge.findOne(pt,d.delegateTarget.parentNode),Z=ji.getOrCreateInstance(z);if(j)return d.stopPropagation(),Z.show(),void Z._selectMenuItem(d);Z._isShown()&&(d.stopPropagation(),Z.hide(),z.focus())}}x.on(document,He,pt,ji.dataApiKeydownHandler),x.on(document,He,Ti,ji.dataApiKeydownHandler),x.on(document,de,ji.clearMenus),x.on(document,Jt,ji.clearMenus),x.on(document,de,pt,function(A){A.preventDefault(),ji.getOrCreateInstance(this).toggle()}),le(ji);const Qu="backdrop",$a="show",Ka=`mousedown.bs.${Qu}`,sm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Yu extends ke{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return sm}static get DefaultType(){return kl}static get NAME(){return Qu}show(d){if(!this._config.isVisible)return void he(d);this._append();const v=this._getElement();this._config.isAnimated&&W(v),v.classList.add($a),this._emulateAnimation(()=>{he(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove($a),this._emulateAnimation(()=>{this.dispose(),he(d)})):he(d)}dispose(){this._isAppended&&(x.off(this._element,Ka),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=y(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),x.on(d,Ka,()=>{he(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){Be(d,this._getElement(),this._config.isAnimated)}}const Jo=".bs.focustrap",Xu=`focusin${Jo}`,Wu=`keydown.tab${Jo}`,Ju="backward",jh={autofocus:!0,trapElement:null},Uh={autofocus:"boolean",trapElement:"element"};class zh extends ke{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return jh}static get DefaultType(){return Uh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),x.off(document,Jo),x.on(document,Xu,d=>this._handleFocusin(d)),x.on(document,Wu,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,x.off(document,Jo))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const R=ge.focusableChildren(v);R.length===0?v.focus():this._lastTabNavDirection===Ju?R[R.length-1].focus():R[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Ju:"forward")}}const Bh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Hh=".sticky-top",Pl="padding-right",qh="margin-right";class Xn{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Pl,v=>v+d),this._setElementAttributes(Bh,Pl,v=>v+d),this._setElementAttributes(Hh,qh,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Pl),this._resetElementAttributes(Bh,Pl),this._resetElementAttributes(Hh,qh)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,R){const j=this.getWidth();this._applyManipulationCallback(d,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+j)return;this._saveInitialAttribute(z,v);const Z=window.getComputedStyle(z).getPropertyValue(v);z.style.setProperty(v,`${R(Number.parseFloat(Z))}px`)})}_saveInitialAttribute(d,v){const R=d.style.getPropertyValue(v);R&&Ce.setDataAttribute(d,v,R)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,R=>{const j=Ce.getDataAttribute(R,v);j!==null?(Ce.removeDataAttribute(R,v),R.style.setProperty(v,j)):R.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(g(d))v(d);else for(const R of ge.find(d,this._element))v(R)}}const Bn=".bs.modal",Fh=`hide${Bn}`,Gh=`hidePrevented${Bn}`,Zu=`hidden${Bn}`,ec=`show${Bn}`,tc=`shown${Bn}`,am=`resize${Bn}`,Qa=`click.dismiss${Bn}`,nc=`mousedown.dismiss${Bn}`,Zo=`keydown.dismiss${Bn}`,ic=`click${Bn}.data-api`,rc="modal-open",ys="show",_s="modal-static",sc={backdrop:!0,focus:!0,keyboard:!0},$h={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bi extends je{constructor(d,v){super(d,v),this._dialog=ge.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xn,this._addEventListeners()}static get Default(){return sc}static get DefaultType(){return $h}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||x.trigger(this._element,ec,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(rc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(x.trigger(this._element,Fh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ys),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){x.off(window,Bn),x.off(this._dialog,Bn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Yu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zh({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ge.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),W(this._element),this._element.classList.add(ys),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,x.trigger(this._element,tc,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){x.on(this._element,Zo,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),x.on(window,am,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),x.on(this._element,nc,d=>{x.one(this._element,Qa,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(rc),this._resetAdjustments(),this._scrollBar.reset(),x.trigger(this._element,Zu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(x.trigger(this._element,Gh).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(_s)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(_s),this._queueCallback(()=>{this._element.classList.remove(_s),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),R=v>0;if(R&&!d){const j=ee()?"paddingLeft":"paddingRight";this._element.style[j]=`${v}px`}if(!R&&d){const j=ee()?"paddingRight":"paddingLeft";this._element.style[j]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const R=bi.getOrCreateInstance(this,d);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d](v)}})}}x.on(document,ic,'[data-bs-toggle="modal"]',function(A){const d=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),x.one(d,ec,R=>{R.defaultPrevented||x.one(d,Zu,()=>{w(this)&&this.focus()})});const v=ge.findOne(".modal.show");v&&bi.getInstance(v).hide(),bi.getOrCreateInstance(d).toggle(this)}),dr(bi),le(bi);const wr=".bs.offcanvas",ac=".data-api",Kh=`load${wr}${ac}`,Qh="show",Yh="showing",Xh="hiding",oc=".offcanvas.show",Wh=`show${wr}`,lc=`shown${wr}`,lr=`hide${wr}`,el=`hidePrevented${wr}`,Ai=`hidden${wr}`,Ya=`resize${wr}`,uc=`click${wr}${ac}`,jl=`keydown.dismiss${wr}`,Ul={backdrop:!0,keyboard:!0,scroll:!1},cc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Wn extends je{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ul}static get DefaultType(){return cc}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||x.trigger(this._element,Wh,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Xn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Yh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Qh),this._element.classList.remove(Yh),x.trigger(this._element,lc,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(x.trigger(this._element,lr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xh),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Qh,Xh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Xn().reset(),x.trigger(this._element,Ai)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new Yu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():x.trigger(this._element,el)}:null})}_initializeFocusTrap(){return new zh({trapElement:this._element})}_addEventListeners(){x.on(this._element,jl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():x.trigger(this._element,el))})}static jQueryInterface(d){return this.each(function(){const v=Wn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}x.on(document,uc,'[data-bs-toggle="offcanvas"]',function(A){const d=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),C(this))return;x.one(d,Ai,()=>{w(this)&&this.focus()});const v=ge.findOne(oc);v&&v!==d&&Wn.getInstance(v).hide(),Wn.getOrCreateInstance(d).toggle(this)}),x.on(window,Kh,()=>{for(const A of ge.find(oc))Wn.getOrCreateInstance(A).show()}),x.on(window,Ya,()=>{for(const A of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&Wn.getOrCreateInstance(A).hide()}),dr(Wn),le(Wn);const hc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,om=(A,d)=>{const v=A.nodeName.toLowerCase();return d.includes(v)?!zl.has(v)||!!Xa.test(A.nodeValue):d.filter(R=>R instanceof RegExp).some(R=>R.test(v))},wi={allowList:hc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},qr={entry:"(string|element|function|null)",selector:"(string|element)"};class Jh extends ke{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return wi}static get DefaultType(){return fc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[j,z]of Object.entries(this._config.content))this._setContent(d,z,j);const v=d.children[0],R=this._resolvePossibleFunction(this._config.extraClass);return R&&v.classList.add(...R.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,R]of Object.entries(d))super._typeCheckConfig({selector:v,entry:R},qr)}_setContent(d,v,R){const j=ge.findOne(R,d);j&&((v=this._resolvePossibleFunction(v))?g(v)?this._putElementInTemplate(y(v),j):this._config.html?j.innerHTML=this._maybeSanitize(v):j.textContent=v:j.remove())}_maybeSanitize(d){return this._config.sanitize?(function(v,R,j){if(!v.length)return v;if(j&&typeof j=="function")return j(v);const z=new window.DOMParser().parseFromString(v,"text/html"),Z=[].concat(...z.body.querySelectorAll("*"));for(const ce of Z){const fe=ce.nodeName.toLowerCase();if(!Object.keys(R).includes(fe)){ce.remove();continue}const _e=[].concat(...ce.attributes),Te=[].concat(R["*"]||[],R[fe]||[]);for(const ye of _e)om(ye,Te)||ce.removeAttribute(ye.nodeName)}return z.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return he(d,[void 0,this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const Bl=new Set(["sanitize","allowList","sanitizeFn"]),Fr="fade",Wa="show",Zh=".tooltip-inner",Hl=".modal",dc="hide.bs.modal",Hn="hover",vs="focus",Es="click",ql={AUTO:"auto",TOP:"top",RIGHT:ee()?"left":"right",BOTTOM:"bottom",LEFT:ee()?"right":"left"},tl={allowList:hc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ui={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tn extends je{constructor(d,v){if(zn===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return tl}static get DefaultType(){return Ui}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),x.off(this._element.closest(Hl),dc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=x.trigger(this._element,this.constructor.eventName("show")),v=(D(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const R=this._getTipElement();this._element.setAttribute("aria-describedby",R.getAttribute("id"));const{container:j}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(j.append(R),x.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(R),R.classList.add(Wa),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))x.on(z,"mouseover",B);this._queueCallback(()=>{x.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!x.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Wa),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))x.off(d,"mouseover",B);this._activeTrigger[Es]=!1,this._activeTrigger[vs]=!1,this._activeTrigger[Hn]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),x.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(Fr,Wa),v.classList.add(`bs-${this.constructor.NAME}-auto`);const R=(j=>{do j+=Math.floor(1e6*Math.random());while(document.getElementById(j));return j})(this.constructor.NAME).toString();return v.setAttribute("id",R),this._isAnimated()&&v.classList.add(Fr),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Jh({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Zh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Fr)}_isShown(){return this.tip&&this.tip.classList.contains(Wa)}_createPopper(d){const v=he(this._config.placement,[this,d,this._element]),R=ql[v.toUpperCase()];return br(this._element,d,this._getPopperConfig(R))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return he(d,[this._element,this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:R=>{this._getTipElement().setAttribute("data-popper-placement",R.state.placement)}}]};return{...v,...he(this._config.popperConfig,[void 0,v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")x.on(this._element,this.constructor.eventName("click"),this._config.selector,R=>{const j=this._initializeOnDelegatedTarget(R);j._activeTrigger[Es]=!(j._isShown()&&j._activeTrigger[Es]),j.toggle()});else if(v!=="manual"){const R=v===Hn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),j=v===Hn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");x.on(this._element,R,this._config.selector,z=>{const Z=this._initializeOnDelegatedTarget(z);Z._activeTrigger[z.type==="focusin"?vs:Hn]=!0,Z._enter()}),x.on(this._element,j,this._config.selector,z=>{const Z=this._initializeOnDelegatedTarget(z);Z._activeTrigger[z.type==="focusout"?vs:Hn]=Z._element.contains(z.relatedTarget),Z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},x.on(this._element.closest(Hl),dc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=Ce.getDataAttributes(this._element);for(const R of Object.keys(v))Bl.has(R)&&delete v[R];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:y(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,R]of Object.entries(this._config))this.constructor.Default[v]!==R&&(d[v]=R);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Tn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}le(Tn);const Ts=".popover-header",Sr=".popover-body",Cr={...Tn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Gr={...Tn.DefaultType,content:"(null|string|element|function)"};class nl extends Tn{static get Default(){return Cr}static get DefaultType(){return Gr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ts]:this._getTitle(),[Sr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=nl.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}le(nl);const il=".bs.scrollspy",mc=`activate${il}`,pc=`click${il}`,Vn=`load${il}.data-api`,gt="active",We="[href]",$r=".nav-link",zi=`${$r}, .nav-item > ${$r}, .list-group-item`,gc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},bs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ja extends je{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gc}static get DefaultType(){return bs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=y(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(x.off(this._config.target,pc),x.on(this._config.target,pc,We,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const R=this._rootElement||window,j=v.offsetTop-this._element.offsetTop;if(R.scrollTo)return void R.scrollTo({top:j,behavior:"smooth"});R.scrollTop=j}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=Z=>this._targetLinks.get(`#${Z.target.id}`),R=Z=>{this._previousScrollData.visibleEntryTop=Z.target.offsetTop,this._process(v(Z))},j=(this._rootElement||document.documentElement).scrollTop,z=j>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=j;for(const Z of d){if(!Z.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(Z));continue}const ce=Z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&ce){if(R(Z),!j)return}else z||ce||R(Z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ge.find(We,this._config.target);for(const v of d){if(!v.hash||C(v))continue;const R=ge.findOne(decodeURI(v.hash),this._element);w(R)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,R))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(gt),this._activateParents(d),x.trigger(this._element,mc,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ge.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(gt);else for(const v of ge.parents(d,".nav, .list-group"))for(const R of ge.prev(v,zi))R.classList.add(gt)}_clearActiveClass(d){d.classList.remove(gt);const v=ge.find(`${We}.${gt}`,d);for(const R of v)R.classList.remove(gt)}static jQueryInterface(d){return this.each(function(){const v=Ja.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}x.on(window,Vn,()=>{for(const A of ge.find('[data-bs-spy="scroll"]'))Ja.getOrCreateInstance(A)}),le(Ja);const As=".bs.tab",Za=`hide${As}`,ea=`hidden${As}`,yc=`show${As}`,rl=`shown${As}`,_c=`click${As}`,ta=`keydown${As}`,Kr=`load${As}`,ws="ArrowLeft",Rr="ArrowRight",vc="ArrowUp",Fl="ArrowDown",Ss="Home",sl="End",Si="active",bn="fade",eo="show",Ec=".dropdown-toggle",Tc=`:not(${Ec})`,ef='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',bc=`.nav-link${Tc}, .list-group-item${Tc}, [role="tab"]${Tc}, ${ef}`,sn=`.${Si}[data-bs-toggle="tab"], .${Si}[data-bs-toggle="pill"], .${Si}[data-bs-toggle="list"]`;class Qr extends je{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),x.on(this._element,ta,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),R=v?x.trigger(v,Za,{relatedTarget:d}):null;x.trigger(d,yc,{relatedTarget:v}).defaultPrevented||R&&R.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(Si),this._activate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),x.trigger(d,rl,{relatedTarget:v})):d.classList.add(eo)},d,d.classList.contains(bn)))}_deactivate(d,v){d&&(d.classList.remove(Si),d.blur(),this._deactivate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),x.trigger(d,ea,{relatedTarget:v})):d.classList.remove(eo)},d,d.classList.contains(bn)))}_keydown(d){if(![ws,Rr,vc,Fl,Ss,sl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(j=>!C(j));let R;if([Ss,sl].includes(d.key))R=v[d.key===Ss?0:v.length-1];else{const j=[Rr,Fl].includes(d.key);R=Ke(v,d.target,j,!0)}R&&(R.focus({preventScroll:!0}),Qr.getOrCreateInstance(R).show())}_getChildren(){return ge.find(bc,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const R of v)this._setInitialAttributesOnChild(R)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),R=this._getOuterElement(d);d.setAttribute("aria-selected",v),R!==d&&this._setAttributeIfNotExists(R,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ge.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const R=this._getOuterElement(d);if(!R.classList.contains("dropdown"))return;const j=(z,Z)=>{const ce=ge.findOne(z,R);ce&&ce.classList.toggle(Z,v)};j(Ec,Si),j(".dropdown-menu",eo),R.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,R){d.hasAttribute(v)||d.setAttribute(v,R)}_elemIsActive(d){return d.classList.contains(Si)}_getInnerElement(d){return d.matches(bc)?d:ge.findOne(bc,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=Qr.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}x.on(document,_c,ef,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),C(this)||Qr.getOrCreateInstance(this).show()}),x.on(window,Kr,()=>{for(const A of ge.find(sn))Qr.getOrCreateInstance(A)}),le(Qr);const Bi=".bs.toast",al=`mouseover${Bi}`,Ac=`mouseout${Bi}`,to=`focusin${Bi}`,no=`focusout${Bi}`,lm=`hide${Bi}`,tf=`hidden${Bi}`,um=`show${Bi}`,nf=`shown${Bi}`,Cs="hide",io="show",na="showing",rf={animation:"boolean",autohide:"boolean",delay:"number"},ro={animation:!0,autohide:!0,delay:5e3};class ia extends je{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ro}static get DefaultType(){return rf}static get NAME(){return"toast"}show(){x.trigger(this._element,um).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Cs),W(this._element),this._element.classList.add(io,na),this._queueCallback(()=>{this._element.classList.remove(na),x.trigger(this._element,nf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(x.trigger(this._element,lm).defaultPrevented||(this._element.classList.add(na),this._queueCallback(()=>{this._element.classList.add(Cs),this._element.classList.remove(na,io),x.trigger(this._element,tf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(io),super.dispose()}isShown(){return this._element.classList.contains(io)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const R=d.relatedTarget;this._element===R||this._element.contains(R)||this._maybeScheduleHide()}_setListeners(){x.on(this._element,al,d=>this._onInteraction(d,!0)),x.on(this._element,Ac,d=>this._onInteraction(d,!1)),x.on(this._element,to,d=>this._onInteraction(d,!0)),x.on(this._element,no,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=ia.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return dr(ia),le(ia),{Alert:ai,Button:Yi,Carousel:cs,Collapse:kr,Dropdown:ji,Modal:bi,Offcanvas:Wn,Popover:nl,ScrollSpy:Ja,Tab:Qr,Toast:ia,Tooltip:Tn}})})(ud)),ud.exports}F2();function G2(){return b.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:b.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[b.jsxs(pu,{className:"navbar-brand fw-bold fs-1",to:"/",children:[b.jsx("span",{className:"text-dark",children:"Salamat"}),b.jsx("span",{className:"text-white",children:"Doc"})]}),b.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:b.jsx("span",{className:"navbar-toggler-icon"})}),b.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:b.jsxs("ul",{className:"navbar-nav",children:[b.jsx("li",{className:"nav-item",children:b.jsx(pu,{className:"nav-link text-dark",to:"/login",children:"Login"})}),b.jsxs("li",{className:"nav-item dropdown",children:[b.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),b.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[b.jsx("li",{children:b.jsx(pu,{className:"dropdown-item",to:"/about",children:"About Us"})}),b.jsx("li",{children:b.jsx(pu,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function $2(){const{user:r,profile:e,loading:n}=Cl(),s=js();if(n)return b.jsx("div",{children:"Loading..."});const o=e?.role||null;let u=null;o==="admin"&&s.pathname.startsWith("/admin")?u=b.jsx(z2,{}):o==="doctor"&&s.pathname.startsWith("/doctor")?u=b.jsx(B2,{}):o==="patient"&&s.pathname.startsWith("/patient")&&(u=b.jsx(H2,{}));const f=!u;return b.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[u&&b.jsx("div",{style:{width:"250px",flexShrink:0},children:u}),b.jsxs("div",{style:{flexGrow:1},children:[f&&b.jsx(G2,{}),b.jsx(FS,{})]})]})}function Jr({children:r,allowedRoles:e=[]}){const{user:n,profile:s,loading:o}=Cl(),u=js();return o?b.jsx("p",{children:"Loading..."}):n?e.length>0&&!e.includes(s?.role)?(console.warn(`Unauthorized: ${s?.role} cannot access this page.`),b.jsx(hE,{to:"/login",replace:!0})):r:b.jsx(hE,{to:"/login",state:{from:u},replace:!0})}function K2(){return b.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-white",style:{backgroundImage:"url('../Home.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:b.jsxs("div",{className:"container bg-white text-dark rounded-4 shadow-lg p-5",style:{maxWidth:"700px"},children:[b.jsx("h1",{className:"fw-bold mb-4",children:"Accessible Online Health"}),b.jsx("p",{className:"lead",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective for all."}),b.jsx("p",{children:"With a future-oriented mindset, we don’t shy away from technology. This has allowed us to remotely connect you to our partnered doctors , ensuring you stay fit and healthy even in the comfort of your own home."}),b.jsx("hr",{}),b.jsx("p",{className:"mb-0",children:b.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})}const ti=[];for(let r=0;r<256;++r)ti.push((r+256).toString(16).slice(1));function Q2(r,e=0){return(ti[r[e+0]]+ti[r[e+1]]+ti[r[e+2]]+ti[r[e+3]]+"-"+ti[r[e+4]]+ti[r[e+5]]+"-"+ti[r[e+6]]+ti[r[e+7]]+"-"+ti[r[e+8]]+ti[r[e+9]]+"-"+ti[r[e+10]]+ti[r[e+11]]+ti[r[e+12]]+ti[r[e+13]]+ti[r[e+14]]+ti[r[e+15]]).toLowerCase()}let Bp;const Y2=new Uint8Array(16);function X2(){if(!Bp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bp=crypto.getRandomValues.bind(crypto)}return Bp(Y2)}const W2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),FT={randomUUID:W2};function J2(r,e,n){r=r||{};const s=r.random??r.rng?.()??X2();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Q2(s)}function Z2(r,e,n){return FT.randomUUID&&!r?FT.randomUUID():J2(r)}function eO(){const r=Nd(),[e,n]=K.useState(""),s=async o=>{o.preventDefault();const u=o.target.email.value,f=o.target.password.value;try{const g=(await aI(tm,u,f)).user,y=Ia(Or,"users",g.uid),w=await qu(y);if(w.exists()){const C=w.data();if(console.log("Profile:",C),!C.token){const D=Z2();await DA(y,{token:D}),C.token=D}switch(localStorage.setItem("userProfile",JSON.stringify(C)),localStorage.setItem("authToken",C.token),console.log("Profile loaded:",C),C.role){case"admin":r("/admin/dashboard");break;case"doctor":r("/doctor/dashboard");break;case"patient":r("/patient/dashboard");break;default:alert("No valid role found. Please contact support."),r("/login")}}}catch(p){console.error("Login failed:",p.message),n("Invalid email or password")}};return b.jsx("div",{style:{backgroundImage:"url('../login.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:b.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:b.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:b.jsxs("div",{className:"card p-4 shadow-lg",style:{width:"22rem"},children:[b.jsx("h2",{className:"text-center mb-4",children:"Login"}),b.jsxs("form",{className:"mx-auto",onSubmit:s,children:[b.jsxs("div",{className:"mb-3 text-center",children:[b.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),b.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),b.jsxs("div",{className:"mb-3 text-center",children:[b.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),b.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&b.jsx("p",{className:"text-danger text-center",children:e}),b.jsx("div",{className:"d-flex justify-content-center",children:b.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),b.jsx("div",{className:"text-center mt-3",children:b.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password?"})})]})]})})})})}function tO(){return b.jsx("div",{style:{backgroundImage:"url('../Home.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:b.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",minHeight:"100vh"},children:b.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:b.jsxs("div",{className:"card p-4 shadow-lg",style:{maxWidth:"700px"},children:[b.jsx("h1",{className:"fw-bold mb-4",children:"Accessible Online Health"}),b.jsx("p",{className:"lead",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective for all."}),b.jsx("p",{children:"With a future-oriented mindset, we don’t shy away from technology. This has allowed us to remotely connect you to our partnered doctors , ensuring you stay fit and healthy even in the comfort of your own home."}),b.jsx("hr",{}),b.jsx("p",{className:"mb-0",children:b.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})})})}function nO(){return b.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-white",style:{backgroundImage:"url('../Contact.jpg')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:b.jsxs("div",{className:"container bg-white text-dark rounded-4 shadow-lg p-5",style:{maxWidth:"700px"},children:[b.jsx("h1",{className:"fw-bold mb-4",children:"Contact"}),b.jsx("p",{className:"fs-4",children:"Are you interested as a patient? Email us through SalamatDoc@applications.com to get the patient application process started. Through email, we’ll guide you however much you need throughout the process."}),b.jsx("p",{className:"fs-4",children:"Are you interested in becoming a SalamatDoc doctor? Email us through SalamatDoc@applications.com to begin. You will undergo an authentication and screening process for everyone’s safety, security, and health."}),b.jsx("hr",{}),b.jsx("p",{className:"",children:b.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})}const iO=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),MA=bh(Or,"users"),rO=()=>`USR-${iO()}`,sO=async r=>{try{const e=rO(),n={...r,token:e,createdAt:gg(),updatedAt:gg(),status:"active"},s=await k2(MA,n);return console.log("User added with ID:",s.id),{success:!0,id:s.id,token:e}}catch(e){throw console.error("Error adding user:",e),e}},aO=async()=>{try{const r=await Ah(MA),e=[];return r.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(r){throw console.error("Error getting users:",r),r}},oO=async(r,e)=>{try{const n=Ia(Or,"users",r),s={...e,updatedAt:gg()};return await DA(n,s),console.log("User updated successfully"),{success:!0}}catch(n){throw console.error("Error updating user:",n),n}},lO=async r=>{try{const e=Ia(Or,"users",r);return await L2(e),console.log("User deleted successfully"),{success:!0}}catch(e){throw console.error("Error deleting user:",e),e}};function uO(){const[r,e]=K.useState([]),[n,s]=K.useState(!0),[o,u]=K.useState(!1),[f,p]=K.useState(null),[g,y]=K.useState({name:"",email:"",role:"user",phone:"",address:""});K.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const ee=await aO();e(ee)}catch(ee){console.error("Error fetching users:",ee),alert("Failed to fetch users")}finally{s(!1)}},C=ee=>{const{name:le,value:he}=ee.target;y(Be=>({...Be,[le]:he}))},D=async ee=>{ee.preventDefault();try{if(f)await oO(f.id,g),alert("User updated successfully!");else{const le=await sO(g);alert(`User added successfully!
Token: ${le.token}`)}y({name:"",email:"",role:"user",phone:"",address:""}),u(!1),p(null),w()}catch(le){console.error("Error saving user:",le),alert("Failed to save user")}},B=ee=>{p(ee),y({name:ee.name||"",email:ee.email||"",role:ee.role||"user",phone:ee.phone||"",address:ee.address||""}),u(!0)},W=async ee=>{if(window.confirm("Are you sure you want to delete this user?"))try{await lO(ee),alert("User deleted successfully!"),w()}catch(le){console.error("Error deleting user:",le),alert("Failed to delete user")}},oe=()=>{p(null),y({name:"",email:"",role:"user",phone:"",address:""}),u(!0)},J=()=>{u(!1),p(null)};return b.jsxs("main",{style:{padding:"20px",width:"100%",backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[b.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[b.jsx("h1",{children:"Admin Dashboard"}),b.jsx("button",{onClick:oe,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add New User"})]}),n?b.jsx("p",{children:"Loading users..."}):b.jsx("div",{style:{overflowX:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[b.jsx("th",{style:uu,children:"Name"}),b.jsx("th",{style:uu,children:"Email"}),b.jsx("th",{style:uu,children:"Role"}),b.jsx("th",{style:uu,children:"Token"}),b.jsx("th",{style:uu,children:"Status"}),b.jsx("th",{style:uu,children:"Actions"})]})}),b.jsx("tbody",{children:r.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):r.map(ee=>b.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[b.jsx("td",{style:cu,children:ee.name}),b.jsx("td",{style:cu,children:ee.email}),b.jsx("td",{style:cu,children:ee.role}),b.jsx("td",{style:cu,children:b.jsx("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px",fontSize:"12px"},children:ee.token})}),b.jsx("td",{style:cu,children:b.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:ee.status==="active"?"#4CAF50":"#f44336",color:"white",fontSize:"12px"},children:ee.status})}),b.jsxs("td",{style:cu,children:[b.jsx("button",{onClick:()=>B(ee),style:cO,children:"Edit"}),b.jsx("button",{onClick:()=>W(ee.id),style:hO,children:"Delete"})]})]},ee.id))})]})})]}),o&&b.jsx("div",{style:fO,children:b.jsxs("div",{style:dO,children:[b.jsx("h2",{children:f?"Edit User":"Add New User"}),b.jsxs("form",{onSubmit:D,children:[b.jsxs("div",{style:Xc,children:[b.jsx("label",{style:Wc,children:"Name:"}),b.jsx("input",{type:"text",name:"name",value:g.name,onChange:C,required:!0,style:Jc})]}),b.jsxs("div",{style:Xc,children:[b.jsx("label",{style:Wc,children:"Email:"}),b.jsx("input",{type:"email",name:"email",value:g.email,onChange:C,required:!0,style:Jc})]}),b.jsxs("div",{style:Xc,children:[b.jsx("label",{style:Wc,children:"Role:"}),b.jsxs("select",{name:"role",value:g.role,onChange:C,style:Jc,children:[b.jsx("option",{value:"user",children:"User"}),b.jsx("option",{value:"admin",children:"Admin"}),b.jsx("option",{value:"moderator",children:"Moderator"})]})]}),b.jsxs("div",{style:Xc,children:[b.jsx("label",{style:Wc,children:"Phone:"}),b.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:C,style:Jc})]}),b.jsxs("div",{style:Xc,children:[b.jsx("label",{style:Wc,children:"Address:"}),b.jsx("textarea",{name:"address",value:g.address,onChange:C,style:{...Jc,minHeight:"80px"}})]}),b.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[b.jsx("button",{type:"submit",style:mO,children:f?"Update":"Create"}),b.jsx("button",{type:"button",onClick:J,style:pO,children:"Cancel"})]})]})]})})]})}const uu={padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},cu={padding:"12px"},cO={padding:"6px 12px",marginRight:"8px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},hO={padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},fO={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},dO={backgroundColor:"white",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto"},Xc={marginBottom:"15px"},Wc={display:"block",marginBottom:"5px",fontWeight:"500"},Jc={width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},mO={flex:1,padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},pO={flex:1,padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"};function gO(){return b.jsxs("div",{children:[b.jsx("h1",{children:"Management Dashboard"}),b.jsx("p",{children:"Welcome to the admin management panel."})]})}function yO(){return b.jsxs("div",{children:[b.jsx("h1",{children:"Management Profile"}),b.jsx("p",{children:"Admin details and management profile info go here."})]})}function _O(r){if(!r)return null;if(r instanceof Mt)return r.toDate();const e=new Date(r);return isNaN(e.getTime())?null:e}function vO(){const[r,e]=K.useState([]),[n,s]=K.useState([]),[o,u]=K.useState(!0);K.useEffect(()=>{f()},[]);const f=async()=>{try{const p=tm.currentUser;if(!p){console.error("No logged-in doctor found.");return}const g=p.uid,w=(await Ah(bh(Or,"users"))).docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.role==="patient"),D=(await Ah(bh(Or,"appointments"))).docs.map(B=>{const W=B.data();return{id:B.id,doctorID:W.doctorID?.trim()||"",patientID:W.patientID?.trim()||"",type:W.type||"",location:W.location||"",reason:W.reason||"",notes:W.notes||"N/A",dateTime:_O(W.dateTime)}}).filter(B=>B.doctorID===g);e(w),s(D)}catch(p){console.error("Error fetching dashboard data:",p)}finally{u(!1)}};return o?b.jsx("p",{className:"loading",children:"Loading dashboard..."}):b.jsxs("div",{className:"dashboard-container",children:[b.jsx("h1",{children:"Doctor Dashboard"}),b.jsxs("div",{className:"dashboard-grid",children:[b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"Patient Overview"}),b.jsxs("p",{children:["Active Patients: ",r.length]}),b.jsxs("p",{children:["Pending Checkups: ",Math.floor(r.length/4)]})]}),b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"Appointments"}),n.length>0?b.jsx("ul",{children:n.slice(0,5).map(p=>b.jsxs("li",{children:[b.jsx("strong",{children:p.type})," —"," ",p.dateTime?p.dateTime.toLocaleString():"Invalid Date",b.jsx("br",{}),b.jsxs("span",{children:["Reason: ",p.reason," ",b.jsx("br",{}),"Location: ",p.location]})]},p.id))}):b.jsx("p",{children:"No upcoming appointments"})]}),b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"Recent Activity"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Prescription sent to Mary"}),b.jsx("li",{children:"Updated records for Alex"})]})]})]}),b.jsx("div",{className:"dashboard-divider"}),b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"All Patients"}),b.jsx("ul",{children:r.map(p=>b.jsxs("li",{children:[p.first_name," ",p.last_name," — ",p.email]},p.id))})]})]})}function EO(r){if(!r)return null;if(r instanceof Mt)return r.toDate();const e=new Date(r);return isNaN(e.getTime())?null:e}function TO(){const{user:r,profile:e}=Cl(),[n,s]=K.useState([]),[o,u]=K.useState(!0);K.useEffect(()=>{r?.uid?f(r.uid.trim()):(console.warn("User UID not available yet."),u(!1))},[r]);const f=async p=>{console.log("Fetching appointments for doctor:",p);try{const y=(await Ah(bh(Or,"appointments"))).docs.map(w=>({id:w.id,...w.data()})).filter(w=>w.doctorID?.trim()===p);console.log("Fetched appointments:",y),s(y)}catch(g){console.error("Error loading appointments:",g)}finally{console.log("Finished fetching appointments — setting loading to false."),u(!1)}};return o?b.jsx("p",{className:"loading",children:"Loading appointments..."}):b.jsxs("div",{className:"dashboard-container",children:[b.jsx("h1",{children:"My Appointments"}),n.length===0?b.jsx("p",{children:"No appointments scheduled."}):b.jsx("div",{className:"dashboard-card",children:b.jsxs("table",{className:"appointment-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Date & Time"}),b.jsx("th",{children:"Type"}),b.jsx("th",{children:"Reason"}),b.jsx("th",{children:"Location"}),b.jsx("th",{children:"Patient"}),b.jsx("th",{children:"Notes"})]})}),b.jsx("tbody",{children:n.map(p=>{const g=EO(p.dateTime);return b.jsxs("tr",{children:[b.jsx("td",{children:g?g.toLocaleString():"Invalid Date"}),b.jsx("td",{children:p.type||"—"}),b.jsx("td",{children:p.reason||"—"}),b.jsx("td",{children:p.location||"—"}),b.jsx("td",{children:p.patientID?.replace("patients/","")||"Unknown"}),b.jsx("td",{children:p.notes||"N/A"})]},p.id)})})]})})]})}function bO(){const{user:r,logout:e}=Cl(),[n,s]=K.useState(null),[o,u]=K.useState(!0);return K.useEffect(()=>{if(!r)return;(async()=>{try{const p=Ia(Or,"doctors",r.uid),g=await qu(p);g.exists()?s(g.data()):console.warn("No doctor profile found for this account.")}catch(p){console.error("Error fetching doctor data:",p)}finally{u(!1)}})()},[r]),o?b.jsx("div",{children:"Loading profile..."}):n?b.jsxs("div",{className:"dashboard-container",children:[b.jsxs("aside",{className:"sidebar",children:[b.jsxs("h2",{className:"logo",children:["Salamat",b.jsx("span",{children:"Doc"})]}),b.jsxs("nav",{children:[b.jsx("a",{href:"/dashboard",className:"active",children:"Dashboard"}),b.jsx("a",{href:"/patients",children:"Patients"}),b.jsx("a",{href:"/appointments",children:"Appointments"}),b.jsx("a",{href:"/profile",children:"Profile"})]}),b.jsx("button",{className:"logout-btn",onClick:e,children:"Log out"})]}),b.jsx("main",{className:"profile-content",children:b.jsxs("div",{className:"profile-card",children:[b.jsx("h3",{children:"Profile"}),b.jsx("hr",{}),b.jsxs("p",{children:[b.jsx("strong",{children:"Name:"})," ",n.fullName]}),b.jsxs("p",{children:[b.jsx("strong",{children:"E-mail Address:"})," ",n.email]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Contact Number:"})," ",n.contactNumber||"N/A"]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Password:"})," ****** ",b.jsx("a",{href:"/change-password",children:"(Change Password)"})]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Account Creation Date:"})," ",n.createdAt?new Date(n.createdAt.seconds*1e3).toLocaleDateString():"N/A"]}),b.jsx("br",{}),b.jsxs("p",{children:[b.jsx("strong",{children:"Field:"})," ",n.field||"N/A"]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Hospital Address & Office:"})," ",n.hospitalAddress||"N/A"]})]})})]}):b.jsx("div",{children:"No profile data available."})}function AO(){const{user:r}=Cl(),[e,n]=K.useState(null),[s,o]=K.useState(!0);K.useEffect(()=>{r&&u()},[r]);const u=async()=>{try{const f=Ia(Or,"users",r.uid),p=await qu(f);p.exists()?n(p.data()):console.warn("User document not found.")}catch(f){console.error("Error loading profile:",f)}finally{o(!1)}};return s?b.jsx("p",{className:"loading",children:"Loading dashboard..."}):b.jsxs("div",{className:"patient-dashboard",children:[b.jsx("h3",{className:"dashboard-title",children:"Patient Dashboard"}),b.jsxs("div",{className:"dashboard-grid",children:[b.jsxs("div",{className:"dashboard-card",children:[b.jsxs("h2",{children:["Good Morning, ",e?.name||"User","!"]}),b.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"Notifications"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Your morning medication is almost due"}),b.jsx("li",{children:"You missed your medicine yesterday"})]})]}),b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"Calendar"}),b.jsx("p",{children:"[Calendar Component will go here]"})]}),b.jsxs("div",{className:"dashboard-card",children:[b.jsx("h2",{children:"Checklist"}),b.jsxs("ul",{children:[b.jsx("li",{children:"Medicine"}),b.jsx("li",{children:"Food"})]})]})]})]})}function wO(){const{user:r}=Cl(),[e,n]=K.useState(null),[s,o]=K.useState(null),[u,f]=K.useState(!0);if(K.useEffect(()=>{const y=async()=>{try{const w=Ia(Or,"patients",r.uid),C=D2(bh(Or,"appointments"),N2("patient","==",w)),D=await Ah(C);if(!D.empty){const B=D.docs[0].data();n(B);const W=await qu(B.doctor);W.exists()&&o(W.data())}}catch(w){console.error("Error loading appointment:",w)}finally{f(!1)}};r?.uid&&y()},[r]),u)return b.jsx("div",{className:"appointment-loading",children:"Loading..."});if(!e||!s)return b.jsx("div",{className:"appointment-container",children:b.jsx("h2",{children:"No upcoming appointments found."})});const p=e.date_time.toDate().toLocaleDateString(),g=e.date_time.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return b.jsxs("div",{className:"appointment-container",children:[b.jsx("h1",{children:"Appointments"}),b.jsxs("div",{className:"appointment-card",children:[b.jsx("h2",{children:"Assigned Doctor"}),b.jsx("p",{children:b.jsxs("strong",{children:["Dr. ",s.user_fullname]})}),b.jsxs("p",{children:[b.jsx("strong",{children:"Field:"})," ",s.medical_field]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Email:"})," ",s.email]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Contact Number:"})," ",s.office_contact_no]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Hospital Address & Office:"})," ",s.place_employment,", Room ",s.office_room_no,", ",s.address]}),b.jsx("hr",{className:"appointment-divider"}),b.jsx("h2",{children:"Upcoming Appointment Details"}),b.jsxs("p",{children:[b.jsx("strong",{children:"Time:"})," ",g]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Date:"})," ",p]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Location:"})," ",e.location]}),b.jsx("p",{className:"appointment-note",children:"To reschedule, please contact your assigned doctor."})]})]})}const SO={apiKey:"...",authDomain:"...",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.appspot.com",messagingSenderId:"...",appId:"..."},VA=Ig(SO),CO=TA(VA);Wb(VA);async function RO(r,e){const n=Ia(CO,r,e),s=await qu(n);return s.exists()?{id:s.id,...s.data()}:null}function IO(){const[r,e]=K.useState(null),[n,s]=K.useState(!0);return K.useEffect(()=>{async function o(){const u=tm.currentUser;if(u){const f=await RO("users",u.uid);e(f)}s(!1)}o()},[]),n?b.jsx("div",{className:"profile-container",children:b.jsx("h1",{className:"profile-title",children:"Loading profile..."})}):r?b.jsx("div",{className:"profile-container",children:b.jsxs("div",{className:"profile-card",children:[b.jsx("h3",{className:"profile-title",children:"Profile"}),b.jsx("hr",{className:"divider"}),b.jsxs("div",{className:"profile-section",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Name:"})," ",r.name]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Email Address:"})," ",r.email]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Contact Number:"})," ",r.contactNumber]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Password:"})," ********",b.jsx("span",{className:"change-password",children:"(Change Password)"})]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Account Creation Date:"})," ",r.accountCreated]})]}),b.jsx("hr",{className:"divider"}),b.jsxs("div",{className:"profile-section",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Age:"})," ",r.age]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Gender:"})," ",r.gender]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Date of Birth:"})," ",r.birthDate]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Chronic Condition/s:"})," ",r.chronicConditions]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Allergies:"})," ",r.allergies]})]}),b.jsx("hr",{className:"divider"}),b.jsxs("div",{className:"profile-section",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Insurance Provider:"})," ",r.insuranceProvider]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Senior Citizen:"})," ",r.isSenior?"Yes":"No"]}),b.jsxs("p",{children:[b.jsx("strong",{children:"PWD:"})," ",r.isPWD?"Yes":"No"]})]})]})}):b.jsx("div",{className:"profile-container",children:b.jsx("h1",{className:"profile-title",children:"No profile data found."})})}function xO(){const[r,e]=K.useState([]);return K.useEffect(()=>{e([{name:"Breakfast - Oatmeal",calories:250},{name:"Lunch - Grilled Chicken",calories:500}])},[]),b.jsxs("div",{className:"dashboard-container",children:[b.jsx("h1",{children:"Daily Food Log"}),r.length===0?b.jsx("p",{children:"No food entries logged yet."}):b.jsxs("table",{className:"dashboard-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Meal"}),b.jsx("th",{children:"Calories"})]})}),b.jsx("tbody",{children:r.map((n,s)=>b.jsxs("tr",{children:[b.jsx("td",{children:n.name}),b.jsx("td",{children:n.calories})]},s))})]})]})}function DO(){const[r,e]=K.useState([]);return K.useEffect(()=>{e([{name:"Paracetamol",dosage:"500mg",time:"8:00 AM"},{name:"Vitamin C",dosage:"1000mg",time:"12:00 PM"}])},[]),b.jsxs("div",{className:"dashboard-container",children:[b.jsx("h1",{children:"Daily Medicine Log"}),r.length===0?b.jsx("p",{children:"No medicines logged yet."}):b.jsxs("table",{className:"dashboard-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Medicine"}),b.jsx("th",{children:"Dosage"}),b.jsx("th",{children:"Time"})]})}),b.jsx("tbody",{children:r.map((n,s)=>b.jsxs("tr",{children:[b.jsx("td",{children:n.name}),b.jsx("td",{children:n.dosage}),b.jsx("td",{children:n.time})]},s))})]})]})}function NO(){return b.jsx(U2,{children:b.jsx(p1,{children:b.jsx($S,{children:b.jsxs(ei,{path:"/",element:b.jsx($2,{}),children:[b.jsx(ei,{index:!0,element:b.jsx(K2,{})}),b.jsx(ei,{path:"login",element:b.jsx(eO,{})}),b.jsx(ei,{path:"about",element:b.jsx(tO,{})}),b.jsx(ei,{path:"contact",element:b.jsx(nO,{})}),b.jsx(ei,{path:"admin/dashboard",element:b.jsx(Jr,{children:b.jsx(uO,{})})}),b.jsx(ei,{path:"admin/management",element:b.jsx(Jr,{children:b.jsx(gO,{})})}),b.jsx(ei,{path:"admin/profile",element:b.jsx(Jr,{children:b.jsx(yO,{})})}),b.jsx(ei,{path:"doctor/dashboard",element:b.jsx(Jr,{children:b.jsx(vO,{})})}),b.jsx(ei,{path:"doctor/appointments",element:b.jsx(Jr,{children:b.jsx(TO,{})})}),b.jsx(ei,{path:"doctor/profile",element:b.jsx(Jr,{children:b.jsx(bO,{})})}),b.jsx(ei,{path:"patient/dashboard",element:b.jsx(Jr,{children:b.jsx(AO,{})})}),b.jsx(ei,{path:"patient/appointments",element:b.jsx(Jr,{children:b.jsx(wO,{})})}),b.jsx(ei,{path:"patient/dailies/food",element:b.jsx(Jr,{children:b.jsx(xO,{})})}),b.jsx(ei,{path:"patient/dailies/medicine",element:b.jsx(Jr,{children:b.jsx(DO,{})})}),b.jsx(ei,{path:"patient/profile",element:b.jsx(Jr,{children:b.jsx(IO,{})})})]})})})})}Zw.createRoot(document.getElementById("root")).render(b.jsx(K.StrictMode,{children:b.jsx(NO,{})}));
