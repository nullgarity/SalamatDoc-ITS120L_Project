(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function tx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lg={exports:{}},ph={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function nx(){if(_E)return ph;_E=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return ph.Fragment=e,ph.jsx=n,ph.jsxs=n,ph}var bE;function ix(){return bE||(bE=1,lg.exports=nx()),lg.exports}var p=ix(),cg={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function rx(){if(EE)return Ze;EE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=C&&R[C]||R["@@iterator"],typeof R=="function"?R:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,B={};function P(R,ae,ve){this.props=R,this.context=ae,this.refs=B,this.updater=ve||Y}P.prototype.isReactComponent={},P.prototype.setState=function(R,ae){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ae,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function H(){}H.prototype=P.prototype;function te(R,ae,ve){this.props=R,this.context=ae,this.refs=B,this.updater=ve||Y}var ye=te.prototype=new H;ye.constructor=te,K(ye,P.prototype),ye.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var j={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function k(R,ae,ve){var we=ve.ref;return{$$typeof:i,type:R,key:ae,ref:we!==void 0?we:null,props:ve}}function L(R,ae){return k(R.type,ae,R.props)}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function G(R){var ae={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ve){return ae[ve]})}var I=/\/+/g;function fe(R,ae){return typeof R=="object"&&R!==null&&R.key!=null?G(""+R.key):ae.toString(36)}function je(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(pe,pe):(R.status="pending",R.then(function(ae){R.status==="pending"&&(R.status="fulfilled",R.value=ae)},function(ae){R.status==="pending"&&(R.status="rejected",R.reason=ae)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function X(R,ae,ve,we,Ie){var Le=typeof R;(Le==="undefined"||Le==="boolean")&&(R=null);var Ve=!1;if(R===null)Ve=!0;else switch(Le){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(R.$$typeof){case i:case e:Ve=!0;break;case E:return Ve=R._init,X(Ve(R._payload),ae,ve,we,Ie)}}if(Ve)return Ie=Ie(R),Ve=we===""?"."+fe(R,0):we,le(Ie)?(ve="",Ve!=null&&(ve=Ve.replace(I,"$&/")+"/"),X(Ie,ae,ve,"",function(xi){return xi})):Ie!=null&&(V(Ie)&&(Ie=L(Ie,ve+(Ie.key==null||R&&R.key===Ie.key?"":(""+Ie.key).replace(I,"$&/")+"/")+Ve)),ae.push(Ie)),1;Ve=0;var Pt=we===""?".":we+":";if(le(R))for(var be=0;be<R.length;be++)we=R[be],Le=Pt+fe(we,be),Ve+=X(we,ae,ve,Le,Ie);else if(be=M(R),typeof be=="function")for(R=be.call(R),be=0;!(we=R.next()).done;)we=we.value,Le=Pt+fe(we,be++),Ve+=X(we,ae,ve,Le,Ie);else if(Le==="object"){if(typeof R.then=="function")return X(je(R),ae,ve,we,Ie);throw ae=String(R),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(R,ae,ve){if(R==null)return R;var we=[],Ie=0;return X(R,we,"","",function(Le){return ae.call(ve,Le,Ie++)}),we}function me(R){if(R._status===-1){var ae=R._result;ae=ae(),ae.then(function(ve){(R._status===0||R._status===-1)&&(R._status=1,R._result=ve)},function(ve){(R._status===0||R._status===-1)&&(R._status=2,R._result=ve)}),R._status===-1&&(R._status=0,R._result=ae)}if(R._status===1)return R._result.default;throw R._result}var De=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Oe={map:se,forEach:function(R,ae,ve){se(R,function(){ae.apply(this,arguments)},ve)},count:function(R){var ae=0;return se(R,function(){ae++}),ae},toArray:function(R){return se(R,function(ae){return ae})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ze.Activity=S,Ze.Children=Oe,Ze.Component=P,Ze.Fragment=n,Ze.Profiler=o,Ze.PureComponent=te,Ze.StrictMode=s,Ze.Suspense=y,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(R){return j.H.useMemoCache(R)}},Ze.cache=function(R){return function(){return R.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(R,ae,ve){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var we=K({},R.props),Ie=R.key;if(ae!=null)for(Le in ae.key!==void 0&&(Ie=""+ae.key),ae)!O.call(ae,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&ae.ref===void 0||(we[Le]=ae[Le]);var Le=arguments.length-2;if(Le===1)we.children=ve;else if(1<Le){for(var Ve=Array(Le),Pt=0;Pt<Le;Pt++)Ve[Pt]=arguments[Pt+2];we.children=Ve}return k(R.type,Ie,we)},Ze.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Ze.createElement=function(R,ae,ve){var we,Ie={},Le=null;if(ae!=null)for(we in ae.key!==void 0&&(Le=""+ae.key),ae)O.call(ae,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Ie[we]=ae[we]);var Ve=arguments.length-2;if(Ve===1)Ie.children=ve;else if(1<Ve){for(var Pt=Array(Ve),be=0;be<Ve;be++)Pt[be]=arguments[be+2];Ie.children=Pt}if(R&&R.defaultProps)for(we in Ve=R.defaultProps,Ve)Ie[we]===void 0&&(Ie[we]=Ve[we]);return k(R,Le,Ie)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(R){return{$$typeof:g,render:R}},Ze.isValidElement=V,Ze.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:me}},Ze.memo=function(R,ae){return{$$typeof:v,type:R,compare:ae===void 0?null:ae}},Ze.startTransition=function(R){var ae=j.T,ve={};j.T=ve;try{var we=R(),Ie=j.S;Ie!==null&&Ie(ve,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(pe,De)}catch(Le){De(Le)}finally{ae!==null&&ve.types!==null&&(ae.types=ve.types),j.T=ae}},Ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ze.use=function(R){return j.H.use(R)},Ze.useActionState=function(R,ae,ve){return j.H.useActionState(R,ae,ve)},Ze.useCallback=function(R,ae){return j.H.useCallback(R,ae)},Ze.useContext=function(R){return j.H.useContext(R)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(R,ae){return j.H.useDeferredValue(R,ae)},Ze.useEffect=function(R,ae){return j.H.useEffect(R,ae)},Ze.useEffectEvent=function(R){return j.H.useEffectEvent(R)},Ze.useId=function(){return j.H.useId()},Ze.useImperativeHandle=function(R,ae,ve){return j.H.useImperativeHandle(R,ae,ve)},Ze.useInsertionEffect=function(R,ae){return j.H.useInsertionEffect(R,ae)},Ze.useLayoutEffect=function(R,ae){return j.H.useLayoutEffect(R,ae)},Ze.useMemo=function(R,ae){return j.H.useMemo(R,ae)},Ze.useOptimistic=function(R,ae){return j.H.useOptimistic(R,ae)},Ze.useReducer=function(R,ae,ve){return j.H.useReducer(R,ae,ve)},Ze.useRef=function(R){return j.H.useRef(R)},Ze.useState=function(R){return j.H.useState(R)},Ze.useSyncExternalStore=function(R,ae,ve){return j.H.useSyncExternalStore(R,ae,ve)},Ze.useTransition=function(){return j.H.useTransition()},Ze.version="19.2.0",Ze}var TE;function wy(){return TE||(TE=1,cg.exports=rx()),cg.exports}var U=wy();const Bl=tx(U);var ug={exports:{}},gh={},hg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function sx(){return wE||(wE=1,(function(i){function e(X,se){var me=X.length;X.push(se);e:for(;0<me;){var De=me-1>>>1,Oe=X[De];if(0<o(Oe,se))X[De]=se,X[me]=Oe,me=De;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],me=X.pop();if(me!==se){X[0]=me;e:for(var De=0,Oe=X.length,R=Oe>>>1;De<R;){var ae=2*(De+1)-1,ve=X[ae],we=ae+1,Ie=X[we];if(0>o(ve,me))we<Oe&&0>o(Ie,ve)?(X[De]=Ie,X[we]=me,De=we):(X[De]=ve,X[ae]=me,De=ae);else if(we<Oe&&0>o(Ie,me))X[De]=Ie,X[we]=me,De=we;else break e}}return se}function o(X,se){var me=X.sortIndex-se.sortIndex;return me!==0?me:X.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,g=u.now();i.unstable_now=function(){return u.now()-g}}var y=[],v=[],E=1,S=null,C=3,M=!1,Y=!1,K=!1,B=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ye(X){for(var se=n(v);se!==null;){if(se.callback===null)s(v);else if(se.startTime<=X)s(v),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(v)}}function le(X){if(K=!1,ye(X),!Y)if(n(y)!==null)Y=!0,pe||(pe=!0,G());else{var se=n(v);se!==null&&je(le,se.startTime-X)}}var pe=!1,j=-1,O=5,k=-1;function L(){return B?!0:!(i.unstable_now()-k<O)}function V(){if(B=!1,pe){var X=i.unstable_now();k=X;var se=!0;try{e:{Y=!1,K&&(K=!1,H(j),j=-1),M=!0;var me=C;try{t:{for(ye(X),S=n(y);S!==null&&!(S.expirationTime>X&&L());){var De=S.callback;if(typeof De=="function"){S.callback=null,C=S.priorityLevel;var Oe=De(S.expirationTime<=X);if(X=i.unstable_now(),typeof Oe=="function"){S.callback=Oe,ye(X),se=!0;break t}S===n(y)&&s(y),ye(X)}else s(y);S=n(y)}if(S!==null)se=!0;else{var R=n(v);R!==null&&je(le,R.startTime-X),se=!1}}break e}finally{S=null,C=me,M=!1}se=void 0}}finally{se?G():pe=!1}}}var G;if(typeof te=="function")G=function(){te(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=V,G=function(){fe.postMessage(null)}}else G=function(){P(V,0)};function je(X,se){j=P(function(){X(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(X){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var me=C;C=se;try{return X()}finally{C=me}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=C;C=X;try{return se()}finally{C=me}},i.unstable_scheduleCallback=function(X,se,me){var De=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,X){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=me+Oe,X={id:E++,callback:se,priorityLevel:X,startTime:me,expirationTime:Oe,sortIndex:-1},me>De?(X.sortIndex=me,e(v,X),n(y)===null&&X===n(v)&&(K?(H(j),j=-1):K=!0,je(le,me-De))):(X.sortIndex=Oe,e(y,X),Y||M||(Y=!0,pe||(pe=!0,G()))),X},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(X){var se=C;return function(){var me=C;C=se;try{return X.apply(this,arguments)}finally{C=me}}}})(fg)),fg}var SE;function ax(){return SE||(SE=1,hg.exports=sx()),hg.exports}var dg={exports:{}},ji={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function ox(){if(AE)return ji;AE=1;var i=wy();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:v,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ji.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ji.createPortal=function(y,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,E)},ji.flushSync=function(y){var v=u.T,E=s.p;try{if(u.T=null,s.p=2,y)return y()}finally{u.T=v,s.p=E,s.d.f()}},ji.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},ji.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ji.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var E=v.as,S=g(E,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,M=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:M}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:M,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ji.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},ji.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=g(E,v.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ji.preloadModule=function(y,v){if(typeof y=="string")if(v){var E=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},ji.requestFormReset=function(y){s.d.r(y)},ji.unstable_batchedUpdates=function(y,v){return y(v)},ji.useFormState=function(y,v,E){return u.H.useFormState(y,v,E)},ji.useFormStatus=function(){return u.H.useHostTransitionStatus()},ji.version="19.2.0",ji}var xE;function lx(){if(xE)return dg.exports;xE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dg.exports=ox(),dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function cx(){if(CE)return gh;CE=1;var i=ax(),e=wy(),n=lx();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function v(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return y(f),t;if(m===l)return y(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,x=f.child;x;){if(x===a){T=!0,a=f,l=m;break}if(x===l){T=!0,l=f,a=m;break}x=x.sibling}if(!T){for(x=m.child;x;){if(x===a){T=!0,a=m,l=f;break}if(x===l){T=!0,l=m,a=f;break}x=x.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case te:return t.displayName||"Context";case H:return(t._context.displayName||"Context")+".Consumer";case ye:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return r=t.displayName||null,r!==null?r:fe(t.type)||"Memo";case O:r=t._payload,t=t._init;try{return fe(t(r))}catch{}}return null}var je=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],Oe=-1;function R(t){return{current:t}}function ae(t){0>Oe||(t.current=De[Oe],De[Oe]=null,Oe--)}function ve(t,r){Oe++,De[Oe]=t.current,t.current=r}var we=R(null),Ie=R(null),Le=R(null),Ve=R(null);function Pt(t,r){switch(ve(Le,r),ve(Ie,t),ve(we,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?qb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=qb(r),t=Fb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(we),ve(we,t)}function be(){ae(we),ae(Ie),ae(Le)}function xi(t){t.memoizedState!==null&&ve(Ve,t);var r=we.current,a=Fb(r,t.type);r!==a&&(ve(Ie,t),ve(we,a))}function br(t){Ie.current===t&&(ae(we),ae(Ie)),Ve.current===t&&(ae(Ve),hh._currentValue=me)}var Er,qr;function lt(t){if(Er===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Er=r&&r[1]||"",qr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+t+qr}var Ji=!1;function Kt(t,r){if(!t||Ji)return"";Ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ee=ie}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ie){ee=ie}t.call(ue.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],x=m[1];if(T&&x){var z=T.split(`
`),Z=x.split(`
`);for(f=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(l===z.length||f===Z.length)for(l=z.length-1,f=Z.length-1;1<=l&&0<=f&&z[l]!==Z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(z[l]!==Z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||z[l]!==Z[f]){var oe=`
`+z[l].replace(" at new "," at ");return t.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",t.displayName)),oe}while(1<=l&&0<=f);break}}}finally{Ji=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?lt(a):""}function di(t,r){switch(t.tag){case 26:case 27:case 5:return lt(t.type);case 16:return lt("Lazy");case 13:return t.child!==r&&r!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Kt(t.type,!1);case 11:return Kt(t.type.render,!1);case 1:return Kt(t.type,!0);case 31:return lt("Activity");default:return""}}function Ms(t){try{var r="",a=null;do r+=di(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tn=Object.prototype.hasOwnProperty,dn=i.unstable_scheduleCallback,Fr=i.unstable_cancelCallback,dl=i.unstable_shouldYield,da=i.unstable_requestPaint,Qn=i.unstable_now,Zi=i.unstable_getCurrentPriorityLevel,Ci=i.unstable_ImmediatePriority,ks=i.unstable_UserBlockingPriority,Hr=i.unstable_NormalPriority,ma=i.unstable_LowPriority,Tr=i.unstable_IdlePriority,er=i.log,wr=i.unstable_setDisableYieldValue,Cn=null,_n=null;function ii(t){if(typeof er=="function"&&wr(t),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(Cn,t)}catch{}}var Wt=Math.clz32?Math.clz32:ro,pa=Math.log,Gr=Math.LN2;function ro(t){return t>>>=0,t===0?32:31-(pa(t)/Gr|0)|0}var zi=256,us=262144,Xt=4194304;function It(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~m,l!==0?f=It(l):(T&=x,T!==0?f=It(T):a||(a=x&~t,a!==0&&(f=It(a))))):(x=l&~m,x!==0?f=It(x):T!==0?f=It(T):a||(a=l&~t,a!==0&&(f=It(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Kn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Lt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var t=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),t}function tr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Sr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ar(t,r,a,l,f,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,z=t.expirationTimes,Z=t.hiddenUpdates;for(a=T&~a;0<a;){var oe=31-Wt(a),ue=1<<oe;x[oe]=0,z[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var ie=ee[oe];ie!==null&&(ie.lane&=-536870913)}a&=~ue}l!==0&&Di(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~r))}function Di(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Wt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function hs(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Wt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function $r(t,r){var a=r&-r;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|r))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ps(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:fE(t.type))}function pi(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var bn=Math.random().toString(36).slice(2),Bt="__reactFiber$"+bn,En="__reactProps$"+bn,Ri="__reactContainer$"+bn,Ke="__reactEvents$"+bn,qt="__reactListeners$"+bn,bt="__reactHandles$"+bn,Et="__reactResources$"+bn,ct="__reactMarker$"+bn;function rn(t){delete t[Bt],delete t[En],delete t[Ke],delete t[qt],delete t[bt]}function Ft(t){var r=t[Bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ri]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Wb(t);t!==null;){if(a=t[Bt])return a;t=Wb(t)}return r}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[Bt]||t[Ri]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ri(t){var r=t[Et];return r||(r=t[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(t){t[ct]=!0}var so=new Set,ga={};function gi(t,r){Cr(t,r),Cr(t+"Capture",r)}function Cr(t,r){for(ga[t]=r,t=0;t<r.length;t++)so.add(r[t])}var ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),va={},ao={};function ml(t){return tn.call(ao,t)?!0:tn.call(va,t)?!1:ya.test(t)?ao[t]=!0:(va[t]=!0,!1)}function _a(t,r,a){if(ml(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ni(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function mn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fs(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Tt(t){if(!t._valueTracker){var r=fs(t)?"checked":"value";t._valueTracker=oo(t,r,""+t[r])}}function Ls(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=fs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Rn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nn=/[\n"\\]/g;function Tn(t){return t.replace(Nn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xn(t,r,a,l,f,m,T,x){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Dn(r)):t.value!==""+Dn(r)&&(t.value=""+Dn(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?ba(t,T,Dn(r)):a!=null?ba(t,T,Dn(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Dn(x):t.removeAttribute("name")}function lo(t,r,a,l,f,m,T,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Tt(t);return}a=a!=null?""+Dn(a):"",r=r!=null?""+Dn(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Tt(t)}function ba(t,r,a){r==="number"&&Rn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Jn(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Dn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Yr(t,r,a){if(r!=null&&(r=""+Dn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Dn(a):""}function Dr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(je(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Dn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Tt(t)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||co.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Qr(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&uo(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&uo(t,m,r[m])}function Vs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(t){return si.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Us=null;function qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nr=null,ir=null;function Rr(t){var r=Wn(t);if(r&&(t=r.stateNode)){var a=t[En]||null;e:switch(t=r.stateNode,r.type){case"input":if(Xn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[En]||null;if(!f)throw Error(s(90));Xn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ls(l)}break e;case"textarea":Yr(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Jn(t,!!a.multiple,r,!1)}}}var Ea=!1;function ds(t,r,a){if(Ea)return t(r,a);Ea=!0;try{var l=t(r);return l}finally{if(Ea=!1,(nr!==null||ir!==null)&&(Wf(),nr&&(r=nr,t=ir,ir=nr=null,Rr(r),t)))for(r=0;r<t.length;r++)Rr(t[r])}}function rr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[En]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(Zn)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Ta=!1}var sr=null,zs=null,ms=null;function gl(){if(ms)return ms;var t,r=zs,a=r.length,l,f="value"in sr?sr.value:sr.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var T=a-t;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return ms=f.slice(t,1<l?1-l:void 0)}function Kr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function ar(){return!1}function On(t){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ps:ar,this.isPropagationStopped=ar,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),r}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=On(Nr),gs=S({},Nr,{view:0,detail:0}),ys=On(gs),Wr,wa,Ir,Or=S({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(Wr=t.screenX-Ir.screenX,wa=t.screenY-Ir.screenY):wa=Wr=0,Ir=t),Wr)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),yl=On(Or),Bs=S({},Or,{dataTransfer:0}),vl=On(Bs),_l=S({},gs,{relatedTarget:0}),qs=On(_l),fo=S({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=On(fo),Sa=S({},Nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rc=On(Sa),sc=S({},Nr,{data:0}),jr=On(sc),bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ac[t])?!!r[t]:!1}function Xr(){return oc}var ai=S({},gs,{key:function(t){if(t.key){var r=bl[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Aa[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),El=On(ai),Jr=S({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=On(Jr),h=S({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),_=On(h),w=S({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=On(w),W=S({},Or,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=On(W),Ee=S({},Nr,{newState:0,oldState:0}),We=On(Ee),pn=[9,13,27,32],st=Zn&&"CompositionEvent"in window,wt=null;Zn&&"documentMode"in document&&(wt=document.documentMode);var lr=Zn&&"TextEvent"in window&&!wt,Fi=Zn&&(!st||wt&&8<wt&&11>=wt),kr=" ",Pr=!1;function xa(t,r){switch(t){case"keyup":return pn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function Fm(t,r){switch(t){case"compositionend":return po(r);case"keypress":return r.which!==32?null:(Pr=!0,kr);case"textInput":return t=r.data,t===kr&&Pr?null:t;default:return null}}function Hm(t,r){if(go)return t==="compositionend"||!st&&xa(t,r)?(t=gl(),ms=zs=sr=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fi&&r.locale!=="ko"?null:r.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Gm[t.type]:r==="textarea"}function gu(t,r,a,l){nr?ir?ir.push(l):ir=[l]:nr=l,r=id(r,"onChange"),0<r.length&&(a=new or("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var yo=null,vo=null;function $m(t){Pb(t,0)}function lc(t){var r=Vn(t);if(Ls(r))return t}function yu(t,r){if(t==="change")return r}var Tl=!1;if(Zn){var vu;if(Zn){var _u="oninput"in document;if(!_u){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),_u=typeof bu.oninput=="function"}vu=_u}else vu=!1;Tl=vu&&(!document.documentMode||9<document.documentMode)}function df(){yo&&(yo.detachEvent("onpropertychange",mf),vo=yo=null)}function mf(t){if(t.propertyName==="value"&&lc(vo)){var r=[];gu(r,vo,t,qi(t)),ds($m,r)}}function pf(t,r,a){t==="focusin"?(df(),yo=r,vo=a,yo.attachEvent("onpropertychange",mf)):t==="focusout"&&df()}function gf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(vo)}function yf(t,r){if(t==="click")return lc(r)}function cc(t,r){if(t==="input"||t==="change")return lc(r)}function vf(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yi=typeof Object.is=="function"?Object.is:vf;function oi(t,r){if(yi(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!tn.call(r,f)||!yi(t[f],r[f]))return!1}return!0}function _f(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bf(t,r){var a=_f(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_f(a)}}function Eu(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Eu(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Tu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Rn(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Rn(t.document)}return r}function wu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Ym=Zn&&"documentMode"in document&&11>=document.documentMode,_o=null,Su=null,wl=null,Au=!1;function xu(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Au||_o==null||_o!==Rn(l)||(l=_o,"selectionStart"in l&&wu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&oi(wl,l)||(wl=l,l=id(Su,"onSelect"),0<l.length&&(r=new or("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=_o)))}function Fs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Hs={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Cu={},Ef={};Zn&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Hi(t){if(Cu[t])return Cu[t];if(!Hs[t])return t;var r=Hs[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ef)return Cu[t]=r[a];return t}var Zr=Hi("animationend"),Du=Hi("animationiteration"),Tf=Hi("animationstart"),wf=Hi("transitionrun"),Sf=Hi("transitionstart"),Af=Hi("transitioncancel"),Ru=Hi("transitionend"),xf=new Map,Nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nu.push("scrollEnd");function Lr(t,r){xf.set(t,r),gi(r,[t])}var Sl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gi=[],bo=0,Iu=0;function uc(){for(var t=bo,r=Iu=bo=0;r<t;){var a=Gi[r];Gi[r++]=null;var l=Gi[r];Gi[r++]=null;var f=Gi[r];Gi[r++]=null;var m=Gi[r];if(Gi[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&ju(a,f,m)}}function hc(t,r,a,l){Gi[bo++]=t,Gi[bo++]=r,Gi[bo++]=a,Gi[bo++]=l,Iu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ou(t,r,a,l){return hc(t,r,a,l),fc(t)}function vi(t,r){return hc(t,null,null,r),fc(t)}function ju(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-Wt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function fc(t){if(50<rh)throw rh=0,Op=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Eo={};function Qm(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(t,r,a,l){return new Qm(t,r,a,l)}function Mu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vs(t,r){var a=t.alternate;return a===null?(a=$i(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cf(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function dc(t,r,a,l,f,m){var T=0;if(l=t,typeof t=="function")Mu(t)&&(T=1);else if(typeof t=="string")T=F1(t,a,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=$i(31,a,r,f),t.elementType=k,t.lanes=m,t;case K:return _s(a.children,f,m,r);case B:T=8,f|=24;break;case P:return t=$i(12,a,r,f|2),t.elementType=P,t.lanes=m,t;case le:return t=$i(13,a,r,f),t.elementType=le,t.lanes=m,t;case pe:return t=$i(19,a,r,f),t.elementType=pe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:T=10;break e;case H:T=9;break e;case ye:T=11;break e;case j:T=14;break e;case O:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=$i(T,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function _s(t,r,a,l){return t=$i(7,t,l,r),t.lanes=a,t}function To(t,r,a){return t=$i(6,t,null,r),t.lanes=a,t}function Df(t){var r=$i(18,null,null,0);return r.stateNode=t,r}function mc(t,r,a){return r=$i(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ku=new WeakMap;function li(t,r){if(typeof t=="object"&&t!==null){var a=ku.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ms(r)},ku.set(t,r),r)}return{value:t,source:r,stack:Ms(r)}}var Gs=[],$s=0,pc=null,Al=0,ur=[],zn=0,Ys=null,es=1,ts="";function bs(t,r){Gs[$s++]=Al,Gs[$s++]=pc,pc=t,Al=r}function xl(t,r,a){ur[zn++]=es,ur[zn++]=ts,ur[zn++]=Ys,Ys=t;var l=es;t=ts;var f=32-Wt(l)-1;l&=~(1<<f),a+=1;var m=32-Wt(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,es=1<<32-Wt(r)+f|a<<f|l,ts=m+t}else es=1<<m|a<<f|l,ts=t}function Cl(t){t.return!==null&&(bs(t,1),xl(t,1,0))}function Pu(t){for(;t===pc;)pc=Gs[--$s],Gs[$s]=null,Al=Gs[--$s],Gs[$s]=null;for(;t===Ys;)Ys=ur[--zn],ur[zn]=null,ts=ur[--zn],ur[zn]=null,es=ur[--zn],ur[zn]=null}function Lu(t,r){ur[zn++]=es,ur[zn++]=ts,ur[zn++]=Ys,es=r.id,ts=r.overflow,Ys=t}var ei=null,St=null,it=!1,Es=null,hr=!1,Vu=Error(s(519));function Qs(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(li(r,t)),Vu}function wo(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Bt]=t,r[En]=l,a){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(a=0;a<ah.length;a++)ot(ah[a],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":ot("invalid",r),lo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ot("invalid",r);break;case"textarea":ot("invalid",r),Dr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||zb(r.textContent,a)?(l.popover!=null&&(ot("beforetoggle",r),ot("toggle",r)),l.onScroll!=null&&ot("scroll",r),l.onScrollEnd!=null&&ot("scrollend",r),l.onClick!=null&&(r.onclick=Un),r=!0):r=!1,r||Qs(t,!0)}function Ks(t){for(ei=t.return;ei;)switch(ei.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:ei=ei.return}}function So(t){if(t!==ei)return!1;if(!it)return Ks(t),it=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yp(t.type,t.memoizedProps)),a=!a),a&&St&&Qs(t),Ks(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));St=Kb(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));St=Kb(t)}else r===27?(r=St,Vo(t.type)?(t=Jp,Jp=null,St=t):St=r):St=ei?rs(t.stateNode.nextSibling):null;return!0}function Ca(){St=ei=null,it=!1}function Uu(){var t=Es;return t!==null&&(gr===null?gr=t:gr.push.apply(gr,t),Es=null),t}function Dl(t){Es===null?Es=[t]:Es.push(t)}var zu=R(null),Da=null,Ts=null;function Ws(t,r,a){ve(zu,r._currentValue),r._currentValue=a}function ns(t){t._currentValue=zu.current,ae(zu)}function Bu(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function gc(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=f;for(var z=0;z<r.length;z++)if(x.context===r[z]){m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),Bu(m.return,a,t),l||(T=null);break e}m=x.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Bu(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Xs(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var x=f.type;yi(f.pendingProps.value,T.value)||(t!==null?t.push(x):t=[x])}}else if(f===Ve.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(hh):t=[hh])}f=f.return}t!==null&&gc(r,t,a,l),r.flags|=262144}function Rl(t){for(t=t.firstContext;t!==null;){if(!yi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yi(t){Da=t,Ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bn(t){return qu(Da,t)}function Ao(t,r){return Da===null&&Yi(t),qu(t,r)}function qu(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ts===null){if(t===null)throw Error(s(308));Ts=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ts=Ts.next=r;return a}var Fu=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Rf=i.unstable_scheduleCallback,Hu=i.unstable_NormalPriority,wn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ws(){return{controller:new Fu,data:new Map,refCount:0}}function fr(t){t.refCount--,t.refCount===0&&Rf(Hu,function(){t.controller.abort()})}var Nl=null,Gu=0,xo=0,Co=null;function Km(t,r){if(Nl===null){var a=Nl=[];Gu=0,xo=Vp(),Co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gu++,r.then(Nf,Nf),r}function Nf(){if(--Gu===0&&Nl!==null){Co!==null&&(Co.status="fulfilled");var t=Nl;Nl=null,xo=0,Co=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Wm(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var If=X.S;X.S=function(t,r){ub=Qn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Km(t,r),If!==null&&If(t,r)};var Js=R(null);function Do(){var t=Js.current;return t!==null?t:Yt.pooledCache}function Ra(t,r){r===null?ve(Js,Js.current):ve(Js,r.pool)}function Of(){var t=Do();return t===null?null:{parent:wn._currentValue,pool:t}}var Ro=Error(s(460)),Na=Error(s(474)),A=Error(s(542)),d={then:function(){}};function b(t){return t=t.status,t==="fulfilled"||t==="rejected"}function D(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Un,Un),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ge(t),t;default:if(typeof r.status=="string")r.then(Un,Un);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ge(t),t}throw $=r,Ro}}function F(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($=a,Ro):a}}var $=null;function re(){if($===null)throw Error(s(459));var t=$;return $=null,t}function ge(t){if(t===Ro||t===A)throw Error(s(483))}var _e=null,Se=0;function xe(t){var r=Se;return Se+=1,_e===null&&(_e=[]),D(_e,t,r)}function Te(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ye(t,r){throw r.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ue(t){function r(Q,q){if(t){var J=Q.deletions;J===null?(Q.deletions=[q],Q.flags|=16):J.push(q)}}function a(Q,q){if(!t)return null;for(;q!==null;)r(Q,q),q=q.sibling;return null}function l(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=vs(Q,q),Q.index=0,Q.sibling=null,Q}function m(Q,q,J){return Q.index=J,t?(J=Q.alternate,J!==null?(J=J.index,J<q?(Q.flags|=67108866,q):J):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function T(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function x(Q,q,J,ce){return q===null||q.tag!==6?(q=To(J,Q.mode,ce),q.return=Q,q):(q=f(q,J),q.return=Q,q)}function z(Q,q,J,ce){var Me=J.type;return Me===K?oe(Q,q,J.props.children,ce,J.key):q!==null&&(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&F(Me)===q.type)?(q=f(q,J.props),Te(q,J),q.return=Q,q):(q=dc(J.type,J.key,J.props,null,Q.mode,ce),Te(q,J),q.return=Q,q)}function Z(Q,q,J,ce){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=mc(J,Q.mode,ce),q.return=Q,q):(q=f(q,J.children||[]),q.return=Q,q)}function oe(Q,q,J,ce,Me){return q===null||q.tag!==7?(q=_s(J,Q.mode,ce,Me),q.return=Q,q):(q=f(q,J),q.return=Q,q)}function ue(Q,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=To(""+q,Q.mode,J),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return J=dc(q.type,q.key,q.props,null,Q.mode,J),Te(J,q),J.return=Q,J;case Y:return q=mc(q,Q.mode,J),q.return=Q,q;case O:return q=F(q),ue(Q,q,J)}if(je(q)||G(q))return q=_s(q,Q.mode,J,null),q.return=Q,q;if(typeof q.then=="function")return ue(Q,xe(q),J);if(q.$$typeof===te)return ue(Q,Ao(Q,q),J);Ye(Q,q)}return null}function ee(Q,q,J,ce){var Me=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Me!==null?null:x(Q,q,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return J.key===Me?z(Q,q,J,ce):null;case Y:return J.key===Me?Z(Q,q,J,ce):null;case O:return J=F(J),ee(Q,q,J,ce)}if(je(J)||G(J))return Me!==null?null:oe(Q,q,J,ce,null);if(typeof J.then=="function")return ee(Q,q,xe(J),ce);if(J.$$typeof===te)return ee(Q,q,Ao(Q,J),ce);Ye(Q,J)}return null}function ie(Q,q,J,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(J)||null,x(q,Q,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case M:return Q=Q.get(ce.key===null?J:ce.key)||null,z(q,Q,ce,Me);case Y:return Q=Q.get(ce.key===null?J:ce.key)||null,Z(q,Q,ce,Me);case O:return ce=F(ce),ie(Q,q,J,ce,Me)}if(je(ce)||G(ce))return Q=Q.get(J)||null,oe(q,Q,ce,Me,null);if(typeof ce.then=="function")return ie(Q,q,J,xe(ce),Me);if(ce.$$typeof===te)return ie(Q,q,J,Ao(q,ce),Me);Ye(q,ce)}return null}function Re(Q,q,J,ce){for(var Me=null,xt=null,Ne=q,tt=q=0,ht=null;Ne!==null&&tt<J.length;tt++){Ne.index>tt?(ht=Ne,Ne=null):ht=Ne.sibling;var Ct=ee(Q,Ne,J[tt],ce);if(Ct===null){Ne===null&&(Ne=ht);break}t&&Ne&&Ct.alternate===null&&r(Q,Ne),q=m(Ct,q,tt),xt===null?Me=Ct:xt.sibling=Ct,xt=Ct,Ne=ht}if(tt===J.length)return a(Q,Ne),it&&bs(Q,tt),Me;if(Ne===null){for(;tt<J.length;tt++)Ne=ue(Q,J[tt],ce),Ne!==null&&(q=m(Ne,q,tt),xt===null?Me=Ne:xt.sibling=Ne,xt=Ne);return it&&bs(Q,tt),Me}for(Ne=l(Ne);tt<J.length;tt++)ht=ie(Ne,Q,tt,J[tt],ce),ht!==null&&(t&&ht.alternate!==null&&Ne.delete(ht.key===null?tt:ht.key),q=m(ht,q,tt),xt===null?Me=ht:xt.sibling=ht,xt=ht);return t&&Ne.forEach(function(Fo){return r(Q,Fo)}),it&&bs(Q,tt),Me}function Be(Q,q,J,ce){if(J==null)throw Error(s(151));for(var Me=null,xt=null,Ne=q,tt=q=0,ht=null,Ct=J.next();Ne!==null&&!Ct.done;tt++,Ct=J.next()){Ne.index>tt?(ht=Ne,Ne=null):ht=Ne.sibling;var Fo=ee(Q,Ne,Ct.value,ce);if(Fo===null){Ne===null&&(Ne=ht);break}t&&Ne&&Fo.alternate===null&&r(Q,Ne),q=m(Fo,q,tt),xt===null?Me=Fo:xt.sibling=Fo,xt=Fo,Ne=ht}if(Ct.done)return a(Q,Ne),it&&bs(Q,tt),Me;if(Ne===null){for(;!Ct.done;tt++,Ct=J.next())Ct=ue(Q,Ct.value,ce),Ct!==null&&(q=m(Ct,q,tt),xt===null?Me=Ct:xt.sibling=Ct,xt=Ct);return it&&bs(Q,tt),Me}for(Ne=l(Ne);!Ct.done;tt++,Ct=J.next())Ct=ie(Ne,Q,tt,Ct.value,ce),Ct!==null&&(t&&Ct.alternate!==null&&Ne.delete(Ct.key===null?tt:Ct.key),q=m(Ct,q,tt),xt===null?Me=Ct:xt.sibling=Ct,xt=Ct);return t&&Ne.forEach(function(ex){return r(Q,ex)}),it&&bs(Q,tt),Me}function Gt(Q,q,J,ce){if(typeof J=="object"&&J!==null&&J.type===K&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case M:e:{for(var Me=J.key;q!==null;){if(q.key===Me){if(Me=J.type,Me===K){if(q.tag===7){a(Q,q.sibling),ce=f(q,J.props.children),ce.return=Q,Q=ce;break e}}else if(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===O&&F(Me)===q.type){a(Q,q.sibling),ce=f(q,J.props),Te(ce,J),ce.return=Q,Q=ce;break e}a(Q,q);break}else r(Q,q);q=q.sibling}J.type===K?(ce=_s(J.props.children,Q.mode,ce,J.key),ce.return=Q,Q=ce):(ce=dc(J.type,J.key,J.props,null,Q.mode,ce),Te(ce,J),ce.return=Q,Q=ce)}return T(Q);case Y:e:{for(Me=J.key;q!==null;){if(q.key===Me)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){a(Q,q.sibling),ce=f(q,J.children||[]),ce.return=Q,Q=ce;break e}else{a(Q,q);break}else r(Q,q);q=q.sibling}ce=mc(J,Q.mode,ce),ce.return=Q,Q=ce}return T(Q);case O:return J=F(J),Gt(Q,q,J,ce)}if(je(J))return Re(Q,q,J,ce);if(G(J)){if(Me=G(J),typeof Me!="function")throw Error(s(150));return J=Me.call(J),Be(Q,q,J,ce)}if(typeof J.then=="function")return Gt(Q,q,xe(J),ce);if(J.$$typeof===te)return Gt(Q,q,Ao(Q,J),ce);Ye(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(a(Q,q.sibling),ce=f(q,J),ce.return=Q,Q=ce):(a(Q,q),ce=To(J,Q.mode,ce),ce.return=Q,Q=ce),T(Q)):a(Q,q)}return function(Q,q,J,ce){try{Se=0;var Me=Gt(Q,q,J,ce);return _e=null,Me}catch(Ne){if(Ne===Ro||Ne===A)throw Ne;var xt=$i(29,Ne,null,Q.mode);return xt.lanes=ce,xt.return=Q,xt}finally{}}}var ze=Ue(!0),qe=Ue(!1),Pe=!1;function At(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $e(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nt(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Nt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=fc(t),ju(t,null,a),r}return hc(t,l,r,a),fc(t)}function Qe(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,hs(t,a)}}function rt(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var vt=!1;function gt(){if(vt){var t=Co;if(t!==null)throw t}}function pt(t,r,a,l){vt=!1;var f=t.updateQueue;Pe=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var z=x,Z=z.next;z.next=null,T===null?m=Z:T.next=Z,T=z;var oe=t.alternate;oe!==null&&(oe=oe.updateQueue,x=oe.lastBaseUpdate,x!==T&&(x===null?oe.firstBaseUpdate=Z:x.next=Z,oe.lastBaseUpdate=z))}if(m!==null){var ue=f.baseState;T=0,oe=Z=z=null,x=m;do{var ee=x.lane&-536870913,ie=ee!==x.lane;if(ie?(ut&ee)===ee:(l&ee)===ee){ee!==0&&ee===xo&&(vt=!0),oe!==null&&(oe=oe.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Re=t,Be=x;ee=r;var Gt=a;switch(Be.tag){case 1:if(Re=Be.payload,typeof Re=="function"){ue=Re.call(Gt,ue,ee);break e}ue=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Be.payload,ee=typeof Re=="function"?Re.call(Gt,ue,ee):Re,ee==null)break e;ue=S({},ue,ee);break e;case 2:Pe=!0}}ee=x.callback,ee!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:x.tag,payload:x.payload,callback:x.callback,next:null},oe===null?(Z=oe=ie,z=ue):oe=oe.next=ie,T|=ee;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;ie=x,x=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);oe===null&&(z=ue),f.baseState=z,f.firstBaseUpdate=Z,f.lastBaseUpdate=oe,m===null&&(f.shared.lanes=0),jo|=T,t.lanes=T,t.memoizedState=ue}}function sn(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ii(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sn(a[t],r)}var ci=R(null),qn=R(0);function Qi(t,r){t=Ba,ve(qn,t),ve(ci,r),Ba=t|r.baseLanes}function Oi(){ve(qn,Ba),ve(ci,ci.current)}function Jt(){Ba=qn.current,ae(ci),ae(qn)}var an=R(null),gn=null;function Ki(t){var r=t.alternate;ve(Mt,Mt.current&1),ve(an,t),gn===null&&(r===null||ci.current!==null||r.memoizedState!==null)&&(gn=t)}function Sn(t){ve(Mt,Mt.current),ve(an,t),gn===null&&(gn=t)}function jt(t){t.tag===22?(ve(Mt,Mt.current),ve(an,t),gn===null&&(gn=t)):on()}function on(){ve(Mt,Mt.current),ve(an,an.current)}function Zt(t){ae(an),gn===t&&(gn=null),ae(Mt)}var Mt=R(0);function Ia(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wp(a)||Xp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var is=0,Xe=null,_t=null,An=null,yc=!1,Zs=!1,Oa=!1,Il=0,Ol=0,ja=null,jf=0;function ln(){throw Error(s(321))}function $u(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!yi(t[a],r[a]))return!1;return!0}function Ss(t,r,a,l,f,m){return is=m,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?E_:op,Oa=!1,m=a(l,f),Oa=!1,Zs&&(m=Yu(r,a,l,f)),jl(t),m}function jl(t){X.H=Ku;var r=_t!==null&&_t.next!==null;if(is=0,An=_t=Xe=null,yc=!1,Ol=0,ja=null,r)throw Error(s(300));t===null||Fn||(t=t.dependencies,t!==null&&Rl(t)&&(Fn=!0))}function Yu(t,r,a,l){Xe=t;var f=0;do{if(Zs&&(ja=null),Ol=0,Zs=!1,25<=f)throw Error(s(301));if(f+=1,An=_t=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=T_,m=r(a,l)}while(Zs);return m}function Mf(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?kl(r):r,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(Xe.flags|=1024),r}function Ml(){var t=Il!==0;return Il=0,t}function vc(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function _c(t){if(yc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yc=!1}is=0,An=_t=Xe=null,Zs=!1,Ol=Il=0,ja=null}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Xe.memoizedState=An=t:An=An.next=t,An}function cn(){if(_t===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var r=An===null?Xe.memoizedState:An.next;if(r!==null)An=r,_t=t;else{if(t===null)throw Xe.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},An===null?Xe.memoizedState=An=t:An=An.next=t}return An}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var r=Ol;return Ol+=1,ja===null&&(ja=[]),t=D(ja,t,r),r=Xe,(An===null?r.memoizedState:An.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?E_:op),t}function No(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===te)return Bn(t)}throw Error(s(438,String(t)))}function Ec(t){var r=null,a=Xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bc(),Xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function Ma(t,r){return typeof r=="function"?r(t):r}function kf(t){var r=cn();return Xm(r,_t,t)}function Xm(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var x=T=null,z=null,Z=r,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(ut&ue)===ue:(is&ue)===ue){var ee=Z.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===xo&&(oe=!0);else if((is&ee)===ee){Z=Z.next,ee===xo&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(x=z=ue,T=m):z=z.next=ue,Xe.lanes|=ee,jo|=ee;ue=Z.action,Oa&&a(m,ue),m=Z.hasEagerState?Z.eagerState:a(m,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(x=z=ee,T=m):z=z.next=ee,Xe.lanes|=ue,jo|=ue;Z=Z.next}while(Z!==null&&Z!==r);if(z===null?T=m:z.next=x,!yi(m,t.memoizedState)&&(Fn=!0,oe&&(a=Co,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=z,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jm(t){var r=cn(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);yi(m,r.memoizedState)||(Fn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Bv(t,r,a){var l=Xe,f=cn(),m=it;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!yi((_t||f).memoizedState,a);if(T&&(f.memoizedState=a,Fn=!0),f=f.queue,tp(Hv.bind(null,l,f,t),[t]),f.getSnapshot!==r||T||An!==null&&An.memoizedState.tag&1){if(l.flags|=2048,Tc(9,{destroy:void 0},Fv.bind(null,l,f,a,r),null),Yt===null)throw Error(s(349));m||(is&127)!==0||qv(l,r,a)}return a}function qv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Xe.updateQueue,r===null?(r=bc(),Xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Fv(t,r,a,l){r.value=a,r.getSnapshot=l,Gv(r)&&$v(t)}function Hv(t,r,a){return a(function(){Gv(r)&&$v(t)})}function Gv(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!yi(t,a)}catch{return!0}}function $v(t){var r=vi(t,2);r!==null&&yr(r,t,2)}function Zm(t){var r=ui();if(typeof t=="function"){var a=t;if(t=a(),Oa){ii(!0);try{a()}finally{ii(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},r}function Yv(t,r,a,l){return t.baseState=a,Xm(t,_t,typeof l=="function"?l:Ma)}function $A(t,r,a,l,f){if(Vf(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Qv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Qv(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=X.T,T={};X.T=T;try{var x=a(f,l),z=X.S;z!==null&&z(T,x),Kv(t,r,x)}catch(Z){ep(t,r,Z)}finally{m!==null&&T.types!==null&&(m.types=T.types),X.T=m}}else try{m=a(f,l),Kv(t,r,m)}catch(Z){ep(t,r,Z)}}function Kv(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wv(t,r,l)},function(l){return ep(t,r,l)}):Wv(t,r,a)}function Wv(t,r,a){r.status="fulfilled",r.value=a,Xv(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Qv(t,a)))}function ep(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Xv(r),r=r.next;while(r!==l)}t.action=null}function Xv(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jv(t,r){return r}function Zv(t,r){if(it){var a=Yt.formState;if(a!==null){e:{var l=Xe;if(it){if(St){t:{for(var f=St,m=hr;f.nodeType!==8;){if(!m){f=null;break t}if(f=rs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=rs(f.nextSibling),l=f.data==="F!";break e}}Qs(l)}l=!1}l&&(r=a[0])}}return a=ui(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:r},a.queue=l,a=v_.bind(null,Xe,l),l.dispatch=a,l=Zm(!1),m=ap.bind(null,Xe,!1,l.queue),l=ui(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=$A.bind(null,Xe,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function e_(t){var r=cn();return t_(r,_t,t)}function t_(t,r,a){if(r=Xm(t,r,Jv)[0],t=kf(Ma)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=kl(r)}catch(T){throw T===Ro?A:T}else l=r;r=cn();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Xe.flags|=2048,Tc(9,{destroy:void 0},YA.bind(null,f,a),null)),[l,m,t]}function YA(t,r){t.action=r}function n_(t){var r=cn(),a=_t;if(a!==null)return t_(r,a,t);cn(),r=r.memoizedState,a=cn();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Tc(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Xe.updateQueue,r===null&&(r=bc(),Xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function i_(){return cn().memoizedState}function Pf(t,r,a,l){var f=ui();Xe.flags|=t,f.memoizedState=Tc(1|r,{destroy:void 0},a,l===void 0?null:l)}function Lf(t,r,a,l){var f=cn();l=l===void 0?null:l;var m=f.memoizedState.inst;_t!==null&&l!==null&&$u(l,_t.memoizedState.deps)?f.memoizedState=Tc(r,m,a,l):(Xe.flags|=t,f.memoizedState=Tc(1|r,m,a,l))}function r_(t,r){Pf(8390656,8,t,r)}function tp(t,r){Lf(2048,8,t,r)}function QA(t){Xe.flags|=4;var r=Xe.updateQueue;if(r===null)r=bc(),Xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function s_(t){var r=cn().memoizedState;return QA({ref:r,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function a_(t,r){return Lf(4,2,t,r)}function o_(t,r){return Lf(4,4,t,r)}function l_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function c_(t,r,a){a=a!=null?a.concat([t]):null,Lf(4,4,l_.bind(null,r,t),a)}function np(){}function u_(t,r){var a=cn();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&$u(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function h_(t,r){var a=cn();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&$u(r,l[1]))return l[0];if(l=t(),Oa){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,r],l}function ip(t,r,a){return a===void 0||(is&1073741824)!==0&&(ut&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=fb(),Xe.lanes|=t,jo|=t,a)}function f_(t,r,a,l){return yi(a,r)?a:ci.current!==null?(t=ip(t,a,l),yi(t,r)||(Fn=!0),t):(is&42)===0||(is&1073741824)!==0&&(ut&261930)===0?(Fn=!0,t.memoizedState=a):(t=fb(),Xe.lanes|=t,jo|=t,r)}function d_(t,r,a,l,f){var m=se.p;se.p=m!==0&&8>m?m:8;var T=X.T,x={};X.T=x,ap(t,!1,r,a);try{var z=f(),Z=X.S;if(Z!==null&&Z(x,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=Wm(z,l);Qu(t,r,oe,zr(t))}else Qu(t,r,l,zr(t))}catch(ue){Qu(t,r,{then:function(){},status:"rejected",reason:ue},zr())}finally{se.p=m,T!==null&&x.types!==null&&(T.types=x.types),X.T=T}}function KA(){}function rp(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=m_(t).queue;d_(t,f,r,me,a===null?KA:function(){return p_(t),a(l)})}function m_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function p_(t){var r=m_(t);r.next===null&&(r=t.alternate.memoizedState),Qu(t,r.next.queue,{},zr())}function sp(){return Bn(hh)}function g_(){return cn().memoizedState}function y_(){return cn().memoizedState}function WA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=zr();t=$e(a);var l=nt(r,t,a);l!==null&&(yr(l,r,a),Qe(l,r,a)),r={cache:ws()},t.payload=r;return}r=r.return}}function XA(t,r,a){var l=zr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vf(t)?__(r,a):(a=Ou(t,r,a,l),a!==null&&(yr(a,t,l),b_(a,r,l)))}function v_(t,r,a){var l=zr();Qu(t,r,a,l)}function Qu(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vf(t))__(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,x=m(T,a);if(f.hasEagerState=!0,f.eagerState=x,yi(x,T))return hc(t,r,f,0),Yt===null&&uc(),!1}catch{}finally{}if(a=Ou(t,r,f,l),a!==null)return yr(a,t,l),b_(a,r,l),!0}return!1}function ap(t,r,a,l){if(l={lane:2,revertLane:Vp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vf(t)){if(r)throw Error(s(479))}else r=Ou(t,a,l,2),r!==null&&yr(r,t,2)}function Vf(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function __(t,r){Zs=yc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function b_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,hs(t,a)}}var Ku={readContext:Bn,use:No,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Ku.useEffectEvent=ln;var E_={readContext:Bn,use:No,useCallback:function(t,r){return ui().memoizedState=[t,r===void 0?null:r],t},useContext:Bn,useEffect:r_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Pf(4194308,4,l_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Pf(4194308,4,t,r)},useInsertionEffect:function(t,r){Pf(4,2,t,r)},useMemo:function(t,r){var a=ui();r=r===void 0?null:r;var l=t();if(Oa){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ui();if(a!==void 0){var f=a(r);if(Oa){ii(!0);try{a(r)}finally{ii(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=XA.bind(null,Xe,t),[l.memoizedState,t]},useRef:function(t){var r=ui();return t={current:t},r.memoizedState=t},useState:function(t){t=Zm(t);var r=t.queue,a=v_.bind(null,Xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:np,useDeferredValue:function(t,r){var a=ui();return ip(a,t,r)},useTransition:function(){var t=Zm(!1);return t=d_.bind(null,Xe,t.queue,!0,!1),ui().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Xe,f=ui();if(it){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Yt===null)throw Error(s(349));(ut&127)!==0||qv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,r_(Hv.bind(null,l,m,t),[t]),l.flags|=2048,Tc(9,{destroy:void 0},Fv.bind(null,l,m,a,r),null),a},useId:function(){var t=ui(),r=Yt.identifierPrefix;if(it){var a=ts,l=es;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Il++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=jf++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:sp,useFormState:Zv,useActionState:Zv,useOptimistic:function(t){var r=ui();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ap.bind(null,Xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ec,useCacheRefresh:function(){return ui().memoizedState=WA.bind(null,Xe)},useEffectEvent:function(t){var r=ui(),a={impl:t};return r.memoizedState=a,function(){if((Nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},op={readContext:Bn,use:No,useCallback:u_,useContext:Bn,useEffect:tp,useImperativeHandle:c_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:kf,useRef:i_,useState:function(){return kf(Ma)},useDebugValue:np,useDeferredValue:function(t,r){var a=cn();return f_(a,_t.memoizedState,t,r)},useTransition:function(){var t=kf(Ma)[0],r=cn().memoizedState;return[typeof t=="boolean"?t:kl(t),r]},useSyncExternalStore:Bv,useId:g_,useHostTransitionStatus:sp,useFormState:e_,useActionState:e_,useOptimistic:function(t,r){var a=cn();return Yv(a,_t,t,r)},useMemoCache:Ec,useCacheRefresh:y_};op.useEffectEvent=s_;var T_={readContext:Bn,use:No,useCallback:u_,useContext:Bn,useEffect:tp,useImperativeHandle:c_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Jm,useRef:i_,useState:function(){return Jm(Ma)},useDebugValue:np,useDeferredValue:function(t,r){var a=cn();return _t===null?ip(a,t,r):f_(a,_t.memoizedState,t,r)},useTransition:function(){var t=Jm(Ma)[0],r=cn().memoizedState;return[typeof t=="boolean"?t:kl(t),r]},useSyncExternalStore:Bv,useId:g_,useHostTransitionStatus:sp,useFormState:n_,useActionState:n_,useOptimistic:function(t,r){var a=cn();return _t!==null?Yv(a,_t,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ec,useCacheRefresh:y_};T_.useEffectEvent=s_;function lp(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cp={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=zr(),f=$e(l);f.payload=r,a!=null&&(f.callback=a),r=nt(t,f,l),r!==null&&(yr(r,t,l),Qe(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=zr(),f=$e(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=nt(t,f,l),r!==null&&(yr(r,t,l),Qe(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=zr(),l=$e(a);l.tag=2,r!=null&&(l.callback=r),r=nt(t,l,a),r!==null&&(yr(r,t,a),Qe(r,t,a))}};function w_(t,r,a,l,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!oi(a,l)||!oi(f,m):!0}function S_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&cp.enqueueReplaceState(r,r.state,null)}function Pl(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function A_(t){Sl(t)}function x_(t){console.error(t)}function C_(t){Sl(t)}function Uf(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function D_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function up(t,r,a){return a=$e(a),a.tag=3,a.payload={element:null},a.callback=function(){Uf(t,r)},a}function R_(t){return t=$e(t),t.tag=3,t}function N_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){D_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){D_(r,a,l),typeof f!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function JA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xs(r,a,f,!0),a=an.current,a!==null){switch(a.tag){case 31:case 13:return gn===null?Xf():a.alternate===null&&xn===0&&(xn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kp(t,l,f)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kp(t,l,f)),!1}throw Error(s(435,a.tag))}return kp(t,l,f),Xf(),!1}if(it)return r=an.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Vu&&(t=Error(s(422),{cause:l}),Dl(li(t,a)))):(l!==Vu&&(r=Error(s(423),{cause:l}),Dl(li(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=li(l,a),f=up(t.stateNode,l,f),rt(t,f),xn!==4&&(xn=2)),!1;var m=Error(s(520),{cause:l});if(m=li(m,a),ih===null?ih=[m]:ih.push(m),xn!==4&&(xn=2),r===null)return!0;l=li(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=up(a.stateNode,l,t),rt(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mo===null||!Mo.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=R_(f),N_(f,t,a,l),rt(a,f),!1}a=a.return}while(a!==null);return!1}var hp=Error(s(461)),Fn=!1;function _i(t,r,a,l){r.child=t===null?qe(r,null,a,l):ze(r,t.child,a,l)}function I_(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var x in l)x!=="ref"&&(T[x]=l[x])}else T=l;return Yi(r),l=Ss(t,r,a,T,m,f),x=Ml(),t!==null&&!Fn?(vc(t,r,f),ka(t,r,f)):(it&&x&&Cl(r),r.flags|=1,_i(t,r,l,f),r.child)}function O_(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Mu(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,j_(t,r,m,l,f)):(t=dc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!_p(t,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:oi,a(T,l)&&t.ref===r.ref)return ka(t,r,f)}return r.flags|=1,t=vs(m,l),t.ref=r.ref,t.return=r,r.child=t}function j_(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(oi(m,l)&&t.ref===r.ref)if(Fn=!1,r.pendingProps=l=m,_p(t,f))(t.flags&131072)!==0&&(Fn=!0);else return r.lanes=t.lanes,ka(t,r,f)}return fp(t,r,a,l,f)}function M_(t,r,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return k_(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ra(r,m!==null?m.cachePool:null),m!==null?Qi(r,m):Oi(),jt(r);else return l=r.lanes=536870912,k_(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ra(r,m.cachePool),Qi(r,m),on(),r.memoizedState=null):(t!==null&&Ra(r,null),Oi(),on());return _i(t,r,f,a),r.child}function Wu(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function k_(t,r,a,l,f){var m=Do();return m=m===null?null:{parent:wn._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ra(r,null),Oi(),jt(r),t!==null&&Xs(t,r,l,!0),r.childLanes=f,null}function zf(t,r){return r=qf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function P_(t,r,a){return ze(r,t.child,null,a),t=zf(r,r.pendingProps),t.flags|=2,Zt(r),r.memoizedState=null,t}function ZA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(it){if(l.mode==="hidden")return t=zf(r,l),r.lanes=536870912,Wu(null,t);if(Sn(r),(t=St)?(t=Qb(t,hr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},a=Df(t),a.return=r,r.child=a,ei=r,St=null)):t=null,t===null)throw Qs(r);return r.lanes=536870912,null}return zf(r,l)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Sn(r),f)if(r.flags&256)r.flags&=-257,r=P_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Fn||Xs(t,r,a,!1),f=(a&t.childLanes)!==0,Fn||f){if(l=Yt,l!==null&&(T=$r(l,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,vi(t,T),yr(l,t,T),hp;Xf(),r=P_(t,r,a)}else t=m.treeContext,St=rs(T.nextSibling),ei=r,it=!0,Es=null,hr=!1,t!==null&&Lu(r,t),r=zf(r,l),r.flags|=4096;return r}return t=vs(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Bf(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function fp(t,r,a,l,f){return Yi(r),a=Ss(t,r,a,l,void 0,f),l=Ml(),t!==null&&!Fn?(vc(t,r,f),ka(t,r,f)):(it&&l&&Cl(r),r.flags|=1,_i(t,r,a,f),r.child)}function L_(t,r,a,l,f,m){return Yi(r),r.updateQueue=null,a=Yu(r,l,a,f),jl(t),l=Ml(),t!==null&&!Fn?(vc(t,r,m),ka(t,r,m)):(it&&l&&Cl(r),r.flags|=1,_i(t,r,a,m),r.child)}function V_(t,r,a,l,f){if(Yi(r),r.stateNode===null){var m=Eo,T=a.contextType;typeof T=="object"&&T!==null&&(m=Bn(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cp,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},At(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?Bn(T):Eo,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(lp(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&cp.enqueueReplaceState(m,m.state,null),pt(r,l,m,f),gt(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var x=r.memoizedProps,z=Pl(a,x);m.props=z;var Z=m.context,oe=a.contextType;T=Eo,typeof oe=="object"&&oe!==null&&(T=Bn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||Z!==T)&&S_(r,m,l,T),Pe=!1;var ee=r.memoizedState;m.state=ee,pt(r,l,m,f),gt(),Z=r.memoizedState,x||ee!==Z||Pe?(typeof ue=="function"&&(lp(r,a,ue,l),Z=r.memoizedState),(z=Pe||w_(r,a,z,l,ee,Z,T))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=Z),m.props=l,m.state=Z,m.context=T,l=z):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Ot(t,r),T=r.memoizedProps,oe=Pl(a,T),m.props=oe,ue=r.pendingProps,ee=m.context,Z=a.contextType,z=Eo,typeof Z=="object"&&Z!==null&&(z=Bn(Z)),x=a.getDerivedStateFromProps,(Z=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ue||ee!==z)&&S_(r,m,l,z),Pe=!1,ee=r.memoizedState,m.state=ee,pt(r,l,m,f),gt();var ie=r.memoizedState;T!==ue||ee!==ie||Pe||t!==null&&t.dependencies!==null&&Rl(t.dependencies)?(typeof x=="function"&&(lp(r,a,x,l),ie=r.memoizedState),(oe=Pe||w_(r,a,oe,l,ee,ie,z)||t!==null&&t.dependencies!==null&&Rl(t.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ie,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ie,z)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ie),m.props=l,m.state=ie,m.context=z,l=oe):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Bf(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=ze(r,t.child,null,f),r.child=ze(r,null,a,f)):_i(t,r,a,f),r.memoizedState=m.state,t=r.child):t=ka(t,r,f),t}function U_(t,r,a,l){return Ca(),r.flags|=256,_i(t,r,a,l),r.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(t){return{baseLanes:t,cachePool:Of()}}function pp(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Ur),t}function z_(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(it){if(f?Ki(r):on(),(t=St)?(t=Qb(t,hr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},a=Df(t),a.return=r,r.child=a,ei=r,St=null)):t=null,t===null)throw Qs(r);return Xp(t)?r.lanes=32:r.lanes=536870912,null}var x=l.children;return l=l.fallback,f?(on(),f=r.mode,x=qf({mode:"hidden",children:x},f),l=_s(l,f,a,null),x.return=r,l.return=r,x.sibling=l,r.child=x,l=r.child,l.memoizedState=mp(a),l.childLanes=pp(t,T,a),r.memoizedState=dp,Wu(null,l)):(Ki(r),gp(r,x))}var z=t.memoizedState;if(z!==null&&(x=z.dehydrated,x!==null)){if(m)r.flags&256?(Ki(r),r.flags&=-257,r=yp(t,r,a)):r.memoizedState!==null?(on(),r.child=t.child,r.flags|=128,r=null):(on(),x=l.fallback,f=r.mode,l=qf({mode:"visible",children:l.children},f),x=_s(x,f,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,ze(r,t.child,null,a),l=r.child,l.memoizedState=mp(a),l.childLanes=pp(t,T,a),r.memoizedState=dp,r=Wu(null,l));else if(Ki(r),Xp(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var Z=T.dgst;T=Z,l=Error(s(419)),l.stack="",l.digest=T,Dl({value:l,source:null,stack:null}),r=yp(t,r,a)}else if(Fn||Xs(t,r,a,!1),T=(a&t.childLanes)!==0,Fn||T){if(T=Yt,T!==null&&(l=$r(T,a),l!==0&&l!==z.retryLane))throw z.retryLane=l,vi(t,l),yr(T,t,l),hp;Wp(x)||Xf(),r=yp(t,r,a)}else Wp(x)?(r.flags|=192,r.child=t.child,r=null):(t=z.treeContext,St=rs(x.nextSibling),ei=r,it=!0,Es=null,hr=!1,t!==null&&Lu(r,t),r=gp(r,l.children),r.flags|=4096);return r}return f?(on(),x=l.fallback,f=r.mode,z=t.child,Z=z.sibling,l=vs(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?x=vs(Z,x):(x=_s(x,f,a,null),x.flags|=2),x.return=r,l.return=r,l.sibling=x,r.child=l,Wu(null,l),l=r.child,x=t.child.memoizedState,x===null?x=mp(a):(f=x.cachePool,f!==null?(z=wn._currentValue,f=f.parent!==z?{parent:z,pool:z}:f):f=Of(),x={baseLanes:x.baseLanes|a,cachePool:f}),l.memoizedState=x,l.childLanes=pp(t,T,a),r.memoizedState=dp,Wu(t.child,l)):(Ki(r),a=t.child,t=a.sibling,a=vs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=a,r.memoizedState=null,a)}function gp(t,r){return r=qf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function qf(t,r){return t=$i(22,t,null,r),t.lanes=0,t}function yp(t,r,a){return ze(r,t.child,null,a),t=gp(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function B_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Bu(t.return,r,a)}function vp(t,r,a,l,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=f,T.treeForkCount=m)}function q_(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var T=Mt.current,x=(T&2)!==0;if(x?(T=T&1|2,r.flags|=128):T&=1,ve(Mt,T),_i(t,r,l,a),l=it?Al:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,a,r);else if(t.tag===19)B_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Ia(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vp(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ia(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}vp(r,!0,a,null,m,l);break;case"together":vp(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ka(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),jo|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xs(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=vs(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=vs(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function _p(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Rl(t)))}function e1(t,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),Ws(r,wn,t.memoizedState.cache),Ca();break;case 27:case 5:xi(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:Ws(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sn(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(r),r.flags|=128,null):(a&r.child.childLanes)!==0?z_(t,r,a):(Ki(r),t=ka(t,r,a),t!==null?t.sibling:null);Ki(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xs(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return q_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ve(Mt,Mt.current),l)break;return null;case 22:return r.lanes=0,M_(t,r,a,r.pendingProps);case 24:Ws(r,wn,t.memoizedState.cache)}return ka(t,r,a)}function F_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Fn=!0;else{if(!_p(t,a)&&(r.flags&128)===0)return Fn=!1,e1(t,r,a);Fn=(t.flags&131072)!==0}else Fn=!1,it&&(r.flags&1048576)!==0&&xl(r,Al,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=F(r.elementType),r.type=t,typeof t=="function")Mu(t)?(l=Pl(t,l),r.tag=1,r=V_(null,r,t,l,a)):(r.tag=0,r=fp(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ye){r.tag=11,r=I_(null,r,t,l,a);break e}else if(f===j){r.tag=14,r=O_(null,r,t,l,a);break e}}throw r=fe(t)||t,Error(s(306,r,""))}}return r;case 0:return fp(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Pl(l,r.pendingProps),V_(t,r,l,f,a);case 3:e:{if(Pt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Ot(t,r),pt(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Ws(r,wn,l),l!==m.cache&&gc(r,[wn],a,!0),gt(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=U_(t,r,l,a);break e}else if(l!==f){f=li(Error(s(424)),r),Dl(f),r=U_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=rs(t.firstChild),ei=r,it=!0,Es=null,hr=!0,a=qe(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ca(),l===f){r=ka(t,r,a);break e}_i(t,r,l,a)}r=r.child}return r;case 26:return Bf(t,r),t===null?(a=eE(r.type,null,r.pendingProps,null))?r.memoizedState=a:it||(a=r.type,t=r.pendingProps,l=rd(Le.current).createElement(a),l[Bt]=r,l[En]=t,bi(l,a,t),$t(l),r.stateNode=l):r.memoizedState=eE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xi(r),t===null&&it&&(l=r.stateNode=Xb(r.type,r.pendingProps,Le.current),ei=r,hr=!0,f=St,Vo(r.type)?(Jp=f,St=rs(l.firstChild)):St=f),_i(t,r,r.pendingProps.children,a),Bf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&it&&((f=l=St)&&(l=N1(l,r.type,r.pendingProps,hr),l!==null?(r.stateNode=l,ei=r,St=rs(l.firstChild),hr=!1,f=!0):f=!1),f||Qs(r)),xi(r),f=r.type,m=r.pendingProps,T=t!==null?t.memoizedProps:null,l=m.children,Yp(f,m)?l=null:T!==null&&Yp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Ss(t,r,Mf,null,null,a),hh._currentValue=f),Bf(t,r),_i(t,r,l,a),r.child;case 6:return t===null&&it&&((t=a=St)&&(a=I1(a,r.pendingProps,hr),a!==null?(r.stateNode=a,ei=r,St=null,t=!0):t=!1),t||Qs(r)),null;case 13:return z_(t,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ze(r,null,l,a):_i(t,r,l,a),r.child;case 11:return I_(t,r,r.type,r.pendingProps,a);case 7:return _i(t,r,r.pendingProps,a),r.child;case 8:return _i(t,r,r.pendingProps.children,a),r.child;case 12:return _i(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ws(r,r.type,l.value),_i(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Yi(r),f=Bn(f),l=l(f),r.flags|=1,_i(t,r,l,a),r.child;case 14:return O_(t,r,r.type,r.pendingProps,a);case 15:return j_(t,r,r.type,r.pendingProps,a);case 19:return q_(t,r,a);case 31:return ZA(t,r,a);case 22:return M_(t,r,a,r.pendingProps);case 24:return Yi(r),l=Bn(wn),t===null?(f=Do(),f===null&&(f=Yt,m=ws(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},At(r),Ws(r,wn,f)):((t.lanes&a)!==0&&(Ot(t,r),pt(r,null,null,a),gt()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ws(r,wn,l)):(l=m.cache,Ws(r,wn,l),l!==f.cache&&gc(r,[wn],a,!0))),_i(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Pa(t){t.flags|=4}function bp(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(gb())t.flags|=8192;else throw $=d,Na}else t.flags&=-16777217}function H_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sE(r))if(gb())t.flags|=8192;else throw $=d,Na}function Ff(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?mi():536870912,t.lanes|=r,xc|=r)}function Xu(t,r){if(!it)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nn(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function t1(t,r,a){var l=r.pendingProps;switch(Pu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(r),null;case 1:return nn(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ns(wn),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(So(r)?Pa(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Uu())),nn(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(Pa(r),m!==null?(nn(r),H_(r,m)):(nn(r),bp(r,f,null,l,a))):m?m!==t.memoizedState?(Pa(r),nn(r),H_(r,m)):(nn(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Pa(r),nn(r),bp(r,f,t,l,a)),null;case 27:if(br(r),a=Le.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Pa(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nn(r),null}t=we.current,So(r)?wo(r):(t=Xb(f,l,a),r.stateNode=t,Pa(r))}return nn(r),null;case 5:if(br(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Pa(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nn(r),null}if(m=we.current,So(r))wo(r);else{var T=rd(Le.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?T.createElement(f,{is:l.is}):T.createElement(f)}}m[Bt]=r,m[En]=l;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=m;e:switch(bi(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Pa(r)}}return nn(r),bp(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Pa(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Le.current,So(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=ei,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zb(t.nodeValue,a)),t||Qs(r,!0)}else t=rd(t).createTextNode(l),t[Bt]=r,r.stateNode=t}return nn(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=So(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Bt]=r}else Ca(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nn(r),t=!1}else a=Uu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Zt(r),r):(Zt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nn(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=So(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else Ca(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nn(r),f=!1}else f=Uu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Zt(r),r):(Zt(r),null)}return Zt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Ff(r,r.updateQueue),nn(r),null);case 4:return be(),t===null&&qp(r.stateNode.containerInfo),nn(r),null;case 10:return ns(r.type),nn(r),null;case 19:if(ae(Mt),l=r.memoizedState,l===null)return nn(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Xu(l,!1);else{if(xn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Ia(t),m!==null){for(r.flags|=128,Xu(l,!1),t=m.updateQueue,r.updateQueue=t,Ff(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Cf(a,t),a=a.sibling;return ve(Mt,Mt.current&1|2),it&&bs(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Qn()>Qf&&(r.flags|=128,f=!0,Xu(l,!1),r.lanes=4194304)}else{if(!f)if(t=Ia(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Ff(r,t),Xu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!it)return nn(r),null}else 2*Qn()-l.renderingStartTime>Qf&&a!==536870912&&(r.flags|=128,f=!0,Xu(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qn(),t.sibling=null,a=Mt.current,ve(Mt,f?a&1|2:a&1),it&&bs(r,l.treeForkCount),t):(nn(r),null);case 22:case 23:return Zt(r),Jt(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nn(r),r.subtreeFlags&6&&(r.flags|=8192)):nn(r),a=r.updateQueue,a!==null&&Ff(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ae(Js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ns(wn),nn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function n1(t,r){switch(Pu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ns(wn),be(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return br(r),null;case 31:if(r.memoizedState!==null){if(Zt(r),r.alternate===null)throw Error(s(340));Ca()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Zt(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ca()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ae(Mt),null;case 4:return be(),null;case 10:return ns(r.type),null;case 22:case 23:return Zt(r),Jt(),t!==null&&ae(Js),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ns(wn),null;case 25:return null;default:return null}}function G_(t,r){switch(Pu(r),r.tag){case 3:ns(wn),be();break;case 26:case 27:case 5:br(r);break;case 4:be();break;case 31:r.memoizedState!==null&&Zt(r);break;case 13:Zt(r);break;case 19:ae(Mt);break;case 10:ns(r.type);break;case 22:case 23:Zt(r),Jt(),t!==null&&ae(Js);break;case 24:ns(wn)}}function Ju(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(x){Ut(r,r.return,x)}}function Io(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var T=l.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,f=r;var z=a,Z=x;try{Z()}catch(oe){Ut(f,z,oe)}}}l=l.next}while(l!==m)}}catch(oe){Ut(r,r.return,oe)}}function $_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ii(r,a)}catch(l){Ut(t,t.return,l)}}}function Y_(t,r,a){a.props=Pl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ut(t,r,l)}}function Zu(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ut(t,r,f)}}function ea(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ut(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ut(t,r,f)}else a.current=null}function Q_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ut(t,t.return,f)}}function Ep(t,r,a){try{var l=t.stateNode;S1(l,t.type,a,r),l[En]=r}catch(f){Ut(t,t.return,f)}}function K_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vo(t.type)||t.tag===4}function Tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wp(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Un));else if(l!==4&&(l===27&&Vo(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(wp(t,r,a),t=t.sibling;t!==null;)wp(t,r,a),t=t.sibling}function Hf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Vo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Hf(t,r,a),t=t.sibling;t!==null;)Hf(t,r,a),t=t.sibling}function W_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);bi(r,l,a),r[Bt]=t,r[En]=a}catch(m){Ut(t,t.return,m)}}var La=!1,Hn=!1,Sp=!1,X_=typeof WeakSet=="function"?WeakSet:Set,hi=null;function i1(t,r){if(t=t.containerInfo,Gp=hd,t=Tu(t),wu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,x=-1,z=-1,Z=0,oe=0,ue=t,ee=null;t:for(;;){for(var ie;ue!==a||f!==0&&ue.nodeType!==3||(x=T+f),ue!==m||l!==0&&ue.nodeType!==3||(z=T+l),ue.nodeType===3&&(T+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ee=ue,ue=ie;for(;;){if(ue===t)break t;if(ee===a&&++Z===f&&(x=T),ee===m&&++oe===l&&(z=T),(ie=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ie}a=x===-1||z===-1?null:{start:x,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for($p={focusedElem:t,selectionRange:a},hd=!1,hi=r;hi!==null;)if(r=hi,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,hi=t;else for(;hi!==null;){switch(r=hi,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Re=Pl(a.type,f);t=l.getSnapshotBeforeUpdate(Re,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Be){Ut(a,a.return,Be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Kp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,hi=t;break}hi=r.return}}function J_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(t,a),l&4&&Ju(5,a);break;case 1:if(Ua(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){Ut(a,a.return,T)}else{var f=Pl(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ut(a,a.return,T)}}l&64&&$_(a),l&512&&Zu(a,a.return);break;case 3:if(Ua(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ii(t,r)}catch(T){Ut(a,a.return,T)}}break;case 27:r===null&&l&4&&W_(a);case 26:case 5:Ua(t,a),r===null&&l&4&&Q_(a),l&512&&Zu(a,a.return);break;case 12:Ua(t,a);break;case 31:Ua(t,a),l&4&&tb(t,a);break;case 13:Ua(t,a),l&4&&nb(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=f1.bind(null,a),O1(t,a))));break;case 22:if(l=a.memoizedState!==null||La,!l){r=r!==null&&r.memoizedState!==null||Hn,f=La;var m=Hn;La=l,(Hn=r)&&!m?za(t,a,(a.subtreeFlags&8772)!==0):Ua(t,a),La=f,Hn=m}break;case 30:break;default:Ua(t,a)}}function Z_(t){var r=t.alternate;r!==null&&(t.alternate=null,Z_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&rn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var un=null,dr=!1;function Va(t,r,a){for(a=a.child;a!==null;)eb(t,r,a),a=a.sibling}function eb(t,r,a){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Cn,a)}catch{}switch(a.tag){case 26:Hn||ea(a,r),Va(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Hn||ea(a,r);var l=un,f=dr;Vo(a.type)&&(un=a.stateNode,dr=!1),Va(t,r,a),lh(a.stateNode),un=l,dr=f;break;case 5:Hn||ea(a,r);case 6:if(l=un,f=dr,un=null,Va(t,r,a),un=l,dr=f,un!==null)if(dr)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(a.stateNode)}catch(m){Ut(a,r,m)}else try{un.removeChild(a.stateNode)}catch(m){Ut(a,r,m)}break;case 18:un!==null&&(dr?(t=un,$b(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Mc(t)):$b(un,a.stateNode));break;case 4:l=un,f=dr,un=a.stateNode.containerInfo,dr=!0,Va(t,r,a),un=l,dr=f;break;case 0:case 11:case 14:case 15:Io(2,a,r),Hn||Io(4,a,r),Va(t,r,a);break;case 1:Hn||(ea(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Y_(a,r,l)),Va(t,r,a);break;case 21:Va(t,r,a);break;case 22:Hn=(l=Hn)||a.memoizedState!==null,Va(t,r,a),Hn=l;break;default:Va(t,r,a)}}function tb(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Mc(t)}catch(a){Ut(r,r.return,a)}}}function nb(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mc(t)}catch(a){Ut(r,r.return,a)}}function r1(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new X_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new X_),r;default:throw Error(s(435,t.tag))}}function Gf(t,r){var a=r1(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=d1.bind(null,t,l);l.then(f,f)}})}function mr(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,T=r,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(Vo(x.type)){un=x.stateNode,dr=!1;break e}break;case 5:un=x.stateNode,dr=!1;break e;case 3:case 4:un=x.stateNode.containerInfo,dr=!0;break e}x=x.return}if(un===null)throw Error(s(160));eb(m,T,f),un=null,dr=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ib(r,t),r=r.sibling}var As=null;function ib(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mr(r,t),pr(t),l&4&&(Io(3,t,t.return),Ju(3,t),Io(5,t,t.return));break;case 1:mr(r,t),pr(t),l&512&&(Hn||a===null||ea(a,a.return)),l&64&&La&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=As;if(mr(r,t),pr(t),l&512&&(Hn||a===null||ea(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ct]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),bi(m,l,a),m[Bt]=t,$t(m),l=m;break e;case"link":var T=iE("link","href",f).get(l+(a.href||""));if(T){for(var x=0;x<T.length;x++)if(m=T[x],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(x,1);break t}}m=f.createElement(l),bi(m,l,a),f.head.appendChild(m);break;case"meta":if(T=iE("meta","content",f).get(l+(a.content||""))){for(x=0;x<T.length;x++)if(m=T[x],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(x,1);break t}}m=f.createElement(l),bi(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Bt]=t,$t(m),l=m}t.stateNode=l}else rE(f,t.type,t.stateNode);else t.stateNode=nE(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?rE(f,t.type,t.stateNode):nE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ep(t,t.memoizedProps,a.memoizedProps)}break;case 27:mr(r,t),pr(t),l&512&&(Hn||a===null||ea(a,a.return)),a!==null&&l&4&&Ep(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mr(r,t),pr(t),l&512&&(Hn||a===null||ea(a,a.return)),t.flags&32){f=t.stateNode;try{In(f,"")}catch(Re){Ut(t,t.return,Re)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ep(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Sp=!0);break;case 6:if(mr(r,t),pr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Re){Ut(t,t.return,Re)}}break;case 3:if(od=null,f=As,As=sd(r.containerInfo),mr(r,t),As=f,pr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Mc(r.containerInfo)}catch(Re){Ut(t,t.return,Re)}Sp&&(Sp=!1,rb(t));break;case 4:l=As,As=sd(t.stateNode.containerInfo),mr(r,t),pr(t),As=l;break;case 12:mr(r,t),pr(t);break;case 31:mr(r,t),pr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 13:mr(r,t),pr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yf=Qn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 22:f=t.memoizedState!==null;var z=a!==null&&a.memoizedState!==null,Z=La,oe=Hn;if(La=Z||f,Hn=oe||z,mr(r,t),Hn=oe,La=Z,pr(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||z||La||Hn||Ll(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){z=a=r;try{if(m=z.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=z.stateNode;var ue=z.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;x.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Re){Ut(z,z.return,Re)}}}else if(r.tag===6){if(a===null){z=r;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(Re){Ut(z,z.return,Re)}}}else if(r.tag===18){if(a===null){z=r;try{var ie=z.stateNode;f?Yb(ie,!0):Yb(z.stateNode,!1)}catch(Re){Ut(z,z.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gf(t,a))));break;case 19:mr(r,t),pr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 30:break;case 21:break;default:mr(r,t),pr(t)}}function pr(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(K_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Tp(t);Hf(t,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(In(T,""),a.flags&=-33);var x=Tp(t);Hf(t,x,T);break;case 3:case 4:var z=a.stateNode.containerInfo,Z=Tp(t);wp(t,Z,z);break;default:throw Error(s(161))}}catch(oe){Ut(t,t.return,oe)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function rb(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;rb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ua(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)J_(t,r.alternate,r),r=r.sibling}function Ll(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Io(4,r,r.return),Ll(r);break;case 1:ea(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Y_(r,r.return,a),Ll(r);break;case 27:lh(r.stateNode);case 26:case 5:ea(r,r.return),Ll(r);break;case 22:r.memoizedState===null&&Ll(r);break;case 30:Ll(r);break;default:Ll(r)}t=t.sibling}}function za(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:za(f,m,a),Ju(4,m);break;case 1:if(za(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){Ut(l,l.return,Z)}if(l=m,f=l.updateQueue,f!==null){var x=l.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)sn(z[f],x)}catch(Z){Ut(l,l.return,Z)}}a&&T&64&&$_(m),Zu(m,m.return);break;case 27:W_(m);case 26:case 5:za(f,m,a),a&&l===null&&T&4&&Q_(m),Zu(m,m.return);break;case 12:za(f,m,a);break;case 31:za(f,m,a),a&&T&4&&tb(f,m);break;case 13:za(f,m,a),a&&T&4&&nb(f,m);break;case 22:m.memoizedState===null&&za(f,m,a),Zu(m,m.return);break;case 30:break;default:za(f,m,a)}r=r.sibling}}function Ap(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fr(a))}function xp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fr(t))}function xs(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sb(t,r,a,l),r=r.sibling}function sb(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:xs(t,r,a,l),f&2048&&Ju(9,r);break;case 1:xs(t,r,a,l);break;case 3:xs(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fr(t)));break;case 12:if(f&2048){xs(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,T=m.id,x=m.onPostCommit;typeof x=="function"&&x(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Ut(r,r.return,z)}}else xs(t,r,a,l);break;case 31:xs(t,r,a,l);break;case 13:xs(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?xs(t,r,a,l):eh(t,r):m._visibility&2?xs(t,r,a,l):(m._visibility|=2,wc(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Ap(T,r);break;case 24:xs(t,r,a,l),f&2048&&xp(r.alternate,r);break;default:xs(t,r,a,l)}}function wc(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,T=r,x=a,z=l,Z=T.flags;switch(T.tag){case 0:case 11:case 15:wc(m,T,x,z,f),Ju(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?wc(m,T,x,z,f):eh(m,T):(oe._visibility|=2,wc(m,T,x,z,f)),f&&Z&2048&&Ap(T.alternate,T);break;case 24:wc(m,T,x,z,f),f&&Z&2048&&xp(T.alternate,T);break;default:wc(m,T,x,z,f)}r=r.sibling}}function eh(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:eh(a,l),f&2048&&Ap(l.alternate,l);break;case 24:eh(a,l),f&2048&&xp(l.alternate,l);break;default:eh(a,l)}r=r.sibling}}var th=8192;function Sc(t,r,a){if(t.subtreeFlags&th)for(t=t.child;t!==null;)ab(t,r,a),t=t.sibling}function ab(t,r,a){switch(t.tag){case 26:Sc(t,r,a),t.flags&th&&t.memoizedState!==null&&H1(a,As,t.memoizedState,t.memoizedProps);break;case 5:Sc(t,r,a);break;case 3:case 4:var l=As;As=sd(t.stateNode.containerInfo),Sc(t,r,a),As=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=th,th=16777216,Sc(t,r,a),th=l):Sc(t,r,a));break;default:Sc(t,r,a)}}function ob(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function nh(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];hi=l,cb(l,t)}ob(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lb(t),t=t.sibling}function lb(t){switch(t.tag){case 0:case 11:case 15:nh(t),t.flags&2048&&Io(9,t,t.return);break;case 3:nh(t);break;case 12:nh(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,$f(t)):nh(t);break;default:nh(t)}}function $f(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];hi=l,cb(l,t)}ob(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Io(8,r,r.return),$f(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,$f(r));break;default:$f(r)}t=t.sibling}}function cb(t,r){for(;hi!==null;){var a=hi;switch(a.tag){case 0:case 11:case 15:Io(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,hi=l;else e:for(a=t;hi!==null;){l=hi;var f=l.sibling,m=l.return;if(Z_(l),l===a){hi=null;break e}if(f!==null){f.return=m,hi=f;break e}hi=m}}}var s1={getCacheForType:function(t){var r=Bn(wn),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Bn(wn).controller.signal}},a1=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Yt=null,at=null,ut=0,Vt=0,Vr=null,Oo=!1,Ac=!1,Cp=!1,Ba=0,xn=0,jo=0,Vl=0,Dp=0,Ur=0,xc=0,ih=null,gr=null,Rp=!1,Yf=0,ub=0,Qf=1/0,Kf=null,Mo=null,ti=0,ko=null,Cc=null,qa=0,Np=0,Ip=null,hb=null,rh=0,Op=null;function zr(){return(Nt&2)!==0&&ut!==0?ut&-ut:X.T!==null?Vp():Ps()}function fb(){if(Ur===0)if((ut&536870912)===0||it){var t=us;us<<=1,(us&3932160)===0&&(us=262144),Ur=t}else Ur=536870912;return t=an.current,t!==null&&(t.flags|=32),Ur}function yr(t,r,a){(t===Yt&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)&&(Dc(t,0),Po(t,ut,Ur,!1)),Sr(t,a),((Nt&2)===0||t!==Yt)&&(t===Yt&&((Nt&2)===0&&(Vl|=a),xn===4&&Po(t,ut,Ur,!1)),ta(t))}function db(t,r,a){if((Nt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Kn(t,r),f=l?c1(t,r):Mp(t,r,!0),m=l;do{if(f===0){Ac&&!l&&Po(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!o1(a)){f=Mp(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var x=t;f=ih;var z=x.current.memoizedState.isDehydrated;if(z&&(Dc(x,T).flags|=256),T=Mp(x,T,!1),T!==2){if(Cp&&!z){x.errorRecoveryDisabledLanes|=m,Vl|=m,f=4;break e}m=gr,gr=f,m!==null&&(gr===null?gr=m:gr.push.apply(gr,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Dc(t,0),Po(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Po(l,r,Ur,!Oo);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Yf+300-Qn(),10<f)){if(Po(l,r,Ur,!Oo),zt(l,0,!0)!==0)break e;qa=r,l.timeoutHandle=Hb(mb.bind(null,l,a,gr,Kf,Rp,r,Ur,Vl,xc,Oo,m,"Throttled",-0,0),f);break e}mb(l,a,gr,Kf,Rp,r,Ur,Vl,xc,Oo,m,null,-0,0)}}break}while(!0);ta(t)}function mb(t,r,a,l,f,m,T,x,z,Z,oe,ue,ee,ie){if(t.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},ab(r,m,ue);var Re=(m&62914560)===m?Yf-Qn():(m&4194048)===m?ub-Qn():0;if(Re=G1(ue,Re),Re!==null){qa=m,t.cancelPendingCommit=Re(Tb.bind(null,t,r,m,a,l,f,T,x,z,oe,ue,null,ee,ie)),Po(t,m,T,!Z);return}}Tb(t,r,m,a,l,f,T,x,z)}function o1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!yi(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Po(t,r,a,l){r&=~Dp,r&=~Vl,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-Wt(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&Di(t,a,r)}function Wf(){return(Nt&6)===0?(sh(0),!1):!0}function jp(){if(at!==null){if(Vt===0)var t=at.return;else t=at,Ts=Da=null,_c(t),_e=null,Se=0,t=at;for(;t!==null;)G_(t.alternate,t),t=t.return;at=null}}function Dc(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,C1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qa=0,jp(),Yt=t,at=a=vs(t.current,null),ut=r,Vt=0,Vr=null,Oo=!1,Ac=Kn(t,r),Cp=!1,xc=Ur=Dp=Vl=jo=xn=0,gr=ih=null,Rp=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Wt(l),m=1<<f;r|=t[f],l&=~m}return Ba=r,uc(),a}function pb(t,r){Xe=null,X.H=Ku,r===Ro||r===A?(r=re(),Vt=3):r===Na?(r=re(),Vt=4):Vt=r===hp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vr=r,at===null&&(xn=1,Uf(t,li(r,t.current)))}function gb(){var t=an.current;return t===null?!0:(ut&4194048)===ut?gn===null:(ut&62914560)===ut||(ut&536870912)!==0?t===gn:!1}function yb(){var t=X.H;return X.H=Ku,t===null?Ku:t}function vb(){var t=X.A;return X.A=s1,t}function Xf(){xn=4,Oo||(ut&4194048)!==ut&&an.current!==null||(Ac=!0),(jo&134217727)===0&&(Vl&134217727)===0||Yt===null||Po(Yt,ut,Ur,!1)}function Mp(t,r,a){var l=Nt;Nt|=2;var f=yb(),m=vb();(Yt!==t||ut!==r)&&(Kf=null,Dc(t,r)),r=!1;var T=xn;e:do try{if(Vt!==0&&at!==null){var x=at,z=Vr;switch(Vt){case 8:jp(),T=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(r=!0);var Z=Vt;if(Vt=0,Vr=null,Rc(t,x,z,Z),a&&Ac){T=0;break e}break;default:Z=Vt,Vt=0,Vr=null,Rc(t,x,z,Z)}}l1(),T=xn;break}catch(oe){pb(t,oe)}while(!0);return r&&t.shellSuspendCounter++,Ts=Da=null,Nt=l,X.H=f,X.A=m,at===null&&(Yt=null,ut=0,uc()),T}function l1(){for(;at!==null;)_b(at)}function c1(t,r){var a=Nt;Nt|=2;var l=yb(),f=vb();Yt!==t||ut!==r?(Kf=null,Qf=Qn()+500,Dc(t,r)):Ac=Kn(t,r);e:do try{if(Vt!==0&&at!==null){r=at;var m=Vr;t:switch(Vt){case 1:Vt=0,Vr=null,Rc(t,r,m,1);break;case 2:case 9:if(b(m)){Vt=0,Vr=null,bb(r);break}r=function(){Vt!==2&&Vt!==9||Yt!==t||(Vt=7),ta(t)},m.then(r,r);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:b(m)?(Vt=0,Vr=null,bb(r)):(Vt=0,Vr=null,Rc(t,r,m,7));break;case 5:var T=null;switch(at.tag){case 26:T=at.memoizedState;case 5:case 27:var x=at;if(T?sE(T):x.stateNode.complete){Vt=0,Vr=null;var z=x.sibling;if(z!==null)at=z;else{var Z=x.return;Z!==null?(at=Z,Jf(Z)):at=null}break t}}Vt=0,Vr=null,Rc(t,r,m,5);break;case 6:Vt=0,Vr=null,Rc(t,r,m,6);break;case 8:jp(),xn=6;break e;default:throw Error(s(462))}}u1();break}catch(oe){pb(t,oe)}while(!0);return Ts=Da=null,X.H=l,X.A=f,Nt=a,at!==null?0:(Yt=null,ut=0,uc(),xn)}function u1(){for(;at!==null&&!dl();)_b(at)}function _b(t){var r=F_(t.alternate,t,Ba);t.memoizedProps=t.pendingProps,r===null?Jf(t):at=r}function bb(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=L_(a,r,r.pendingProps,r.type,void 0,ut);break;case 11:r=L_(a,r,r.pendingProps,r.type.render,r.ref,ut);break;case 5:_c(r);default:G_(a,r),r=at=Cf(r,Ba),r=F_(a,r,Ba)}t.memoizedProps=t.pendingProps,r===null?Jf(t):at=r}function Rc(t,r,a,l){Ts=Da=null,_c(r),_e=null,Se=0;var f=r.return;try{if(JA(t,f,r,a,ut)){xn=1,Uf(t,li(a,t.current)),at=null;return}}catch(m){if(f!==null)throw at=f,m;xn=1,Uf(t,li(a,t.current)),at=null;return}r.flags&32768?(it||l===1?t=!0:Ac||(ut&536870912)!==0?t=!1:(Oo=t=!0,(l===2||l===9||l===3||l===6)&&(l=an.current,l!==null&&l.tag===13&&(l.flags|=16384))),Eb(r,t)):Jf(r)}function Jf(t){var r=t;do{if((r.flags&32768)!==0){Eb(r,Oo);return}t=r.return;var a=t1(r.alternate,r,Ba);if(a!==null){at=a;return}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);xn===0&&(xn=5)}function Eb(t,r){do{var a=n1(t.alternate,t);if(a!==null){a.flags&=32767,at=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){at=t;return}at=t=a}while(t!==null);xn=6,at=null}function Tb(t,r,a,l,f,m,T,x,z){t.cancelPendingCommit=null;do Zf();while(ti!==0);if((Nt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Iu,Ar(t,a,m,T,x,z),t===Yt&&(at=Yt=null,ut=0),Cc=r,ko=t,qa=a,Np=m,Ip=f,hb=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m1(Hr,function(){return Cb(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,T=Nt,Nt|=4;try{i1(t,r,a)}finally{Nt=T,se.p=f,X.T=l}}ti=1,wb(),Sb(),Ab()}}function wb(){if(ti===1){ti=0;var t=ko,r=Cc,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Nt;Nt|=4;try{ib(r,t);var m=$p,T=Tu(t.containerInfo),x=m.focusedElem,z=m.selectionRange;if(T!==x&&x&&x.ownerDocument&&Eu(x.ownerDocument.documentElement,x)){if(z!==null&&wu(x)){var Z=z.start,oe=z.end;if(oe===void 0&&(oe=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(oe,x.value.length);else{var ue=x.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Re=x.textContent.length,Be=Math.min(z.start,Re),Gt=z.end===void 0?Be:Math.min(z.end,Re);!ie.extend&&Be>Gt&&(T=Gt,Gt=Be,Be=T);var Q=bf(x,Be),q=bf(x,Gt);if(Q&&q&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var J=ue.createRange();J.setStart(Q.node,Q.offset),ie.removeAllRanges(),Be>Gt?(ie.addRange(J),ie.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),ie.addRange(J))}}}}for(ue=[],ie=x;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ue.length;x++){var ce=ue[x];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}hd=!!Gp,$p=Gp=null}finally{Nt=f,se.p=l,X.T=a}}t.current=r,ti=2}}function Sb(){if(ti===2){ti=0;var t=ko,r=Cc,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Nt;Nt|=4;try{J_(t,r.alternate,r)}finally{Nt=f,se.p=l,X.T=a}}ti=3}}function Ab(){if(ti===4||ti===3){ti=0,da();var t=ko,r=Cc,a=qa,l=hb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ti=5:(ti=0,Cc=ko=null,xb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Mo=null),Bi(a),r=r.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Cn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=se.p,se.p=2,X.T=null;try{for(var m=t.onRecoverableError,T=0;T<l.length;T++){var x=l[T];m(x.value,{componentStack:x.stack})}}finally{X.T=r,se.p=f}}(qa&3)!==0&&Zf(),ta(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Op?rh++:(rh=0,Op=t):rh=0,sh(0)}}function xb(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fr(r)))}function Zf(){return wb(),Sb(),Ab(),Cb()}function Cb(){if(ti!==5)return!1;var t=ko,r=Np;Np=0;var a=Bi(qa),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=Ip,Ip=null;var m=ko,T=qa;if(ti=0,Cc=ko=null,qa=0,(Nt&6)!==0)throw Error(s(331));var x=Nt;if(Nt|=4,lb(m.current),sb(m,m.current,T,a),Nt=x,sh(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Cn,m)}catch{}return!0}finally{se.p=f,X.T=l,xb(t,r)}}function Db(t,r,a){r=li(a,r),r=up(t.stateNode,r,2),t=nt(t,r,2),t!==null&&(Sr(t,2),ta(t))}function Ut(t,r,a){if(t.tag===3)Db(t,t,a);else for(;r!==null;){if(r.tag===3){Db(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mo===null||!Mo.has(l))){t=li(a,t),a=R_(2),l=nt(r,a,2),l!==null&&(N_(a,l,r,t),Sr(l,2),ta(l));break}}r=r.return}}function kp(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new a1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Cp=!0,f.add(a),t=h1.bind(null,t,r,a),r.then(t,t))}function h1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Yt===t&&(ut&a)===a&&(xn===4||xn===3&&(ut&62914560)===ut&&300>Qn()-Yf?(Nt&2)===0&&Dc(t,0):Dp|=a,xc===ut&&(xc=0)),ta(t)}function Rb(t,r){r===0&&(r=mi()),t=vi(t,r),t!==null&&(Sr(t,r),ta(t))}function f1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Rb(t,a)}function d1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Rb(t,a)}function m1(t,r){return dn(t,r)}var ed=null,Nc=null,Pp=!1,td=!1,Lp=!1,Lo=0;function ta(t){t!==Nc&&t.next===null&&(Nc===null?ed=Nc=t:Nc=Nc.next=t),td=!0,Pp||(Pp=!0,g1())}function sh(t,r){if(!Lp&&td){Lp=!0;do for(var a=!1,l=ed;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,x=l.pingedLanes;m=(1<<31-Wt(42|t)+1)-1,m&=f&~(T&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,jb(l,m))}else m=ut,m=zt(l,l===Yt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Kn(l,m)||(a=!0,jb(l,m));l=l.next}while(a);Lp=!1}}function p1(){Nb()}function Nb(){td=Pp=!1;var t=0;Lo!==0&&x1()&&(t=Lo);for(var r=Qn(),a=null,l=ed;l!==null;){var f=l.next,m=Ib(l,r);m===0?(l.next=null,a===null?ed=f:a.next=f,f===null&&(Nc=a)):(a=l,(t!==0||(m&3)!==0)&&(td=!0)),l=f}ti!==0&&ti!==5||sh(t),Lo!==0&&(Lo=0)}function Ib(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Wt(m),x=1<<T,z=f[T];z===-1?((x&a)===0||(x&l)!==0)&&(f[T]=Lt(x,r)):z<=r&&(t.expiredLanes|=x),m&=~x}if(r=Yt,a=ut,a=zt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Vt===2||Vt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Fr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Fr(l),Bi(a)){case 2:case 8:a=ks;break;case 32:a=Hr;break;case 268435456:a=Tr;break;default:a=Hr}return l=Ob.bind(null,t),a=dn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Fr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ob(t,r){if(ti!==0&&ti!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Zf()&&t.callbackNode!==a)return null;var l=ut;return l=zt(t,t===Yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(db(t,l,r),Ib(t,Qn()),t.callbackNode!=null&&t.callbackNode===a?Ob.bind(null,t):null)}function jb(t,r){if(Zf())return null;db(t,r,!0)}function g1(){D1(function(){(Nt&6)!==0?dn(Ci,p1):Nb()})}function Vp(){if(Lo===0){var t=xo;t===0&&(t=zi,zi<<=1,(zi&261888)===0&&(zi=256)),Lo=t}return Lo}function Mb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ho(""+t)}function kb(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function y1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Mb((f[En]||null).action),T=l.submitter;T&&(r=(r=T[En]||null)?Mb(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var x=new or("action","action",null,l,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Lo!==0){var z=T?kb(f,T):new FormData(f);rp(a,{pending:!0,data:z,method:f.method,action:m},null,z)}}else typeof m=="function"&&(x.preventDefault(),z=T?kb(f,T):new FormData(f),rp(a,{pending:!0,data:z,method:f.method,action:m},m,z))},currentTarget:f}]})}}for(var Up=0;Up<Nu.length;Up++){var zp=Nu[Up],v1=zp.toLowerCase(),_1=zp[0].toUpperCase()+zp.slice(1);Lr(v1,"on"+_1)}Lr(Zr,"onAnimationEnd"),Lr(Du,"onAnimationIteration"),Lr(Tf,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(wf,"onTransitionRun"),Lr(Sf,"onTransitionStart"),Lr(Af,"onTransitionCancel"),Lr(Ru,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ah));function Pb(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var x=l[T],z=x.instance,Z=x.currentTarget;if(x=x.listener,z!==m&&f.isPropagationStopped())break e;m=x,f.currentTarget=Z;try{m(f)}catch(oe){Sl(oe)}f.currentTarget=null,m=z}else for(T=0;T<l.length;T++){if(x=l[T],z=x.instance,Z=x.currentTarget,x=x.listener,z!==m&&f.isPropagationStopped())break e;m=x,f.currentTarget=Z;try{m(f)}catch(oe){Sl(oe)}f.currentTarget=null,m=z}}}}function ot(t,r){var a=r[Ke];a===void 0&&(a=r[Ke]=new Set);var l=t+"__bubble";a.has(l)||(Lb(r,t,2,!1),a.add(l))}function Bp(t,r,a){var l=0;r&&(l|=4),Lb(a,t,l,r)}var nd="_reactListening"+Math.random().toString(36).slice(2);function qp(t){if(!t[nd]){t[nd]=!0,so.forEach(function(a){a!=="selectionchange"&&(b1.has(a)||Bp(a,!1,t),Bp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[nd]||(r[nd]=!0,Bp("selectionchange",!1,r))}}function Lb(t,r,a,l){switch(fE(r)){case 2:var f=Q1;break;case 8:f=K1;break;default:f=ig}a=f.bind(null,r,a,t),f=void 0,!Ta||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Fp(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var x=l.stateNode.containerInfo;if(x===f)break;if(T===4)for(T=l.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;x!==null;){if(T=Ft(x),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){l=m=T;continue e}x=x.parentNode}}l=l.return}ds(function(){var Z=m,oe=qi(a),ue=[];e:{var ee=xf.get(t);if(ee!==void 0){var ie=or,Re=t;switch(t){case"keypress":if(Kr(a)===0)break e;case"keydown":case"keyup":ie=El;break;case"focusin":Re="focus",ie=qs;break;case"focusout":Re="blur",ie=qs;break;case"beforeblur":case"afterblur":ie=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_;break;case Zr:case Du:case Tf:ie=mo;break;case Ru:ie=N;break;case"scroll":case"scrollend":ie=ys;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Mr;break;case"toggle":case"beforetoggle":ie=We}var Be=(r&4)!==0,Gt=!Be&&(t==="scroll"||t==="scrollend"),Q=Be?ee!==null?ee+"Capture":null:ee;Be=[];for(var q=Z,J;q!==null;){var ce=q;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Q===null||(ce=rr(q,Q),ce!=null&&Be.push(oh(q,ce,J))),Gt)break;q=q.return}0<Be.length&&(ee=new ie(ee,Re,null,a,oe),ue.push({event:ee,listeners:Be}))}}if((r&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",ee&&a!==Us&&(Re=a.relatedTarget||a.fromElement)&&(Ft(Re)||Re[Ri]))break e;if((ie||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Re=a.relatedTarget||a.toElement,ie=Z,Re=Re?Ft(Re):null,Re!==null&&(Gt=c(Re),Be=Re.tag,Re!==Gt||Be!==5&&Be!==27&&Be!==6)&&(Re=null)):(ie=null,Re=Z),ie!==Re)){if(Be=yl,ce="onMouseLeave",Q="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(Be=Mr,ce="onPointerLeave",Q="onPointerEnter",q="pointer"),Gt=ie==null?ee:Vn(ie),J=Re==null?ee:Vn(Re),ee=new Be(ce,q+"leave",ie,a,oe),ee.target=Gt,ee.relatedTarget=J,ce=null,Ft(oe)===Z&&(Be=new Be(Q,q+"enter",Re,a,oe),Be.target=J,Be.relatedTarget=Gt,ce=Be),Gt=ce,ie&&Re)t:{for(Be=E1,Q=ie,q=Re,J=0,ce=Q;ce;ce=Be(ce))J++;ce=0;for(var Me=q;Me;Me=Be(Me))ce++;for(;0<J-ce;)Q=Be(Q),J--;for(;0<ce-J;)q=Be(q),ce--;for(;J--;){if(Q===q||q!==null&&Q===q.alternate){Be=Q;break t}Q=Be(Q),q=Be(q)}Be=null}else Be=null;ie!==null&&Vb(ue,ee,ie,Be,!1),Re!==null&&Gt!==null&&Vb(ue,Gt,Re,Be,!0)}}e:{if(ee=Z?Vn(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var xt=yu;else if(cr(ee))if(Tl)xt=cc;else{xt=gf;var Ne=pf}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Vs(Z.elementType)&&(xt=yu):xt=yf;if(xt&&(xt=xt(t,Z))){gu(ue,xt,a,oe);break e}Ne&&Ne(t,ee,Z),t==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ba(ee,"number",ee.value)}switch(Ne=Z?Vn(Z):window,t){case"focusin":(cr(Ne)||Ne.contentEditable==="true")&&(_o=Ne,Su=Z,wl=null);break;case"focusout":wl=Su=_o=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,xu(ue,a,oe);break;case"selectionchange":if(Ym)break;case"keydown":case"keyup":xu(ue,a,oe)}var tt;if(st)e:{switch(t){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else go?xa(t,a)&&(ht="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(Fi&&a.locale!=="ko"&&(go||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&go&&(tt=gl()):(sr=oe,zs="value"in sr?sr.value:sr.textContent,go=!0)),Ne=id(Z,ht),0<Ne.length&&(ht=new jr(ht,t,null,a,oe),ue.push({event:ht,listeners:Ne}),tt?ht.data=tt:(tt=po(a),tt!==null&&(ht.data=tt)))),(tt=lr?Fm(t,a):Hm(t,a))&&(ht=id(Z,"onBeforeInput"),0<ht.length&&(Ne=new jr("onBeforeInput","beforeinput",null,a,oe),ue.push({event:Ne,listeners:ht}),Ne.data=tt)),y1(ue,t,Z,a,oe)}Pb(ue,r)})}function oh(t,r,a){return{instance:t,listener:r,currentTarget:a}}function id(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=rr(t,a),f!=null&&l.unshift(oh(t,f,m)),f=rr(t,r),f!=null&&l.push(oh(t,f,m))),t.tag===3)return l;t=t.return}return[]}function E1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vb(t,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var x=a,z=x.alternate,Z=x.stateNode;if(x=x.tag,z!==null&&z===l)break;x!==5&&x!==26&&x!==27||Z===null||(z=Z,f?(Z=rr(a,m),Z!=null&&T.unshift(oh(a,Z,z))):f||(Z=rr(a,m),Z!=null&&T.push(oh(a,Z,z)))),a=a.return}T.length!==0&&t.push({event:r,listeners:T})}var T1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Ub(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(w1,"")}function zb(t,r){return r=Ub(r),Ub(t)===r}function Ht(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":Ni(t,"class",l);break;case"tabIndex":Ni(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(t,a,l);break;case"style":Qr(t,l,m);break;case"data":if(r!=="object"){Ni(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ho(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ht(t,r,"name",f.name,f,null),Ht(t,r,"formEncType",f.formEncType,f,null),Ht(t,r,"formMethod",f.formMethod,f,null),Ht(t,r,"formTarget",f.formTarget,f,null)):(Ht(t,r,"encType",f.encType,f,null),Ht(t,r,"method",f.method,f,null),Ht(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ho(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&ot("scroll",t);break;case"onScrollEnd":l!=null&&ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ho(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ot("beforetoggle",t),ot("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pl.get(a)||a,_a(t,a,l))}}function Hp(t,r,a,l,f,m){switch(a){case"style":Qr(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&ot("scroll",t);break;case"onScrollEnd":l!=null&&ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[En]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function bi(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",t),ot("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,m,T,a,null)}}f&&Ht(t,r,"srcSet",a.srcSet,a,null),l&&Ht(t,r,"src",a.src,a,null);return;case"input":ot("invalid",t);var x=m=T=f=null,z=null,Z=null;for(l in a)if(a.hasOwnProperty(l)){var oe=a[l];if(oe!=null)switch(l){case"name":f=oe;break;case"type":T=oe;break;case"checked":z=oe;break;case"defaultChecked":Z=oe;break;case"value":m=oe;break;case"defaultValue":x=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:Ht(t,r,l,oe,a,null)}}lo(t,m,x,z,Z,T,f,!1);return;case"select":ot("invalid",t),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":m=x;break;case"defaultValue":T=x;break;case"multiple":l=x;default:Ht(t,r,f,x,a,null)}r=m,a=T,t.multiple=!!l,r!=null?Jn(t,!!l,r,!1):a!=null&&Jn(t,!!l,a,!0);return;case"textarea":ot("invalid",t),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(x=a[T],x!=null))switch(T){case"value":l=x;break;case"defaultValue":f=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ht(t,r,T,x,a,null)}Dr(t,l,f,m);return;case"option":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(t,r,z,l,a,null)}return;case"dialog":ot("beforetoggle",t),ot("toggle",t),ot("cancel",t),ot("close",t);break;case"iframe":case"object":ot("load",t);break;case"video":case"audio":for(l=0;l<ah.length;l++)ot(ah[l],t);break;case"image":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"embed":case"source":case"link":ot("error",t),ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,Z,l,a,null)}return;default:if(Vs(r)){for(oe in a)a.hasOwnProperty(oe)&&(l=a[oe],l!==void 0&&Hp(t,r,oe,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Ht(t,r,x,l,a,null))}function S1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,x=null,z=null,Z=null,oe=null;for(ie in a){var ue=a[ie];if(a.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":z=ue;default:l.hasOwnProperty(ie)||Ht(t,r,ie,null,l,ue)}}for(var ee in l){var ie=l[ee];if(ue=a[ee],l.hasOwnProperty(ee)&&(ie!=null||ue!=null))switch(ee){case"type":m=ie;break;case"name":f=ie;break;case"checked":Z=ie;break;case"defaultChecked":oe=ie;break;case"value":T=ie;break;case"defaultValue":x=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==ue&&Ht(t,r,ee,ie,l,ue)}}Xn(t,T,x,z,Z,oe,m,f);return;case"select":ie=T=x=ee=null;for(m in a)if(z=a[m],a.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":ie=z;default:l.hasOwnProperty(m)||Ht(t,r,m,null,l,z)}for(f in l)if(m=l[f],z=a[f],l.hasOwnProperty(f)&&(m!=null||z!=null))switch(f){case"value":ee=m;break;case"defaultValue":x=m;break;case"multiple":T=m;default:m!==z&&Ht(t,r,f,m,l,z)}r=x,a=T,l=ie,ee!=null?Jn(t,!!a,ee,!1):!!l!=!!a&&(r!=null?Jn(t,!!a,r,!0):Jn(t,!!a,a?[]:"",!1));return;case"textarea":ie=ee=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ht(t,r,x,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":ee=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ht(t,r,T,f,l,m)}Yr(t,ee,ie);return;case"option":for(var Re in a)if(ee=a[Re],a.hasOwnProperty(Re)&&ee!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Ht(t,r,Re,null,l,ee)}for(z in l)if(ee=l[z],ie=a[z],l.hasOwnProperty(z)&&ee!==ie&&(ee!=null||ie!=null))switch(z){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ht(t,r,z,ee,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)ee=a[Be],a.hasOwnProperty(Be)&&ee!=null&&!l.hasOwnProperty(Be)&&Ht(t,r,Be,null,l,ee);for(Z in l)if(ee=l[Z],ie=a[Z],l.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:Ht(t,r,Z,ee,l,ie)}return;default:if(Vs(r)){for(var Gt in a)ee=a[Gt],a.hasOwnProperty(Gt)&&ee!==void 0&&!l.hasOwnProperty(Gt)&&Hp(t,r,Gt,void 0,l,ee);for(oe in l)ee=l[oe],ie=a[oe],!l.hasOwnProperty(oe)||ee===ie||ee===void 0&&ie===void 0||Hp(t,r,oe,ee,l,ie);return}}for(var Q in a)ee=a[Q],a.hasOwnProperty(Q)&&ee!=null&&!l.hasOwnProperty(Q)&&Ht(t,r,Q,null,l,ee);for(ue in l)ee=l[ue],ie=a[ue],!l.hasOwnProperty(ue)||ee===ie||ee==null&&ie==null||Ht(t,r,ue,ee,l,ie)}function Bb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,T=f.initiatorType,x=f.duration;if(m&&x&&Bb(T)){for(T=0,x=f.responseEnd,l+=1;l<a.length;l++){var z=a[l],Z=z.startTime;if(Z>x)break;var oe=z.transferSize,ue=z.initiatorType;oe&&Bb(ue)&&(z=z.responseEnd,T+=oe*(z<x?1:(x-Z)/(z-Z)))}if(--l,r+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gp=null,$p=null;function rd(t){return t.nodeType===9?t:t.ownerDocument}function qb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Yp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qp=null;function x1(){var t=window.event;return t&&t.type==="popstate"?t===Qp?!1:(Qp=t,!0):(Qp=null,!1)}var Hb=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Gb=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof Gb<"u"?function(t){return Gb.resolve(null).then(t).catch(R1)}:Hb;function R1(t){setTimeout(function(){throw t})}function Vo(t){return t==="head"}function $b(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Mc(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lh(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,lh(a);for(var m=a.firstChild;m;){var T=m.nextSibling,x=m.nodeName;m[ct]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&lh(t.ownerDocument.body);a=f}while(a);Mc(r)}function Yb(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kp(a),rn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function N1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ct])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=rs(t.nextSibling),t===null)break}return null}function I1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=rs(t.nextSibling),t===null))return null;return t}function Qb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=rs(t.nextSibling),t===null))return null;return t}function Wp(t){return t.data==="$?"||t.data==="$~"}function Xp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function rs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Jp=null;function Kb(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return rs(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Wb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Xb(t,r,a){switch(r=rd(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function lh(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);rn(t)}var ss=new Map,Jb=new Set;function sd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fa=se.d;se.d={f:j1,r:M1,D:k1,C:P1,L:L1,m:V1,X:z1,S:U1,M:B1};function j1(){var t=Fa.f(),r=Wf();return t||r}function M1(t){var r=Wn(t);r!==null&&r.tag===5&&r.type==="form"?p_(r):Fa.r(t)}var Ic=typeof document>"u"?null:document;function Zb(t,r,a){var l=Ic;if(l&&typeof r=="string"&&r){var f=Tn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Jb.has(f)||(Jb.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),bi(r,"link",t),$t(r),l.head.appendChild(r)))}}function k1(t){Fa.D(t),Zb("dns-prefetch",t,null)}function P1(t,r){Fa.C(t,r),Zb("preconnect",t,r)}function L1(t,r,a){Fa.L(t,r,a);var l=Ic;if(l&&t&&r){var f='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tn(a.imageSizes)+'"]')):f+='[href="'+Tn(t)+'"]';var m=f;switch(r){case"style":m=Oc(t);break;case"script":m=jc(t)}ss.has(m)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),ss.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(ch(m))||r==="script"&&l.querySelector(uh(m))||(r=l.createElement("link"),bi(r,"link",t),$t(r),l.head.appendChild(r)))}}function V1(t,r){Fa.m(t,r);var a=Ic;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=jc(t)}if(!ss.has(m)&&(t=S({rel:"modulepreload",href:t},r),ss.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uh(m)))return}l=a.createElement("link"),bi(l,"link",t),$t(l),a.head.appendChild(l)}}}function U1(t,r,a){Fa.S(t,r,a);var l=Ic;if(l&&t){var f=ri(l).hoistableStyles,m=Oc(t);r=r||"default";var T=f.get(m);if(!T){var x={loading:0,preload:null};if(T=l.querySelector(ch(m)))x.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=ss.get(m))&&Zp(t,a);var z=T=l.createElement("link");$t(z),bi(z,"link",t),z._p=new Promise(function(Z,oe){z.onload=Z,z.onerror=oe}),z.addEventListener("load",function(){x.loading|=1}),z.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ad(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:x},f.set(m,T)}}}function z1(t,r){Fa.X(t,r);var a=Ic;if(a&&t){var l=ri(a).hoistableScripts,f=jc(t),m=l.get(f);m||(m=a.querySelector(uh(f)),m||(t=S({src:t,async:!0},r),(r=ss.get(f))&&eg(t,r),m=a.createElement("script"),$t(m),bi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function B1(t,r){Fa.M(t,r);var a=Ic;if(a&&t){var l=ri(a).hoistableScripts,f=jc(t),m=l.get(f);m||(m=a.querySelector(uh(f)),m||(t=S({src:t,async:!0,type:"module"},r),(r=ss.get(f))&&eg(t,r),m=a.createElement("script"),$t(m),bi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function eE(t,r,a,l){var f=(f=Le.current)?sd(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Oc(a.href),a=ri(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Oc(a.href);var m=ri(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(ch(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ss.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ss.set(t,a),m||q1(f,t,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jc(a),a=ri(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Oc(t){return'href="'+Tn(t)+'"'}function ch(t){return'link[rel="stylesheet"]['+t+"]"}function tE(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),bi(r,"link",a),$t(r),t.head.appendChild(r))}function jc(t){return'[src="'+Tn(t)+'"]'}function uh(t){return"script[async]"+t}function nE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return r.instance=l,$t(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),bi(l,"style",f),ad(l,a.precedence,t),r.instance=l;case"stylesheet":f=Oc(a.href);var m=t.querySelector(ch(f));if(m)return r.state.loading|=4,r.instance=m,$t(m),m;l=tE(a),(f=ss.get(f))&&Zp(l,f),m=(t.ownerDocument||t).createElement("link"),$t(m);var T=m;return T._p=new Promise(function(x,z){T.onload=x,T.onerror=z}),bi(m,"link",l),r.state.loading|=4,ad(m,a.precedence,t),r.instance=m;case"script":return m=jc(a.src),(f=t.querySelector(uh(m)))?(r.instance=f,$t(f),f):(l=a,(f=ss.get(m))&&(l=S({},a),eg(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),$t(f),bi(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ad(l,a.precedence,t));return r.instance}function ad(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var x=l[T];if(x.dataset.precedence===r)m=x;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Zp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function eg(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var od=null;function iE(t,r,a){if(od===null){var l=new Map,f=od=new Map;f.set(a,l)}else f=od,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[ct]||m[Bt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=t+T;var x=l.get(T);x?x.push(m):l.set(T,[m])}}return l}function rE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function F1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function sE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function H1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Oc(l.href),m=r.querySelector(ch(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ld.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,$t(m);return}m=r.ownerDocument||r,l=tE(l),(f=ss.get(f))&&Zp(l,f),m=m.createElement("link"),$t(m);var T=m;T._p=new Promise(function(x,z){T.onload=x,T.onerror=z}),bi(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ld.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var tg=0;function G1(t,r){return t.stylesheets&&t.count===0&&ud(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&tg===0&&(tg=62500*A1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ud(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>tg?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cd=null;function ud(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cd=new Map,r.forEach($1,t),cd=null,ld.call(t))}function $1(t,r){if(!(r.state.loading&4)){var a=cd.get(t);if(a)var l=a.get(null);else{a=new Map,cd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=ld.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var hh={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Y1(t,r,a,l,f,m,T,x,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function aE(t,r,a,l,f,m,T,x,z,Z,oe,ue){return t=new Y1(t,r,a,T,z,Z,oe,ue,x),r=1,m===!0&&(r|=24),m=$i(3,null,null,r),t.current=m,m.stateNode=t,r=ws(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},At(m),t}function oE(t){return t?(t=Eo,t):Eo}function lE(t,r,a,l,f,m){f=oE(f),l.context===null?l.context=f:l.pendingContext=f,l=$e(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=nt(t,l,r),a!==null&&(yr(a,t,r),Qe(a,t,r))}function cE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ng(t,r){cE(t,r),(t=t.alternate)&&cE(t,r)}function uE(t){if(t.tag===13||t.tag===31){var r=vi(t,67108864);r!==null&&yr(r,t,67108864),ng(t,67108864)}}function hE(t){if(t.tag===13||t.tag===31){var r=zr();r=xr(r);var a=vi(t,r);a!==null&&yr(a,t,r),ng(t,r)}}var hd=!0;function Q1(t,r,a,l){var f=X.T;X.T=null;var m=se.p;try{se.p=2,ig(t,r,a,l)}finally{se.p=m,X.T=f}}function K1(t,r,a,l){var f=X.T;X.T=null;var m=se.p;try{se.p=8,ig(t,r,a,l)}finally{se.p=m,X.T=f}}function ig(t,r,a,l){if(hd){var f=rg(l);if(f===null)Fp(t,r,l,fd,a),dE(t,l);else if(X1(f,t,r,a,l))l.stopPropagation();else if(dE(t,l),r&4&&-1<W1.indexOf(t)){for(;f!==null;){var m=Wn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=It(m.pendingLanes);if(T!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var z=1<<31-Wt(T);x.entanglements[1]|=z,T&=~z}ta(m),(Nt&6)===0&&(Qf=Qn()+500,sh(0))}}break;case 31:case 13:x=vi(m,2),x!==null&&yr(x,m,2),Wf(),ng(m,2)}if(m=rg(l),m===null&&Fp(t,r,l,fd,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Fp(t,r,l,null,a)}}function rg(t){return t=qi(t),sg(t)}var fd=null;function sg(t){if(fd=null,t=Ft(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=u(r),t!==null)return t;t=null}else if(a===31){if(t=g(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return fd=t,null}function fE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zi()){case Ci:return 2;case ks:return 8;case Hr:case ma:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var ag=!1,Uo=null,zo=null,Bo=null,fh=new Map,dh=new Map,qo=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(t,r){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":fh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dh.delete(r.pointerId)}}function mh(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Wn(r),r!==null&&uE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function X1(t,r,a,l,f){switch(r){case"focusin":return Uo=mh(Uo,t,r,a,l,f),!0;case"dragenter":return zo=mh(zo,t,r,a,l,f),!0;case"mouseover":return Bo=mh(Bo,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return fh.set(m,mh(fh.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,dh.set(m,mh(dh.get(m)||null,t,r,a,l,f)),!0}return!1}function mE(t){var r=Ft(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){t.blockedOn=r,pi(t.priority,function(){hE(a)});return}}else if(r===31){if(r=g(a),r!==null){t.blockedOn=r,pi(t.priority,function(){hE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=rg(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Us=l,a.target.dispatchEvent(l),Us=null}else return r=Wn(a),r!==null&&uE(r),t.blockedOn=a,!1;r.shift()}return!0}function pE(t,r,a){dd(t)&&a.delete(r)}function J1(){ag=!1,Uo!==null&&dd(Uo)&&(Uo=null),zo!==null&&dd(zo)&&(zo=null),Bo!==null&&dd(Bo)&&(Bo=null),fh.forEach(pE),dh.forEach(pE)}function md(t,r){t.blockedOn===r&&(t.blockedOn=null,ag||(ag=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,J1)))}var pd=null;function gE(t){pd!==t&&(pd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pd===t&&(pd=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(sg(l||a)===null)continue;break}var m=Wn(a);m!==null&&(t.splice(r,3),r-=3,rp(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Mc(t){function r(z){return md(z,t)}Uo!==null&&md(Uo,t),zo!==null&&md(zo,t),Bo!==null&&md(Bo,t),fh.forEach(r),dh.forEach(r);for(var a=0;a<qo.length;a++){var l=qo[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qo.length&&(a=qo[0],a.blockedOn===null);)mE(a),a.blockedOn===null&&qo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[En]||null;if(typeof m=="function")T||gE(a);else if(T){var x=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[En]||null)x=T.formAction;else if(sg(f)!==null)continue}else x=T.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),gE(a)}}}function yE(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function og(t){this._internalRoot=t}gd.prototype.render=og.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=zr();lE(a,l,t,r,null,null)},gd.prototype.unmount=og.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;lE(t.current,2,null,t,null,null),Wf(),r[Ri]=null}};function gd(t){this._internalRoot=t}gd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ps();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qo.length&&r!==0&&r<qo[a].priority;a++);qo.splice(a,0,t),a===0&&mE(t)}};var vE=e.version;if(vE!=="19.2.0")throw Error(s(527,vE,"19.2.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Z1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{Cn=yd.inject(Z1),_n=yd}catch{}}return gh.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=A_,m=x_,T=C_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=aE(t,1,!1,null,null,a,l,null,f,m,T,yE),t[Ri]=r.current,qp(t),new og(r)},gh.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=A_,T=x_,x=C_,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(z=a.formState)),r=aE(t,1,!0,r,a??null,l,f,z,m,T,x,yE),r.context=oE(null),a=r.current,l=zr(),l=xr(l),f=$e(l),f.callback=null,nt(a,f,l),a=l,r.current.lanes=a,Sr(r,a),ta(r),t[Ri]=r.current,qp(t),new gd(r)},gh.version="19.2.0",gh}var DE;function ux(){if(DE)return ug.exports;DE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ug.exports=cx(),ug.exports}var hx=ux();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RE="popstate";function fx(i={}){function e(s,o){let{pathname:c,search:u,hash:g}=s.location;return kg("",{pathname:c,search:u,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Mh(o)}return mx(e,n,null,i)}function hn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ns(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dx(){return Math.random().toString(36).substring(2,10)}function NE(i,e){return{usr:i.state,key:i.key,idx:e}}function kg(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ru(e):e,state:n,key:e&&e.key||s||dx()}}function Mh({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ru(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function mx(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,g="POP",y=null,v=E();v==null&&(v=0,u.replaceState({...u.state,idx:v},""));function E(){return(u.state||{idx:null}).idx}function S(){g="POP";let B=E(),P=B==null?null:B-v;v=B,y&&y({action:g,location:K.location,delta:P})}function C(B,P){g="PUSH";let H=kg(K.location,B,P);v=E()+1;let te=NE(H,v),ye=K.createHref(H);try{u.pushState(te,"",ye)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ye)}c&&y&&y({action:g,location:K.location,delta:1})}function M(B,P){g="REPLACE";let H=kg(K.location,B,P);v=E();let te=NE(H,v),ye=K.createHref(H);u.replaceState(te,"",ye),c&&y&&y({action:g,location:K.location,delta:0})}function Y(B){return px(B)}let K={get action(){return g},get location(){return i(o,u)},listen(B){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(RE,S),y=B,()=>{o.removeEventListener(RE,S),y=null}},createHref(B){return e(o,B)},createURL:Y,encodeLocation(B){let P=Y(B);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:C,replace:M,go(B){return u.go(B)}};return K}function px(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Mh(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Iw(i,e,n="/"){return gx(i,e,n,!1)}function gx(i,e,n,s){let o=typeof e=="string"?ru(e):e,c=Qa(o.pathname||"/",n);if(c==null)return null;let u=Ow(i);yx(u);let g=null;for(let y=0;g==null&&y<u.length;++y){let v=Dx(c);g=xx(u[y],v,s)}return g}function Ow(i,e=[],n=[],s="",o=!1){let c=(u,g,y=o,v)=>{let E={relativePath:v===void 0?u.path||"":v,caseSensitive:u.caseSensitive===!0,childrenIndex:g,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;hn(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=$a([s,E.relativePath]),C=n.concat(E);u.children&&u.children.length>0&&(hn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Ow(u.children,e,C,S,y)),!(u.path==null&&!u.index)&&e.push({path:S,score:Sx(S,u.index),routesMeta:C})};return i.forEach((u,g)=>{if(u.path===""||!u.path?.includes("?"))c(u,g);else for(let y of jw(u.path))c(u,g,!0,y)}),e}function jw(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=jw(s.join("/")),g=[];return g.push(...u.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...u),g.map(y=>i.startsWith("/")&&y===""?"/":y)}function yx(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Ax(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vx=/^:[\w-]+$/,_x=3,bx=2,Ex=1,Tx=10,wx=-2,IE=i=>i==="*";function Sx(i,e){let n=i.split("/"),s=n.length;return n.some(IE)&&(s+=wx),e&&(s+=bx),n.filter(o=>!IE(o)).reduce((o,c)=>o+(vx.test(c)?_x:c===""?Ex:Tx),s)}function Ax(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function xx(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",u=[];for(let g=0;g<s.length;++g){let y=s[g],v=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=Bd({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},E),C=y.route;if(!S&&v&&n&&!s[s.length-1].route.index&&(S=Bd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:$a([c,S.pathname]),pathnameBase:Ox($a([c,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(c=$a([c,S.pathnameBase]))}return u}function Bd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Cx(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:S},C)=>{if(E==="*"){let Y=g[C]||"";u=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const M=g[C];return S&&!M?v[E]=void 0:v[E]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:u,pattern:i}}function Cx(i,e=!1,n=!0){Ns(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Dx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ns(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Qa(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Rx(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ru(i):i;return{pathname:n?n.startsWith("/")?n:Nx(n,e):e,search:jx(s),hash:Mx(o)}}function Nx(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mg(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ix(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sy(i){let e=Ix(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ay(i,e,n,s=!1){let o;typeof i=="string"?o=ru(i):(o={...i},hn(!o.pathname||!o.pathname.includes("?"),mg("?","pathname","search",o)),hn(!o.pathname||!o.pathname.includes("#"),mg("#","pathname","hash",o)),hn(!o.search||!o.search.includes("#"),mg("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,g;if(u==null)g=n;else{let S=e.length-1;if(!s&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}g=S>=0?e[S]:"/"}let y=Rx(o,g),v=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||E)&&(y.pathname+="/"),y}var $a=i=>i.join("/").replace(/\/\/+/g,"/"),Ox=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Mx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function kx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Mw=["POST","PUT","PATCH","DELETE"];new Set(Mw);var Px=["GET",...Mw];new Set(Px);var su=U.createContext(null);su.displayName="DataRouter";var um=U.createContext(null);um.displayName="DataRouterState";U.createContext(!1);var kw=U.createContext({isTransitioning:!1});kw.displayName="ViewTransition";var Lx=U.createContext(new Map);Lx.displayName="Fetchers";var Vx=U.createContext(null);Vx.displayName="Await";var js=U.createContext(null);js.displayName="Navigation";var Qh=U.createContext(null);Qh.displayName="Location";var cs=U.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var xy=U.createContext(null);xy.displayName="RouteError";function Ux(i,{relative:e}={}){hn(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(js),{hash:o,pathname:c,search:u}=Kh(i,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:$a([n,c])),s.createHref({pathname:g,search:u,hash:o})}function au(){return U.useContext(Qh)!=null}function Za(){return hn(au(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Qh).location}var Pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lw(i){U.useContext(js).static||U.useLayoutEffect(i)}function Wl(){let{isDataRoute:i}=U.useContext(cs);return i?eC():zx()}function zx(){hn(au(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(su),{basename:e,navigator:n}=U.useContext(js),{matches:s}=U.useContext(cs),{pathname:o}=Za(),c=JSON.stringify(Sy(s)),u=U.useRef(!1);return Lw(()=>{u.current=!0}),U.useCallback((y,v={})=>{if(Ns(u.current,Pw),!u.current)return;if(typeof y=="number"){n.go(y);return}let E=Ay(y,JSON.parse(c),o,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$a([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,c,o,i])}var Bx=U.createContext(null);function qx(i){let e=U.useContext(cs).outlet;return U.useMemo(()=>e&&U.createElement(Bx.Provider,{value:i},e),[e,i])}function Cy(){let{matches:i}=U.useContext(cs),e=i[i.length-1];return e?e.params:{}}function Kh(i,{relative:e}={}){let{matches:n}=U.useContext(cs),{pathname:s}=Za(),o=JSON.stringify(Sy(n));return U.useMemo(()=>Ay(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Fx(i,e){return Vw(i,e)}function Vw(i,e,n,s,o){hn(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(js),{matches:u}=U.useContext(cs),g=u[u.length-1],y=g?g.params:{},v=g?g.pathname:"/",E=g?g.pathnameBase:"/",S=g&&g.route;{let H=S&&S.path||"";Uw(v,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let C=Za(),M;if(e){let H=typeof e=="string"?ru(e):e;hn(E==="/"||H.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),M=H}else M=C;let Y=M.pathname||"/",K=Y;if(E!=="/"){let H=E.replace(/^\//,"").split("/");K="/"+Y.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=Iw(i,{pathname:K});Ns(S||B!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Ns(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Qx(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},y,H.params),pathname:$a([E,c.encodeLocation?c.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:$a([E,c.encodeLocation?c.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,n,s,o);return e&&P?U.createElement(Qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},P):P}function Hx(){let i=Zx(),e=kx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,u)}var Gx=U.createElement(Hx,null),$x=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(cs.Provider,{value:this.props.routeContext},U.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yx({routeContext:i,match:e,children:n}){let s=U.useContext(su);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(cs.Provider,{value:i},n)}function Qx(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n?.errors;if(u!=null){let v=c.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);hn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let g=!1,y=-1;if(n)for(let v=0;v<c.length;v++){let E=c[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=v),E.route.id){let{loaderData:S,errors:C}=n,M=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||M){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((v,E,S)=>{let C,M=!1,Y=null,K=null;n&&(C=u&&E.route.id?u[E.route.id]:void 0,Y=E.route.errorElement||Gx,g&&(y<0&&S===0?(Uw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,K=null):y===S&&(M=!0,K=E.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,S+1)),P=()=>{let H;return C?H=Y:M?H=K:E.route.Component?H=U.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=v,U.createElement(Yx,{match:E,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:H})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?U.createElement($x,{location:n.location,revalidation:n.revalidation,component:Y,error:C,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):P()},null)}function Dy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kx(i){let e=U.useContext(su);return hn(e,Dy(i)),e}function Wx(i){let e=U.useContext(um);return hn(e,Dy(i)),e}function Xx(i){let e=U.useContext(cs);return hn(e,Dy(i)),e}function Ry(i){let e=Xx(i),n=e.matches[e.matches.length-1];return hn(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Jx(){return Ry("useRouteId")}function Zx(){let i=U.useContext(xy),e=Wx("useRouteError"),n=Ry("useRouteError");return i!==void 0?i:e.errors?.[n]}function eC(){let{router:i}=Kx("useNavigate"),e=Ry("useNavigate"),n=U.useRef(!1);return Lw(()=>{n.current=!0}),U.useCallback(async(o,c={})=>{Ns(n.current,Pw),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var OE={};function Uw(i,e,n){!e&&!OE[i]&&(OE[i]=!0,Ns(!1,n))}U.memo(tC);function tC({routes:i,future:e,state:n,unstable_onError:s}){return Vw(i,void 0,n,s,e)}function nC({to:i,replace:e,state:n,relative:s}){hn(au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(js);Ns(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(cs),{pathname:u}=Za(),g=Wl(),y=Ay(i,Sy(c),u,s==="path"),v=JSON.stringify(y);return U.useEffect(()=>{g(JSON.parse(v),{replace:e,state:n,relative:s})},[g,v,s,e,n]),null}function iC(i){return qx(i.context)}function jn(i){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rC({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){hn(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof n=="string"&&(n=ru(n));let{pathname:y="/",search:v="",hash:E="",state:S=null,key:C="default"}=n,M=U.useMemo(()=>{let Y=Qa(y,u);return Y==null?null:{location:{pathname:Y,search:v,hash:E,state:S,key:C},navigationType:s}},[u,y,v,E,S,C,s]);return Ns(M!=null,`<Router basename="${u}"> is not able to match the URL "${y}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:U.createElement(js.Provider,{value:g},U.createElement(Qh.Provider,{children:e,value:M}))}function sC({children:i,location:e}){return Fx(Pg(i),e)}function Pg(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Pg(s.props.children,c));return}hn(s.type===jn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Pg(s.props.children,c)),n.push(u)}),n}var Cd="get",Dd="application/x-www-form-urlencoded";function hm(i){return i!=null&&typeof i.tagName=="string"}function aC(i){return hm(i)&&i.tagName.toLowerCase()==="button"}function oC(i){return hm(i)&&i.tagName.toLowerCase()==="form"}function lC(i){return hm(i)&&i.tagName.toLowerCase()==="input"}function cC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uC(i,e){return i.button===0&&(!e||e==="_self")&&!cC(i)}var vd=null;function hC(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var fC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pg(i){return i!=null&&!fC.has(i)?(Ns(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):i}function dC(i,e){let n,s,o,c,u;if(oC(i)){let g=i.getAttribute("action");s=g?Qa(g,e):null,n=i.getAttribute("method")||Cd,o=pg(i.getAttribute("enctype"))||Dd,c=new FormData(i)}else if(aC(i)||lC(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||g.getAttribute("action");if(s=y?Qa(y,e):null,n=i.getAttribute("formmethod")||g.getAttribute("method")||Cd,o=pg(i.getAttribute("formenctype"))||pg(g.getAttribute("enctype"))||Dd,c=new FormData(g,i),!hC()){let{name:v,type:E,value:S}=i;if(E==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,S)}}else{if(hm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cd,s=null,o=Dd,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ny(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mC(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Qa(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function pC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function yC(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await pC(c,n);return u.links?u.links():[]}return[]}));return EC(s.flat(1).filter(gC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jE(i,e,n,s,o,c){let u=(y,v)=>n[v]?y.route.id!==n[v].route.id:!0,g=(y,v)=>n[v].pathname!==y.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,v)=>u(y,v)||g(y,v)):c==="data"?e.filter((y,v)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(u(y,v)||g(y,v))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function vC(i,e,{includeHydrateFallback:n}={}){return _C(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function _C(i){return[...new Set(i)]}function bC(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function EC(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(bC(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function zw(){let i=U.useContext(su);return Ny(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TC(){let i=U.useContext(um);return Ny(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Iy=U.createContext(void 0);Iy.displayName="FrameworkContext";function Bw(){let i=U.useContext(Iy);return Ny(i,"You must render this element inside a <HydratedRouter> element"),i}function wC(i,e){let n=U.useContext(Iy),[s,o]=U.useState(!1),[c,u]=U.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,C=U.useRef(null);U.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let K=P=>{P.forEach(H=>{u(H.isIntersecting)})},B=new IntersectionObserver(K,{threshold:.5});return C.current&&B.observe(C.current),()=>{B.disconnect()}}},[i]),U.useEffect(()=>{if(s){let K=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},Y=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,C,{}]:[c,C,{onFocus:yh(g,M),onBlur:yh(y,Y),onMouseEnter:yh(v,M),onMouseLeave:yh(E,Y),onTouchStart:yh(S,M)}]:[!1,C,{}]}function yh(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function SC({page:i,...e}){let{router:n}=zw(),s=U.useMemo(()=>Iw(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(xC,{page:i,matches:s,...e}):null}function AC(i){let{manifest:e,routeModules:n}=Bw(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return yC(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),s}function xC({page:i,matches:e,...n}){let s=Za(),{manifest:o,routeModules:c}=Bw(),{basename:u}=zw(),{loaderData:g,matches:y}=TC(),v=U.useMemo(()=>jE(i,e,y,o,s,"data"),[i,e,y,o,s]),E=U.useMemo(()=>jE(i,e,y,o,s,"assets"),[i,e,y,o,s]),S=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Y=new Set,K=!1;if(e.forEach(P=>{let H=o.routes[P.route.id];!H||!H.hasLoader||(!v.some(te=>te.route.id===P.route.id)&&P.route.id in g&&c[P.route.id]?.shouldRevalidate||H.hasClientLoader?K=!0:Y.add(P.route.id))}),Y.size===0)return[];let B=mC(i,u,"data");return K&&Y.size>0&&B.searchParams.set("_routes",e.filter(P=>Y.has(P.route.id)).map(P=>P.route.id).join(",")),[B.pathname+B.search]},[u,g,s,o,v,e,i,c]),C=U.useMemo(()=>vC(E,o),[E,o]),M=AC(E);return U.createElement(U.Fragment,null,S.map(Y=>U.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),C.map(Y=>U.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),M.map(({key:Y,link:K})=>U.createElement("link",{key:Y,nonce:n.nonce,...K})))}function CC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qw&&(window.__reactRouterVersion="7.9.4")}catch{}function DC({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=fx({window:n,v5Compat:!0}));let o=s.current,[c,u]=U.useState({action:o.action,location:o.location}),g=U.useCallback(y=>{U.startTransition(()=>u(y))},[u]);return U.useLayoutEffect(()=>o.listen(g),[o,g]),U.createElement(rC,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bc=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:g,target:y,to:v,preventScrollReset:E,viewTransition:S,...C},M){let{basename:Y}=U.useContext(js),K=typeof v=="string"&&Fw.test(v),B,P=!1;if(typeof v=="string"&&K&&(B=v,qw))try{let k=new URL(window.location.href),L=v.startsWith("//")?new URL(k.protocol+v):new URL(v),V=Qa(L.pathname,Y);L.origin===k.origin&&V!=null?v=V+L.search+L.hash:P=!0}catch{Ns(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Ux(v,{relative:o}),[te,ye,le]=wC(s,C),pe=IC(v,{replace:u,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:S});function j(k){e&&e(k),k.defaultPrevented||pe(k)}let O=U.createElement("a",{...C,...le,href:B||H,onClick:P||c?e:j,ref:CC(M,ye),target:y,"data-discover":!K&&n==="render"?"true":void 0});return te&&!K?U.createElement(U.Fragment,null,O,U.createElement(SC,{page:H})):O});Bc.displayName="Link";var as=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:g,children:y,...v},E){let S=Kh(u,{relative:v.relative}),C=Za(),M=U.useContext(um),{navigator:Y,basename:K}=U.useContext(js),B=M!=null&&PC(S)&&g===!0,P=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,H=C.pathname,te=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(H=H.toLowerCase(),te=te?te.toLowerCase():null,P=P.toLowerCase()),te&&K&&(te=Qa(te,K)||te);const ye=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let le=H===P||!o&&H.startsWith(P)&&H.charAt(ye)==="/",pe=te!=null&&(te===P||!o&&te.startsWith(P)&&te.charAt(P.length)==="/"),j={isActive:le,isPending:pe,isTransitioning:B},O=le?e:void 0,k;typeof s=="function"?k=s(j):k=[s,le?"active":null,pe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(j):c;return U.createElement(Bc,{...v,"aria-current":O,className:k,ref:E,style:L,to:u,viewTransition:g},typeof y=="function"?y(j):y)});as.displayName="NavLink";var RC=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:u=Cd,action:g,onSubmit:y,relative:v,preventScrollReset:E,viewTransition:S,...C},M)=>{let Y=MC(),K=kC(g,{relative:v}),B=u.toLowerCase()==="get"?"get":"post",P=typeof g=="string"&&Fw.test(g),H=te=>{if(y&&y(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,le=ye?.getAttribute("formmethod")||u;Y(ye||te.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:c,relative:v,preventScrollReset:E,viewTransition:S})};return U.createElement("form",{ref:M,method:B,action:K,onSubmit:s?y:H,...C,"data-discover":!P&&i==="render"?"true":void 0})});RC.displayName="Form";function NC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(i){let e=U.useContext(su);return hn(e,NC(i)),e}function IC(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let g=Wl(),y=Za(),v=Kh(i,{relative:c});return U.useCallback(E=>{if(uC(E,e)){E.preventDefault();let S=n!==void 0?n:Mh(y)===Mh(v);g(i,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[y,g,v,n,s,e,i,o,c,u])}var OC=0,jC=()=>`__${String(++OC)}__`;function MC(){let{router:i}=Hw("useSubmit"),{basename:e}=U.useContext(js),n=Jx();return U.useCallback(async(s,o={})=>{let{action:c,method:u,encType:g,formData:y,body:v}=dC(s,e);if(o.navigate===!1){let E=o.fetcherKey||jC();await i.fetch(E,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||u,formEncType:o.encType||g,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:v,formMethod:o.method||u,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function kC(i,{relative:e}={}){let{basename:n}=U.useContext(js),s=U.useContext(cs);hn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Kh(i||".",{relative:e})},u=Za();if(i==null){c.search=u.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:$a([n,c.pathname])),Mh(c)}function PC(i,{relative:e}={}){let n=U.useContext(kw);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hw("useViewTransitionState"),o=Kh(i,{relative:e});if(!n.isTransitioning)return!1;let c=Qa(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Qa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bd(o.pathname,u)!=null||Bd(o.pathname,c)!=null}const LC=()=>{};var ME={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VC=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],g=i[n++],y=((o&7)<<18|(c&63)<<12|(u&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],u=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,g=u?i[o+1]:0,y=o+2<i.length,v=y?i[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let C=(g&15)<<2|v>>6,M=v&63;y||(M=64,u||(C=64)),s.push(n[E],n[S],n[C],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Gw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):VC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],g=o<i.length?n[i.charAt(o)]:0;++o;const v=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||g==null||v==null||S==null)throw new UC;const C=c<<2|g>>4;if(s.push(C),v!==64){const M=g<<4&240|v>>2;if(s.push(M),S!==64){const Y=v<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zC=function(i){const e=Gw(i);return $w.encodeByteArray(e,!0)},qd=function(i){return zC(i).replace(/\./g,"")},Yw=function(i){try{return $w.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=()=>BC().__FIREBASE_DEFAULTS__,FC=()=>{if(typeof process>"u"||typeof ME>"u")return;const i=ME.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},HC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Yw(i[1]);return e&&JSON.parse(e)},fm=()=>{try{return LC()||qC()||FC()||HC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Qw=i=>fm()?.emulatorHosts?.[i],GC=i=>{const e=Qw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Kw=()=>fm()?.config,Ww=i=>fm()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[qd(JSON.stringify(n)),qd(JSON.stringify(u)),""].join(".")}const Dh={};function QC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Dh))Dh[e]?i.emulator.push(e):i.prod.push(e);return i}function KC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let kE=!1;function Jw(i,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||Dh[i]===e||Dh[i]||kE)return;Dh[i]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=QC().prod.length>0;function u(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,M){C.setAttribute("width","24"),C.setAttribute("id",M),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{kE=!0,u()},C}function E(C,M){C.setAttribute("id",M),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=KC(s),M=n("text"),Y=document.getElementById(M)||document.createElement("span"),K=n("learnmore"),B=document.getElementById(K)||document.createElement("a"),P=n("preprendIcon"),H=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const te=C.element;g(te),E(B,K);const ye=v();y(H,P),te.append(H,Y,B,ye),document.body.appendChild(te)}c?(Y.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())}function XC(){const i=fm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function eD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tD(){const i=Li();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function nD(){return!XC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iD(){try{return typeof indexedDB=="object"}catch{return!1}}function rD(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="FirebaseError";class eo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sD,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?aD(c,s):"Error",g=`${this.serviceName}: ${u} (${o}).`;return new eo(o,g,s)}}function aD(i,e){return i.replace(oD,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oD=/\{\$([^}]+)}/g;function lD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Gl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(PE(c)&&PE(u)){if(!Gl(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function PE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Eh(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Th(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function cD(i,e){const n=new uD(i,e);return n.subscribe.bind(n)}class uD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gg),o.error===void 0&&(o.error=gg),o.complete===void 0&&(o.complete=gg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hD(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(i){return i&&i._delegate?i._delegate:i}class $l{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $C;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mD(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dD(i){return i===Ul?void 0:i}function mD(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ft||(ft={}));const gD={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},yD=ft.INFO,vD={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},_D=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=vD[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=yD,this._logHandler=_D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const bD=(i,e)=>e.some(n=>i instanceof n);let LE,VE;function ED(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TD(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zw=new WeakMap,Lg=new WeakMap,e0=new WeakMap,yg=new WeakMap,jy=new WeakMap;function wD(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(Wo(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Zw.set(n,i)}).catch(()=>{}),jy.set(e,i),e}function SD(i){if(Lg.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Lg.set(i,e)}let Vg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Lg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||e0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function AD(i){Vg=i(Vg)}function xD(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(vg(this),e,...n);return e0.set(s,e.sort?e.sort():[e]),Wo(s)}:TD().includes(i)?function(...e){return i.apply(vg(this),e),Wo(Zw.get(this))}:function(...e){return Wo(i.apply(vg(this),e))}}function CD(i){return typeof i=="function"?xD(i):(i instanceof IDBTransaction&&SD(i),bD(i,ED())?new Proxy(i,Vg):i)}function Wo(i){if(i instanceof IDBRequest)return wD(i);if(yg.has(i))return yg.get(i);const e=CD(i);return e!==i&&(yg.set(i,e),jy.set(e,i)),e}const vg=i=>jy.get(i);function DD(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),g=Wo(u);return s&&u.addEventListener("upgradeneeded",y=>{s(Wo(u.result),y.oldVersion,y.newVersion,Wo(u.transaction),y)}),n&&u.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const RD=["get","getKey","getAll","getAllKeys","count"],ND=["put","add","delete","clear"],_g=new Map;function UE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ND.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RD.includes(n)))return;const c=async function(u,...g){const y=this.transaction(u,o?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),o&&y.done]))[0]};return _g.set(e,c),c}AD(i=>({...i,get:(e,n,s)=>UE(e,n)||i.get(e,n,s),has:(e,n)=>!!UE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OD(i){return i.getComponent()?.type==="VERSION"}const Ug="@firebase/app",zE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Oy("@firebase/app"),jD="@firebase/app-compat",MD="@firebase/analytics-compat",kD="@firebase/analytics",PD="@firebase/app-check-compat",LD="@firebase/app-check",VD="@firebase/auth",UD="@firebase/auth-compat",zD="@firebase/database",BD="@firebase/data-connect",qD="@firebase/database-compat",FD="@firebase/functions",HD="@firebase/functions-compat",GD="@firebase/installations",$D="@firebase/installations-compat",YD="@firebase/messaging",QD="@firebase/messaging-compat",KD="@firebase/performance",WD="@firebase/performance-compat",XD="@firebase/remote-config",JD="@firebase/remote-config-compat",ZD="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",rR="firebase",sR="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",aR={[Ug]:"fire-core",[jD]:"fire-core-compat",[kD]:"fire-analytics",[MD]:"fire-analytics-compat",[LD]:"fire-app-check",[PD]:"fire-app-check-compat",[VD]:"fire-auth",[UD]:"fire-auth-compat",[zD]:"fire-rtdb",[BD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[FD]:"fire-fn",[HD]:"fire-fn-compat",[GD]:"fire-iid",[$D]:"fire-iid-compat",[YD]:"fire-fcm",[QD]:"fire-fcm-compat",[KD]:"fire-perf",[WD]:"fire-perf-compat",[XD]:"fire-rc",[JD]:"fire-rc-compat",[ZD]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,oR=new Map,Bg=new Map;function BE(i,e){try{i.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Kc(i){const e=i.name;if(Bg.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,i);for(const n of kh.values())BE(n,i);for(const n of oR.values())BE(n,i);return!0}function My(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Cs(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xo=new Wh("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=sR;function t0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:zg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Xo.create("bad-app-name",{appName:String(o)});if(n||(n=Kw()),!n)throw Xo.create("no-options");const c=kh.get(o);if(c){if(Gl(n,c.options)&&Gl(s,c.config))return c;throw Xo.create("duplicate-app",{appName:o})}const u=new pD(o);for(const y of Bg.values())u.addComponent(y);const g=new cR(n,s,u);return kh.set(o,g),g}function ky(i=zg){const e=kh.get(i);if(!e&&i===zg&&Kw())return t0();if(!e)throw Xo.create("no-app",{appName:i});return e}function uR(){return Array.from(kh.values())}function Jo(i,e,n){let s=aR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(u.join(" "));return}Kc(new $l(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebase-heartbeat-database",fR=1,Ph="firebase-heartbeat-store";let bg=null;function n0(){return bg||(bg=DD(hR,fR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ph)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xo.create("idb-open",{originalErrorMessage:i.message})})),bg}async function dR(i){try{const n=(await n0()).transaction(Ph),s=await n.objectStore(Ph).get(i0(i));return await n.done,s}catch(e){if(e instanceof eo)Ka.warn(e.message);else{const n=Xo.create("idb-get",{originalErrorMessage:e?.message});Ka.warn(n.message)}}}async function qE(i,e){try{const s=(await n0()).transaction(Ph,"readwrite");await s.objectStore(Ph).put(e,i0(i)),await s.done}catch(n){if(n instanceof eo)Ka.warn(n.message);else{const s=Xo.create("idb-set",{originalErrorMessage:n?.message});Ka.warn(s.message)}}}function i0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1024,pR=30;class gR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pR){const o=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ka.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FE(),{heartbeatsToSend:n,unsentEntries:s}=yR(this._heartbeatsCache.heartbeats),o=qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ka.warn(e),""}}}function FE(){return new Date().toISOString().substring(0,10)}function yR(i,e=mR){const n=[];let s=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),HE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),HE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iD()?rD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(i){return qd(JSON.stringify({version:2,heartbeats:i})).length}function _R(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(i){Kc(new $l("platform-logger",e=>new ID(e),"PRIVATE")),Kc(new $l("heartbeat",e=>new gR(e),"PRIVATE")),Jo(Ug,zE,i),Jo(Ug,zE,"esm2020"),Jo("fire-js","")}bR("");var ER="firebase",TR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo(ER,TR,"app");function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=r0,s0=new Wh("auth","Firebase",r0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Oy("@firebase/auth");function SR(i,...e){Fd.logLevel<=ft.WARN&&Fd.warn(`Auth (${lu}): ${i}`,...e)}function Rd(i,...e){Fd.logLevel<=ft.ERROR&&Fd.error(`Auth (${lu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(i,...e){throw Py(i,...e)}function ra(i,...e){return Py(i,...e)}function a0(i,e,n){const s={...wR(),[e]:n};return new Wh("auth","Firebase",s).create(e,{appName:i.name})}function Zo(i){return a0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Py(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return s0.create(i,...e)}function Fe(i,e,...n){if(!i)throw Py(e,...n)}function Ha(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rd(e),new Error(e)}function Wa(i,e){i||Ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(){return typeof self<"u"&&self.location?.href||""}function AR(){return GE()==="http:"||GE()==="https:"}function GE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||ZC()||"connection"in navigator)?navigator.onLine:!0}function CR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wa(n>e,"Short delay should be less than long delay!"),this.isMobile=WC()||eD()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(i,e){Wa(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new Jh(3e4,6e4);function Xl(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function to(i,e,n,s,o={}){return l0(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const g=Xh({key:i.config.apiKey,...u}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:y,...c};return JC()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&ou(i.emulatorConfig.host)&&(v.credentials="include"),o0.fetch()(await c0(i,i.config.apiHost,n,g),v)})}async function l0(i,e,n){i._canInitEmulator=!1;const s={...DR,...e};try{const o=new OR(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw _d(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const g=c.ok?u.errorMessage:u.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(i,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw _d(i,"email-already-in-use",u);if(y==="USER_DISABLED")throw _d(i,"user-disabled",u);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw a0(i,E,v);Is(i,E)}}catch(o){if(o instanceof eo)throw o;Is(i,"network-request-failed",{message:String(o)})}}async function dm(i,e,n,s,o={}){const c=await to(i,e,n,s,o);return"mfaPendingCredential"in c&&Is(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function c0(i,e,n,s){const o=`${e}${n}?${s}`,c=i,u=c.config.emulator?Ly(i.config,o):`${i.config.apiScheme}://${o}`;return RR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function IR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ra(this.auth,"network-request-failed")),NR.get())})}}function _d(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ra(i,e,s);return o.customData._tokenResponse=n,o}function $E(i){return i!==void 0&&i.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MR(i,e){return to(i,"GET","/v2/recaptchaConfig",Xl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(i,e){return to(i,"POST","/v1/accounts:delete",e)}async function Hd(i,e){return to(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PR(i,e=!1){const n=Ln(i),s=await n.getIdToken(e),o=Vy(s);Fe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:Rh(Eg(o.auth_time)),issuedAtTime:Rh(Eg(o.iat)),expirationTime:Rh(Eg(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Eg(i){return Number(i)*1e3}function Vy(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yw(n);return o?JSON.parse(o):(Rd("Failed to decode base64 JWT payload"),null)}catch(o){return Rd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function YE(i){const e=Vy(i);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof eo&&LR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function LR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(i){const e=i.auth,n=await i.getIdToken(),s=await Wc(i,Hd(e,{idToken:n}));Fe(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?u0(o.providerUserInfo):[],u=zR(i.providerData,c),g=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!u?.length,v=g?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fg(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(i,E)}async function UR(i){const e=Ln(i);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function u0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(i,e){const n=await l0(i,{},async()=>{const s=Xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await c0(i,o,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return i.emulatorConfig&&ou(i.emulatorConfig.host)&&(y.credentials="include"),o0.fetch()(u,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qR(i,e){return to(i,"POST","/v2/accounts:revokeToken",Xl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=YE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await BR(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new Gc;return s&&(Fe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Fe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Fe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(i,e){Fe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ds{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new VR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PR(this,e)}reload(){return UR(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await Wc(this,kR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,v=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:M,providerData:Y,stsTokenManager:K}=n;Fe(S&&K,e,"internal-error");const B=Gc.fromJSON(this.name,K);Fe(typeof S=="string",e,"internal-error"),Ho(s,e.name),Ho(o,e.name),Fe(typeof C=="boolean",e,"internal-error"),Fe(typeof M=="boolean",e,"internal-error"),Ho(c,e.name),Ho(u,e.name),Ho(g,e.name),Ho(y,e.name),Ho(v,e.name),Ho(E,e.name);const P=new Ds({uid:S,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:M,photoURL:u,phoneNumber:c,tenantId:g,stsTokenManager:B,createdAt:v,lastLoginAt:E});return Y&&Array.isArray(Y)&&(P.providerData=Y.map(H=>({...H}))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,s=!1){const o=new Gc;o.updateFromServerResponse(n);const c=new Ds({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gd(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Fe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?u0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,g=new Gc;g.updateFromIdToken(s);const y=new Ds({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:u}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Fg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Ga(i){Wa(i instanceof Function,"Expected a class definition");let e=QE.get(i);return e?(Wa(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,QE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h0.type="NONE";const KE=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(i,e,n){return`firebase:${i}:${e}:${n}`}class $c{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Nd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hd(this.auth,{idToken:e}).catch(()=>{});return n?Ds._fromGetAccountInfoResponse(this.auth,n,e):null}return Ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $c(Ga(KE),e,s);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ga(KE);const u=Nd(s,e.config.apiKey,e.name);let g=null;for(const v of n)try{const E=await v._get(u);if(E){let S;if(typeof E=="string"){const C=await Hd(e,{idToken:E}).catch(()=>{});if(!C)break;S=await Ds._fromGetAccountInfoResponse(e,C,E)}else S=Ds._fromJSON(e,E);v!==c&&(g=S),c=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $c(c,e,s):(c=y[0],g&&await c._set(u,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(u)}catch{}})),new $c(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(v0(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||m0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function f0(i=Li()){return/firefox\//i.test(i)}function d0(i=Li()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m0(i=Li()){return/crios\//i.test(i)}function p0(i=Li()){return/iemobile/i.test(i)}function g0(i=Li()){return/android/i.test(i)}function y0(i=Li()){return/blackberry/i.test(i)}function v0(i=Li()){return/webos/i.test(i)}function Uy(i=Li()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FR(i=Li()){return Uy(i)&&!!window.navigator?.standalone}function HR(){return tD()&&document.documentMode===10}function _0(i=Li()){return Uy(i)||g0(i)||v0(i)||y0(i)||/windows phone/i.test(i)||p0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i,e=[]){let n;switch(i){case"Browser":n=WE(Li());break;case"Worker":n=`${WE(Li())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,g)=>{try{const y=e(c);u(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(i,e={}){return to(i,"GET","/v2/passwordPolicy",Xl(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=6;class QR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ga(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $c.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hd(this,{idToken:e}),s=await Ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===u)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(Zo(this));const n=e?Ln(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ga(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $R(this),n=new QR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ga(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await $c.create(this,[Ga(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(g,this,"internal-error"),g.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{u=!0,y()}}else{const y=e.addObserver(n);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cu(i){return Ln(i)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cD(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WR(i){mm=i}function E0(i){return mm.loadJS(i)}function XR(){return mm.recaptchaEnterpriseScript}function JR(){return mm.gapiScript}function ZR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class eN{constructor(){this.enterprise=new tN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nN="recaptcha-enterprise",T0="NO_RECAPTCHA";class iN{constructor(e){this.type=nN,this.auth=cu(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,g)=>{MR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new jR(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,u(v.siteKey)}}).catch(y=>{g(y)})})}function o(c,u,g){const y=window.grecaptcha;$E(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(v=>{u(v)}).catch(()=>{u(T0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eN().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(g=>{if(!n&&$E(window.grecaptcha))o(g,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=XR();y.length!==0&&(y+=g),E0(y).then(()=>{o(g,c,u)}).catch(v=>{u(v)})}}).catch(g=>{u(g)})})}}async function JE(i,e,n,s=!1,o=!1){const c=new iN(i);let u;if(o)u=T0;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:u}):Object.assign(g,{captchaResponse:u}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ZE(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await JE(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await JE(i,e,n,n==="getOobCode");return s(i,u)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i,e){const n=My(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Gl(c,e??{}))return o;Is(o,"already-initialized")}return n.initialize({options:e})}function sN(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ga);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function aN(i,e,n){const s=cu(i);Fe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=w0(e),{host:u,port:g}=oN(e),y=g===null?"":`:${g}`,v={url:`${c}//${u}${y}/`},E=Object.freeze({host:u,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Fe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Fe(Gl(v,s.config.emulator)&&Gl(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ou(u)?(Xw(`${c}//${u}${y}`),Jw("Auth",!0)):lN()}function w0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oN(i){const e=w0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:eT(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:eT(u)}}}function eT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ha("not implemented")}_getIdTokenResponse(e){return Ha("not implemented")}_linkToIdToken(e,n){return Ha("not implemented")}_getReauthenticationResolver(e){return Ha("not implemented")}}async function cN(i,e){return to(i,"POST","/v1/accounts:update",e)}async function uN(i,e){return to(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(i,e){return dm(i,"POST","/v1/accounts:signInWithPassword",Xl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,e){return dm(i,"POST","/v1/accounts:signInWithEmailLink",Xl(i,e))}async function dN(i,e){return dm(i,"POST","/v1/accounts:signInWithEmailLink",Xl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends zy{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Lh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Lh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZE(e,n,"signInWithPassword",hN);case"emailLink":return fN(e,{email:this._email,oobCode:this._password});default:Is(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZE(e,s,"signUpPassword",uN);case"emailLink":return dN(e,{idToken:n,email:this._email,oobCode:this._password});default:Is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(i,e){return dm(i,"POST","/v1/accounts:signInWithIdp",Xl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="http://localhost";class Yl extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new Yl(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Yc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Yc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yc(e,n)}buildRequest(){const e={requestUri:mN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gN(i){const e=Eh(Th(i)).link,n=e?Eh(Th(e)).deep_link_id:null,s=Eh(Th(i)).deep_link_id;return(s?Eh(Th(s)).link:null)||s||n||e||i}class By{constructor(e){const n=Eh(Th(e)),s=n.apiKey??null,o=n.oobCode??null,c=pN(n.mode??null);Fe(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gN(e);try{return new By(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,n){return Lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=By.parseLink(n);return Fe(s,"argument-error"),Lh._fromEmailAndCode(e,s.code,s.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends S0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Zh{constructor(){super("facebook.com")}static credential(e){return Yl._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.FACEBOOK_SIGN_IN_METHOD="facebook.com";Go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yl._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $o.credential(n,s)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Zh{constructor(){super("github.com")}static credential(e){return Yl._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Zh{constructor(){super("twitter.com")}static credential(e,n){return Yl._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qo.credential(n,s)}catch{return null}}}Qo.TWITTER_SIGN_IN_METHOD="twitter.com";Qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Ds._fromIdTokenResponse(e,s,o),u=tT(s);return new Xc({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=tT(s);return new Xc({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function tT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends eo{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new $d(e,n,s,o)}}function A0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(i,c,e,s):c})}async function yN(i,e,n=!1){const s=await Wc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Xc._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(i,e,n=!1){const{auth:s}=i;if(Cs(s.app))return Promise.reject(Zo(s));const o="reauthenticate";try{const c=await Wc(i,A0(s,o,e,i),n);Fe(c.idToken,s,"internal-error");const u=Vy(c.idToken);Fe(u,s,"internal-error");const{sub:g}=u;return Fe(i.uid===g,s,"user-mismatch"),Xc._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Is(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(i,e,n=!1){if(Cs(i.app))return Promise.reject(Zo(i));const s="signIn",o=await A0(i,s,e),c=await Xc._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function vN(i,e){return C0(cu(i),e)}async function _N(i,e){return x0(Ln(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(i){const e=cu(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EN(i,e,n){return Cs(i.app)?Promise.reject(Zo(i)):vN(Ln(i),Jl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bN(i),s})}function TN(i,e){return wN(Ln(i),null,e)}async function wN(i,e,n){const{auth:s}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const u=await Wc(i,cN(s,c));await i._updateTokensIfNecessary(u,!0)}function SN(i,e,n,s){return Ln(i).onIdTokenChanged(e,n,s)}function AN(i,e,n){return Ln(i).beforeAuthStateChanged(e,n)}function xN(i,e,n,s){return Ln(i).onAuthStateChanged(e,n,s)}function qy(i){return Ln(i).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1e3,DN=10;class R0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,g,y)=>{this.notifyListeners(u,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);HR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R0.type="LOCAL";const RN=R0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N0.type="SESSION";const I0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new pm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(u).map(async v=>v(n.origin,c)),y=await NN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((g,y)=>{const v=Fy("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return window}function ON(i){sa().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof sa().WorkerGlobalScope<"u"&&typeof sa().importScripts=="function"}async function jN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MN(){return navigator?.serviceWorker?.controller||null}function kN(){return O0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firebaseLocalStorageDb",PN=1,Qd="firebaseLocalStorage",M0="fbase_key";class ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gm(i,e){return i.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function LN(){const i=indexedDB.deleteDatabase(j0);return new ef(i).toPromise()}function Hg(){const i=indexedDB.open(j0,PN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Qd,{keyPath:M0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Qd)?e(s):(s.close(),await LN(),e(await Hg()))})})}async function nT(i,e,n){const s=gm(i,!0).put({[M0]:e,value:n});return new ef(s).toPromise()}async function VN(i,e){const n=gm(i,!1).get(e),s=await new ef(n).toPromise();return s===void 0?null:s.value}function iT(i,e){const n=gm(i,!0).delete(e);return new ef(n).toPromise()}const UN=800,zN=3;class k0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(kN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jN(),!this.activeServiceWorker)return;this.sender=new IN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hg();return await nT(e,Yd,"1"),await iT(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=gm(o,!1).getAll();return new ef(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k0.type="LOCAL";const BN=k0;new Jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(i,e){return e?Ga(e):(Fe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FN(i){return C0(i.auth,new Hy(i),i.bypassAuthState)}function HN(i){const{auth:e,user:n}=i;return Fe(n,e,"internal-error"),x0(n,new Hy(i),i.bypassAuthState)}async function GN(i){const{auth:e,user:n}=i;return Fe(n,e,"internal-error"),yN(n,new Hy(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:g}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FN;case"linkViaPopup":case"linkViaRedirect":return GN;case"reauthViaPopup":case"reauthViaRedirect":return HN;default:Is(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Jh(2e3,1e4);class qc extends P0{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=Fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ra(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ra(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ra(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$N.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="pendingRedirect",Id=new Map;class QN extends P0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const s=await KN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KN(i,e){const n=JN(e),s=XN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function WN(i,e){Id.set(i._key(),e)}function XN(i){return Ga(i._redirectPersistence)}function JN(i){return Nd(YN,i.config.apiKey,i.name)}async function ZN(i,e,n=!1){if(Cs(i.app))return Promise.reject(Zo(i));const s=cu(i),o=qN(s,e),u=await new QN(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=600*1e3;class tI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!L0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ra(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eI&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function L0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function nI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(i,e={}){return to(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sI=/^https?/;async function aI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await iI(i);for(const n of e)try{if(oI(n))return}catch{}Is(i,"unauthorized-domain")}function oI(i){const e=qg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!sI.test(n))return!1;if(rI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new Jh(3e4,6e4);function sT(){const i=sa().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function cI(i){return new Promise((e,n)=>{function s(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),n(ra(i,"network-request-failed"))},timeout:lI.get()})}if(sa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sa().gapi?.load)s();else{const o=ZR("iframefcb");return sa()[o]=()=>{gapi.load?s():n(ra(i,"network-request-failed"))},E0(`${JR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Od=null,e})}let Od=null;function uI(i){return Od=Od||cI(i),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Jh(5e3,15e3),fI="__/auth/iframe",dI="emulator/auth/iframe",mI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gI(i){const e=i.config;Fe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ly(e,dI):`https://${i.config.authDomain}/${fI}`,s={apiKey:e.apiKey,appName:i.name,v:lu},o=pI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Xh(s).slice(1)}`}async function yI(i){const e=await uI(i),n=sa().gapi;return Fe(n,i,"internal-error"),e.open({where:document.body,url:gI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=ra(i,"network-request-failed"),g=sa().setTimeout(()=>{c(u)},hI.get());function y(){sa().clearTimeout(g),o(s)}s.ping(y).then(y,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_I=500,bI=600,EI="_blank",TI="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wI(i,e,n,s=_I,o=bI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...vI,width:s.toString(),height:o.toString(),top:c,left:u},v=Li().toLowerCase();n&&(g=m0(v)?EI:n),f0(v)&&(e=e||TI,y.scrollbars="yes");const E=Object.entries(y).reduce((C,[M,Y])=>`${C}${M}=${Y},`,"");if(FR(v)&&g!=="_self")return SI(e||"",g),new aT(null);const S=window.open(e||"",g,E);Fe(S,i,"popup-blocked");try{S.focus()}catch{}return new aT(S)}function SI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="__/auth/handler",xI="emulator/auth/handler",CI=encodeURIComponent("fac");async function oT(i,e,n,s,o,c){Fe(i.config.authDomain,i,"auth-domain-config-required"),Fe(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:lu,eventId:o};if(e instanceof S0){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",lD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))u[E]=S}if(e instanceof Zh){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const g=u;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await i._getAppCheckToken(),v=y?`#${CI}=${encodeURIComponent(y)}`:"";return`${DI(i)}?${Xh(g).slice(1)}${v}`}function DI({config:i}){return i.emulator?Ly(i,xI):`https://${i.authDomain}/${AI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="webStorageSupport";class RI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I0,this._completeRedirectFn=ZN,this._overrideRedirectResult=WN}async _openPopup(e,n,s,o){Wa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await oT(e,n,s,qg(),o);return wI(e,c,Fy())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await oT(e,n,s,qg(),o);return ON(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Wa(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await yI(e),s=new tI(e);return n.register("authEvent",o=>(Fe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tg,{type:Tg},o=>{const c=o?.[0]?.[Tg];c!==void 0&&n(!!c),Is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _0()||d0()||Uy()}}const NI=RI;var lT="@firebase/auth",cT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jI(i){Kc(new $l("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:g}=s.options;Fe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:u,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(i)},v=new KR(s,o,c,y);return sN(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Kc(new $l("auth-internal",e=>{const n=cu(e.getProvider("auth").getImmediate());return(s=>new II(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jo(lT,cT,OI(i)),Jo(lT,cT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=300,kI=Ww("authIdTokenMaxAge")||MI;let uT=null;const PI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kI)return;const o=n?.token;uT!==o&&(uT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LI(i=ky()){const e=My(i,"auth");if(e.isInitialized())return e.getImmediate();const n=rN(i,{popupRedirectResolver:NI,persistence:[BN,RN,I0]}),s=Ww("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=PI(c.toString());AN(n,u,()=>u(n.currentUser)),SN(n,g=>u(g))}}const o=Qw("auth");return o&&aN(n,`http://${o}`),n}function VI(){return document.getElementsByTagName("head")?.[0]??document}WR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=ra("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",VI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jI("Browser");var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,V0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,O){function k(){}k.prototype=O.prototype,j.F=O.prototype,j.prototype=new k,j.prototype.constructor=j,j.D=function(L,V,G){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return O.prototype[V].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,O,k){k||(k=0);const L=Array(16);if(typeof O=="string")for(var V=0;V<16;++V)L[V]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(V=0;V<16;++V)L[V]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=j.g[0],k=j.g[1],V=j.g[2];let G=j.g[3],I;I=O+(G^k&(V^G))+L[0]+3614090360&4294967295,O=k+(I<<7&4294967295|I>>>25),I=G+(V^O&(k^V))+L[1]+3905402710&4294967295,G=O+(I<<12&4294967295|I>>>20),I=V+(k^G&(O^k))+L[2]+606105819&4294967295,V=G+(I<<17&4294967295|I>>>15),I=k+(O^V&(G^O))+L[3]+3250441966&4294967295,k=V+(I<<22&4294967295|I>>>10),I=O+(G^k&(V^G))+L[4]+4118548399&4294967295,O=k+(I<<7&4294967295|I>>>25),I=G+(V^O&(k^V))+L[5]+1200080426&4294967295,G=O+(I<<12&4294967295|I>>>20),I=V+(k^G&(O^k))+L[6]+2821735955&4294967295,V=G+(I<<17&4294967295|I>>>15),I=k+(O^V&(G^O))+L[7]+4249261313&4294967295,k=V+(I<<22&4294967295|I>>>10),I=O+(G^k&(V^G))+L[8]+1770035416&4294967295,O=k+(I<<7&4294967295|I>>>25),I=G+(V^O&(k^V))+L[9]+2336552879&4294967295,G=O+(I<<12&4294967295|I>>>20),I=V+(k^G&(O^k))+L[10]+4294925233&4294967295,V=G+(I<<17&4294967295|I>>>15),I=k+(O^V&(G^O))+L[11]+2304563134&4294967295,k=V+(I<<22&4294967295|I>>>10),I=O+(G^k&(V^G))+L[12]+1804603682&4294967295,O=k+(I<<7&4294967295|I>>>25),I=G+(V^O&(k^V))+L[13]+4254626195&4294967295,G=O+(I<<12&4294967295|I>>>20),I=V+(k^G&(O^k))+L[14]+2792965006&4294967295,V=G+(I<<17&4294967295|I>>>15),I=k+(O^V&(G^O))+L[15]+1236535329&4294967295,k=V+(I<<22&4294967295|I>>>10),I=O+(V^G&(k^V))+L[1]+4129170786&4294967295,O=k+(I<<5&4294967295|I>>>27),I=G+(k^V&(O^k))+L[6]+3225465664&4294967295,G=O+(I<<9&4294967295|I>>>23),I=V+(O^k&(G^O))+L[11]+643717713&4294967295,V=G+(I<<14&4294967295|I>>>18),I=k+(G^O&(V^G))+L[0]+3921069994&4294967295,k=V+(I<<20&4294967295|I>>>12),I=O+(V^G&(k^V))+L[5]+3593408605&4294967295,O=k+(I<<5&4294967295|I>>>27),I=G+(k^V&(O^k))+L[10]+38016083&4294967295,G=O+(I<<9&4294967295|I>>>23),I=V+(O^k&(G^O))+L[15]+3634488961&4294967295,V=G+(I<<14&4294967295|I>>>18),I=k+(G^O&(V^G))+L[4]+3889429448&4294967295,k=V+(I<<20&4294967295|I>>>12),I=O+(V^G&(k^V))+L[9]+568446438&4294967295,O=k+(I<<5&4294967295|I>>>27),I=G+(k^V&(O^k))+L[14]+3275163606&4294967295,G=O+(I<<9&4294967295|I>>>23),I=V+(O^k&(G^O))+L[3]+4107603335&4294967295,V=G+(I<<14&4294967295|I>>>18),I=k+(G^O&(V^G))+L[8]+1163531501&4294967295,k=V+(I<<20&4294967295|I>>>12),I=O+(V^G&(k^V))+L[13]+2850285829&4294967295,O=k+(I<<5&4294967295|I>>>27),I=G+(k^V&(O^k))+L[2]+4243563512&4294967295,G=O+(I<<9&4294967295|I>>>23),I=V+(O^k&(G^O))+L[7]+1735328473&4294967295,V=G+(I<<14&4294967295|I>>>18),I=k+(G^O&(V^G))+L[12]+2368359562&4294967295,k=V+(I<<20&4294967295|I>>>12),I=O+(k^V^G)+L[5]+4294588738&4294967295,O=k+(I<<4&4294967295|I>>>28),I=G+(O^k^V)+L[8]+2272392833&4294967295,G=O+(I<<11&4294967295|I>>>21),I=V+(G^O^k)+L[11]+1839030562&4294967295,V=G+(I<<16&4294967295|I>>>16),I=k+(V^G^O)+L[14]+4259657740&4294967295,k=V+(I<<23&4294967295|I>>>9),I=O+(k^V^G)+L[1]+2763975236&4294967295,O=k+(I<<4&4294967295|I>>>28),I=G+(O^k^V)+L[4]+1272893353&4294967295,G=O+(I<<11&4294967295|I>>>21),I=V+(G^O^k)+L[7]+4139469664&4294967295,V=G+(I<<16&4294967295|I>>>16),I=k+(V^G^O)+L[10]+3200236656&4294967295,k=V+(I<<23&4294967295|I>>>9),I=O+(k^V^G)+L[13]+681279174&4294967295,O=k+(I<<4&4294967295|I>>>28),I=G+(O^k^V)+L[0]+3936430074&4294967295,G=O+(I<<11&4294967295|I>>>21),I=V+(G^O^k)+L[3]+3572445317&4294967295,V=G+(I<<16&4294967295|I>>>16),I=k+(V^G^O)+L[6]+76029189&4294967295,k=V+(I<<23&4294967295|I>>>9),I=O+(k^V^G)+L[9]+3654602809&4294967295,O=k+(I<<4&4294967295|I>>>28),I=G+(O^k^V)+L[12]+3873151461&4294967295,G=O+(I<<11&4294967295|I>>>21),I=V+(G^O^k)+L[15]+530742520&4294967295,V=G+(I<<16&4294967295|I>>>16),I=k+(V^G^O)+L[2]+3299628645&4294967295,k=V+(I<<23&4294967295|I>>>9),I=O+(V^(k|~G))+L[0]+4096336452&4294967295,O=k+(I<<6&4294967295|I>>>26),I=G+(k^(O|~V))+L[7]+1126891415&4294967295,G=O+(I<<10&4294967295|I>>>22),I=V+(O^(G|~k))+L[14]+2878612391&4294967295,V=G+(I<<15&4294967295|I>>>17),I=k+(G^(V|~O))+L[5]+4237533241&4294967295,k=V+(I<<21&4294967295|I>>>11),I=O+(V^(k|~G))+L[12]+1700485571&4294967295,O=k+(I<<6&4294967295|I>>>26),I=G+(k^(O|~V))+L[3]+2399980690&4294967295,G=O+(I<<10&4294967295|I>>>22),I=V+(O^(G|~k))+L[10]+4293915773&4294967295,V=G+(I<<15&4294967295|I>>>17),I=k+(G^(V|~O))+L[1]+2240044497&4294967295,k=V+(I<<21&4294967295|I>>>11),I=O+(V^(k|~G))+L[8]+1873313359&4294967295,O=k+(I<<6&4294967295|I>>>26),I=G+(k^(O|~V))+L[15]+4264355552&4294967295,G=O+(I<<10&4294967295|I>>>22),I=V+(O^(G|~k))+L[6]+2734768916&4294967295,V=G+(I<<15&4294967295|I>>>17),I=k+(G^(V|~O))+L[13]+1309151649&4294967295,k=V+(I<<21&4294967295|I>>>11),I=O+(V^(k|~G))+L[4]+4149444226&4294967295,O=k+(I<<6&4294967295|I>>>26),I=G+(k^(O|~V))+L[11]+3174756917&4294967295,G=O+(I<<10&4294967295|I>>>22),I=V+(O^(G|~k))+L[2]+718787259&4294967295,V=G+(I<<15&4294967295|I>>>17),I=k+(G^(V|~O))+L[9]+3951481745&4294967295,j.g[0]=j.g[0]+O&4294967295,j.g[1]=j.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+V&4294967295,j.g[3]=j.g[3]+G&4294967295}s.prototype.v=function(j,O){O===void 0&&(O=j.length);const k=O-this.blockSize,L=this.C;let V=this.h,G=0;for(;G<O;){if(V==0)for(;G<=k;)o(this,j,G),G+=this.blockSize;if(typeof j=="string"){for(;G<O;)if(L[V++]=j.charCodeAt(G++),V==this.blockSize){o(this,L),V=0;break}}else for(;G<O;)if(L[V++]=j[G++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=O},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var O=1;O<j.length-8;++O)j[O]=0;O=this.o*8;for(var k=j.length-8;k<j.length;++k)j[k]=O&255,O/=256;for(this.v(j),j=Array(16),O=0,k=0;k<4;++k)for(let L=0;L<32;L+=8)j[O++]=this.g[k]>>>L&255;return j};function c(j,O){var k=g;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=O(j)}function u(j,O){this.h=O;const k=[];let L=!0;for(let V=j.length-1;V>=0;V--){const G=j[V]|0;L&&G==O||(k[V]=G,L=!1)}this.g=k}var g={};function y(j){return-128<=j&&j<128?c(j,function(O){return new u([O|0],O<0?-1:0)}):new u([j|0],j<0?-1:0)}function v(j){if(isNaN(j)||!isFinite(j))return S;if(j<0)return B(v(-j));const O=[];let k=1;for(let L=0;j>=k;L++)O[L]=j/k|0,k*=4294967296;return new u(O,0)}function E(j,O){if(j.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j.charAt(0)=="-")return B(E(j.substring(1),O));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(O,8));let L=S;for(let G=0;G<j.length;G+=8){var V=Math.min(8,j.length-G);const I=parseInt(j.substring(G,G+V),O);V<8?(V=v(Math.pow(O,V)),L=L.j(V).add(v(I))):(L=L.j(k),L=L.add(v(I)))}return L}var S=y(0),C=y(1),M=y(16777216);i=u.prototype,i.m=function(){if(K(this))return-B(this).m();let j=0,O=1;for(let k=0;k<this.g.length;k++){const L=this.i(k);j+=(L>=0?L:4294967296+L)*O,O*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(Y(this))return"0";if(K(this))return"-"+B(this).toString(j);const O=v(Math.pow(j,6));var k=this;let L="";for(;;){const V=ye(k,O).g;k=P(k,V.j(O));let G=((k.g.length>0?k.g[0]:k.h)>>>0).toString(j);if(k=V,Y(k))return G+L;for(;G.length<6;)G="0"+G;L=G+L}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function Y(j){if(j.h!=0)return!1;for(let O=0;O<j.g.length;O++)if(j.g[O]!=0)return!1;return!0}function K(j){return j.h==-1}i.l=function(j){return j=P(this,j),K(j)?-1:Y(j)?0:1};function B(j){const O=j.g.length,k=[];for(let L=0;L<O;L++)k[L]=~j.g[L];return new u(k,~j.h).add(C)}i.abs=function(){return K(this)?B(this):this},i.add=function(j){const O=Math.max(this.g.length,j.g.length),k=[];let L=0;for(let V=0;V<=O;V++){let G=L+(this.i(V)&65535)+(j.i(V)&65535),I=(G>>>16)+(this.i(V)>>>16)+(j.i(V)>>>16);L=I>>>16,G&=65535,I&=65535,k[V]=I<<16|G}return new u(k,k[k.length-1]&-2147483648?-1:0)};function P(j,O){return j.add(B(O))}i.j=function(j){if(Y(this)||Y(j))return S;if(K(this))return K(j)?B(this).j(B(j)):B(B(this).j(j));if(K(j))return B(this.j(B(j)));if(this.l(M)<0&&j.l(M)<0)return v(this.m()*j.m());const O=this.g.length+j.g.length,k=[];for(var L=0;L<2*O;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<j.g.length;V++){const G=this.i(L)>>>16,I=this.i(L)&65535,fe=j.i(V)>>>16,je=j.i(V)&65535;k[2*L+2*V]+=I*je,H(k,2*L+2*V),k[2*L+2*V+1]+=G*je,H(k,2*L+2*V+1),k[2*L+2*V+1]+=I*fe,H(k,2*L+2*V+1),k[2*L+2*V+2]+=G*fe,H(k,2*L+2*V+2)}for(j=0;j<O;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=O;j<2*O;j++)k[j]=0;return new u(k,0)};function H(j,O){for(;(j[O]&65535)!=j[O];)j[O+1]+=j[O]>>>16,j[O]&=65535,O++}function te(j,O){this.g=j,this.h=O}function ye(j,O){if(Y(O))throw Error("division by zero");if(Y(j))return new te(S,S);if(K(j))return O=ye(B(j),O),new te(B(O.g),B(O.h));if(K(O))return O=ye(j,B(O)),new te(B(O.g),O.h);if(j.g.length>30){if(K(j)||K(O))throw Error("slowDivide_ only works with positive integers.");for(var k=C,L=O;L.l(j)<=0;)k=le(k),L=le(L);var V=pe(k,1),G=pe(L,1);for(L=pe(L,2),k=pe(k,2);!Y(L);){var I=G.add(L);I.l(j)<=0&&(V=V.add(k),G=I),L=pe(L,1),k=pe(k,1)}return O=P(j,V.j(O)),new te(V,O)}for(V=S;j.l(O)>=0;){for(k=Math.max(1,Math.floor(j.m()/O.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),G=v(k),I=G.j(O);K(I)||I.l(j)>0;)k-=L,G=v(k),I=G.j(O);Y(G)&&(G=C),V=V.add(G),j=P(j,I)}return new te(V,j)}i.B=function(j){return ye(this,j).h},i.and=function(j){const O=Math.max(this.g.length,j.g.length),k=[];for(let L=0;L<O;L++)k[L]=this.i(L)&j.i(L);return new u(k,this.h&j.h)},i.or=function(j){const O=Math.max(this.g.length,j.g.length),k=[];for(let L=0;L<O;L++)k[L]=this.i(L)|j.i(L);return new u(k,this.h|j.h)},i.xor=function(j){const O=Math.max(this.g.length,j.g.length),k=[];for(let L=0;L<O;L++)k[L]=this.i(L)^j.i(L);return new u(k,this.h^j.h)};function le(j){const O=j.g.length+1,k=[];for(let L=0;L<O;L++)k[L]=j.i(L)<<1|j.i(L-1)>>>31;return new u(k,j.h)}function pe(j,O){const k=O>>5;O%=32;const L=j.g.length-k,V=[];for(let G=0;G<L;G++)V[G]=O>0?j.i(G+k)>>>O|j.i(G+k+1)<<32-O:j.i(G+k);return new u(V,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,V0=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=v,u.fromString=E,el=u}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U0,wh,z0,jd,Gg,B0,q0,F0;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var _=0;_<h.length;++_){var w=h[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function o(h,_){if(_)e:{var w=s;h=h.split(".");for(var N=0;N<h.length-1;N++){var W=h[N];if(!(W in w))break e;w=w[W]}h=h[h.length-1],N=w[h],_=_(N),_!=N&&_!=null&&e(w,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var w=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&w.push([N,_[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function g(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,w){return h.call.apply(h.bind,arguments)}function v(h,_,w){return v=y,v.apply(null,arguments)}function E(h,_){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function S(h,_){function w(){}w.prototype=_.prototype,h.Z=_.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(N,W,ne){for(var Ee=Array(arguments.length-2),We=2;We<arguments.length;We++)Ee[We-2]=arguments[We];return _.prototype[W].apply(N,Ee)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const _=h.length;if(_>0){const w=Array(_);for(let N=0;N<_;N++)w[N]=h[N];return w}return[]}function Y(h,_){for(let N=1;N<arguments.length;N++){const W=arguments[N];var w=typeof W;if(w=w!="object"?w:W?Array.isArray(W)?"array":w:"null",w=="array"||w=="object"&&typeof W.length=="number"){w=h.length||0;const ne=W.length||0;h.length=w+ne;for(let Ee=0;Ee<ne;Ee++)h[w+Ee]=W[Ee]}else h.push(W)}}class K{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(h){u.setTimeout(()=>{throw h},0)}function P(){var h=j;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class H{constructor(){this.h=this.g=null}add(_,w){const N=te.get();N.set(_,w),this.h?this.h.next=N:this.g=N,this.h=N}}var te=new K(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,j=new H,O=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(k)}};function k(){for(var h;h=P();){try{h.h.call(h.g)}catch(w){B(w)}var _=te;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}pe=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function fe(h,_){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}S(fe,V),fe.prototype.init=function(h,_){const w=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(w=="mouseover"?_=h.fromElement:w=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(h,_,w,N,W){this.listener=h,this.proxy=null,this.src=_,this.type=w,this.capture=!!N,this.ha=W,this.key=++X,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,_,w){for(const N in h)_.call(w,h[N],N,h)}function Oe(h,_){for(const w in h)_.call(void 0,h[w],w,h)}function R(h){const _={};for(const w in h)_[w]=h[w];return _}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(h,_){let w,N;for(let W=1;W<arguments.length;W++){N=arguments[W];for(w in N)h[w]=N[w];for(let ne=0;ne<ae.length;ne++)w=ae[ne],Object.prototype.hasOwnProperty.call(N,w)&&(h[w]=N[w])}}function we(h){this.src=h,this.g={},this.h=0}we.prototype.add=function(h,_,w,N,W){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const Ee=Le(h,_,N,W);return Ee>-1?(_=h[Ee],w||(_.fa=!1)):(_=new se(_,this.src,ne,!!N,W),_.fa=w,h.push(_)),_};function Ie(h,_){const w=_.type;if(w in h.g){var N=h.g[w],W=Array.prototype.indexOf.call(N,_,void 0),ne;(ne=W>=0)&&Array.prototype.splice.call(N,W,1),ne&&(me(_),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Le(h,_,w,N){for(let W=0;W<h.length;++W){const ne=h[W];if(!ne.da&&ne.listener==_&&ne.capture==!!w&&ne.ha==N)return W}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),Pt={};function be(h,_,w,N,W){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)be(h,_[ne],w,N,W);return null}return w=Ms(w),h&&h[je]?h.J(_,w,g(N)?!!N.capture:!1,W):xi(h,_,w,!1,N,W)}function xi(h,_,w,N,W,ne){if(!_)throw Error("Invalid event type");const Ee=g(W)?!!W.capture:!!W;let We=Kt(h);if(We||(h[Ve]=We=new we(h)),w=We.add(_,w,N,Ee,ne),w.proxy)return w;if(N=br(),w.proxy=N,N.src=h,N.listener=w,h.addEventListener)G||(W=Ee),W===void 0&&(W=!1),h.addEventListener(_.toString(),N,W);else if(h.attachEvent)h.attachEvent(lt(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function br(){function h(w){return _.call(h.src,h.listener,w)}const _=Ji;return h}function Er(h,_,w,N,W){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)Er(h,_[ne],w,N,W);else N=g(N)?!!N.capture:!!N,w=Ms(w),h&&h[je]?(h=h.i,ne=String(_).toString(),ne in h.g&&(_=h.g[ne],w=Le(_,w,N,W),w>-1&&(me(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Kt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Le(_,w,N,W)),(w=h>-1?_[h]:null)&&qr(w))}function qr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[je])Ie(_.i,h);else{var w=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(w,N,h.capture):_.detachEvent?_.detachEvent(lt(w),N):_.addListener&&_.removeListener&&_.removeListener(N),(w=Kt(_))?(Ie(w,h),w.h==0&&(w.src=null,_[Ve]=null)):me(h)}}}function lt(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function Ji(h,_){if(h.da)h=!0;else{_=new fe(_,this);const w=h.listener,N=h.ha||h.src;h.fa&&qr(h),h=w.call(N,_)}return h}function Kt(h){return h=h[Ve],h instanceof we?h:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ms(h){return typeof h=="function"?h:(h[di]||(h[di]=function(_){return h.handleEvent(_)}),h[di])}function tn(){L.call(this),this.i=new we(this),this.M=this,this.G=null}S(tn,L),tn.prototype[je]=!0,tn.prototype.removeEventListener=function(h,_,w,N){Er(this,h,_,w,N)};function dn(h,_){var w,N=h.G;if(N)for(w=[];N;N=N.G)w.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new V(_,h);else if(_ instanceof V)_.target=_.target||h;else{var W=_;_=new V(N,h),ve(_,W)}W=!0;let ne,Ee;if(w)for(Ee=w.length-1;Ee>=0;Ee--)ne=_.g=w[Ee],W=Fr(ne,N,!0,_)&&W;if(ne=_.g=h,W=Fr(ne,N,!0,_)&&W,W=Fr(ne,N,!1,_)&&W,w)for(Ee=0;Ee<w.length;Ee++)ne=_.g=w[Ee],W=Fr(ne,N,!1,_)&&W}tn.prototype.N=function(){if(tn.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const w=h.g[_];for(let N=0;N<w.length;N++)me(w[N]);delete h.g[_],h.h--}}this.G=null},tn.prototype.J=function(h,_,w,N){return this.i.add(String(h),_,!1,w,N)},tn.prototype.K=function(h,_,w,N){return this.i.add(String(h),_,!0,w,N)};function Fr(h,_,w,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let W=!0;for(let ne=0;ne<_.length;++ne){const Ee=_[ne];if(Ee&&!Ee.da&&Ee.capture==w){const We=Ee.listener,pn=Ee.ha||Ee.src;Ee.fa&&Ie(h.i,Ee),W=We.call(pn,N)!==!1&&W}}return W&&!N.defaultPrevented}function dl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function da(h){h.g=dl(()=>{h.g=null,h.i&&(h.i=!1,da(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Qn extends L{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(h){L.call(this),this.h=h,this.g={}}S(Zi,L);var Ci=[];function ks(h){De(h.g,function(_,w){this.g.hasOwnProperty(w)&&qr(_)},h),h.g={}}Zi.prototype.N=function(){Zi.Z.N.call(this),ks(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=u.JSON.stringify,ma=u.JSON.parse,Tr=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function er(){}function wr(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _n(){V.call(this,"d")}S(_n,V);function ii(){V.call(this,"c")}S(ii,V);var Wt={},pa=null;function Gr(){return pa=pa||new tn}Wt.Ia="serverreachability";function ro(h){V.call(this,Wt.Ia,h)}S(ro,V);function zi(h){const _=Gr();dn(_,new ro(_))}Wt.STAT_EVENT="statevent";function us(h,_){V.call(this,Wt.STAT_EVENT,h),this.stat=_}S(us,V);function Xt(h){const _=Gr();dn(_,new us(_,h))}Wt.Ja="timingevent";function It(h,_){V.call(this,Wt.Ja,h),this.size=_}S(It,V);function zt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Lt(h,_,w,N,W,ne){h.info(function(){if(h.g)if(ne){var Ee="",We=ne.split("&");for(let st=0;st<We.length;st++){var pn=We[st].split("=");if(pn.length>1){const wt=pn[0];pn=pn[1];const lr=wt.split("_");Ee=lr.length>=2&&lr[1]=="type"?Ee+(wt+"="+pn+"&"):Ee+(wt+"=redacted&")}}}else Ee=null;else Ee=ne;return"XMLHTTP REQ ("+N+") [attempt "+W+"]: "+_+`
`+w+`
`+Ee})}function mi(h,_,w,N,W,ne,Ee){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+W+"]: "+_+`
`+w+`
`+ne+" "+Ee})}function tr(h,_,w,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ar(h,w)+(N?" "+N:"")})}function Sr(h,_){h.info(function(){return"TIMEOUT: "+_})}Kn.prototype.info=function(){};function Ar(h,_){if(!h.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var w=ne[h];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var W=N[0];if(W!="noop"&&W!="stop"&&W!="close")for(let Ee=1;Ee<N.length;Ee++)N[Ee]=""}}}}return Hr(ne)}catch{return _}}var Di={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$r;function xr(){}S(xr,er),xr.prototype.g=function(){return new XMLHttpRequest},$r=new xr;function Bi(h){return encodeURIComponent(String(h))}function Ps(h){var _=1;h=h.split(":");const w=[];for(;_>0&&h.length;)w.push(h.shift()),_--;return h.length&&w.push(h.join(":")),w}function pi(h,_,w,N){this.j=h,this.i=_,this.l=w,this.S=N||1,this.V=new Zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Bt={},En={};function Ri(h,_,w){h.M=1,h.A=Ls(mn(_)),h.u=w,h.R=!0,Ke(h,null)}function Ke(h,_){h.F=Date.now(),ct(h),h.B=mn(h.A);var w=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Vs(w.i,"t",N),h.C=0,w=h.j.L,h.h=new bn,h.g=ac(h.j,w?_:null,!h.u),h.P>0&&(h.O=new Qn(v(h.Y,h,h.g),h.P)),_=h.V,w=h.g,N=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(Ci[0]=W.toString()),W=Ci);for(let ne=0;ne<W.length;ne++){const Ee=be(w,W[ne],N||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=h.J?R(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),zi(),Lt(h.i,h.v,h.B,h.l,h.S,h.u)}pi.prototype.ba=function(h){h=h.target;const _=this.O;_&&ar(h)==3?_.j():this.Y(h)},pi.prototype.Y=function(h){try{if(h==this.g)e:{const We=ar(this.g),pn=this.g.ya(),st=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||On(this.g)))){this.K||We!=4||pn==7||(pn==8||st<=0?zi(3):zi(2)),Ft(this);var _=this.g.ca();this.X=_;var w=qt(this);if(this.o=_==200,mi(this.i,this.v,this.B,this.l,this.S,We,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,W=this.g;if((N=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var ne=N;break t}}ne=null}if(h=ne)tr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,h);else{this.o=!1,this.m=3,Xt(12),Vn(this),Wn(this);break e}}if(this.R){h=!0;let wt;for(;!this.K&&this.C<w.length;)if(wt=Et(this,w),wt==En){We==4&&(this.m=4,Xt(14),h=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Bt){this.m=4,Xt(15),tr(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else tr(this.i,this.l,wt,null),ri(this,wt);if(bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||w.length!=0||this.h.h||(this.m=1,Xt(16),h=!1),this.o=this.o&&h,!h)tr(this.i,this.l,w,"[Invalid Chunked Response]"),Vn(this),Wn(this);else if(w.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),fo(Ee),Ee.P=!0,Xt(11))}}else tr(this.i,this.l,w,null),ri(this,w);We==4&&Vn(this),this.o&&!this.K&&(We==4?rc(this.j,this):(this.o=!1,ct(this)))}else Nr(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Vn(this),Wn(this)}}}catch{}finally{}};function qt(h){if(!bt(h))return h.g.la();const _=On(h.g);if(_==="")return"";let w="";const N=_.length,W=ar(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Vn(h),Wn(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<N;ne++)h.h.h=!0,w+=h.h.i.decode(_[ne],{stream:!(W&&ne==N-1)});return _.length=0,h.h.g+=w,h.C=0,h.h.g}function bt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Et(h,_){var w=h.C,N=_.indexOf(`
`,w);return N==-1?En:(w=Number(_.substring(w,N)),isNaN(w)?Bt:(N+=1,N+w>_.length?En:(_=_.slice(N,N+w),h.C=N+w,_)))}pi.prototype.cancel=function(){this.K=!0,Vn(this)};function ct(h){h.T=Date.now()+h.H,rn(h,h.H)}function rn(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zt(v(h.aa,h),_)}function Ft(h){h.D&&(u.clearTimeout(h.D),h.D=null)}pi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(zi(),Xt(17)),Vn(this),this.m=2,Wn(this)):rn(this,this.T-h)};function Wn(h){h.j.I==0||h.K||rc(h.j,h)}function Vn(h){Ft(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ks(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ri(h,_){try{var w=h.j;if(w.I!=0&&(w.g==h||Cr(w.h,h))){if(!h.L&&Cr(w.h,h)&&w.I==3){try{var N=w.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var W=N;if(W[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Sa(w),Wr(w);else break e;qs(w),Xt(18)}}else w.xa=W[1],0<w.xa-w.K&&W[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=zt(v(w.Va,w),6e3));gi(w.h)<=1&&w.ta&&(w.ta=void 0)}else jr(w,11)}else if((h.L||w.g==h)&&Sa(w),!I(_))for(W=w.Ba.g.parse(_),_=0;_<W.length;_++){let st=W[_];const wt=st[0];if(!(wt<=w.K))if(w.K=wt,st=st[1],w.I==2)if(st[0]=="c"){w.M=st[1],w.ba=st[2];const lr=st[3];lr!=null&&(w.ka=lr,w.j.info("VER="+w.ka));const Fi=st[4];Fi!=null&&(w.za=Fi,w.j.info("SVER="+w.za));const kr=st[5];kr!=null&&typeof kr=="number"&&kr>0&&(N=1.5*kr,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Pr=h.g;if(Pr){const xa=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var ne=N.h;ne.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ya(ne,ne.h),ne.h=null))}if(N.G){const po=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(N.wa=po,Tt(N.J,N.G,po))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var Ee=h;if(N.na=Aa(N,N.L?N.ba:null,N.W),Ee.L){va(N.h,Ee);var We=Ee,pn=N.O;pn&&(We.H=pn),We.D&&(Ft(We),ct(We)),N.g=Ee}else _l(N);w.i.length>0&&Ir(w)}else st[0]!="stop"&&st[0]!="close"||jr(w,7);else w.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?jr(w,7):ys(w):st[0]!="noop"&&w.l&&w.l.qa(st),w.A=0)}}zi(4)}catch{}}var $t=class{constructor(h,_){this.g=h,this.map=_}};function so(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gi(h){return h.h?1:h.g?h.g.size:0}function Cr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ya(h,_){h.g?h.g.add(_):h.h=_}function va(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}so.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ao(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const w of h.g.values())_=_.concat(w.G);return _}return M(h.i)}var ml=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(h,_){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const N=h[w].indexOf("=");let W,ne=null;N>=0?(W=h[w].substring(0,N),ne=h[w].substring(N+1)):W=h[w],_(W,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Ni(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Ni?(this.l=h.l,Dn(this,h.j),this.o=h.o,this.g=h.g,fs(this,h.u),this.h=h.h,oo(this,pl(h.i)),this.m=h.m):h&&(_=String(h).match(ml))?(this.l=!1,Dn(this,_[1]||"",!0),this.o=Rn(_[2]||""),this.g=Rn(_[3]||"",!0),fs(this,_[4]),this.h=Rn(_[5]||"",!0),oo(this,_[6]||"",!0),this.m=Rn(_[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}Ni.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Nn(_,Xn,!0),":");var w=this.g;return(w||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Nn(_,Xn,!0),"@"),h.push(Bi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Nn(w,w.charAt(0)=="/"?ba:lo,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Nn(w,Yr)),h.join("")},Ni.prototype.resolve=function(h){const _=mn(this);let w=!!h.j;w?Dn(_,h.j):w=!!h.o,w?_.o=h.o:w=!!h.g,w?_.g=h.g:w=h.u!=null;var N=h.h;if(w)fs(_,h.u);else if(w=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var W=_.h.lastIndexOf("/");W!=-1&&(N=_.h.slice(0,W+1)+N)}if(W=N,W==".."||W==".")N="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){N=W.lastIndexOf("/",0)==0,W=W.split("/");const ne=[];for(let Ee=0;Ee<W.length;){const We=W[Ee++];We=="."?N&&Ee==W.length&&ne.push(""):We==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),N&&Ee==W.length&&ne.push("")):(ne.push(We),N=!0)}N=ne.join("/")}else N=W}return w?_.h=N:w=h.i.toString()!=="",w?oo(_,pl(h.i)):w=!!h.m,w&&(_.m=h.m),_};function mn(h){return new Ni(h)}function Dn(h,_,w){h.j=w?Rn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function fs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function oo(h,_,w){_ instanceof Dr?(h.i=_,ho(h.i,h.l)):(w||(_=Nn(_,Jn)),h.i=new Dr(_,h.l))}function Tt(h,_,w){h.i.set(_,w)}function Ls(h){return Tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Rn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Nn(h,_,w){return typeof h=="string"?(h=encodeURI(h).replace(_,Tn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xn=/[#\/\?@]/g,lo=/[#\?:]/g,ba=/[#\?]/g,Jn=/[#\?@]/g,Yr=/#/g;function Dr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&_a(h.i,function(_,w){h.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}i=Dr.prototype,i.add=function(h,_){In(this),this.i=null,h=si(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(_),this.h+=1,this};function co(h,_){In(h),_=si(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function uo(h,_){return In(h),_=si(h,_),h.g.has(_)}i.forEach=function(h,_){In(this),this.g.forEach(function(w,N){w.forEach(function(W){h.call(_,W,N,this)},this)},this)};function Qr(h,_){In(h);let w=[];if(typeof _=="string")uo(h,_)&&(w=w.concat(h.g.get(si(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)w=w.concat(h[_]);return w}i.set=function(h,_){return In(this),this.i=null,h=si(this,h),uo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=Qr(this,h),h.length>0?String(h[0]):_):_};function Vs(h,_,w){co(h,_),w.length>0&&(h.i=null,h.g.set(si(h,_),M(w)),h.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var w=_[N];const W=Bi(w);w=Qr(this,w);for(let ne=0;ne<w.length;ne++){let Ee=W;w[ne]!==""&&(Ee+="="+Bi(w[ne])),h.push(Ee)}}return this.i=h.join("&")};function pl(h){const _=new Dr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function si(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ho(h,_){_&&!h.j&&(In(h),h.i=null,h.g.forEach(function(w,N){const W=N.toLowerCase();N!=W&&(co(this,N),Vs(this,W,w))},h)),h.j=_}function Un(h,_){const w=new Kn;if(u.Image){const N=new Image;N.onload=E(qi,w,"TestLoadImage: loaded",!0,_,N),N.onerror=E(qi,w,"TestLoadImage: error",!1,_,N),N.onabort=E(qi,w,"TestLoadImage: abort",!1,_,N),N.ontimeout=E(qi,w,"TestLoadImage: timeout",!1,_,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function Us(h,_){const w=new Kn,N=new AbortController,W=setTimeout(()=>{N.abort(),qi(w,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(ne=>{clearTimeout(W),ne.ok?qi(w,"TestPingServer: ok",!0,_):qi(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),qi(w,"TestPingServer: error",!1,_)})}function qi(h,_,w,N,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),N(w)}catch{}}function nr(){this.g=new Tr}function ir(h){this.i=h.Sb||null,this.h=h.ab||!1}S(ir,er),ir.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(h,_){tn.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,tn),i=Rr.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,rr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ds(this):rr(this),this.readyState==3&&Ea(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,ds(this))},i.Na=function(h){this.g&&(this.response=h,ds(this))},i.ga=function(){this.g&&ds(this)};function ds(h){h.readyState=4,h.l=null,h.j=null,h.B=null,rr(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=_.next();return h.join(`\r
`)};function rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zn(h){let _="";return De(h,function(w,N){_+=N,_+=":",_+=w,_+=`\r
`}),_}function Ta(h,_,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Zn(w),typeof h=="string"?w!=null&&Bi(w):Tt(h,_,w))}function Rt(h){tn.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Rt,tn);var sr=/^https?$/i,zs=["POST","PUT"];i=Rt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$r.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ne){ms(this,ne);return}if(h=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var W in N)w.set(W,N[W]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())w.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(zs,_,void 0)>=0)||N||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Ee]of w)this.g.setRequestHeader(ne,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){ms(this,ne)}};function ms(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,gl(h),ps(h)}function gl(h){h.A||(h.A=!0,dn(h,"complete"),dn(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,dn(this,"complete"),dn(this,"abort"),ps(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),Rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},i.Xa=function(){Kr(this)};function Kr(h){if(h.h&&typeof c<"u"){if(h.v&&ar(h)==4)setTimeout(h.Ca.bind(h),0);else if(dn(h,"readystatechange"),ar(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var N;if(N=ne===0){let Ee=String(h.D).match(ml)[1]||null;!Ee&&u.self&&u.self.location&&(Ee=u.self.location.protocol.slice(0,-1)),N=!sr.test(Ee?Ee.toLowerCase():"")}w=N}if(w)dn(h,"complete"),dn(h,"success");else{h.o=6;try{var W=ar(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",gl(h)}}finally{ps(h)}}}}function ps(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,_||dn(h,"ready");try{w.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ma(_)}};function On(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Nr(h){const _={};h=(h.g&&ar(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(I(h[N]))continue;var w=Ps(h[N]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=_[W]||[];_[W]=ne,ne.push(w)}Oe(_,function(N){return N.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(h,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||_}function gs(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=or("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=or("baseRetryDelayMs",5e3,h),this.Za=or("retryDelaySeedMs",1e4,h),this.Ta=or("forwardChannelMaxRetries",2,h),this.va=or("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new so(h&&h.concurrentRequestLimit),this.Ba=new nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=gs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,w,N){Xt(0),this.W=h,this.H=_||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=Aa(this,null,this.W),Ir(this)};function ys(h){if(wa(h),h.I==3){var _=h.V++,w=mn(h.J);if(Tt(w,"SID",h.M),Tt(w,"RID",_),Tt(w,"TYPE","terminate"),Bs(h,w),_=new pi(h,h.j,_),_.M=2,_.A=Ls(mn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=ac(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ct(_)}bl(h)}function Wr(h){h.g&&(fo(h),h.g.cancel(),h.g=null)}function wa(h){Wr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Sa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ir(h){if(!ga(h.h)&&!h.m){h.m=!0;var _=h.Ea;le||O(),pe||(le(),pe=!0),j.add(_,h),h.D=0}}function Or(h,_){return gi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zt(v(h.Ea,h,_),sc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new pi(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=R(ne),ve(ne,this.U)):ne=this.U),this.u!==null||this.R||(W.J=ne,ne=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=vl(this,W,_),w=mn(this.J),Tt(w,"RID",h),Tt(w,"CVER",22),this.G&&Tt(w,"X-HTTP-Session-Id",this.G),Bs(this,w),ne&&(this.R?_="headers="+Bi(Zn(ne))+"&"+_:this.u&&Ta(w,this.u,ne)),ya(this.h,W),this.Ra&&Tt(w,"TYPE","init"),this.S?(Tt(w,"$req",_),Tt(w,"SID","null"),W.U=!0,Ri(W,w,null)):Ri(W,w,_),this.I=2}}else this.I==3&&(h?yl(this,h):this.i.length==0||ga(this.h)||yl(this))};function yl(h,_){var w;_?w=_.l:w=h.V++;const N=mn(h.J);Tt(N,"SID",h.M),Tt(N,"RID",w),Tt(N,"AID",h.K),Bs(h,N),h.u&&h.o&&Ta(N,h.u,h.o),w=new pi(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),_&&(h.i=_.G.concat(h.i)),_=vl(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ya(h.h,w),Ri(w,N,_)}function Bs(h,_){h.H&&De(h.H,function(w,N){Tt(_,N,w)}),h.l&&De({},function(w,N){Tt(_,N,w)})}function vl(h,_,w){w=Math.min(h.i.length,w);const N=h.l?v(h.l.Ka,h.l,h):null;e:{var W=h.i;let We=-1;for(;;){const pn=["count="+w];We==-1?w>0?(We=W[0].g,pn.push("ofs="+We)):We=0:pn.push("ofs="+We);let st=!0;for(let wt=0;wt<w;wt++){var ne=W[wt].g;const lr=W[wt].map;if(ne-=We,ne<0)We=Math.max(0,W[wt].g-100),st=!1;else try{ne="req"+ne+"_"||"";try{var Ee=lr instanceof Map?lr:Object.entries(lr);for(const[Fi,kr]of Ee){let Pr=kr;g(kr)&&(Pr=Hr(kr)),pn.push(ne+Fi+"="+encodeURIComponent(Pr))}}catch(Fi){throw pn.push(ne+"type="+encodeURIComponent("_badmap")),Fi}}catch{N&&N(lr)}}if(st){Ee=pn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,w),_.G=h,Ee}function _l(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;le||O(),pe||(le(),pe=!0),j.add(_,h),h.A=0}}function qs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zt(v(h.Da,h),sc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,mo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zt(v(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Wr(this),mo(this))};function fo(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function mo(h){h.g=new pi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=mn(h.na);Tt(_,"RID","rpc"),Tt(_,"SID",h.M),Tt(_,"AID",h.K),Tt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Tt(_,"TO",h.ia),Tt(_,"TYPE","xmlhttp"),Bs(h,_),h.u&&h.o&&Ta(_,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Ls(mn(_)),w.u=null,w.R=!0,Ke(w,h)}i.Va=function(){this.C!=null&&(this.C=null,Wr(this),qs(this),Xt(19))};function Sa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function rc(h,_){var w=null;if(h.g==_){Sa(h),fo(h),h.g=null;var N=2}else if(Cr(h.h,_))w=_.G,va(h.h,_),N=1;else return;if(h.I!=0){if(_.o)if(N==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var W=h.D;N=Gr(),dn(N,new It(N,w)),Ir(h)}else _l(h);else if(W=_.m,W==3||W==0&&_.X>0||!(N==1&&Or(h,_)||N==2&&qs(h)))switch(w&&w.length>0&&(_=h.h,_.i=_.i.concat(w)),W){case 1:jr(h,5);break;case 4:jr(h,10);break;case 3:jr(h,6);break;default:jr(h,2)}}}function sc(h,_){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*_}function jr(h,_){if(h.j.info("Error code "+_),_==2){var w=v(h.bb,h),N=h.Ua;const W=!N;N=new Ni(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Dn(N,"https"),Ls(N),W?Un(N.toString(),w):Us(N.toString(),w)}else Xt(2);h.I=0,h.l&&h.l.pa(_),bl(h),wa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function bl(h){if(h.I=0,h.ja=[],h.l){const _=ao(h.h);(_.length!=0||h.i.length!=0)&&(Y(h.ja,_),Y(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Aa(h,_,w){var N=w instanceof Ni?mn(w):new Ni(w);if(N.g!="")_&&(N.g=_+"."+N.g),fs(N,N.u);else{var W=u.location;N=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;const ne=new Ni(null);N&&Dn(ne,N),_&&(ne.g=_),W&&fs(ne,W),w&&(ne.h=w),N=ne}return w=h.G,_=h.wa,w&&_&&Tt(N,w,_),Tt(N,"VER",h.ka),Bs(h,N),N}function ac(h,_,w){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Rt(new ir({ab:w})):new Rt(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}i=oc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Xr(){}Xr.prototype.g=function(h,_){return new ai(h,_)};function ai(h,_){tn.call(this),this.g=new gs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Mr(this)}S(ai,tn),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){ys(this.g)},ai.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Hr(h),h=w);_.i.push(new $t(_.Ya++,h)),_.I==3&&Ir(_)},ai.prototype.N=function(){this.g.l=null,delete this.j,ys(this.g),delete this.g,ai.Z.N.call(this)};function El(h){_n.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const w in _){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}S(El,_n);function Jr(){ii.call(this),this.status=1}S(Jr,ii);function Mr(h){this.g=h}S(Mr,oc),Mr.prototype.ra=function(){dn(this.g,"a")},Mr.prototype.qa=function(h){dn(this.g,new El(h))},Mr.prototype.pa=function(h){dn(this.g,new Jr)},Mr.prototype.oa=function(){dn(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,F0=function(){return new Xr},q0=function(){return Gr()},B0=Wt,Gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,jd=Di,hs.COMPLETE="complete",z0=hs,wr.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",tn.prototype.listen=tn.prototype.J,wh=wr,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,U0=Rt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",dT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Oy("@firebase/firestore");function Lc(){return Ql.logLevel}function Ce(i,...e){if(Ql.logLevel<=ft.DEBUG){const n=e.map(Gy);Ql.debug(`Firestore (${uu}): ${i}`,...n)}}function Xa(i,...e){if(Ql.logLevel<=ft.ERROR){const n=e.map(Gy);Ql.error(`Firestore (${uu}): ${i}`,...n)}}function Jc(i,...e){if(Ql.logLevel<=ft.WARN){const n=e.map(Gy);Ql.warn(`Firestore (${uu}): ${i}`,...n)}}function Gy(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,H0(i,s,n)}function H0(i,e,n){let s=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xa(s),new Error(s)}function kt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||H0(e,o,s)}function et(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ki.UNAUTHENTICATED)))}shutdown(){}}class zI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BI{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ya,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ya)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt(typeof s.accessToken=="string",31837,{l:s}),new G0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new ki(e)}}class qI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new qI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ki.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const s=c=>{c.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function dt(i,e){return i<e?-1:i>e?1:0}function $g(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return wg(o)===wg(c)?dt(o,c):wg(o)?1:-1}return dt(i.length,e.length)}const $I=55296,YI=57343;function wg(i){const e=i.charCodeAt(0);return e>=$I&&e<=YI}function Zc(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__name__";class ia{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=ia.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return dt(e.length,n.length)}static compareSegments(e,n){const s=ia.isNumericId(e),o=ia.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ia.extractNumericId(e).compare(ia.extractNumericId(n)):$g(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return el.fromString(e.substring(4,e.length-2))}}class en extends ia{construct(e,n,s){return new en(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new en(n)}static emptyPath(){return new en([])}}const QI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends ia{construct(e,n,s){return new wi(e,n,s)}static isValidIdentifier(e){return QI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pT}static keyField(){return new wi([pT])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(u=!u,o++):g!=="."||u?(s+=g,o++):(c(),o++)}if(c(),u)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(n)}static emptyPath(){return new wi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(en.fromString(e))}static fromName(e){return new ke(en.fromString(e).popFirst(5))}static empty(){return new ke(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new en(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i,e,n){if(!n)throw new Ae(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KI(i,e,n,s){if(e===!0&&s===!0)throw new Ae(he.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function gT(i){if(!ke.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yT(i){if(ke.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Y0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ym(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ge(12329,{type:typeof i})}function ls(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ym(i);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,e){const n={typeString:i};return e&&(n.value=e),n}function tf(i,e){if(!Y0(i))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Ae(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=-62135596800,_T=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_T);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vT)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_T}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tf(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:Yn("string",Dt._jsonSchemaVersion),seconds:Yn("number"),nanoseconds:Yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Dt(0,0))}static max(){return new Je(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=-1;function WI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Je.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new nl(o,ke.empty(),e)}function XI(i){return new nl(i.readTime,i.key,Vh)}class nl{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new nl(Je.min(),ke.empty(),Vh)}static max(){return new nl(Je.max(),ke.empty(),Vh)}}function JI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(i.documentKey,e.documentKey),n!==0?n:dt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==ZI)throw i;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,s)=>{n(e)}))}static reject(e){return new de(((n,s)=>{s(e)}))}static waitFor(e){return new de(((n,s)=>{let o=0,c=0,u=!1;e.forEach((g=>{++o,g.next((()=>{++c,u&&c===o&&n()}),(y=>s(y)))})),u=!0,c===o&&n()}))}static or(e){let n=de.resolve(!1);for(const s of e)n=n.next((o=>o?de.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new de(((s,o)=>{const c=e.length,u=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next((E=>{u[v]=E,++g,g===c&&s(u)}),(E=>o(E)))}}))}static doWhile(e,n){return new de(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function tO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-1;function _m(i){return i==null}function Kd(i){return i===0&&1/i==-1/0}function nO(i){return typeof i=="number"&&Number.isInteger(i)&&!Kd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="";function iO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=bT(e)),e=rO(i.get(n),e);return bT(e)}function rO(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case Q0:n+="";break;default:n+=c}}return n}function bT(i){return i+Q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function cl(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function K0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.comparator=e,this.root=n||Ti.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Ti.RED,this.left=o??Ti.EMPTY,this.right=c??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Ti(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ti.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TT(this.data.getIterator())}getIteratorFrom(e){return new TT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ni(this.comparator);return n.data=e,n}}class TT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new Br([])}unionWith(e){let n=new ni(wi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new W0("Invalid base64 string: "+c):c}})(e);return new Ai(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(i){if(kt(!!i,39018),typeof i=="string"){let e=0;const n=sO.exec(i);if(kt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mn(i.seconds),nanos:Mn(i.nanos)}}function Mn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function rl(i){return typeof i=="string"?Ai.fromBase64String(i):Ai.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",J0="__type__",Z0="__previous_value__",eS="__local_write_time__";function Qy(i){return(i?.mapValue?.fields||{})[J0]?.stringValue===X0}function bm(i){const e=i.mapValue.fields[Z0];return Qy(e)?bm(e):e}function Uh(i){const e=il(i.mapValue.fields[eS].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,s,o,c,u,g,y,v,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=E}}const Wd="(default)";class zh{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new zh("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",oO="__max__",Td={mapValue:{}},nS="__vector__",Xd="value";function sl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qy(i)?4:cO(i)?9007199254740991:lO(i)?10:11:Ge(28295,{value:i})}function ua(i,e){if(i===e)return!0;const n=sl(i);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Uh(i).isEqual(Uh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=il(o.timestampValue),g=il(c.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return rl(o.bytesValue).isEqual(rl(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Mn(o.geoPointValue.latitude)===Mn(c.geoPointValue.latitude)&&Mn(o.geoPointValue.longitude)===Mn(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Mn(o.integerValue)===Mn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Mn(o.doubleValue),g=Mn(c.doubleValue);return u===g?Kd(u)===Kd(g):isNaN(u)&&isNaN(g)}return!1})(i,e);case 9:return Zc(i.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},g=c.mapValue.fields||{};if(ET(u)!==ET(g))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(g[y]===void 0||!ua(u[y],g[y])))return!1;return!0})(i,e);default:return Ge(52216,{left:i})}}function Bh(i,e){return(i.values||[]).find((n=>ua(n,e)))!==void 0}function eu(i,e){if(i===e)return 0;const n=sl(i),s=sl(e);if(n!==s)return dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const g=Mn(c.integerValue||c.doubleValue),y=Mn(u.integerValue||u.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(i,e);case 3:return wT(i.timestampValue,e.timestampValue);case 4:return wT(Uh(i),Uh(e));case 5:return $g(i.stringValue,e.stringValue);case 6:return(function(c,u){const g=rl(c),y=rl(u);return g.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const g=c.split("/"),y=u.split("/");for(let v=0;v<g.length&&v<y.length;v++){const E=dt(g[v],y[v]);if(E!==0)return E}return dt(g.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const g=dt(Mn(c.latitude),Mn(u.latitude));return g!==0?g:dt(Mn(c.longitude),Mn(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return ST(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const g=c.fields||{},y=u.fields||{},v=g[Xd]?.arrayValue,E=y[Xd]?.arrayValue,S=dt(v?.values?.length||0,E?.values?.length||0);return S!==0?S:ST(v,E)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Td.mapValue&&u===Td.mapValue)return 0;if(c===Td.mapValue)return 1;if(u===Td.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=u.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const C=$g(y[S],E[S]);if(C!==0)return C;const M=eu(g[y[S]],v[E[S]]);if(M!==0)return M}return dt(y.length,E.length)})(i.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function wT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return dt(i,e);const n=il(i),s=il(e),o=dt(n.seconds,s.seconds);return o!==0?o:dt(n.nanos,s.nanos)}function ST(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=eu(n[o],s[o]);if(c)return c}return dt(n.length,s.length)}function tu(i){return Yg(i)}function Yg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=il(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return rl(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ke.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Yg(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Yg(n.fields[u])}`;return o+"}"})(i.mapValue):Ge(61005,{value:i})}function Md(i){switch(sl(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(i);return e?16+Md(e):16;case 5:return 2*i.stringValue.length;case 6:return rl(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Md(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return cl(s.fields,((c,u)=>{o+=c.length+Md(u)})),o})(i.mapValue);default:throw Ge(13486,{value:i})}}function AT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qg(i){return!!i&&"integerValue"in i}function Ky(i){return!!i&&"arrayValue"in i}function xT(i){return!!i&&"nullValue"in i}function CT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kd(i){return!!i&&"mapValue"in i}function lO(i){return(i?.mapValue?.fields||{})[tS]?.stringValue===nS}function Nh(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return cl(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Nh(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nh(i.arrayValue.values[n]);return e}return{...i}}function cO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(n)}setAll(e){let n=wi.emptyPath(),s={},o=[];e.forEach(((u,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=g.popLast()}u?s[g.lastSegment()]=Nh(u):o.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];kd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cl(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new _r(Nh(this.value))}}function iS(i){const e=[];return cl(i.fields,((n,s)=>{const o=new wi([n]);if(kd(s)){const c=iS(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,s,o,c,u,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=g}static newInvalidDocument(e){return new Pi(e,0,Je.min(),Je.min(),Je.min(),_r.empty(),0)}static newFoundDocument(e,n,s,o){return new Pi(e,1,n,Je.min(),s,o,0)}static newNoDocument(e,n){return new Pi(e,2,n,Je.min(),Je.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Pi(e,3,n,Je.min(),Je.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.position=e,this.inclusive=n}}function DT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=ke.comparator(ke.fromName(u.referenceValue),n.key):s=eu(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function RT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ua(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function uO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{}class $n extends rS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fO(e,n,s):n==="array-contains"?new pO(e,s):n==="in"?new gO(e,s):n==="not-in"?new yO(e,s):n==="array-contains-any"?new vO(e,s):new $n(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dO(e,s):new mO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eu(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends rS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Os(e,n)}matches(e){return sS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sS(i){return i.op==="and"}function aS(i){return hO(i)&&sS(i)}function hO(i){for(const e of i.filters)if(e instanceof Os)return!1;return!0}function Kg(i){if(i instanceof $n)return i.field.canonicalString()+i.op.toString()+tu(i.value);if(aS(i))return i.filters.map((e=>Kg(e))).join(",");{const e=i.filters.map((n=>Kg(n))).join(",");return`${i.op}(${e})`}}function oS(i,e){return i instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.field.isEqual(o.field)&&ua(s.value,o.value)})(i,e):i instanceof Os?(function(s,o){return o instanceof Os&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,g)=>c&&oS(u,o.filters[g])),!0):!1})(i,e):void Ge(19439)}function lS(i){return i instanceof $n?(function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`})(i):i instanceof Os?(function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"})(i):"Filter"}class fO extends $n{constructor(e,n,s){super(e,n,s),this.key=ke.fromName(s.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class dO extends $n{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mO extends $n{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cS(i,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class pO extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ky(n)&&Bh(n.arrayValue,this.value)}}class gO extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bh(this.value.arrayValue,n)}}class yO extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bh(this.value.arrayValue,n)}}class vO extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Bh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n=null,s=[],o=[],c=null,u=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=g,this.Te=null}}function NT(i,e=null,n=[],s=[],o=null,c=null,u=null){return new _O(i,e,n,s,o,c,u)}function Wy(i){const e=et(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Kg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),_m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>tu(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>tu(s))).join(",")),e.Te=n}return e.Te}function Xy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!uO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!oS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!RT(i.startAt,e.startAt)&&RT(i.endAt,e.endAt)}function Wg(i){return ke.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n=null,s=[],o=[],c=null,u="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bO(i,e,n,s,o,c,u,g){return new nf(i,e,n,s,o,c,u,g)}function Em(i){return new nf(i)}function IT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function uS(i){return i.collectionGroup!==null}function Ih(i){const e=et(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new ni(wi.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Zd(c,s))})),n.has(wi.keyField().canonicalString())||e.Ie.push(new Zd(wi.keyField(),s))}return e.Ie}function aa(i){const e=et(i);return e.Ee||(e.Ee=EO(e,Ih(i))),e.Ee}function EO(i,e){if(i.limitType==="F")return NT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zd(o.field,c)}));const n=i.endAt?new Jd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Jd(i.startAt.position,i.startAt.inclusive):null;return NT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Xg(i,e){const n=i.filters.concat([e]);return new nf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Jg(i,e,n){return new nf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tm(i,e){return Xy(aa(i),aa(e))&&i.limitType===e.limitType}function hS(i){return`${Wy(aa(i))}|lt:${i.limitType}`}function Vc(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lS(o))).join(", ")}]`),_m(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>tu(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>tu(o))).join(",")),`Target(${s})`})(aa(i))}; limitType=${i.limitType})`}function wm(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ke.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of Ih(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,g,y){const v=DT(u,g,y);return u.inclusive?v<=0:v<0})(s.startAt,Ih(s),o)||s.endAt&&!(function(u,g,y){const v=DT(u,g,y);return u.inclusive?v>=0:v>0})(s.endAt,Ih(s),o))})(i,e)}function TO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fS(i){return(e,n)=>{let s=!1;for(const o of Ih(i)){const c=wO(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function wO(i,e,n){const s=i.field.isKeyField()?ke.comparator(e.key,n.key):(function(c,u,g){const y=u.data.field(c),v=g.data.field(c);return y!==null&&v!==null?eu(y,v):Ge(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ge(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new vn(ke.comparator);function Ja(){return SO}const dS=new vn(ke.comparator);function Sh(...i){let e=dS;for(const n of i)e=e.insert(n.key,n);return e}function mS(i){let e=dS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function zl(){return Oh()}function pS(){return Oh()}function Oh(){return new Zl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const AO=new vn(ke.comparator),xO=new ni(ke.comparator);function mt(...i){let e=xO;for(const n of i)e=e.add(n);return e}const CO=new ni(dt);function DO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function gS(i){return{integerValue:""+i}}function RO(i,e){return nO(e)?gS(e):Jy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function NO(i,e,n){return i instanceof qh?(function(o,c){const u={fields:{[J0]:{stringValue:X0},[eS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qy(c)&&(c=bm(c)),c&&(u.fields[Z0]=c),{mapValue:u}})(n,e):i instanceof Fh?vS(i,e):i instanceof Hh?_S(i,e):(function(o,c){const u=yS(o,c),g=OT(u)+OT(o.Ae);return Qg(u)&&Qg(o.Ae)?gS(g):Jy(o.serializer,g)})(i,e)}function IO(i,e,n){return i instanceof Fh?vS(i,e):i instanceof Hh?_S(i,e):n}function yS(i,e){return i instanceof em?(function(s){return Qg(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class qh extends Sm{}class Fh extends Sm{constructor(e){super(),this.elements=e}}function vS(i,e){const n=bS(e);for(const s of i.elements)n.some((o=>ua(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Hh extends Sm{constructor(e){super(),this.elements=e}}function _S(i,e){let n=bS(e);for(const s of i.elements)n=n.filter((o=>!ua(o,s)));return{arrayValue:{values:n}}}class em extends Sm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function OT(i){return Mn(i.integerValue||i.doubleValue)}function bS(i){return Ky(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.field=e,this.transform=n}}function jO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Fh&&o instanceof Fh||s instanceof Hh&&o instanceof Hh?Zc(s.elements,o.elements,ua):s instanceof em&&o instanceof em?ua(s.Ae,o.Ae):s instanceof qh&&o instanceof qh})(i.transform,e.transform)}class MO{constructor(e,n){this.version=e,this.transformResults=n}}class Rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Am{}function ES(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Zy(i.key,Rs.none()):new rf(i.key,i.data,Rs.none());{const n=i.data,s=_r.empty();let o=new ni(wi.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new ul(i.key,s,new Br(o.toArray()),Rs.none())}}function kO(i,e,n){i instanceof rf?(function(o,c,u){const g=o.value.clone(),y=MT(o.fieldTransforms,c,u.transformResults);g.setAll(y),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,n):i instanceof ul?(function(o,c,u){if(!Pd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const g=MT(o.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(TS(o)),y.setAll(g),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function jh(i,e,n,s){return i instanceof rf?(function(c,u,g,y){if(!Pd(c.precondition,u))return g;const v=c.value.clone(),E=kT(c.fieldTransforms,y,u);return v.setAll(E),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof ul?(function(c,u,g,y){if(!Pd(c.precondition,u))return g;const v=kT(c.fieldTransforms,y,u),E=u.data;return E.setAll(TS(c)),E.setAll(v),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(c,u,g){return Pd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g})(i,e,n)}function PO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=yS(s.transform,o||null);c!=null&&(n===null&&(n=_r.empty()),n.set(s.field,c))}return n||null}function jT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zc(s,o,((c,u)=>jO(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class rf extends Am{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ul extends Am{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function MT(i,e,n){const s=new Map;kt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,g=e.data.field(c.field);s.set(c.field,IO(u,g,n[o]))}return s}function kT(i,e,n){const s=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);s.set(o.field,NO(c,u,e))}return s}class Zy extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LO extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&kO(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pS();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let g=this.applyToLocalView(u,c.mutatedFields);g=n.has(o.key)?null:g;const y=ES(u,g);y!==null&&s.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(Je.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,((n,s)=>jT(n,s)))&&Zc(this.baseMutations,e.baseMutations,((n,s)=>jT(n,s)))}}class ev{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){kt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return AO})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new ev(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,yt;function BO(i){switch(i){case he.OK:return Ge(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ge(15467,{code:i})}}function wS(i){if(i===void 0)return Xa("GRPC error has no .code"),he.UNKNOWN;switch(i){case Gn.OK:return he.OK;case Gn.CANCELLED:return he.CANCELLED;case Gn.UNKNOWN:return he.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return he.INTERNAL;case Gn.UNAVAILABLE:return he.UNAVAILABLE;case Gn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Gn.NOT_FOUND:return he.NOT_FOUND;case Gn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Gn.ABORTED:return he.ABORTED;case Gn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Gn.DATA_LOSS:return he.DATA_LOSS;default:return Ge(39323,{code:i})}}(yt=Gn||(Gn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new el([4294967295,4294967295],0);function PT(i){const e=qO().encode(i),n=new V0;return n.update(e),new Uint8Array(n.digest())}function LT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new el([n,s],0),new el([o,c],0)]}class tv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(s<0)throw new Ah(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ah(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=el.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(el.fromNumber(s)));return o.compare(FO)===1&&(o=new el([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PT(e),[s,o]=LT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new tv(c,o,n);return s.forEach((g=>u.insert(g))),u}insert(e){if(this.ge===0)return;const n=PT(e),[s,o]=LT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xm(Je.min(),o,new vn(dt),Ja(),mt())}}class sf{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new sf(s,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class SS{constructor(e,n){this.targetId=e,this.Ce=n}}class AS{constructor(e,n,s=Ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class VT{constructor(){this.ve=0,this.Fe=UT(),this.Me=Ai.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),n=mt(),s=mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ge(38017,{changeType:c})}})),new sf(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=UT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ja(),this.Je=wd(),this.He=wd(),this.Ye=new vn(dt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Wg(c))if(s===0){const u=new ke(c.path);this.et(n,u,Pi.newNoDocument(u,Je.min()))}else kt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const g=this.ut(e),y=g?this.ct(g,e,u):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,g;try{u=rl(s).toUint8Array()}catch(y){if(y instanceof W0)return Jc("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new tv(u,o,c)}catch(y){return Jc(y instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),g=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const g=this.ot(u);if(g){if(c.current&&Wg(g.target)){const y=new ke(g.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Pi.newNoDocument(y,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=mt();this.He.forEach(((c,u)=>{let g=!0;u.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new xm(e,n,this.Ye,this.je,s);return this.je=Ja(),this.Je=wd(),this.He=wd(),this.Ye=new vn(dt),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ni(dt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ni(dt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wd(){return new vn(ke.comparator)}function UT(){return new vn(ke.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},$O={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class QO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zg(i,e){return i.useProto3Json||_m(e)?e:{value:e}}function tm(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KO(i,e){return tm(i,e.toTimestamp())}function oa(i){return kt(!!i,49232),Je.fromTimestamp((function(n){const s=il(n);return new Dt(s.seconds,s.nanos)})(i))}function nv(i,e){return ey(i,e).canonicalString()}function ey(i,e){const n=(function(o){return new en(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function CS(i){const e=en.fromString(i);return kt(OS(e),10190,{key:e.toString()}),e}function ty(i,e){return nv(i.databaseId,e.path)}function Sg(i,e){const n=CS(e);if(n.get(1)!==i.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ke(RS(n))}function DS(i,e){return nv(i.databaseId,e)}function WO(i){const e=CS(i);return e.length===4?en.emptyPath():RS(e)}function ny(i){return new en(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function RS(i){return kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function zT(i,e,n){return{name:ty(i,e),fields:n.value.mapValue.fields}}function XO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ge(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,E){return v.useProto3Json?(kt(E===void 0||typeof E=="string",58123),Ai.fromBase64String(E||"")):(kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ai.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&(function(v){const E=v.code===void 0?he.UNKNOWN:wS(v.code);return new Ae(E,v.message||"")})(u);n=new AS(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sg(i,s.document.name),c=oa(s.document.updateTime),u=s.document.createTime?oa(s.document.createTime):Je.min(),g=new _r({mapValue:{fields:s.document.fields}}),y=Pi.newFoundDocument(o,c,u,g),v=s.targetIds||[],E=s.removedTargetIds||[];n=new Ld(v,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sg(i,s.document),c=s.readTime?oa(s.readTime):Je.min(),u=Pi.newNoDocument(o,c),g=s.removedTargetIds||[];n=new Ld([],g,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sg(i,s.document),c=s.removedTargetIds||[];n=new Ld([],c,o,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new zO(o,c),g=s.targetId;n=new SS(g,u)}}return n}function JO(i,e){let n;if(e instanceof rf)n={update:zT(i,e.key,e.value)};else if(e instanceof Zy)n={delete:ty(i,e.key)};else if(e instanceof ul)n={update:zT(i,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof LO))return Ge(16599,{Vt:e.type});n={verify:ty(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const g=u.transform;if(g instanceof qh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Hh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof em)return{fieldPath:u.field.canonicalString(),increment:g.Ae};throw Ge(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:KO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ge(27497)})(i,e.precondition)),n}function ZO(i,e){return i&&i.length>0?(kt(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?oa(o.updateTime):oa(c);return u.isEqual(Je.min())&&(u=oa(c)),new MO(u,o.transformResults||[])})(n,e)))):[]}function e2(i,e){return{documents:[DS(i,e.path)]}}function t2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DS(i,o);const c=(function(v){if(v.length!==0)return IS(Os.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(v){if(v.length!==0)return v.map((E=>(function(C){return{field:Uc(C.field),direction:r2(C.dir)}})(E)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const g=Zg(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function n2(i){let e=WO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){kt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(S){const C=NS(S);return C instanceof Os&&aS(C)?C.getFilters():[C]})(n.where));let u=[];n.orderBy&&(u=(function(S){return S.map((C=>(function(Y){return new Zd(zc(Y.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(C)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let C;return C=typeof S=="object"?S.value:S,_m(C)?null:C})(n.limit));let y=null;n.startAt&&(y=(function(S){const C=!!S.before,M=S.values||[];return new Jd(M,C)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const C=!S.before,M=S.values||[];return new Jd(M,C)})(n.endAt)),bO(e,o,u,c,g,"F",y,v)}function i2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zc(n.unaryFilter.field);return $n.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zc(n.unaryFilter.field);return $n.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=zc(n.unaryFilter.field);return $n.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zc(n.unaryFilter.field);return $n.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(i):i.fieldFilter!==void 0?(function(n){return $n.create(zc(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Os.create(n.compositeFilter.filters.map((s=>NS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(i):Ge(30097,{filter:i})}function r2(i){return GO[i]}function s2(i){return $O[i]}function a2(i){return YO[i]}function Uc(i){return{fieldPath:i.canonicalString()}}function zc(i){return wi.fromServerFormat(i.fieldPath)}function IS(i){return i instanceof $n?(function(n){if(n.op==="=="){if(CT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NAN"}};if(xT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NOT_NAN"}};if(xT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(n.field),op:s2(n.op),value:n.value}}})(i):i instanceof Os?(function(n){const s=n.getFilters().map((o=>IS(o)));return s.length===1?s[0]:{compositeFilter:{op:a2(n.op),filters:s}}})(i):Ge(54877,{filter:i})}function o2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,s,o,c=Je.min(),u=Je.min(),g=Ai.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.yt=e}}function c2(i){const e=n2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.Cn=new h2}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(nl.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(nl.min())}updateCollectionGroup(e,n,s){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class h2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new ni(en.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ni(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jS=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(jS,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nu(0)}static cr(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LruGarbageCollector",f2=1048576;function FT([i,e],[n,s]){const o=dt(i,n);return o===0?dt(e,s):o}class d2{constructor(e){this.Ir=e,this.buffer=new ni(FT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();FT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(qT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?Ce(qT,"Ignoring IndexedDB error during garbage collection: ",n):await hu(n)}await this.Vr(3e5)}))}}class p2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(vm.ce);const s=new d2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(BT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,u,g,y,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,u=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,n)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(v=Date.now(),Lc()<=ft.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(g-u)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function g2(i,e){return new p2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.changes=new Zl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?de.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&jh(s.mutation,o,Br.empty(),Dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,mt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=mt()){const o=zl();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=Sh();return c.forEach(((g,y)=>{u=u.insert(g,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=zl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,mt())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,g)=>{n.set(u,g)}))}))}computeViews(e,n,s,o){let c=Ja();const u=Oh(),g=(function(){return Oh()})();return n.forEach(((y,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof ul)?c=c.insert(v.key,v):E!==void 0?(u.set(v.key,E.mutation.getFieldMask()),jh(E.mutation,v,E.mutation.getFieldMask(),Dt.now())):u.set(v.key,Br.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,E)=>u.set(v,E))),n.forEach(((v,E)=>g.set(v,new v2(E,u.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=Oh();let o=new vn(((u,g)=>u-g)),c=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const g of u)g.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let E=s.get(y)||Br.empty();E=g.applyToLocalView(v,E),s.set(y,E);const S=(o.get(g.batchId)||mt()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const u=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,E=y.value,S=pS();E.forEach((C=>{if(!c.has(C)){const M=ES(n.get(C),s.get(C));M!==null&&S.set(C,M),c=c.add(C)}})),u.push(this.documentOverlayCache.saveOverlays(e,v,S))}return de.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):de.resolve(zl());let g=Vh,y=c;return u.next((v=>de.forEach(v,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?de.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{y=y.insert(E,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,mt()))).next((E=>({batchId:g,changes:mS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((s=>{let o=Sh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=Sh();return this.indexManager.getCollectionParents(e,c).next((g=>de.forEach(g,(y=>{const v=(function(S,C){return new nf(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((E=>{E.forEach(((S,C)=>{u=u.insert(S,C)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((y,v)=>{const E=v.getKey();u.get(E)===null&&(u=u.insert(E,Pi.newInvalidDocument(E)))}));let g=Sh();return u.forEach(((y,v)=>{const E=c.get(y);E!==void 0&&jh(E.mutation,v,Br.empty(),Dt.now()),wm(n,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:oa(o.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:c2(o.bundledQuery),readTime:oa(o.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.overlays=new vn(ke.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zl();return de.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),de.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),de.resolve()}getOverlaysForCollection(e,n,s){const o=zl(),c=n.length+1,u=new ke(n.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return de.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new vn(((v,E)=>v-E));const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=c.get(v.largestBatchId);E===null&&(E=zl(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const g=zl(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,E)=>g.set(v,E))),!(g.size()>=o)););return de.resolve(g)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new UO(n,s));let c=this.qr.get(n);c===void 0&&(c=mt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.sessionToken=Ai.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.Qr=new ni(fi.$r),this.Ur=new ni(fi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new fi(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new fi(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ke(new en([])),s=new fi(n,e),o=new fi(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new en([])),s=new fi(n,e),o=new fi(n,e+1);let c=mt();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new fi(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class fi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||dt(e.Yr,n.Yr)}static Kr(e,n){return dt(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ni(fi.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new VO(c,n,s,o);this.mutationQueue.push(u);for(const g of o)this.Zr=this.Zr.add(new fi(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return de.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Yy:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new fi(n,0),o=new fi(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const g=this.Xr(u.Yr);c.push(g)})),de.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ni(dt);return n.forEach((o=>{const c=new fi(o,0),u=new fi(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(g=>{s=s.add(g.Yr)}))})),de.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ke.isDocumentKey(c)||(c=c.child(""));const u=new fi(new ke(c),0);let g=new ni(dt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Yr)),!0)}),u),de.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return de.forEach(n.mutations,(o=>{const c=new fi(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new fi(n,0),o=this.Zr.firstAfterOrEqual(s);return de.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.ri=e,this.docs=(function(){return new vn(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return de.resolve(s?s.document.mutableCopy():Pi.newInvalidDocument(n))}getEntries(e,n){let s=Ja();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Pi.newInvalidDocument(o))})),de.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Ja();const u=n.path,g=new ke(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||JI(XI(E),s)<=0||(o.has(E.key)||wm(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return de.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Ge(9500)}ii(e,n){return de.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new A2(this)}getSize(e){return de.resolve(this.size)}}class A2 extends y2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.persistence=e,this.si=new Zl((n=>Wy(n)),Xy),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new iv,this.targetCount=0,this.ai=nu.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((u,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),de.waitFor(c).next((()=>o))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return de.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),de.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),de.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return de.resolve(s)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.ui={},this.overlays={},this.ci=new vm(0),this.li=!1,this.li=!0,this.hi=new T2,this.referenceDelegate=e(this),this.Pi=new x2(this),this.indexManager=new u2,this.remoteDocumentCache=(function(o){return new S2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new l2(n),this.Ii=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new w2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ce("MemoryPersistence","Starting transaction:",e);const o=new C2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return de.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class C2 extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class rv{constructor(e){this.persistence=e,this.Ri=new iv,this.Vi=null}static mi(e){return new rv(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),de.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(s=>{const o=ke.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nm{constructor(e,n){this.persistence=e,this.pi=new Zl((s=>iO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=g2(this,n)}static mi(e,n){return new nm(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?de.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((g=>{g||(s++,c.removeEntry(u,Je.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),de.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Md(e.data.value)),n}br(e,n,s){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return de.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=mt(),o=mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sv(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nD()?8:tO(Li())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new D2;return this.Ss(e,n,u).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,u,g.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Lc()<=ft.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Vc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(Lc()<=ft.DEBUG&&Ce("QueryEngine","Query:",Vc(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Lc()<=ft.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Vc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,aa(n))):de.resolve())}ys(e,n){if(IT(n))return de.resolve(null);let s=aa(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jg(n,null,"F"),s=aa(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=mt(...c);return this.ps.getDocuments(e,u).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.Ds(n,g);return this.Cs(n,v,u,y.readTime)?this.ys(e,Jg(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,s,o){return IT(n)||o.isEqual(Je.min())?de.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,o)?de.resolve(null):(Lc()<=ft.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vc(n)),this.vs(e,u,n,WI(o,Vh)).next((g=>g)))}))}Ds(e,n){let s=new ni(fS(e));return n.forEach(((o,c)=>{wm(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return Lc()<=ft.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Vc(n)),this.ps.getDocumentsMatchingQuery(e,n,nl.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LocalStore",N2=3e8;class I2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new vn(dt),this.xs=new Zl((c=>Wy(c)),Xy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function O2(i,e,n,s){return new I2(i,e,n,s)}async function kS(i,e){const n=et(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],g=[];let y=mt();for(const v of o){u.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of c){g.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:u,addedBatchIds:g})))}))}))}function j2(i,e){const n=et(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,E){const S=v.batch,C=S.keys();let M=de.resolve();return C.forEach((Y=>{M=M.next((()=>E.getEntry(y,Y))).next((K=>{const B=v.docVersions.get(Y);kt(B!==null,48541),K.version.compareTo(B)<0&&(S.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),E.addEntry(K)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=mt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function PS(i){const e=et(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function M2(i,e){const n=et(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const C=o.get(S);if(!C)return;g.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,S))));let M=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Ai.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),(function(K,B,P){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=N2?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(C,M,E)&&g.push(n.Pi.updateTargetData(c,M))}));let y=Ja(),v=mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(k2(c,u,e.documentUpdates).next((E=>{y=E.ks,v=E.qs}))),!s.isEqual(Je.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return de.waitFor(g).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(n.Ms=o,c)))}function k2(i,e,n){let s=mt(),o=mt();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=Ja();return n.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Je.min())?(e.removeEntry(g,y.readTime),u=u.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),u=u.insert(g,y)):Ce(av,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{ks:u,qs:o}}))}function P2(i,e){const n=et(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function L2(i,e){const n=et(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,de.resolve(o)):n.Pi.allocateTargetId(s).next((u=>(o=new Ko(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function iy(i,e,n){const s=et(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!fu(u))throw u;Ce(av,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function HT(i,e,n){const s=et(i);let o=Je.min(),c=mt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,v,E){const S=et(y),C=S.xs.get(E);return C!==void 0?de.resolve(S.Ms.get(C)):S.Pi.getTargetData(v,E)})(s,u,aa(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?o:Je.min(),n?c:mt()))).next((g=>(V2(s,TO(e),g),{documents:g,Qs:c})))))}function V2(i,e,n){let s=i.Os.get(e)||Je.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class GT{constructor(){this.activeTargetIds=DO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U2{constructor(){this.Mo=new GT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new GT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class YT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce($T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function ry(){return Sd===null?Sd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const u=ry(),g=this.zo(e,n.toUriEncodedString());Ce(Ag,`Sending RPC '${e}' ${u}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:v}=new URL(g),E=ou(v);return this.Jo(e,g,y,s,E).then((S=>(Ce(Ag,`Received RPC '${e}' ${u}: `,S),S)),(S=>{throw Jc(Ag,`RPC '${e}' ${u} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,n,s,o,c,u){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=B2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="WebChannelConnection";class H2 extends q2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const u=ry();return new Promise(((g,y)=>{const v=new U0;v.setWithCredentials(!0),v.listenOnce(z0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case jd.NO_ERROR:const S=v.getResponseJson();Ce(Mi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),g(S);break;case jd.TIMEOUT:Ce(Mi,`RPC '${e}' ${u} timed out`),y(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const C=v.getStatus();if(Ce(Mi,`RPC '${e}' ${u} failed with status:`,C,"response text:",v.getResponseText()),C>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const Y=M?.error;if(Y&&Y.status&&Y.message){const K=(function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(H)>=0?H:he.UNKNOWN})(Y.status);y(new Ae(K,Y.message))}else y(new Ae(he.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:u,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Ce(Mi,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);Ce(Mi,`RPC '${e}' ${u} sending request:`,o),v.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=ry(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=F0(),g=q0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=c.join("");Ce(Mi,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=u.createWebChannel(E,y);this.I_(S);let C=!1,M=!1;const Y=new F2({Yo:B=>{M?Ce(Mi,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(C||(Ce(Mi,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),Ce(Mi,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Zo:()=>S.close()}),K=(B,P,H)=>{B.listen(P,(te=>{try{H(te)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return K(S,wh.EventType.OPEN,(()=>{M||(Ce(Mi,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),K(S,wh.EventType.CLOSE,(()=>{M||(M=!0,Ce(Mi,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),K(S,wh.EventType.ERROR,(B=>{M||(M=!0,Jc(Mi,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),Y.a_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),K(S,wh.EventType.MESSAGE,(B=>{if(!M){const P=B.data[0];kt(!!P,16349);const H=P,te=H?.error||H[0]?.error;if(te){Ce(Mi,`RPC '${e}' stream ${o} received error:`,te);const ye=te.status;let le=(function(O){const k=Gn[O];if(k!==void 0)return wS(k)})(ye),pe=te.message;le===void 0&&(le=he.INTERNAL,pe="Unknown error status: "+ye+" with message "+te.message),M=!0,Y.a_(new Ae(le,pe)),S.close()}else Ce(Mi,`RPC '${e}' stream ${o} received:`,P),Y.u_(P)}})),K(g,B0.STAT_EVENT,(B=>{B.stat===Gg.PROXY?Ce(Mi,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Gg.NOPROXY&&Ce(Mi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(i){return new QO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="PersistentStream";class VS{constructor(e,n,s,o,c,u,g,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Xa(n.toString()),Xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(QT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(QT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G2 extends VS{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XO(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Je.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Je.min():u.readTime?oa(u.readTime):Je.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ny(this.serializer),n.addTarget=(function(c,u){let g;const y=u.target;if(g=Wg(y)?{documents:e2(c,y)}:{query:t2(c,y).ft},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=xS(c,u.resumeToken);const v=Zg(c,u.expectedCount);v!==null&&(g.expectedCount=v)}else if(u.snapshotVersion.compareTo(Je.min())>0){g.readTime=tm(c,u.snapshotVersion.toTimestamp());const v=Zg(c,u.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=i2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.q_(n)}}class $2 extends VS{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZO(e.writeResults,e.commitTime),s=oa(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>JO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{}class Q2 extends Y2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,ey(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(he.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,g])=>this.connection.Ho(e,ey(n,s),o,u,g,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xa(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="RemoteStore";class W2{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{ec(this)&&(Ce(Kl,"Restarting streams for network reachability change."),await(async function(y){const v=et(y);v.Ea.add(4),await af(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Dm(v)})(this))}))})),this.Ra=new K2(s,o)}}async function Dm(i){if(ec(i))for(const e of i.da)await e(!0)}async function af(i){for(const e of i.da)await e(!1)}function US(i,e){const n=et(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uv(n)?cv(n):du(n).O_()&&lv(n,e))}function ov(i,e){const n=et(i),s=du(n);n.Ia.delete(e),s.O_()&&zS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ec(n)&&n.Ra.set("Unknown"))}function lv(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(i).Y_(e)}function zS(i,e){i.Va.Ue(e),du(i).Z_(e)}function cv(i){i.Va=new HO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),du(i).start(),i.Ra.ua()}function uv(i){return ec(i)&&!du(i).x_()&&i.Ia.size>0}function ec(i){return et(i).Ea.size===0}function BS(i){i.Va=void 0}async function X2(i){i.Ra.set("Online")}async function J2(i){i.Ia.forEach(((e,n)=>{lv(i,e)}))}async function Z2(i,e){BS(i),uv(i)?(i.Ra.ha(e),cv(i)):i.Ra.set("Unknown")}async function ej(i,e,n){if(i.Ra.set("Online"),e instanceof AS&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,u),o.Ia.delete(g),o.Va.removeTarget(g))})(i,e)}catch(s){Ce(Kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await im(i,s)}else if(e instanceof Ld?i.Va.Ze(e):e instanceof SS?i.Va.st(e):i.Va.tt(e),!n.isEqual(Je.min()))try{const s=await PS(i.localStore);n.compareTo(s)>=0&&await(function(c,u){const g=c.Va.Tt(u);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(v);E&&c.Ia.set(v,E.withResumeToken(y.resumeToken,u))}})),g.targetMismatches.forEach(((y,v)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ai.EMPTY_BYTE_STRING,E.snapshotVersion)),zS(c,y);const S=new Ko(E.target,y,v,E.sequenceNumber);lv(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(s){Ce(Kl,"Failed to raise snapshot:",s),await im(i,s)}}async function im(i,e,n){if(!fu(e))throw e;i.Ea.add(1),await af(i),i.Ra.set("Offline"),n||(n=()=>PS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Ce(Kl,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Dm(i)}))}function qS(i,e){return e().catch((n=>im(i,n,e)))}async function Rm(i){const e=et(i),n=al(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yy;for(;tj(e);)try{const o=await P2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,nj(e,o)}catch(o){await im(e,o)}FS(e)&&HS(e)}function tj(i){return ec(i)&&i.Ta.length<10}function nj(i,e){i.Ta.push(e);const n=al(i);n.O_()&&n.X_&&n.ea(e.mutations)}function FS(i){return ec(i)&&!al(i).x_()&&i.Ta.length>0}function HS(i){al(i).start()}async function ij(i){al(i).ra()}async function rj(i){const e=al(i);for(const n of i.Ta)e.ea(n.mutations)}async function sj(i,e,n){const s=i.Ta.shift(),o=ev.from(s,e,n);await qS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Rm(i)}async function aj(i,e){e&&al(i).X_&&await(async function(s,o){if((function(u){return BO(u)&&u!==he.ABORTED})(o.code)){const c=s.Ta.shift();al(s).B_(),await qS(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rm(s)}})(i,e),FS(i)&&HS(i)}async function KT(i,e){const n=et(i);n.asyncQueue.verifyOperationInProgress(),Ce(Kl,"RemoteStore received new credentials");const s=ec(n);n.Ea.add(3),await af(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dm(n)}async function oj(i,e){const n=et(i);e?(n.Ea.delete(2),await Dm(n)):e||(n.Ea.add(2),await af(n),n.Ra.set("Unknown"))}function du(i){return i.ma||(i.ma=(function(n,s,o){const c=et(n);return c.sa(),new G2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:X2.bind(null,i),t_:J2.bind(null,i),r_:Z2.bind(null,i),H_:ej.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),uv(i)?cv(i):i.Ra.set("Unknown")):(await i.ma.stop(),BS(i))}))),i.ma}function al(i){return i.fa||(i.fa=(function(n,s,o){const c=et(n);return c.sa(),new $2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:ij.bind(null,i),r_:aj.bind(null,i),ta:rj.bind(null,i),na:sj.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Rm(i)):(await i.fa.stop(),i.Ta.length>0&&(Ce(Kl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,g=new hv(e,n,u,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(i,e){if(Xa("AsyncQueue",`${e}: ${i}`),fu(i))return new Ae(he.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{static emptySet(e){return new Qc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ke.comparator(n.key,s.key):(n,s)=>ke.comparator(n.key,s.key),this.keyedMap=Sh(),this.sortedSet=new vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.ga=new vn(ke.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class iu{constructor(e,n,s,o,c,u,g,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((g=>{u.push({type:0,doc:g})})),new iu(e,n,Qc.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cj{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=et(n),c=o.queries;o.queries=XT(),c.forEach(((u,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function XT(){return new Zl((i=>hS(i)),Tm)}async function dv(i,e){const n=et(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new lj,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const g=fv(u,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&pv(n)}async function mv(i,e){const n=et(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uj(i,e){const n=et(i);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const g of u.Sa)g.Fa(o)&&(s=!0);u.wa=o}}s&&pv(n)}function hj(i,e,n){const s=et(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function pv(i){i.Ca.forEach((e=>{e.next()}))}var sy,JT;(JT=sy||(sy={})).Ma="default",JT.Cache="cache";class gv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new iu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class fj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=fS(e),this.tu=new Qc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new WT,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const C=o.get(E),M=wm(this.query,S)?S:null,Y=!!C&&this.mutatedKeys.has(C.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;C&&M?C.data.isEqual(M.data)?Y!==K&&(s.track({type:3,doc:M}),B=!0):this.su(C,M)||(s.track({type:2,doc:M}),B=!0,(y&&this.eu(M,y)>0||v&&this.eu(M,v)<0)&&(g=!0)):!C&&M?(s.track({type:0,doc:M}),B=!0):C&&!M&&(s.track({type:1,doc:C}),B=!0,(y||v)&&(g=!0)),B&&(M?(u=u.add(M),c=K?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:u,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,S)=>(function(M,Y){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:B})}};return K(M)-K(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,u.length!==0||v?{snapshot:new iu(this.query,e.tu,c,u,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new $S(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new GS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=mt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yv="SyncEngine";class dj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mj{constructor(e){this.key=e,this.hu=!1}}class pj{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Zl((g=>hS(g)),Tm),this.Iu=new Map,this.Eu=new Set,this.du=new vn(ke.comparator),this.Au=new Map,this.Ru=new iv,this.Vu={},this.mu=new Map,this.fu=nu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gj(i,e,n=!0){const s=JS(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await YS(s,e,n,!0),o}async function yj(i,e){const n=JS(i);await YS(n,e,!0,!1)}async function YS(i,e,n,s){const o=await L2(i.localStore,aa(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await vj(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&US(i.remoteStore,o),g}async function vj(i,e,n,s,o){i.pu=(S,C,M)=>(async function(K,B,P,H){let te=B.view.ru(P);te.Cs&&(te=await HT(K.localStore,B.query,!1).then((({documents:j})=>B.view.ru(j,te))));const ye=H&&H.targetChanges.get(B.targetId),le=H&&H.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(te,K.isPrimaryClient,ye,le);return ew(K,B.targetId,pe.au),pe.snapshot})(i,S,C,M);const c=await HT(i.localStore,e,!0),u=new fj(e,c.Qs),g=u.ru(c.documents),y=sf.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),v=u.applyChanges(g,i.isPrimaryClient,y);ew(i,n,v.au);const E=new dj(e,n,u);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function _j(i,e,n){const s=et(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Tm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await iy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ov(s.remoteStore,o.targetId),ay(s,o.targetId)})).catch(hu)):(ay(s,o.targetId),await iy(s.localStore,o.targetId,!0))}async function bj(i,e){const n=et(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ov(n.remoteStore,s.targetId))}async function Ej(i,e,n){const s=Dj(i);try{const o=await(function(u,g){const y=et(u),v=Dt.now(),E=g.reduce(((M,Y)=>M.add(Y.key)),mt());let S,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let Y=Ja(),K=mt();return y.Ns.getEntries(M,E).next((B=>{Y=B,Y.forEach(((P,H)=>{H.isValidDocument()||(K=K.add(P))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,Y))).next((B=>{S=B;const P=[];for(const H of g){const te=PO(H,S.get(H.key).overlayedDocument);te!=null&&P.push(new ul(H.key,te,iS(te.value.mapValue),Rs.exists(!0)))}return y.mutationQueue.addMutationBatch(M,v,P,g)})).next((B=>{C=B;const P=B.applyToLocalDocumentSet(S,K);return y.documentOverlayCache.saveOverlays(M,B.batchId,P)}))})).then((()=>({batchId:C.batchId,changes:mS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,g,y){let v=u.Vu[u.currentUser.toKey()];v||(v=new vn(dt)),v=v.insert(g,y),u.Vu[u.currentUser.toKey()]=v})(s,o.batchId,n),await of(s,o.changes),await Rm(s.remoteStore)}catch(o){const c=fv(o,"Failed to persist write");n.reject(c)}}async function QS(i,e){const n=et(i);try{const s=await M2(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?kt(u.hu,14607):o.removedDocuments.size>0&&(kt(u.hu,42227),u.hu=!1))})),await of(n,s,e)}catch(s){await hu(s)}}function ZT(i,e,n){const s=et(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const g=u.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(u,g){const y=et(u);y.onlineState=g;let v=!1;y.queries.forEach(((E,S)=>{for(const C of S.Sa)C.va(g)&&(v=!0)})),v&&pv(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tj(i,e,n){const s=et(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new vn(ke.comparator);u=u.insert(c,Pi.newNoDocument(c,Je.min()));const g=mt().add(c),y=new xm(Je.min(),new Map,new vn(dt),u,g);await QS(s,y),s.du=s.du.remove(c),s.Au.delete(e),vv(s)}else await iy(s.localStore,e,!1).then((()=>ay(s,e,n))).catch(hu)}async function wj(i,e){const n=et(i),s=e.batch.batchId;try{const o=await j2(n.localStore,e);WS(n,s,null),KS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await of(n,o)}catch(o){await hu(o)}}async function Sj(i,e,n){const s=et(i);try{const o=await(function(u,g){const y=et(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return y.mutationQueue.lookupMutationBatch(v,g).next((S=>(kt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>y.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);WS(s,e,n),KS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await of(s,o)}catch(o){await hu(o)}}function KS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function WS(i,e,n){const s=et(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ay(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||XS(i,s)}))}function XS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ov(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),vv(i))}function ew(i,e,n){for(const s of n)s instanceof GS?(i.Ru.addReference(s.key,e),Aj(i,s)):s instanceof $S?(Ce(yv,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||XS(i,s.key)):Ge(19791,{wu:s})}function Aj(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(Ce(yv,"New document in limbo: "+n),i.Eu.add(s),vv(i))}function vv(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ke(en.fromString(e)),s=i.fu.next();i.Au.set(s,new mj(n)),i.du=i.du.insert(n,s),US(i.remoteStore,new Ko(aa(Em(n.path)),s,"TargetPurposeLimboResolution",vm.ce))}}async function of(i,e,n){const s=et(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{u.push(s.pu(y,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const E=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(v){o.push(v);const E=sv.As(y.targetId,v);c.push(E)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(y,v){const E=et(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>de.forEach(v,(C=>de.forEach(C.Es,(M=>E.persistence.referenceDelegate.addReference(S,C.targetId,M))).next((()=>de.forEach(C.ds,(M=>E.persistence.referenceDelegate.removeReference(S,C.targetId,M)))))))))}catch(S){if(!fu(S))throw S;Ce(av,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const M=E.Ms.get(C),Y=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(C,K)}}})(s.localStore,c))}async function xj(i,e){const n=et(i);if(!n.currentUser.isEqual(e)){Ce(yv,"User change. New user:",e.toKey());const s=await kS(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new Ae(he.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await of(n,s.Ls)}}function Cj(i,e){const n=et(i),s=n.Au.get(e);if(s&&s.hu)return mt().add(s.key);{let o=mt();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const g=n.Tu.get(u);o=o.unionWith(g.view.nu)}return o}}function JS(i){const e=et(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tj.bind(null,e),e.Pu.H_=uj.bind(null,e.eventManager),e.Pu.yu=hj.bind(null,e.eventManager),e}function Dj(i){const e=et(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sj.bind(null,e),e}class rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O2(this.persistence,new R2,e.initialUser,this.serializer)}Cu(e){return new MS(rv.mi,this.serializer)}Du(e){return new U2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rm.provider={build:()=>new rm};class Rj extends rm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof nm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new m2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new MS((s=>nm.mi(s,n)),this.serializer)}}class oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xj.bind(null,this.syncEngine),await oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cj})()}createDatastore(e){const n=Cm(e.databaseInfo.databaseId),s=(function(c){return new H2(c)})(e.databaseInfo);return(function(c,u,g,y){return new Q2(c,u,g,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,g){return new W2(s,o,c,u,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>ZT(this.syncEngine,n,0)),(function(){return YT.v()?new YT:new z2})())}createSyncEngine(e,n){return(function(o,c,u,g,y,v,E){const S=new pj(o,c,u,g,y,v);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=et(n);Ce(Kl,"RemoteStore shutting down."),s.Ea.add(5),await af(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}oy.provider={build:()=>new oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="FirestoreClient";class Nj{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ki.UNAUTHENTICATED,this.clientId=$y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{Ce(ol,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Ce(ol,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Cg(i,e){i.asyncQueue.verifyOperationInProgress(),Ce(ol,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await kS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function tw(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Ij(i);Ce(ol,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>KT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>KT(e.remoteStore,o))),i._onlineComponents=e}async function Ij(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ce(ol,"Using user provided OfflineComponentProvider");try{await Cg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Jc("Error using user provided cache. Falling back to memory cache: "+n),await Cg(i,new rm)}}else Ce(ol,"Using default OfflineComponentProvider"),await Cg(i,new Rj(void 0));return i._offlineComponents}async function ZS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ce(ol,"Using user provided OnlineComponentProvider"),await tw(i,i._uninitializedComponentsProvider._online)):(Ce(ol,"Using default OnlineComponentProvider"),await tw(i,new oy))),i._onlineComponents}function Oj(i){return ZS(i).then((e=>e.syncEngine))}async function sm(i){const e=await ZS(i),n=e.eventManager;return n.onListen=gj.bind(null,e.syncEngine),n.onUnlisten=_j.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),n}function jj(i,e,n={}){const s=new Ya;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,g,y,v){const E=new _v({next:C=>{E.Nu(),u.enqueueAndForget((()=>mv(c,S)));const M=C.docs.has(g);!M&&C.fromCache?v.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&C.fromCache&&y&&y.source==="server"?v.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new gv(Em(g.path),E,{includeMetadataChanges:!0,qa:!0});return dv(c,S)})(await sm(i),i.asyncQueue,e,n,s))),s.promise}function Mj(i,e,n={}){const s=new Ya;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,g,y,v){const E=new _v({next:C=>{E.Nu(),u.enqueueAndForget((()=>mv(c,S))),C.fromCache&&y.source==="server"?v.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new gv(g,E,{includeMetadataChanges:!0,qa:!0});return dv(c,S)})(await sm(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",iw=!0;class rw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=iw}else this.host=e.host,this.ssl=e.ssl??iw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f2)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UI;switch(s.type){case"firstParty":return new FI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=nw.get(n);s&&(Ce("ComponentProvider","Removing Datastore"),nw.delete(n),s.terminate())})(this),Promise.resolve()}}function kj(i,e,n,s={}){i=ls(i,Nm);const o=ou(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;o&&(Xw(`https://${g}`),Jw("Firestore",!0)),c.host!==tA&&c.host!==g&&Jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:s};if(!Gl(y,u)&&(i._setSettings(y),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=ki.MOCK_USER;else{v=YC(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ki(S)}i._authCredentials=new zI(new G0(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tc(this.firestore,e,this._query)}}class kn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}toJSON(){return{type:kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(tf(n,kn._jsonSchema))return new kn(e,s||null,new ke(en.fromString(n.referencePath)))}}kn._jsonSchemaVersion="firestore/documentReference/1.0",kn._jsonSchema={type:Yn("string",kn._jsonSchemaVersion),referencePath:Yn("string")};class tl extends tc{constructor(e,n,s){super(e,n,Em(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new ke(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function yn(i,e,...n){if(i=Ln(i),$0("collection","path",e),i instanceof Nm){const s=en.fromString(e,...n);return yT(s),new tl(i,null,s)}{if(!(i instanceof kn||i instanceof tl))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(en.fromString(e,...n));return yT(s),new tl(i.firestore,null,s)}}function Qt(i,e,...n){if(i=Ln(i),arguments.length===1&&(e=$y.newId()),$0("doc","path",e),i instanceof Nm){const s=en.fromString(e,...n);return gT(s),new kn(i,null,new ke(s))}{if(!(i instanceof kn||i instanceof tl))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(en.fromString(e,...n));return gT(s),new kn(i.firestore,i instanceof tl?i.converter:null,new ke(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="AsyncQueue";class aw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LS(this,"async_queue_retry"),this._c=()=>{const s=xg();s&&Ce(sw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fu(e))throw e;Ce(sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Xa("INTERNAL UNHANDLED ERROR: ",ow(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hv.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ge(47125,{Pc:ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ow(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class ll extends Nm{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new aw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aw(e),this._firestoreClient=void 0,await e}}}function Pj(i,e){const n=typeof i=="object"?i:ky(),s=typeof i=="string"?i:Wd,o=My(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=GC("firestore");c&&kj(o,...c)}return o}function Im(i){if(i._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Lj(i),i._firestoreClient}function Lj(i){const e=i._freezeSettings(),n=(function(o,c,u,g){return new aO(o,c,u,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,eA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Nj(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(Ai.fromBase64String(e))}catch(n){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new os(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tf(e,os._jsonSchema))return os.fromBase64String(e.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:Yn("string",os._jsonSchemaVersion),bytes:Yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:la._jsonSchemaVersion}}static fromJSON(e){if(tf(e,la._jsonSchema))return new la(e.latitude,e.longitude)}}la._jsonSchemaVersion="firestore/geoPoint/1.0",la._jsonSchema={type:Yn("string",la._jsonSchemaVersion),latitude:Yn("number"),longitude:Yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tf(e,ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ca(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ca._jsonSchemaVersion="firestore/vectorValue/1.0",ca._jsonSchema={type:Yn("string",ca._jsonSchemaVersion),vectorValues:Yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=/^__.*__$/;class Uj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new rf(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ul(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:i})}}class bv{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return am(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&Vj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cm(e)}Cc(e,n,s,o=!1){return new bv({Ac:e,methodName:n,Dc:s,path:wi.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ev(i){const e=i._freezeSettings(),n=Cm(i._databaseId);return new zj(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bj(i,e,n,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);wv("Data must be an object, but it was:",u,s);const g=rA(s,u);let y,v;if(c.merge)y=new Br(u.fieldMask),v=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const C=ly(e,S,n);if(!u.contains(C))throw new Ae(he.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);aA(E,C)||E.push(C)}y=new Br(E),v=u.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=u.fieldTransforms;return new Uj(new _r(g),y,v)}class Mm extends jm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}class Tv extends jm{_toFieldTransform(e){return new OO(e.path,new qh)}isEqual(e){return e instanceof Tv}}function qj(i,e,n,s){const o=i.Cc(1,e,n);wv("Data must be an object, but it was:",o,s);const c=[],u=_r.empty();cl(s,((y,v)=>{const E=Sv(e,y,n);v=Ln(v);const S=o.yc(E);if(v instanceof Mm)c.push(E);else{const C=lf(v,S);C!=null&&(c.push(E),u.set(E,C))}}));const g=new Br(c);return new nA(u,g,o.fieldTransforms)}function Fj(i,e,n,s,o,c){const u=i.Cc(1,e,n),g=[ly(e,s,n)],y=[o];if(c.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(ly(e,c[C])),y.push(c[C+1]);const v=[],E=_r.empty();for(let C=g.length-1;C>=0;--C)if(!aA(v,g[C])){const M=g[C];let Y=y[C];Y=Ln(Y);const K=u.yc(M);if(Y instanceof Mm)v.push(M);else{const B=lf(Y,K);B!=null&&(v.push(M),E.set(M,B))}}const S=new Br(v);return new nA(E,S,u.fieldTransforms)}function Hj(i,e,n,s=!1){return lf(n,i.Cc(s?4:3,e))}function lf(i,e){if(sA(i=Ln(i)))return wv("Unsupported field value:",e,i),rA(i,e);if(i instanceof jm)return(function(s,o){if(!iA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const g of s){let y=lf(g,o.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=Ln(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Dt.fromDate(s);return{timestampValue:tm(o.serializer,c)}}if(s instanceof Dt){const c=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tm(o.serializer,c)}}if(s instanceof la)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof os)return{bytesValue:xS(o.serializer,s._byteString)};if(s instanceof kn){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:nv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ca)return(function(u,g){return{mapValue:{fields:{[tS]:{stringValue:nS},[Xd]:{arrayValue:{values:u.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Jy(g.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ym(s)}`)})(i,e)}function rA(i,e){const n={};return K0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(i,((s,o)=>{const c=lf(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function sA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof la||i instanceof os||i instanceof kn||i instanceof jm||i instanceof ca)}function wv(i,e,n){if(!sA(n)||!Y0(n)){const s=ym(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ly(i,e,n){if((e=Ln(e))instanceof Om)return e._internalPath;if(typeof e=="string")return Sv(i,e);throw am("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gj=new RegExp("[~\\*/\\[\\]]");function Sv(i,e,n){if(e.search(Gj)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Om(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function am(i,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${s}`),u&&(y+=` in document ${o}`),y+=")"),new Ae(he.INVALID_ARGUMENT,g+i+y)}function aA(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Av("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $j extends oA{data(){return super.data()}}function Av(i,e){return typeof e=="string"?Sv(i,e):e instanceof Om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xv{}class Yj extends xv{}function Vi(i,e,...n){let s=[];e instanceof xv&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((y=>y instanceof Cv)).length,g=c.filter((y=>y instanceof km)).length;if(u>1||u>0&&g>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class km extends Yj{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new km(e,n,s)}_apply(e){const n=this._parse(e);return cA(e._query,n),new tc(e.firestore,e.converter,Xg(e._query,n))}_parse(e){const n=Ev(e.firestore);return(function(c,u,g,y,v,E,S){let C;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){uw(S,E);const Y=[];for(const K of S)Y.push(cw(y,c,K));C={arrayValue:{values:Y}}}else C=cw(y,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||uw(S,E),C=Hj(g,u,S,E==="in"||E==="not-in");return $n.create(v,E,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ui(i,e,n){const s=e,o=Av("where",i);return km._create(o,s,n)}class Cv extends xv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const g=c.getFlattenedFilters();for(const y of g)cA(u,y),u=Xg(u,y)})(e._query,n),new tc(e.firestore,e.converter,Xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cw(i,e,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uS(e)&&n.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(en.fromString(n));if(!ke.isDocumentKey(s))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return AT(i,new ke(s))}if(n instanceof kn)return AT(i,n._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(n)}.`)}function uw(i,e){if(!Array.isArray(i)||i.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(i,e){const n=(function(o,c){for(const u of o)for(const g of u.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qj{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cl(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Xd].arrayValue?.values?.map((s=>Mn(s.doubleValue)));return new ca(n)}convertGeoPoint(e){return new la(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Uh(e));default:return null}}convertTimestamp(e){const n=il(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=en.fromString(e);kt(OS(s),9688,{name:e});const o=new zh(s.get(1),s.get(3)),c=new ke(s.popFirst(5));return o.isEqual(n)||Xa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends oA{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Av("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",ql._jsonSchema={type:Yn("string",ql._jsonSchemaVersion),bundleSource:Yn("string","DocumentSnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class Vd extends ql{data(e={}){return super.data(e)}}class Fl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vd(this._firestore,this._userDataWriter,s.key,s,new xh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((g=>{const y=new Vd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Vd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return g.type!==0&&(v=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),g.type!==1&&(u=u.add(g.doc),E=u.indexOf(g.doc.key)),{type:Wj(g.type),doc:y,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wj(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(i){i=ls(i,kn);const e=ls(i.firestore,ll);return jj(Im(e),i._key).then((n=>fA(e,i,n)))}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Yn("string",Fl._jsonSchemaVersion),bundleSource:Yn("string","QuerySnapshot"),bundleName:Yn("string"),bundle:Yn("string")};class Dv extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function Pn(i){i=ls(i,tc);const e=ls(i.firestore,ll),n=Im(e),s=new Dv(e);return lA(i._query),Mj(n,i._query).then((o=>new Fl(e,s,i,o)))}function ha(i,e,n,...s){i=ls(i,kn);const o=ls(i.firestore,ll),c=Ev(o);let u;return u=typeof(e=Ln(e))=="string"||e instanceof Om?Fj(c,"updateDoc",i._key,e,n,s):qj(c,"updateDoc",i._key,e),Rv(o,[u.toMutation(i._key,Rs.exists(!0))])}function uA(i){return Rv(ls(i.firestore,ll),[new Zy(i._key,Rs.none())])}function hA(i,e){const n=ls(i.firestore,ll),s=Qt(i),o=Kj(i.converter,e);return Rv(n,[Bj(Ev(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Rs.exists(!1))]).then((()=>s))}function Xj(i,...e){i=Ln(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lw(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lw(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,u,g;if(i instanceof kn)u=ls(i.firestore,ll),g=Em(i._key.path),c={next:y=>{e[s]&&e[s](fA(u,i,y))},error:e[s+1],complete:e[s+2]};else{const y=ls(i,tc);u=ls(y.firestore,ll),g=y._query;const v=new Dv(u);c={next:E=>{e[s]&&e[s](new Fl(u,v,y,E))},error:e[s+1],complete:e[s+2]},lA(i._query)}return(function(v,E,S,C){const M=new _v(C),Y=new gv(E,M,S);return v.asyncQueue.enqueueAndForget((async()=>dv(await sm(v),Y))),()=>{M.Nu(),v.asyncQueue.enqueueAndForget((async()=>mv(await sm(v),Y)))}})(Im(u),g,o,c)}function Rv(i,e){return(function(s,o){const c=new Ya;return s.asyncQueue.enqueueAndForget((async()=>Ej(await Oj(s),o,c))),c.promise})(Im(i),e)}function fA(i,e,n){const s=n.docs.get(e._key),o=new Dv(i);return new ql(i,o,e._key,s,new xh(n.hasPendingWrites,n.fromCache),e.converter)}function Gh(){return new Tv("serverTimestamp")}(function(e,n=!0){(function(o){uu=o})(lu),Kc(new $l("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),g=new ll(new BI(s.getProvider("auth-internal")),new HI(u,s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(v.options.projectId,E)})(u,o),u);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Jo(fT,dT,e),Jo(fT,dT,"esm2020")})();const Jj={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},dA=uR().length?ky():t0(Jj),fa=LI(dA),He=Pj(dA),mA=U.createContext(),Xi=()=>U.useContext(mA);function Zj({children:i}){const[e,n]=U.useState(null),[s,o]=U.useState(null),[c,u]=U.useState(!0);return U.useEffect(()=>{const g=xN(fa,async y=>{if(y){n(y);const v=await no(Qt(He,"users",y.uid));v.exists()?o({uid:y.uid,...v.data()}):o({uid:y.uid})}else n(null),o(null);u(!1)});return()=>g()},[]),c?p.jsx("div",{className:"loading-screen",children:"Loading..."}):p.jsx(mA.Provider,{value:{user:e,profile:s,loading:c},children:i})}var pA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hw=Bl.createContext&&Bl.createContext(pA),eM=["attr","size","title"];function tM(i,e){if(i==null)return{};var n=nM(i,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function nM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function om(){return om=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},om.apply(this,arguments)}function fw(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function lm(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fw(Object(n),!0).forEach(function(s){iM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function iM(i,e,n){return e=rM(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function rM(i){var e=sM(i,"string");return typeof e=="symbol"?e:e+""}function sM(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function gA(i){return i&&i.map((e,n)=>Bl.createElement(e.tag,lm({key:n},e.attr),gA(e.child)))}function aM(i){return e=>Bl.createElement(oM,om({attr:lm({},i.attr)},e),gA(i.child))}function oM(i){var e=n=>{var{attr:s,size:o,title:c}=i,u=tM(i,eM),g=o||n.size||"1em",y;return n.className&&(y=n.className),i.className&&(y=(y?y+" ":"")+i.className),Bl.createElement("svg",om({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,u,{className:y,style:lm(lm({color:i.color||n.color},n.style),i.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&Bl.createElement("title",null,c),i.children)};return hw!==void 0?Bl.createElement(hw.Consumer,null,n=>e(n)):e(pA)}function lM(i){return aM({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(i)}function yA(){const{user:i,profile:e}=Xi(),[n,s]=U.useState(0),[o,c]=U.useState(0);U.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]),U.useEffect(()=>{if(!i)return;const y=Qt(He,"users",i.uid),v=Vi(yn(He,"notifications"),Ui("recipientId","==",y)),E=Xj(v,S=>{const C=S.docs.filter(Y=>!Y.data().read),M=C.length;if(M>o&&Notification.permission==="granted"&&C.length>0){const Y=C[0].data();new Notification("New Notification",{body:Y.message||"You have a new alert.",icon:"/icons/notification.png"})}c(M),s(M)});return()=>E()},[i,o]);const g=`/${e?.role?.toLowerCase()||"patient"}/notifications`;return p.jsxs(as,{to:g,children:[p.jsx(lM,{})," Notifications (",n,")"]})}function cM(){const{logout:i}=Xi(),e=Wl(),n=async()=>{try{await qy(fa),e("/login")}catch(s){console.error("Error logging out:",s)}};return p.jsxs("aside",{className:"sidebar",children:[p.jsxs("h2",{className:"logo",children:[p.jsx("span",{className:"logo-salamat",children:"Salamat"}),p.jsx("span",{className:"logo-doc",children:"Doc"})]}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(as,{to:"/admin/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),p.jsx("li",{children:p.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}function uM(){const{user:i}=Xi(),e=Wl(),n=async()=>{try{await qy(fa),e("/login")}catch(s){console.error("Error logging out:",s)}};return p.jsxs("aside",{className:"sidebar",children:[p.jsxs("h2",{className:"logo",children:[p.jsx("span",{className:"logo-salamat",children:"Salamat"}),p.jsx("span",{className:"logo-doc",children:"Doc"})]}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(as,{to:"/doctor/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),p.jsx("li",{children:p.jsx(yA,{})}),p.jsx("li",{children:p.jsx(as,{to:"/doctor/patients",className:({isActive:s})=>s?"active":"",children:"Patients"})}),p.jsx("li",{children:p.jsx(as,{to:"/doctor/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),p.jsx("li",{children:p.jsx(as,{to:"/doctor/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),p.jsx("li",{children:p.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}function hM(){const{logout:i}=Xi(),e=Wl(),n=async()=>{try{await qy(fa),e("/login")}catch(s){console.error("Error logging out:",s)}};return p.jsxs("aside",{className:"sidebar",children:[p.jsxs("h2",{className:"logo",children:[p.jsx("span",{className:"logo-salamat",children:"Salamat"}),p.jsx("span",{className:"logo-doc",children:"Doc"})]}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(as,{to:"/patient/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),p.jsx("li",{children:p.jsx(yA,{})}),p.jsx("li",{children:p.jsx(as,{to:"/patient/dailies/medicine",className:({isActive:s})=>s?"active":"",children:"Dailies – Medicine"})}),p.jsx("li",{children:p.jsx(as,{to:"/patient/dailies/food",className:({isActive:s})=>s?"active":"",children:"Dailies – Food"})}),p.jsx("li",{children:p.jsx(as,{to:"/patient/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),p.jsx("li",{children:p.jsx(as,{to:"/patient/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),p.jsx("li",{children:p.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}var Ud={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var fM=Ud.exports,dw;function dM(){return dw||(dw=1,(function(i,e){(function(n,s){i.exports=s()})(fM,function(){const n=new Map,s={set(A,d,b){n.has(A)||n.set(A,new Map);const D=n.get(A);D.has(d)||D.size===0?D.set(d,b):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(D.keys())[0]}.`)},get:(A,d)=>n.has(A)&&n.get(A).get(d)||null,remove(A,d){if(!n.has(A))return;const b=n.get(A);b.delete(d),b.size===0&&n.delete(A)}},o="transitionend",c=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,b)=>`#${CSS.escape(b)}`)),A),u=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),g=A=>{A.dispatchEvent(new Event(o))},y=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),v=A=>y(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(c(A)):null,E=A=>{if(!y(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",b=A.closest("details:not([open])");if(!b)return d;if(b!==A){const D=A.closest("summary");if(D&&D.parentNode!==b||D===null)return!1}return d},S=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),C=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?C(A.parentNode):null},M=()=>{},Y=A=>{A.offsetHeight},K=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,B=[],P=()=>document.documentElement.dir==="rtl",H=A=>{var d;d=()=>{const b=K();if(b){const D=A.NAME,F=b.fn[D];b.fn[D]=A.jQueryInterface,b.fn[D].Constructor=A,b.fn[D].noConflict=()=>(b.fn[D]=F,A.jQueryInterface)}},document.readyState==="loading"?(B.length||document.addEventListener("DOMContentLoaded",()=>{for(const b of B)b()}),B.push(d)):d()},te=(A,d=[],b=A)=>typeof A=="function"?A.call(...d):b,ye=(A,d,b=!0)=>{if(!b)return void te(A);const D=(re=>{if(!re)return 0;let{transitionDuration:ge,transitionDelay:_e}=window.getComputedStyle(re);const Se=Number.parseFloat(ge),xe=Number.parseFloat(_e);return Se||xe?(ge=ge.split(",")[0],_e=_e.split(",")[0],1e3*(Number.parseFloat(ge)+Number.parseFloat(_e))):0})(d)+5;let F=!1;const $=({target:re})=>{re===d&&(F=!0,d.removeEventListener(o,$),te(A))};d.addEventListener(o,$),setTimeout(()=>{F||g(d)},D)},le=(A,d,b,D)=>{const F=A.length;let $=A.indexOf(d);return $===-1?!b&&D?A[F-1]:A[0]:($+=b?1:-1,D&&($=($+F)%F),A[Math.max(0,Math.min($,F-1))])},pe=/[^.]*(?=\..*)\.|.*/,j=/\..*/,O=/::\d+$/,k={};let L=1;const V={mouseenter:"mouseover",mouseleave:"mouseout"},G=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function I(A,d){return d&&`${d}::${L++}`||A.uidEvent||L++}function fe(A){const d=I(A);return A.uidEvent=d,k[d]=k[d]||{},k[d]}function je(A,d,b=null){return Object.values(A).find(D=>D.callable===d&&D.delegationSelector===b)}function X(A,d,b){const D=typeof d=="string",F=D?b:d||b;let $=Oe(A);return G.has($)||($=A),[D,F,$]}function se(A,d,b,D,F){if(typeof d!="string"||!A)return;let[$,re,ge]=X(d,b,D);d in V&&(re=(ze=>function(qe){if(!qe.relatedTarget||qe.relatedTarget!==qe.delegateTarget&&!qe.delegateTarget.contains(qe.relatedTarget))return ze.call(this,qe)})(re));const _e=fe(A),Se=_e[ge]||(_e[ge]={}),xe=je(Se,re,$?b:null);if(xe)return void(xe.oneOff=xe.oneOff&&F);const Te=I(re,d.replace(pe,"")),Ye=$?(function(Ue,ze,qe){return function Pe(At){const Ot=Ue.querySelectorAll(ze);for(let{target:$e}=At;$e&&$e!==this;$e=$e.parentNode)for(const nt of Ot)if(nt===$e)return ae(At,{delegateTarget:$e}),Pe.oneOff&&R.off(Ue,At.type,ze,qe),qe.apply($e,[At])}})(A,b,re):(function(Ue,ze){return function qe(Pe){return ae(Pe,{delegateTarget:Ue}),qe.oneOff&&R.off(Ue,Pe.type,ze),ze.apply(Ue,[Pe])}})(A,re);Ye.delegationSelector=$?b:null,Ye.callable=re,Ye.oneOff=F,Ye.uidEvent=Te,Se[Te]=Ye,A.addEventListener(ge,Ye,$)}function me(A,d,b,D,F){const $=je(d[b],D,F);$&&(A.removeEventListener(b,$,!!F),delete d[b][$.uidEvent])}function De(A,d,b,D){const F=d[b]||{};for(const[$,re]of Object.entries(F))$.includes(D)&&me(A,d,b,re.callable,re.delegationSelector)}function Oe(A){return A=A.replace(j,""),V[A]||A}const R={on(A,d,b,D){se(A,d,b,D,!1)},one(A,d,b,D){se(A,d,b,D,!0)},off(A,d,b,D){if(typeof d!="string"||!A)return;const[F,$,re]=X(d,b,D),ge=re!==d,_e=fe(A),Se=_e[re]||{},xe=d.startsWith(".");if($===void 0){if(xe)for(const Te of Object.keys(_e))De(A,_e,Te,d.slice(1));for(const[Te,Ye]of Object.entries(Se)){const Ue=Te.replace(O,"");ge&&!d.includes(Ue)||me(A,_e,re,Ye.callable,Ye.delegationSelector)}}else{if(!Object.keys(Se).length)return;me(A,_e,re,$,F?b:null)}},trigger(A,d,b){if(typeof d!="string"||!A)return null;const D=K();let F=null,$=!0,re=!0,ge=!1;d!==Oe(d)&&D&&(F=D.Event(d,b),D(A).trigger(F),$=!F.isPropagationStopped(),re=!F.isImmediatePropagationStopped(),ge=F.isDefaultPrevented());const _e=ae(new Event(d,{bubbles:$,cancelable:!0}),b);return ge&&_e.preventDefault(),re&&A.dispatchEvent(_e),_e.defaultPrevented&&F&&F.preventDefault(),_e}};function ae(A,d={}){for(const[b,D]of Object.entries(d))try{A[b]=D}catch{Object.defineProperty(A,b,{configurable:!0,get:()=>D})}return A}function ve(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function we(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Ie={setDataAttribute(A,d,b){A.setAttribute(`data-bs-${we(d)}`,b)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${we(d)}`)},getDataAttributes(A){if(!A)return{};const d={},b=Object.keys(A.dataset).filter(D=>D.startsWith("bs")&&!D.startsWith("bsConfig"));for(const D of b){let F=D.replace(/^bs/,"");F=F.charAt(0).toLowerCase()+F.slice(1),d[F]=ve(A.dataset[D])}return d},getDataAttribute:(A,d)=>ve(A.getAttribute(`data-bs-${we(d)}`))};class Le{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,b){const D=y(b)?Ie.getDataAttribute(b,"config"):{};return{...this.constructor.Default,...typeof D=="object"?D:{},...y(b)?Ie.getDataAttributes(b):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,b=this.constructor.DefaultType){for(const[D,F]of Object.entries(b)){const $=d[D],re=y($)?"element":u($);if(!new RegExp(F).test(re))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${D}" provided type "${re}" but expected type "${F}".`)}}}class Ve extends Le{constructor(d,b){super(),(d=v(d))&&(this._element=d,this._config=this._getConfig(b),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),R.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,b,D=!0){ye(d,b,D)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(v(d),this.DATA_KEY)}static getOrCreateInstance(d,b={}){return this.getInstance(d)||new this(d,typeof b=="object"?b:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Pt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let b=A.getAttribute("href");if(!b||!b.includes("#")&&!b.startsWith("."))return null;b.includes("#")&&!b.startsWith("#")&&(b=`#${b.split("#")[1]}`),d=b&&b!=="#"?b.trim():null}return d?d.split(",").map(b=>c(b)).join(","):null},be={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(b=>b.matches(d)),parents(A,d){const b=[];let D=A.parentNode.closest(d);for(;D;)b.push(D),D=D.parentNode.closest(d);return b},prev(A,d){let b=A.previousElementSibling;for(;b;){if(b.matches(d))return[b];b=b.previousElementSibling}return[]},next(A,d){let b=A.nextElementSibling;for(;b;){if(b.matches(d))return[b];b=b.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(b=>`${b}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(b=>!S(b)&&E(b))},getSelectorFromElement(A){const d=Pt(A);return d&&be.findOne(d)?d:null},getElementFromSelector(A){const d=Pt(A);return d?be.findOne(d):null},getMultipleElementsFromSelector(A){const d=Pt(A);return d?be.find(d):[]}},xi=(A,d="hide")=>{const b=`click.dismiss${A.EVENT_KEY}`,D=A.NAME;R.on(document,b,`[data-bs-dismiss="${D}"]`,function(F){if(["A","AREA"].includes(this.tagName)&&F.preventDefault(),S(this))return;const $=be.getElementFromSelector(this)||this.closest(`.${D}`);A.getOrCreateInstance($)[d]()})},br=".bs.alert",Er=`close${br}`,qr=`closed${br}`;class lt extends Ve{static get NAME(){return"alert"}close(){if(R.trigger(this._element,Er).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),R.trigger(this._element,qr),this.dispose()}static jQueryInterface(d){return this.each(function(){const b=lt.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}xi(lt,"close"),H(lt);const Ji='[data-bs-toggle="button"]';class Kt extends Ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const b=Kt.getOrCreateInstance(this);d==="toggle"&&b[d]()})}}R.on(document,"click.bs.button.data-api",Ji,A=>{A.preventDefault();const d=A.target.closest(Ji);Kt.getOrCreateInstance(d).toggle()}),H(Kt);const di=".bs.swipe",Ms=`touchstart${di}`,tn=`touchmove${di}`,dn=`touchend${di}`,Fr=`pointerdown${di}`,dl=`pointerup${di}`,da={endCallback:null,leftCallback:null,rightCallback:null},Qn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zi extends Le{constructor(d,b){super(),this._element=d,d&&Zi.isSupported()&&(this._config=this._getConfig(b),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return da}static get DefaultType(){return Qn}static get NAME(){return"swipe"}dispose(){R.off(this._element,di)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),te(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const b=d/this._deltaX;this._deltaX=0,b&&te(b>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(R.on(this._element,Fr,d=>this._start(d)),R.on(this._element,dl,d=>this._end(d)),this._element.classList.add("pointer-event")):(R.on(this._element,Ms,d=>this._start(d)),R.on(this._element,tn,d=>this._move(d)),R.on(this._element,dn,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ci=".bs.carousel",ks=".data-api",Hr="ArrowLeft",ma="ArrowRight",Tr="next",er="prev",wr="left",Cn="right",_n=`slide${Ci}`,ii=`slid${Ci}`,Wt=`keydown${Ci}`,pa=`mouseenter${Ci}`,Gr=`mouseleave${Ci}`,ro=`dragstart${Ci}`,zi=`load${Ci}${ks}`,us=`click${Ci}${ks}`,Xt="carousel",It="active",zt=".active",Kn=".carousel-item",Lt=zt+Kn,mi={[Hr]:Cn,[ma]:wr},tr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Sr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ar extends Ve{constructor(d,b){super(d,b),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=be.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xt&&this.cycle()}static get Default(){return tr}static get DefaultType(){return Sr}static get NAME(){return"carousel"}next(){this._slide(Tr)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(er)}pause(){this._isSliding&&g(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?R.one(this._element,ii,()=>this.cycle()):this.cycle())}to(d){const b=this._getItems();if(d>b.length-1||d<0)return;if(this._isSliding)return void R.one(this._element,ii,()=>this.to(d));const D=this._getItemIndex(this._getActive());if(D===d)return;const F=d>D?Tr:er;this._slide(F,b[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&R.on(this._element,Wt,d=>this._keydown(d)),this._config.pause==="hover"&&(R.on(this._element,pa,()=>this.pause()),R.on(this._element,Gr,()=>this._maybeEnableCycle())),this._config.touch&&Zi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const b of be.find(".carousel-item img",this._element))R.on(b,ro,D=>D.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(wr)),rightCallback:()=>this._slide(this._directionToOrder(Cn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Zi(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const b=mi[d.key];b&&(d.preventDefault(),this._slide(this._directionToOrder(b)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const b=be.findOne(zt,this._indicatorsElement);b.classList.remove(It),b.removeAttribute("aria-current");const D=be.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);D&&(D.classList.add(It),D.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const b=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=b||this._config.defaultInterval}_slide(d,b=null){if(this._isSliding)return;const D=this._getActive(),F=d===Tr,$=b||le(this._getItems(),D,F,this._config.wrap);if($===D)return;const re=this._getItemIndex($),ge=Te=>R.trigger(this._element,Te,{relatedTarget:$,direction:this._orderToDirection(d),from:this._getItemIndex(D),to:re});if(ge(_n).defaultPrevented||!D||!$)return;const _e=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(re),this._activeElement=$;const Se=F?"carousel-item-start":"carousel-item-end",xe=F?"carousel-item-next":"carousel-item-prev";$.classList.add(xe),Y($),D.classList.add(Se),$.classList.add(Se),this._queueCallback(()=>{$.classList.remove(Se,xe),$.classList.add(It),D.classList.remove(It,xe,Se),this._isSliding=!1,ge(ii)},D,this._isAnimated()),_e&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return be.findOne(Lt,this._element)}_getItems(){return be.find(Kn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return P()?d===wr?er:Tr:d===wr?Tr:er}_orderToDirection(d){return P()?d===er?wr:Cn:d===er?Cn:wr}static jQueryInterface(d){return this.each(function(){const b=Ar.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}}else b.to(d)})}}R.on(document,us,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=be.getElementFromSelector(this);if(!d||!d.classList.contains(Xt))return;A.preventDefault();const b=Ar.getOrCreateInstance(d),D=this.getAttribute("data-bs-slide-to");return D?(b.to(D),void b._maybeEnableCycle()):Ie.getDataAttribute(this,"slide")==="next"?(b.next(),void b._maybeEnableCycle()):(b.prev(),void b._maybeEnableCycle())}),R.on(window,zi,()=>{const A=be.find('[data-bs-ride="carousel"]');for(const d of A)Ar.getOrCreateInstance(d)}),H(Ar);const Di=".bs.collapse",hs=`show${Di}`,$r=`shown${Di}`,xr=`hide${Di}`,Bi=`hidden${Di}`,Ps=`click${Di}.data-api`,pi="show",bn="collapse",Bt="collapsing",En=`:scope .${bn} .${bn}`,Ri='[data-bs-toggle="collapse"]',Ke={parent:null,toggle:!0},qt={parent:"(null|element)",toggle:"boolean"};class bt extends Ve{constructor(d,b){super(d,b),this._isTransitioning=!1,this._triggerArray=[];const D=be.find(Ri);for(const F of D){const $=be.getSelectorFromElement(F),re=be.find($).filter(ge=>ge===this._element);$!==null&&re.length&&this._triggerArray.push(F)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ke}static get DefaultType(){return qt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(F=>F!==this._element).map(F=>bt.getOrCreateInstance(F,{toggle:!1}))),d.length&&d[0]._isTransitioning||R.trigger(this._element,hs).defaultPrevented)return;for(const F of d)F.hide();const b=this._getDimension();this._element.classList.remove(bn),this._element.classList.add(Bt),this._element.style[b]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const D=`scroll${b[0].toUpperCase()+b.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(bn,pi),this._element.style[b]="",R.trigger(this._element,$r)},this._element,!0),this._element.style[b]=`${this._element[D]}px`}hide(){if(this._isTransitioning||!this._isShown()||R.trigger(this._element,xr).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,Y(this._element),this._element.classList.add(Bt),this._element.classList.remove(bn,pi);for(const b of this._triggerArray){const D=be.getElementFromSelector(b);D&&!this._isShown(D)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Bt),this._element.classList.add(bn),R.trigger(this._element,Bi)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(pi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=v(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Ri);for(const b of d){const D=be.getElementFromSelector(b);D&&this._addAriaAndCollapsedClass([b],this._isShown(D))}}_getFirstLevelChildren(d){const b=be.find(En,this._config.parent);return be.find(d,this._config.parent).filter(D=>!b.includes(D))}_addAriaAndCollapsedClass(d,b){if(d.length)for(const D of d)D.classList.toggle("collapsed",!b),D.setAttribute("aria-expanded",b)}static jQueryInterface(d){const b={};return typeof d=="string"&&/show|hide/.test(d)&&(b.toggle=!1),this.each(function(){const D=bt.getOrCreateInstance(this,b);if(typeof d=="string"){if(D[d]===void 0)throw new TypeError(`No method named "${d}"`);D[d]()}})}}R.on(document,Ps,Ri,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of be.getMultipleElementsFromSelector(this))bt.getOrCreateInstance(d,{toggle:!1}).toggle()}),H(bt);var Et="top",ct="bottom",rn="right",Ft="left",Wn="auto",Vn=[Et,ct,rn,Ft],ri="start",$t="end",so="clippingParents",ga="viewport",gi="popper",Cr="reference",ya=Vn.reduce(function(A,d){return A.concat([d+"-"+ri,d+"-"+$t])},[]),va=[].concat(Vn,[Wn]).reduce(function(A,d){return A.concat([d,d+"-"+ri,d+"-"+$t])},[]),ao="beforeRead",ml="read",_a="afterRead",Ni="beforeMain",mn="main",Dn="afterMain",fs="beforeWrite",oo="write",Tt="afterWrite",Ls=[ao,ml,_a,Ni,mn,Dn,fs,oo,Tt];function Rn(A){return A?(A.nodeName||"").toLowerCase():null}function Nn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function Tn(A){return A instanceof Nn(A).Element||A instanceof Element}function Xn(A){return A instanceof Nn(A).HTMLElement||A instanceof HTMLElement}function lo(A){return typeof ShadowRoot<"u"&&(A instanceof Nn(A).ShadowRoot||A instanceof ShadowRoot)}const ba={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(b){var D=d.styles[b]||{},F=d.attributes[b]||{},$=d.elements[b];Xn($)&&Rn($)&&(Object.assign($.style,D),Object.keys(F).forEach(function(re){var ge=F[re];ge===!1?$.removeAttribute(re):$.setAttribute(re,ge===!0?"":ge)}))})},effect:function(A){var d=A.state,b={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,b.popper),d.styles=b,d.elements.arrow&&Object.assign(d.elements.arrow.style,b.arrow),function(){Object.keys(d.elements).forEach(function(D){var F=d.elements[D],$=d.attributes[D]||{},re=Object.keys(d.styles.hasOwnProperty(D)?d.styles[D]:b[D]).reduce(function(ge,_e){return ge[_e]="",ge},{});Xn(F)&&Rn(F)&&(Object.assign(F.style,re),Object.keys($).forEach(function(ge){F.removeAttribute(ge)}))})}},requires:["computeStyles"]};function Jn(A){return A.split("-")[0]}var Yr=Math.max,Dr=Math.min,In=Math.round;function co(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function uo(){return!/^((?!chrome|android).)*safari/i.test(co())}function Qr(A,d,b){d===void 0&&(d=!1),b===void 0&&(b=!1);var D=A.getBoundingClientRect(),F=1,$=1;d&&Xn(A)&&(F=A.offsetWidth>0&&In(D.width)/A.offsetWidth||1,$=A.offsetHeight>0&&In(D.height)/A.offsetHeight||1);var re=(Tn(A)?Nn(A):window).visualViewport,ge=!uo()&&b,_e=(D.left+(ge&&re?re.offsetLeft:0))/F,Se=(D.top+(ge&&re?re.offsetTop:0))/$,xe=D.width/F,Te=D.height/$;return{width:xe,height:Te,top:Se,right:_e+xe,bottom:Se+Te,left:_e,x:_e,y:Se}}function Vs(A){var d=Qr(A),b=A.offsetWidth,D=A.offsetHeight;return Math.abs(d.width-b)<=1&&(b=d.width),Math.abs(d.height-D)<=1&&(D=d.height),{x:A.offsetLeft,y:A.offsetTop,width:b,height:D}}function pl(A,d){var b=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(b&&lo(b)){var D=d;do{if(D&&A.isSameNode(D))return!0;D=D.parentNode||D.host}while(D)}return!1}function si(A){return Nn(A).getComputedStyle(A)}function ho(A){return["table","td","th"].indexOf(Rn(A))>=0}function Un(A){return((Tn(A)?A.ownerDocument:A.document)||window.document).documentElement}function Us(A){return Rn(A)==="html"?A:A.assignedSlot||A.parentNode||(lo(A)?A.host:null)||Un(A)}function qi(A){return Xn(A)&&si(A).position!=="fixed"?A.offsetParent:null}function nr(A){for(var d=Nn(A),b=qi(A);b&&ho(b)&&si(b).position==="static";)b=qi(b);return b&&(Rn(b)==="html"||Rn(b)==="body"&&si(b).position==="static")?d:b||(function(D){var F=/firefox/i.test(co());if(/Trident/i.test(co())&&Xn(D)&&si(D).position==="fixed")return null;var $=Us(D);for(lo($)&&($=$.host);Xn($)&&["html","body"].indexOf(Rn($))<0;){var re=si($);if(re.transform!=="none"||re.perspective!=="none"||re.contain==="paint"||["transform","perspective"].indexOf(re.willChange)!==-1||F&&re.willChange==="filter"||F&&re.filter&&re.filter!=="none")return $;$=$.parentNode}return null})(A)||d}function ir(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function Rr(A,d,b){return Yr(A,Dr(d,b))}function Ea(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function ds(A,d){return d.reduce(function(b,D){return b[D]=A,b},{})}const rr={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,b=A.state,D=A.name,F=A.options,$=b.elements.arrow,re=b.modifiersData.popperOffsets,ge=Jn(b.placement),_e=ir(ge),Se=[Ft,rn].indexOf(ge)>=0?"height":"width";if($&&re){var xe=(function(gt,pt){return Ea(typeof(gt=typeof gt=="function"?gt(Object.assign({},pt.rects,{placement:pt.placement})):gt)!="number"?gt:ds(gt,Vn))})(F.padding,b),Te=Vs($),Ye=_e==="y"?Et:Ft,Ue=_e==="y"?ct:rn,ze=b.rects.reference[Se]+b.rects.reference[_e]-re[_e]-b.rects.popper[Se],qe=re[_e]-b.rects.reference[_e],Pe=nr($),At=Pe?_e==="y"?Pe.clientHeight||0:Pe.clientWidth||0:0,Ot=ze/2-qe/2,$e=xe[Ye],nt=At-Te[Se]-xe[Ue],Qe=At/2-Te[Se]/2+Ot,rt=Rr($e,Qe,nt),vt=_e;b.modifiersData[D]=((d={})[vt]=rt,d.centerOffset=rt-Qe,d)}},effect:function(A){var d=A.state,b=A.options.element,D=b===void 0?"[data-popper-arrow]":b;D!=null&&(typeof D!="string"||(D=d.elements.popper.querySelector(D)))&&pl(d.elements.popper,D)&&(d.elements.arrow=D)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zn(A){return A.split("-")[1]}var Ta={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rt(A){var d,b=A.popper,D=A.popperRect,F=A.placement,$=A.variation,re=A.offsets,ge=A.position,_e=A.gpuAcceleration,Se=A.adaptive,xe=A.roundOffsets,Te=A.isFixed,Ye=re.x,Ue=Ye===void 0?0:Ye,ze=re.y,qe=ze===void 0?0:ze,Pe=typeof xe=="function"?xe({x:Ue,y:qe}):{x:Ue,y:qe};Ue=Pe.x,qe=Pe.y;var At=re.hasOwnProperty("x"),Ot=re.hasOwnProperty("y"),$e=Ft,nt=Et,Qe=window;if(Se){var rt=nr(b),vt="clientHeight",gt="clientWidth";rt===Nn(b)&&si(rt=Un(b)).position!=="static"&&ge==="absolute"&&(vt="scrollHeight",gt="scrollWidth"),(F===Et||(F===Ft||F===rn)&&$===$t)&&(nt=ct,qe-=(Te&&rt===Qe&&Qe.visualViewport?Qe.visualViewport.height:rt[vt])-D.height,qe*=_e?1:-1),F!==Ft&&(F!==Et&&F!==ct||$!==$t)||($e=rn,Ue-=(Te&&rt===Qe&&Qe.visualViewport?Qe.visualViewport.width:rt[gt])-D.width,Ue*=_e?1:-1)}var pt,sn=Object.assign({position:ge},Se&&Ta),Ii=xe===!0?(function(ci,qn){var Qi=ci.x,Oi=ci.y,Jt=qn.devicePixelRatio||1;return{x:In(Qi*Jt)/Jt||0,y:In(Oi*Jt)/Jt||0}})({x:Ue,y:qe},Nn(b)):{x:Ue,y:qe};return Ue=Ii.x,qe=Ii.y,_e?Object.assign({},sn,((pt={})[nt]=Ot?"0":"",pt[$e]=At?"0":"",pt.transform=(Qe.devicePixelRatio||1)<=1?"translate("+Ue+"px, "+qe+"px)":"translate3d("+Ue+"px, "+qe+"px, 0)",pt)):Object.assign({},sn,((d={})[nt]=Ot?qe+"px":"",d[$e]=At?Ue+"px":"",d.transform="",d))}const sr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,b=A.options,D=b.gpuAcceleration,F=D===void 0||D,$=b.adaptive,re=$===void 0||$,ge=b.roundOffsets,_e=ge===void 0||ge,Se={placement:Jn(d.placement),variation:Zn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:F,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Rt(Object.assign({},Se,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:re,roundOffsets:_e})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Rt(Object.assign({},Se,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var zs={passive:!0};const ms={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,b=A.instance,D=A.options,F=D.scroll,$=F===void 0||F,re=D.resize,ge=re===void 0||re,_e=Nn(d.elements.popper),Se=[].concat(d.scrollParents.reference,d.scrollParents.popper);return $&&Se.forEach(function(xe){xe.addEventListener("scroll",b.update,zs)}),ge&&_e.addEventListener("resize",b.update,zs),function(){$&&Se.forEach(function(xe){xe.removeEventListener("scroll",b.update,zs)}),ge&&_e.removeEventListener("resize",b.update,zs)}},data:{}};var gl={left:"right",right:"left",bottom:"top",top:"bottom"};function Kr(A){return A.replace(/left|right|bottom|top/g,function(d){return gl[d]})}var ps={start:"end",end:"start"};function ar(A){return A.replace(/start|end/g,function(d){return ps[d]})}function On(A){var d=Nn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Nr(A){return Qr(Un(A)).left+On(A).scrollLeft}function or(A){var d=si(A),b=d.overflow,D=d.overflowX,F=d.overflowY;return/auto|scroll|overlay|hidden/.test(b+F+D)}function gs(A){return["html","body","#document"].indexOf(Rn(A))>=0?A.ownerDocument.body:Xn(A)&&or(A)?A:gs(Us(A))}function ys(A,d){var b;d===void 0&&(d=[]);var D=gs(A),F=D===((b=A.ownerDocument)==null?void 0:b.body),$=Nn(D),re=F?[$].concat($.visualViewport||[],or(D)?D:[]):D,ge=d.concat(re);return F?ge:ge.concat(ys(Us(re)))}function Wr(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function wa(A,d,b){return d===ga?Wr((function(D,F){var $=Nn(D),re=Un(D),ge=$.visualViewport,_e=re.clientWidth,Se=re.clientHeight,xe=0,Te=0;if(ge){_e=ge.width,Se=ge.height;var Ye=uo();(Ye||!Ye&&F==="fixed")&&(xe=ge.offsetLeft,Te=ge.offsetTop)}return{width:_e,height:Se,x:xe+Nr(D),y:Te}})(A,b)):Tn(d)?(function(D,F){var $=Qr(D,!1,F==="fixed");return $.top=$.top+D.clientTop,$.left=$.left+D.clientLeft,$.bottom=$.top+D.clientHeight,$.right=$.left+D.clientWidth,$.width=D.clientWidth,$.height=D.clientHeight,$.x=$.left,$.y=$.top,$})(d,b):Wr((function(D){var F,$=Un(D),re=On(D),ge=(F=D.ownerDocument)==null?void 0:F.body,_e=Yr($.scrollWidth,$.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),Se=Yr($.scrollHeight,$.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),xe=-re.scrollLeft+Nr(D),Te=-re.scrollTop;return si(ge||$).direction==="rtl"&&(xe+=Yr($.clientWidth,ge?ge.clientWidth:0)-_e),{width:_e,height:Se,x:xe,y:Te}})(Un(A)))}function Ir(A){var d,b=A.reference,D=A.element,F=A.placement,$=F?Jn(F):null,re=F?Zn(F):null,ge=b.x+b.width/2-D.width/2,_e=b.y+b.height/2-D.height/2;switch($){case Et:d={x:ge,y:b.y-D.height};break;case ct:d={x:ge,y:b.y+b.height};break;case rn:d={x:b.x+b.width,y:_e};break;case Ft:d={x:b.x-D.width,y:_e};break;default:d={x:b.x,y:b.y}}var Se=$?ir($):null;if(Se!=null){var xe=Se==="y"?"height":"width";switch(re){case ri:d[Se]=d[Se]-(b[xe]/2-D[xe]/2);break;case $t:d[Se]=d[Se]+(b[xe]/2-D[xe]/2)}}return d}function Or(A,d){d===void 0&&(d={});var b=d,D=b.placement,F=D===void 0?A.placement:D,$=b.strategy,re=$===void 0?A.strategy:$,ge=b.boundary,_e=ge===void 0?so:ge,Se=b.rootBoundary,xe=Se===void 0?ga:Se,Te=b.elementContext,Ye=Te===void 0?gi:Te,Ue=b.altBoundary,ze=Ue!==void 0&&Ue,qe=b.padding,Pe=qe===void 0?0:qe,At=Ea(typeof Pe!="number"?Pe:ds(Pe,Vn)),Ot=Ye===gi?Cr:gi,$e=A.rects.popper,nt=A.elements[ze?Ot:Ye],Qe=(function(qn,Qi,Oi,Jt){var an=Qi==="clippingParents"?(function(jt){var on=ys(Us(jt)),Zt=["absolute","fixed"].indexOf(si(jt).position)>=0&&Xn(jt)?nr(jt):jt;return Tn(Zt)?on.filter(function(Mt){return Tn(Mt)&&pl(Mt,Zt)&&Rn(Mt)!=="body"}):[]})(qn):[].concat(Qi),gn=[].concat(an,[Oi]),Ki=gn[0],Sn=gn.reduce(function(jt,on){var Zt=wa(qn,on,Jt);return jt.top=Yr(Zt.top,jt.top),jt.right=Dr(Zt.right,jt.right),jt.bottom=Dr(Zt.bottom,jt.bottom),jt.left=Yr(Zt.left,jt.left),jt},wa(qn,Ki,Jt));return Sn.width=Sn.right-Sn.left,Sn.height=Sn.bottom-Sn.top,Sn.x=Sn.left,Sn.y=Sn.top,Sn})(Tn(nt)?nt:nt.contextElement||Un(A.elements.popper),_e,xe,re),rt=Qr(A.elements.reference),vt=Ir({reference:rt,element:$e,placement:F}),gt=Wr(Object.assign({},$e,vt)),pt=Ye===gi?gt:rt,sn={top:Qe.top-pt.top+At.top,bottom:pt.bottom-Qe.bottom+At.bottom,left:Qe.left-pt.left+At.left,right:pt.right-Qe.right+At.right},Ii=A.modifiersData.offset;if(Ye===gi&&Ii){var ci=Ii[F];Object.keys(sn).forEach(function(qn){var Qi=[rn,ct].indexOf(qn)>=0?1:-1,Oi=[Et,ct].indexOf(qn)>=0?"y":"x";sn[qn]+=ci[Oi]*Qi})}return sn}function yl(A,d){d===void 0&&(d={});var b=d,D=b.placement,F=b.boundary,$=b.rootBoundary,re=b.padding,ge=b.flipVariations,_e=b.allowedAutoPlacements,Se=_e===void 0?va:_e,xe=Zn(D),Te=xe?ge?ya:ya.filter(function(ze){return Zn(ze)===xe}):Vn,Ye=Te.filter(function(ze){return Se.indexOf(ze)>=0});Ye.length===0&&(Ye=Te);var Ue=Ye.reduce(function(ze,qe){return ze[qe]=Or(A,{placement:qe,boundary:F,rootBoundary:$,padding:re})[Jn(qe)],ze},{});return Object.keys(Ue).sort(function(ze,qe){return Ue[ze]-Ue[qe]})}const Bs={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,D=A.name;if(!d.modifiersData[D]._skip){for(var F=b.mainAxis,$=F===void 0||F,re=b.altAxis,ge=re===void 0||re,_e=b.fallbackPlacements,Se=b.padding,xe=b.boundary,Te=b.rootBoundary,Ye=b.altBoundary,Ue=b.flipVariations,ze=Ue===void 0||Ue,qe=b.allowedAutoPlacements,Pe=d.options.placement,At=Jn(Pe),Ot=_e||(At!==Pe&&ze?(function(jt){if(Jn(jt)===Wn)return[];var on=Kr(jt);return[ar(jt),on,ar(on)]})(Pe):[Kr(Pe)]),$e=[Pe].concat(Ot).reduce(function(jt,on){return jt.concat(Jn(on)===Wn?yl(d,{placement:on,boundary:xe,rootBoundary:Te,padding:Se,flipVariations:ze,allowedAutoPlacements:qe}):on)},[]),nt=d.rects.reference,Qe=d.rects.popper,rt=new Map,vt=!0,gt=$e[0],pt=0;pt<$e.length;pt++){var sn=$e[pt],Ii=Jn(sn),ci=Zn(sn)===ri,qn=[Et,ct].indexOf(Ii)>=0,Qi=qn?"width":"height",Oi=Or(d,{placement:sn,boundary:xe,rootBoundary:Te,altBoundary:Ye,padding:Se}),Jt=qn?ci?rn:Ft:ci?ct:Et;nt[Qi]>Qe[Qi]&&(Jt=Kr(Jt));var an=Kr(Jt),gn=[];if($&&gn.push(Oi[Ii]<=0),ge&&gn.push(Oi[Jt]<=0,Oi[an]<=0),gn.every(function(jt){return jt})){gt=sn,vt=!1;break}rt.set(sn,gn)}if(vt)for(var Ki=function(jt){var on=$e.find(function(Zt){var Mt=rt.get(Zt);if(Mt)return Mt.slice(0,jt).every(function(Ia){return Ia})});if(on)return gt=on,"break"},Sn=ze?3:1;Sn>0&&Ki(Sn)!=="break";Sn--);d.placement!==gt&&(d.modifiersData[D]._skip=!0,d.placement=gt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vl(A,d,b){return b===void 0&&(b={x:0,y:0}),{top:A.top-d.height-b.y,right:A.right-d.width+b.x,bottom:A.bottom-d.height+b.y,left:A.left-d.width-b.x}}function _l(A){return[Et,rn,ct,Ft].some(function(d){return A[d]>=0})}const qs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,b=A.name,D=d.rects.reference,F=d.rects.popper,$=d.modifiersData.preventOverflow,re=Or(d,{elementContext:"reference"}),ge=Or(d,{altBoundary:!0}),_e=vl(re,D),Se=vl(ge,F,$),xe=_l(_e),Te=_l(Se);d.modifiersData[b]={referenceClippingOffsets:_e,popperEscapeOffsets:Se,isReferenceHidden:xe,hasPopperEscaped:Te},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":xe,"data-popper-escaped":Te})}},fo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,b=A.options,D=A.name,F=b.offset,$=F===void 0?[0,0]:F,re=va.reduce(function(xe,Te){return xe[Te]=(function(Ye,Ue,ze){var qe=Jn(Ye),Pe=[Ft,Et].indexOf(qe)>=0?-1:1,At=typeof ze=="function"?ze(Object.assign({},Ue,{placement:Ye})):ze,Ot=At[0],$e=At[1];return Ot=Ot||0,$e=($e||0)*Pe,[Ft,rn].indexOf(qe)>=0?{x:$e,y:Ot}:{x:Ot,y:$e}})(Te,d.rects,$),xe},{}),ge=re[d.placement],_e=ge.x,Se=ge.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=_e,d.modifiersData.popperOffsets.y+=Se),d.modifiersData[D]=re}},mo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,b=A.name;d.modifiersData[b]=Ir({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Sa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,b=A.options,D=A.name,F=b.mainAxis,$=F===void 0||F,re=b.altAxis,ge=re!==void 0&&re,_e=b.boundary,Se=b.rootBoundary,xe=b.altBoundary,Te=b.padding,Ye=b.tether,Ue=Ye===void 0||Ye,ze=b.tetherOffset,qe=ze===void 0?0:ze,Pe=Or(d,{boundary:_e,rootBoundary:Se,padding:Te,altBoundary:xe}),At=Jn(d.placement),Ot=Zn(d.placement),$e=!Ot,nt=ir(At),Qe=nt==="x"?"y":"x",rt=d.modifiersData.popperOffsets,vt=d.rects.reference,gt=d.rects.popper,pt=typeof qe=="function"?qe(Object.assign({},d.rects,{placement:d.placement})):qe,sn=typeof pt=="number"?{mainAxis:pt,altAxis:pt}:Object.assign({mainAxis:0,altAxis:0},pt),Ii=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ci={x:0,y:0};if(rt){if($){var qn,Qi=nt==="y"?Et:Ft,Oi=nt==="y"?ct:rn,Jt=nt==="y"?"height":"width",an=rt[nt],gn=an+Pe[Qi],Ki=an-Pe[Oi],Sn=Ue?-gt[Jt]/2:0,jt=Ot===ri?vt[Jt]:gt[Jt],on=Ot===ri?-gt[Jt]:-vt[Jt],Zt=d.elements.arrow,Mt=Ue&&Zt?Vs(Zt):{width:0,height:0},Ia=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},is=Ia[Qi],Xe=Ia[Oi],_t=Rr(0,vt[Jt],Mt[Jt]),An=$e?vt[Jt]/2-Sn-_t-is-sn.mainAxis:jt-_t-is-sn.mainAxis,yc=$e?-vt[Jt]/2+Sn+_t+Xe+sn.mainAxis:on+_t+Xe+sn.mainAxis,Zs=d.elements.arrow&&nr(d.elements.arrow),Oa=Zs?nt==="y"?Zs.clientTop||0:Zs.clientLeft||0:0,Il=(qn=Ii?.[nt])!=null?qn:0,Ol=an+yc-Il,ja=Rr(Ue?Dr(gn,an+An-Il-Oa):gn,an,Ue?Yr(Ki,Ol):Ki);rt[nt]=ja,ci[nt]=ja-an}if(ge){var jf,ln=nt==="x"?Et:Ft,$u=nt==="x"?ct:rn,Ss=rt[Qe],jl=Qe==="y"?"height":"width",Yu=Ss+Pe[ln],Mf=Ss-Pe[$u],Ml=[Et,Ft].indexOf(At)!==-1,vc=(jf=Ii?.[Qe])!=null?jf:0,_c=Ml?Yu:Ss-vt[jl]-gt[jl]-vc+sn.altAxis,ui=Ml?Ss+vt[jl]+gt[jl]-vc-sn.altAxis:Mf,cn=Ue&&Ml?(function(bc,kl,No){var Ec=Rr(bc,kl,No);return Ec>No?No:Ec})(_c,Ss,ui):Rr(Ue?_c:Yu,Ss,Ue?ui:Mf);rt[Qe]=cn,ci[Qe]=cn-Ss}d.modifiersData[D]=ci}},requiresIfExists:["offset"]};function rc(A,d,b){b===void 0&&(b=!1);var D,F,$=Xn(d),re=Xn(d)&&(function(Te){var Ye=Te.getBoundingClientRect(),Ue=In(Ye.width)/Te.offsetWidth||1,ze=In(Ye.height)/Te.offsetHeight||1;return Ue!==1||ze!==1})(d),ge=Un(d),_e=Qr(A,re,b),Se={scrollLeft:0,scrollTop:0},xe={x:0,y:0};return($||!$&&!b)&&((Rn(d)!=="body"||or(ge))&&(Se=(D=d)!==Nn(D)&&Xn(D)?{scrollLeft:(F=D).scrollLeft,scrollTop:F.scrollTop}:On(D)),Xn(d)?((xe=Qr(d,!0)).x+=d.clientLeft,xe.y+=d.clientTop):ge&&(xe.x=Nr(ge))),{x:_e.left+Se.scrollLeft-xe.x,y:_e.top+Se.scrollTop-xe.y,width:_e.width,height:_e.height}}function sc(A){var d=new Map,b=new Set,D=[];function F($){b.add($.name),[].concat($.requires||[],$.requiresIfExists||[]).forEach(function(re){if(!b.has(re)){var ge=d.get(re);ge&&F(ge)}}),D.push($)}return A.forEach(function($){d.set($.name,$)}),A.forEach(function($){b.has($.name)||F($)}),D}var jr={placement:"bottom",modifiers:[],strategy:"absolute"};function bl(){for(var A=arguments.length,d=new Array(A),b=0;b<A;b++)d[b]=arguments[b];return!d.some(function(D){return!(D&&typeof D.getBoundingClientRect=="function")})}function Aa(A){A===void 0&&(A={});var d=A,b=d.defaultModifiers,D=b===void 0?[]:b,F=d.defaultOptions,$=F===void 0?jr:F;return function(re,ge,_e){_e===void 0&&(_e=$);var Se,xe,Te={placement:"bottom",orderedModifiers:[],options:Object.assign({},jr,$),modifiersData:{},elements:{reference:re,popper:ge},attributes:{},styles:{}},Ye=[],Ue=!1,ze={state:Te,setOptions:function(Pe){var At=typeof Pe=="function"?Pe(Te.options):Pe;qe(),Te.options=Object.assign({},$,Te.options,At),Te.scrollParents={reference:Tn(re)?ys(re):re.contextElement?ys(re.contextElement):[],popper:ys(ge)};var Ot,$e,nt=(function(Qe){var rt=sc(Qe);return Ls.reduce(function(vt,gt){return vt.concat(rt.filter(function(pt){return pt.phase===gt}))},[])})((Ot=[].concat(D,Te.options.modifiers),$e=Ot.reduce(function(Qe,rt){var vt=Qe[rt.name];return Qe[rt.name]=vt?Object.assign({},vt,rt,{options:Object.assign({},vt.options,rt.options),data:Object.assign({},vt.data,rt.data)}):rt,Qe},{}),Object.keys($e).map(function(Qe){return $e[Qe]})));return Te.orderedModifiers=nt.filter(function(Qe){return Qe.enabled}),Te.orderedModifiers.forEach(function(Qe){var rt=Qe.name,vt=Qe.options,gt=vt===void 0?{}:vt,pt=Qe.effect;if(typeof pt=="function"){var sn=pt({state:Te,name:rt,instance:ze,options:gt});Ye.push(sn||function(){})}}),ze.update()},forceUpdate:function(){if(!Ue){var Pe=Te.elements,At=Pe.reference,Ot=Pe.popper;if(bl(At,Ot)){Te.rects={reference:rc(At,nr(Ot),Te.options.strategy==="fixed"),popper:Vs(Ot)},Te.reset=!1,Te.placement=Te.options.placement,Te.orderedModifiers.forEach(function(pt){return Te.modifiersData[pt.name]=Object.assign({},pt.data)});for(var $e=0;$e<Te.orderedModifiers.length;$e++)if(Te.reset!==!0){var nt=Te.orderedModifiers[$e],Qe=nt.fn,rt=nt.options,vt=rt===void 0?{}:rt,gt=nt.name;typeof Qe=="function"&&(Te=Qe({state:Te,options:vt,name:gt,instance:ze})||Te)}else Te.reset=!1,$e=-1}}},update:(Se=function(){return new Promise(function(Pe){ze.forceUpdate(),Pe(Te)})},function(){return xe||(xe=new Promise(function(Pe){Promise.resolve().then(function(){xe=void 0,Pe(Se())})})),xe}),destroy:function(){qe(),Ue=!0}};if(!bl(re,ge))return ze;function qe(){Ye.forEach(function(Pe){return Pe()}),Ye=[]}return ze.setOptions(_e).then(function(Pe){!Ue&&_e.onFirstUpdate&&_e.onFirstUpdate(Pe)}),ze}}var ac=Aa(),oc=Aa({defaultModifiers:[ms,mo,sr,ba]}),Xr=Aa({defaultModifiers:[ms,mo,sr,ba,fo,Bs,Sa,rr,qs]});const ai=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Dn,afterRead:_a,afterWrite:Tt,applyStyles:ba,arrow:rr,auto:Wn,basePlacements:Vn,beforeMain:Ni,beforeRead:ao,beforeWrite:fs,bottom:ct,clippingParents:so,computeStyles:sr,createPopper:Xr,createPopperBase:ac,createPopperLite:oc,detectOverflow:Or,end:$t,eventListeners:ms,flip:Bs,hide:qs,left:Ft,main:mn,modifierPhases:Ls,offset:fo,placements:va,popper:gi,popperGenerator:Aa,popperOffsets:mo,preventOverflow:Sa,read:ml,reference:Cr,right:rn,start:ri,top:Et,variationPlacements:ya,viewport:ga,write:oo},Symbol.toStringTag,{value:"Module"})),El="dropdown",Jr=".bs.dropdown",Mr=".data-api",h="ArrowUp",_="ArrowDown",w=`hide${Jr}`,N=`hidden${Jr}`,W=`show${Jr}`,ne=`shown${Jr}`,Ee=`click${Jr}${Mr}`,We=`keydown${Jr}${Mr}`,pn=`keyup${Jr}${Mr}`,st="show",wt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',lr=`${wt}.${st}`,Fi=".dropdown-menu",kr=P()?"top-end":"top-start",Pr=P()?"top-start":"top-end",xa=P()?"bottom-end":"bottom-start",po=P()?"bottom-start":"bottom-end",go=P()?"left-start":"right-start",Fm=P()?"right-start":"left-start",Hm={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Gm={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class cr extends Ve{constructor(d,b){super(d,b),this._popper=null,this._parent=this._element.parentNode,this._menu=be.next(this._element,Fi)[0]||be.prev(this._element,Fi)[0]||be.findOne(Fi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Hm}static get DefaultType(){return Gm}static get NAME(){return El}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!R.trigger(this._element,W,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const b of[].concat(...document.body.children))R.on(b,"mouseover",M);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(st),this._element.classList.add(st),R.trigger(this._element,ne,d)}}hide(){if(S(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!R.trigger(this._element,w,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))R.off(b,"mouseover",M);this._popper&&this._popper.destroy(),this._menu.classList.remove(st),this._element.classList.remove(st),this._element.setAttribute("aria-expanded","false"),Ie.removeDataAttribute(this._menu,"popper"),R.trigger(this._element,N,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!y(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${El.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(ai===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:y(this._config.reference)?d=v(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const b=this._getPopperConfig();this._popper=Xr(d,this._menu,b)}_isShown(){return this._menu.classList.contains(st)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return go;if(d.classList.contains("dropstart"))return Fm;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const b=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?b?Pr:kr:b?po:xa}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ie.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...te(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:b}){const D=be.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(F=>E(F));D.length&&le(D,b,d===_,!D.includes(b)).focus()}static jQueryInterface(d){return this.each(function(){const b=cr.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const b=be.find(lr);for(const D of b){const F=cr.getInstance(D);if(!F||F._config.autoClose===!1)continue;const $=d.composedPath(),re=$.includes(F._menu);if($.includes(F._element)||F._config.autoClose==="inside"&&!re||F._config.autoClose==="outside"&&re||F._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ge={relatedTarget:F._element};d.type==="click"&&(ge.clickEvent=d),F._completeHide(ge)}}static dataApiKeydownHandler(d){const b=/input|textarea/i.test(d.target.tagName),D=d.key==="Escape",F=[h,_].includes(d.key);if(!F&&!D||b&&!D)return;d.preventDefault();const $=this.matches(wt)?this:be.prev(this,wt)[0]||be.next(this,wt)[0]||be.findOne(wt,d.delegateTarget.parentNode),re=cr.getOrCreateInstance($);if(F)return d.stopPropagation(),re.show(),void re._selectMenuItem(d);re._isShown()&&(d.stopPropagation(),re.hide(),$.focus())}}R.on(document,We,wt,cr.dataApiKeydownHandler),R.on(document,We,Fi,cr.dataApiKeydownHandler),R.on(document,Ee,cr.clearMenus),R.on(document,pn,cr.clearMenus),R.on(document,Ee,wt,function(A){A.preventDefault(),cr.getOrCreateInstance(this).toggle()}),H(cr);const gu="backdrop",yo="show",vo=`mousedown.bs.${gu}`,$m={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},lc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class yu extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return $m}static get DefaultType(){return lc}static get NAME(){return gu}show(d){if(!this._config.isVisible)return void te(d);this._append();const b=this._getElement();this._config.isAnimated&&Y(b),b.classList.add(yo),this._emulateAnimation(()=>{te(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(yo),this._emulateAnimation(()=>{this.dispose(),te(d)})):te(d)}dispose(){this._isAppended&&(R.off(this._element,vo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=v(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),R.on(d,vo,()=>{te(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){ye(d,this._getElement(),this._config.isAnimated)}}const Tl=".bs.focustrap",vu=`focusin${Tl}`,_u=`keydown.tab${Tl}`,bu="backward",df={autofocus:!0,trapElement:null},mf={autofocus:"boolean",trapElement:"element"};class pf extends Le{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return df}static get DefaultType(){return mf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),R.off(document,Tl),R.on(document,vu,d=>this._handleFocusin(d)),R.on(document,_u,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,R.off(document,Tl))}_handleFocusin(d){const{trapElement:b}=this._config;if(d.target===document||d.target===b||b.contains(d.target))return;const D=be.focusableChildren(b);D.length===0?b.focus():this._lastTabNavDirection===bu?D[D.length-1].focus():D[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?bu:"forward")}}const gf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yf=".sticky-top",cc="padding-right",vf="margin-right";class yi{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,cc,b=>b+d),this._setElementAttributes(gf,cc,b=>b+d),this._setElementAttributes(yf,vf,b=>b-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,cc),this._resetElementAttributes(gf,cc),this._resetElementAttributes(yf,vf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,b,D){const F=this.getWidth();this._applyManipulationCallback(d,$=>{if($!==this._element&&window.innerWidth>$.clientWidth+F)return;this._saveInitialAttribute($,b);const re=window.getComputedStyle($).getPropertyValue(b);$.style.setProperty(b,`${D(Number.parseFloat(re))}px`)})}_saveInitialAttribute(d,b){const D=d.style.getPropertyValue(b);D&&Ie.setDataAttribute(d,b,D)}_resetElementAttributes(d,b){this._applyManipulationCallback(d,D=>{const F=Ie.getDataAttribute(D,b);F!==null?(Ie.removeDataAttribute(D,b),D.style.setProperty(b,F)):D.style.removeProperty(b)})}_applyManipulationCallback(d,b){if(y(d))b(d);else for(const D of be.find(d,this._element))b(D)}}const oi=".bs.modal",_f=`hide${oi}`,bf=`hidePrevented${oi}`,Eu=`hidden${oi}`,Tu=`show${oi}`,wu=`shown${oi}`,Ym=`resize${oi}`,_o=`click.dismiss${oi}`,Su=`mousedown.dismiss${oi}`,wl=`keydown.dismiss${oi}`,Au=`click${oi}.data-api`,xu="modal-open",Fs="show",Hs="modal-static",Cu={backdrop:!0,focus:!0,keyboard:!0},Ef={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hi extends Ve{constructor(d,b){super(d,b),this._dialog=be.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yi,this._addEventListeners()}static get Default(){return Cu}static get DefaultType(){return Ef}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||R.trigger(this._element,Tu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(R.trigger(this._element,_f).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Fs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){R.off(window,oi),R.off(this._dialog,oi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new yu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new pf({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const b=be.findOne(".modal-body",this._dialog);b&&(b.scrollTop=0),Y(this._element),this._element.classList.add(Fs),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,R.trigger(this._element,wu,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){R.on(this._element,wl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),R.on(window,Ym,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),R.on(this._element,Su,d=>{R.one(this._element,_o,b=>{this._element===d.target&&this._element===b.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xu),this._resetAdjustments(),this._scrollBar.reset(),R.trigger(this._element,Eu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(R.trigger(this._element,bf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._element.style.overflowY;b==="hidden"||this._element.classList.contains(Hs)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Hs),this._queueCallback(()=>{this._element.classList.remove(Hs),this._queueCallback(()=>{this._element.style.overflowY=b},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,b=this._scrollBar.getWidth(),D=b>0;if(D&&!d){const F=P()?"paddingLeft":"paddingRight";this._element.style[F]=`${b}px`}if(!D&&d){const F=P()?"paddingRight":"paddingLeft";this._element.style[F]=`${b}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,b){return this.each(function(){const D=Hi.getOrCreateInstance(this,d);if(typeof d=="string"){if(D[d]===void 0)throw new TypeError(`No method named "${d}"`);D[d](b)}})}}R.on(document,Au,'[data-bs-toggle="modal"]',function(A){const d=be.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),R.one(d,Tu,D=>{D.defaultPrevented||R.one(d,Eu,()=>{E(this)&&this.focus()})});const b=be.findOne(".modal.show");b&&Hi.getInstance(b).hide(),Hi.getOrCreateInstance(d).toggle(this)}),xi(Hi),H(Hi);const Zr=".bs.offcanvas",Du=".data-api",Tf=`load${Zr}${Du}`,wf="show",Sf="showing",Af="hiding",Ru=".offcanvas.show",xf=`show${Zr}`,Nu=`shown${Zr}`,Lr=`hide${Zr}`,Sl=`hidePrevented${Zr}`,Gi=`hidden${Zr}`,bo=`resize${Zr}`,Iu=`click${Zr}${Du}`,uc=`keydown.dismiss${Zr}`,hc={backdrop:!0,keyboard:!0,scroll:!1},Ou={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vi extends Ve{constructor(d,b){super(d,b),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return hc}static get DefaultType(){return Ou}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||R.trigger(this._element,xf,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new yi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Sf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(wf),this._element.classList.remove(Sf),R.trigger(this._element,Nu,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(R.trigger(this._element,Lr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Af),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(wf,Af),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yi().reset(),R.trigger(this._element,Gi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new yu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():R.trigger(this._element,Sl)}:null})}_initializeFocusTrap(){return new pf({trapElement:this._element})}_addEventListeners(){R.on(this._element,uc,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():R.trigger(this._element,Sl))})}static jQueryInterface(d){return this.each(function(){const b=vi.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d](this)}})}}R.on(document,Iu,'[data-bs-toggle="offcanvas"]',function(A){const d=be.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this))return;R.one(d,Gi,()=>{E(this)&&this.focus()});const b=be.findOne(Ru);b&&b!==d&&vi.getInstance(b).hide(),vi.getOrCreateInstance(d).toggle(this)}),R.on(window,Tf,()=>{for(const A of be.find(Ru))vi.getOrCreateInstance(A).show()}),R.on(window,bo,()=>{for(const A of be.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&vi.getOrCreateInstance(A).hide()}),xi(vi),H(vi);const ju={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},fc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Eo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Qm=(A,d)=>{const b=A.nodeName.toLowerCase();return d.includes(b)?!fc.has(b)||!!Eo.test(A.nodeValue):d.filter(D=>D instanceof RegExp).some(D=>D.test(b))},$i={allowList:ju,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Mu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},vs={entry:"(string|element|function|null)",selector:"(string|element)"};class Cf extends Le{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return $i}static get DefaultType(){return Mu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[F,$]of Object.entries(this._config.content))this._setContent(d,$,F);const b=d.children[0],D=this._resolvePossibleFunction(this._config.extraClass);return D&&b.classList.add(...D.split(" ")),b}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[b,D]of Object.entries(d))super._typeCheckConfig({selector:b,entry:D},vs)}_setContent(d,b,D){const F=be.findOne(D,d);F&&((b=this._resolvePossibleFunction(b))?y(b)?this._putElementInTemplate(v(b),F):this._config.html?F.innerHTML=this._maybeSanitize(b):F.textContent=b:F.remove())}_maybeSanitize(d){return this._config.sanitize?(function(b,D,F){if(!b.length)return b;if(F&&typeof F=="function")return F(b);const $=new window.DOMParser().parseFromString(b,"text/html"),re=[].concat(...$.body.querySelectorAll("*"));for(const ge of re){const _e=ge.nodeName.toLowerCase();if(!Object.keys(D).includes(_e)){ge.remove();continue}const Se=[].concat(...ge.attributes),xe=[].concat(D["*"]||[],D[_e]||[]);for(const Te of Se)Qm(Te,xe)||ge.removeAttribute(Te.nodeName)}return $.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return te(d,[void 0,this])}_putElementInTemplate(d,b){if(this._config.html)return b.innerHTML="",void b.append(d);b.textContent=d.textContent}}const dc=new Set(["sanitize","allowList","sanitizeFn"]),_s="fade",To="show",Df=".tooltip-inner",mc=".modal",ku="hide.bs.modal",li="hover",Gs="focus",$s="click",pc={AUTO:"auto",TOP:"top",RIGHT:P()?"left":"right",BOTTOM:"bottom",LEFT:P()?"right":"left"},Al={allowList:ju,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ur={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zn extends Ve{constructor(d,b){if(ai===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,b),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Al}static get DefaultType(){return ur}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),R.off(this._element.closest(mc),ku,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=R.trigger(this._element,this.constructor.eventName("show")),b=(C(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!b)return;this._disposePopper();const D=this._getTipElement();this._element.setAttribute("aria-describedby",D.getAttribute("id"));const{container:F}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(F.append(D),R.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(D),D.classList.add(To),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))R.on($,"mouseover",M);this._queueCallback(()=>{R.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!R.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(To),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))R.off(d,"mouseover",M);this._activeTrigger[$s]=!1,this._activeTrigger[Gs]=!1,this._activeTrigger[li]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),R.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const b=this._getTemplateFactory(d).toHtml();if(!b)return null;b.classList.remove(_s,To),b.classList.add(`bs-${this.constructor.NAME}-auto`);const D=(F=>{do F+=Math.floor(1e6*Math.random());while(document.getElementById(F));return F})(this.constructor.NAME).toString();return b.setAttribute("id",D),this._isAnimated()&&b.classList.add(_s),b}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Cf({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Df]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(_s)}_isShown(){return this.tip&&this.tip.classList.contains(To)}_createPopper(d){const b=te(this._config.placement,[this,d,this._element]),D=pc[b.toUpperCase()];return Xr(this._element,d,this._getPopperConfig(D))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(b=>Number.parseInt(b,10)):typeof d=="function"?b=>d(b,this._element):d}_resolvePossibleFunction(d){return te(d,[this._element,this._element])}_getPopperConfig(d){const b={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:D=>{this._getTipElement().setAttribute("data-popper-placement",D.state.placement)}}]};return{...b,...te(this._config.popperConfig,[void 0,b])}}_setListeners(){const d=this._config.trigger.split(" ");for(const b of d)if(b==="click")R.on(this._element,this.constructor.eventName("click"),this._config.selector,D=>{const F=this._initializeOnDelegatedTarget(D);F._activeTrigger[$s]=!(F._isShown()&&F._activeTrigger[$s]),F.toggle()});else if(b!=="manual"){const D=b===li?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),F=b===li?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");R.on(this._element,D,this._config.selector,$=>{const re=this._initializeOnDelegatedTarget($);re._activeTrigger[$.type==="focusin"?Gs:li]=!0,re._enter()}),R.on(this._element,F,this._config.selector,$=>{const re=this._initializeOnDelegatedTarget($);re._activeTrigger[$.type==="focusout"?Gs:li]=re._element.contains($.relatedTarget),re._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},R.on(this._element.closest(mc),ku,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,b){clearTimeout(this._timeout),this._timeout=setTimeout(d,b)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const b=Ie.getDataAttributes(this._element);for(const D of Object.keys(b))dc.has(D)&&delete b[D];return d={...b,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:v(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[b,D]of Object.entries(this._config))this.constructor.Default[b]!==D&&(d[b]=D);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const b=zn.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}H(zn);const Ys=".popover-header",es=".popover-body",ts={...zn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bs={...zn.DefaultType,content:"(null|string|element|function)"};class xl extends zn{static get Default(){return ts}static get DefaultType(){return bs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ys]:this._getTitle(),[es]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const b=xl.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d]()}})}}H(xl);const Cl=".bs.scrollspy",Pu=`activate${Cl}`,Lu=`click${Cl}`,ei=`load${Cl}.data-api`,St="active",it="[href]",Es=".nav-link",hr=`${Es}, .nav-item > ${Es}, .list-group-item`,Vu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Qs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class wo extends Ve{constructor(d,b){super(d,b),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Vu}static get DefaultType(){return Qs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=v(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(b=>Number.parseFloat(b))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(R.off(this._config.target,Lu),R.on(this._config.target,Lu,it,d=>{const b=this._observableSections.get(d.target.hash);if(b){d.preventDefault();const D=this._rootElement||window,F=b.offsetTop-this._element.offsetTop;if(D.scrollTo)return void D.scrollTo({top:F,behavior:"smooth"});D.scrollTop=F}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(b=>this._observerCallback(b),d)}_observerCallback(d){const b=re=>this._targetLinks.get(`#${re.target.id}`),D=re=>{this._previousScrollData.visibleEntryTop=re.target.offsetTop,this._process(b(re))},F=(this._rootElement||document.documentElement).scrollTop,$=F>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=F;for(const re of d){if(!re.isIntersecting){this._activeTarget=null,this._clearActiveClass(b(re));continue}const ge=re.target.offsetTop>=this._previousScrollData.visibleEntryTop;if($&&ge){if(D(re),!F)return}else $||ge||D(re)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=be.find(it,this._config.target);for(const b of d){if(!b.hash||S(b))continue;const D=be.findOne(decodeURI(b.hash),this._element);E(D)&&(this._targetLinks.set(decodeURI(b.hash),b),this._observableSections.set(b.hash,D))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(St),this._activateParents(d),R.trigger(this._element,Pu,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))be.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(St);else for(const b of be.parents(d,".nav, .list-group"))for(const D of be.prev(b,hr))D.classList.add(St)}_clearActiveClass(d){d.classList.remove(St);const b=be.find(`${it}.${St}`,d);for(const D of b)D.classList.remove(St)}static jQueryInterface(d){return this.each(function(){const b=wo.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}R.on(window,ei,()=>{for(const A of be.find('[data-bs-spy="scroll"]'))wo.getOrCreateInstance(A)}),H(wo);const Ks=".bs.tab",So=`hide${Ks}`,Ca=`hidden${Ks}`,Uu=`show${Ks}`,Dl=`shown${Ks}`,zu=`click${Ks}`,Da=`keydown${Ks}`,Ts=`load${Ks}`,Ws="ArrowLeft",ns="ArrowRight",Bu="ArrowUp",gc="ArrowDown",Xs="Home",Rl="End",Yi="active",Bn="fade",Ao="show",qu=".dropdown-toggle",Fu=`:not(${qu})`,Rf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hu=`.nav-link${Fu}, .list-group-item${Fu}, [role="tab"]${Fu}, ${Rf}`,wn=`.${Yi}[data-bs-toggle="tab"], .${Yi}[data-bs-toggle="pill"], .${Yi}[data-bs-toggle="list"]`;class ws extends Ve{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),R.on(this._element,Da,b=>this._keydown(b)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const b=this._getActiveElem(),D=b?R.trigger(b,So,{relatedTarget:d}):null;R.trigger(d,Uu,{relatedTarget:b}).defaultPrevented||D&&D.defaultPrevented||(this._deactivate(b,d),this._activate(d,b))}_activate(d,b){d&&(d.classList.add(Yi),this._activate(be.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),R.trigger(d,Dl,{relatedTarget:b})):d.classList.add(Ao)},d,d.classList.contains(Bn)))}_deactivate(d,b){d&&(d.classList.remove(Yi),d.blur(),this._deactivate(be.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),R.trigger(d,Ca,{relatedTarget:b})):d.classList.remove(Ao)},d,d.classList.contains(Bn)))}_keydown(d){if(![Ws,ns,Bu,gc,Xs,Rl].includes(d.key))return;d.stopPropagation(),d.preventDefault();const b=this._getChildren().filter(F=>!S(F));let D;if([Xs,Rl].includes(d.key))D=b[d.key===Xs?0:b.length-1];else{const F=[ns,gc].includes(d.key);D=le(b,d.target,F,!0)}D&&(D.focus({preventScroll:!0}),ws.getOrCreateInstance(D).show())}_getChildren(){return be.find(Hu,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,b){this._setAttributeIfNotExists(d,"role","tablist");for(const D of b)this._setInitialAttributesOnChild(D)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const b=this._elemIsActive(d),D=this._getOuterElement(d);d.setAttribute("aria-selected",b),D!==d&&this._setAttributeIfNotExists(D,"role","presentation"),b||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const b=be.getElementFromSelector(d);b&&(this._setAttributeIfNotExists(b,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(b,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,b){const D=this._getOuterElement(d);if(!D.classList.contains("dropdown"))return;const F=($,re)=>{const ge=be.findOne($,D);ge&&ge.classList.toggle(re,b)};F(qu,Yi),F(".dropdown-menu",Ao),D.setAttribute("aria-expanded",b)}_setAttributeIfNotExists(d,b,D){d.hasAttribute(b)||d.setAttribute(b,D)}_elemIsActive(d){return d.classList.contains(Yi)}_getInnerElement(d){return d.matches(Hu)?d:be.findOne(Hu,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const b=ws.getOrCreateInstance(this);if(typeof d=="string"){if(b[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);b[d]()}})}}R.on(document,zu,Rf,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this)||ws.getOrCreateInstance(this).show()}),R.on(window,Ts,()=>{for(const A of be.find(wn))ws.getOrCreateInstance(A)}),H(ws);const fr=".bs.toast",Nl=`mouseover${fr}`,Gu=`mouseout${fr}`,xo=`focusin${fr}`,Co=`focusout${fr}`,Km=`hide${fr}`,Nf=`hidden${fr}`,Wm=`show${fr}`,If=`shown${fr}`,Js="hide",Do="show",Ra="showing",Of={animation:"boolean",autohide:"boolean",delay:"number"},Ro={animation:!0,autohide:!0,delay:5e3};class Na extends Ve{constructor(d,b){super(d,b),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ro}static get DefaultType(){return Of}static get NAME(){return"toast"}show(){R.trigger(this._element,Wm).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Js),Y(this._element),this._element.classList.add(Do,Ra),this._queueCallback(()=>{this._element.classList.remove(Ra),R.trigger(this._element,If),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(R.trigger(this._element,Km).defaultPrevented||(this._element.classList.add(Ra),this._queueCallback(()=>{this._element.classList.add(Js),this._element.classList.remove(Ra,Do),R.trigger(this._element,Nf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Do),super.dispose()}isShown(){return this._element.classList.contains(Do)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,b){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=b;break;case"focusin":case"focusout":this._hasKeyboardInteraction=b}if(b)return void this._clearTimeout();const D=d.relatedTarget;this._element===D||this._element.contains(D)||this._maybeScheduleHide()}_setListeners(){R.on(this._element,Nl,d=>this._onInteraction(d,!0)),R.on(this._element,Gu,d=>this._onInteraction(d,!1)),R.on(this._element,xo,d=>this._onInteraction(d,!0)),R.on(this._element,Co,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const b=Na.getOrCreateInstance(this,d);if(typeof d=="string"){if(b[d]===void 0)throw new TypeError(`No method named "${d}"`);b[d](this)}})}}return xi(Na),H(Na),{Alert:lt,Button:Kt,Carousel:Ar,Collapse:bt,Dropdown:cr,Modal:Hi,Offcanvas:vi,Popover:xl,ScrollSpy:wo,Tab:ws,Toast:Na,Tooltip:zn}})})(Ud)),Ud.exports}dM();function mM(){return p.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:p.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[p.jsxs(Bc,{className:"navbar-brand fw-bold fs-1",to:"/",children:[p.jsx("span",{className:"text-dark",children:"Salamat"}),p.jsx("span",{className:"text-white",children:"Doc"})]}),p.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:p.jsx("span",{className:"navbar-toggler-icon"})}),p.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:p.jsxs("ul",{className:"navbar-nav",children:[p.jsx("li",{className:"nav-item",children:p.jsx(Bc,{className:"nav-link text-dark",to:"/login",children:"Login"})}),p.jsxs("li",{className:"nav-item dropdown",children:[p.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),p.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[p.jsx("li",{children:p.jsx(Bc,{className:"dropdown-item",to:"/about",children:"About Us"})}),p.jsx("li",{children:p.jsx(Bc,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function pM(){const{user:i,profile:e,loading:n}=Xi(),s=Za();if(n)return p.jsx("div",{children:"Loading..."});const o=e?.role||null;let c=null;o==="admin"&&s.pathname.startsWith("/admin")?c=p.jsx(cM,{}):o==="doctor"&&s.pathname.startsWith("/doctor")?c=p.jsx(uM,{}):o==="patient"&&s.pathname.startsWith("/patient")&&(c=p.jsx(hM,{}));const u=!c;return p.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[c&&p.jsx("div",{style:{width:"250px",flexShrink:0},children:c}),p.jsxs("div",{style:{flexGrow:1},children:[u&&p.jsx(mM,{}),p.jsx(iC,{})]})]})}function Wi({children:i}){const{user:e,loading:n}=Xi();return n?p.jsx("div",{className:"loading-screen",children:"Loading..."}):e?i:p.jsx(nC,{to:"/login"})}function gM(){return p.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:p.jsxs("div",{className:"page-container",children:[p.jsx("h1",{className:"page-title",children:"Accessible Online Health"}),p.jsx("p",{className:"page-text",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective."}),p.jsx("p",{className:"page-text",children:"We allow you to remotely connect with our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."})]})})}const Ei=[];for(let i=0;i<256;++i)Ei.push((i+256).toString(16).slice(1));function yM(i,e=0){return(Ei[i[e+0]]+Ei[i[e+1]]+Ei[i[e+2]]+Ei[i[e+3]]+"-"+Ei[i[e+4]]+Ei[i[e+5]]+"-"+Ei[i[e+6]]+Ei[i[e+7]]+"-"+Ei[i[e+8]]+Ei[i[e+9]]+"-"+Ei[i[e+10]]+Ei[i[e+11]]+Ei[i[e+12]]+Ei[i[e+13]]+Ei[i[e+14]]+Ei[i[e+15]]).toLowerCase()}let Dg;const vM=new Uint8Array(16);function _M(){if(!Dg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dg=crypto.getRandomValues.bind(crypto)}return Dg(vM)}const bM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mw={randomUUID:bM};function EM(i,e,n){i=i||{};const s=i.random??i.rng?.()??_M();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,yM(s)}function TM(i,e,n){return mw.randomUUID&&!i?mw.randomUUID():EM(i)}function wM(){const i=Wl(),[e,n]=U.useState(""),s=async o=>{o.preventDefault();const c=o.target.email.value,u=o.target.password.value;try{const y=(await EN(fa,c,u)).user,v=Qt(He,"users",y.uid),E=await no(v);if(E.exists()){const S=E.data();if(!S.token){const C=TM();await ha(v,{token:C}),S.token=C}switch(localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("authToken",S.token),S.role){case"admin":i("/admin/dashboard");break;case"doctor":i("/doctor/dashboard");break;case"patient":i("/patient/dashboard");break;default:alert("No valid role found. Please contact support."),i("/login")}}}catch(g){console.error("Login failed:",g.message),n("Invalid email or password")}};return p.jsxs("div",{className:"login-page",children:[p.jsx("div",{className:"login-overlay"}),p.jsx("div",{className:"login-content",children:p.jsxs("div",{className:"login-box",children:[p.jsx("h2",{className:"text-center mb-4",children:"Login"}),p.jsxs("form",{onSubmit:s,children:[p.jsxs("div",{className:"mb-3 text-start",children:[p.jsx("label",{htmlFor:"email",className:"form-label fw-semibold",children:"Email address"}),p.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),p.jsxs("div",{className:"mb-3 text-start",children:[p.jsx("label",{htmlFor:"password",className:"form-label fw-semibold",children:"Password"}),p.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&p.jsx("p",{className:"text-danger text-center",children:e}),p.jsx("div",{className:"d-flex justify-content-center mt-4",children:p.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),p.jsx("div",{className:"text-center mt-3",children:p.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password? Contact an administrator."})})]})]})})]})}function SM(){return p.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Home.png')"},children:p.jsxs("div",{className:"page-container",children:[p.jsx("h2",{className:"page-title",children:"About Us"}),p.jsx("p",{className:"page-text",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective. With a mix of technology and classic human ingenuity and expertise, we made SalamatDoc. This has allowed us to remotely connect you to our partnered doctors, ensuring you stay fit and healthy even in the comfort of your own home."}),p.jsx("p",{className:"page-text",children:"The SalamatDoc website only allows account creation through contacting us. This ensures that everyone on the platform is legitimate, trustworthy, and safe."}),p.jsx("p",{className:"page-text",children:"Better services, better care, better health. Salamat, Doc!"})]})})}function AM(){return p.jsx("div",{className:"page-section",style:{backgroundImage:"url('../Contact.jpg')"},children:p.jsxs("div",{className:"page-container",children:[p.jsx("h2",{className:"page-title",children:"Contact"}),p.jsxs("p",{className:"page-text",children:[p.jsx("strong",{children:"Are you interested as a patient?"}),p.jsx("br",{}),"Email us through: ",p.jsx("strong",{children:"SalamatDoc@applications.com"}),p.jsx("br",{}),"Email us to get the application process started. We’ll guide you however much you need throughout the process."]}),p.jsxs("p",{className:"page-text",children:[p.jsx("strong",{children:"Are you interested in becoming a SalamatDoc doctor?"}),p.jsx("br",{}),"Email us through: ",p.jsx("strong",{children:"SalamatDoc@applications.com"}),p.jsx("br",{}),"Emailing us will begin the process. You will undergo an authentication and screening process for everyone’s safety, security, and health. We only accept qualified and certified doctors that will do their best to help patients."]})]})})}const xM=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)}),vA=yn(He,"users"),CM=()=>`USR-${xM()}`,DM=async i=>{try{const e=CM(),n={...i,token:e,createdAt:Gh(),updatedAt:Gh(),status:"active"},s=await hA(vA,n);return console.log("User added with ID:",s.id),{success:!0,id:s.id,token:e}}catch(e){throw console.error("Error adding user:",e),e}},RM=async()=>{try{const i=await Pn(vA),e=[];return i.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(i){throw console.error("Error getting users:",i),i}},NM=async(i,e)=>{try{const n=Qt(He,"users",i),s={...e,updatedAt:Gh()};return await ha(n,s),console.log("User updated successfully"),{success:!0}}catch(n){throw console.error("Error updating user:",n),n}},IM=async i=>{try{const e=Qt(He,"users",i);return await uA(e),console.log("User deleted successfully"),{success:!0}}catch(e){throw console.error("Error deleting user:",e),e}};function OM(){const[i,e]=U.useState([]),[n,s]=U.useState(!0),[o,c]=U.useState(!1),[u,g]=U.useState(null),[y,v]=U.useState({name:"",email:"",role:"user",phone:"",address:""});U.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0);const P=await RM();e(P)}catch(P){console.error("Error fetching users:",P),alert("Failed to fetch users")}finally{s(!1)}},S=P=>{const{name:H,value:te}=P.target;v(ye=>({...ye,[H]:te}))},C=async P=>{P.preventDefault();try{if(u)await NM(u.id,y),alert("User updated successfully!");else{const H=await DM(y);alert(`User added successfully!
Token: ${H.token}`)}v({name:"",email:"",role:"user",phone:"",address:""}),c(!1),g(null),E()}catch(H){console.error("Error saving user:",H),alert("Failed to save user")}},M=P=>{g(P),v({name:P.name||"",email:P.email||"",role:P.role||"user",phone:P.phone||"",address:P.address||""}),c(!0)},Y=async P=>{if(window.confirm("Are you sure you want to delete this user?"))try{await IM(P),alert("User deleted successfully!"),E()}catch(H){console.error("Error deleting user:",H),alert("Failed to delete user")}},K=()=>{g(null),v({name:"",email:"",role:"user",phone:"",address:""}),c(!0)},B=()=>{c(!1),g(null)};return p.jsxs("main",{style:{padding:"20px",width:"100%",backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[p.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[p.jsx("h1",{children:"Admin Dashboard"}),p.jsx("button",{onClick:K,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add New User"})]}),n?p.jsx("p",{children:"Loading users..."}):p.jsx("div",{style:{overflowX:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[p.jsx("th",{style:kc,children:"Name"}),p.jsx("th",{style:kc,children:"Email"}),p.jsx("th",{style:kc,children:"Role"}),p.jsx("th",{style:kc,children:"Token"}),p.jsx("th",{style:kc,children:"Status"}),p.jsx("th",{style:kc,children:"Actions"})]})}),p.jsx("tbody",{children:i.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):i.map(P=>p.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[p.jsx("td",{style:Pc,children:P.name}),p.jsx("td",{style:Pc,children:P.email}),p.jsx("td",{style:Pc,children:P.role}),p.jsx("td",{style:Pc,children:p.jsx("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px",fontSize:"12px"},children:P.token})}),p.jsx("td",{style:Pc,children:p.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:P.status==="active"?"#4CAF50":"#f44336",color:"white",fontSize:"12px"},children:P.status})}),p.jsxs("td",{style:Pc,children:[p.jsx("button",{onClick:()=>M(P),style:jM,children:"Edit"}),p.jsx("button",{onClick:()=>Y(P.id),style:MM,children:"Delete"})]})]},P.id))})]})})]}),o&&p.jsx("div",{style:kM,children:p.jsxs("div",{style:PM,children:[p.jsx("h2",{children:u?"Edit User":"Add New User"}),p.jsxs("form",{onSubmit:C,children:[p.jsxs("div",{style:vh,children:[p.jsx("label",{style:_h,children:"Name:"}),p.jsx("input",{type:"text",name:"name",value:y.name,onChange:S,required:!0,style:bh})]}),p.jsxs("div",{style:vh,children:[p.jsx("label",{style:_h,children:"Email:"}),p.jsx("input",{type:"email",name:"email",value:y.email,onChange:S,required:!0,style:bh})]}),p.jsxs("div",{style:vh,children:[p.jsx("label",{style:_h,children:"Role:"}),p.jsxs("select",{name:"role",value:y.role,onChange:S,style:bh,children:[p.jsx("option",{value:"user",children:"User"}),p.jsx("option",{value:"admin",children:"Admin"}),p.jsx("option",{value:"moderator",children:"Moderator"})]})]}),p.jsxs("div",{style:vh,children:[p.jsx("label",{style:_h,children:"Phone:"}),p.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:S,style:bh})]}),p.jsxs("div",{style:vh,children:[p.jsx("label",{style:_h,children:"Address:"}),p.jsx("textarea",{name:"address",value:y.address,onChange:S,style:{...bh,minHeight:"80px"}})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[p.jsx("button",{type:"submit",style:LM,children:u?"Update":"Create"}),p.jsx("button",{type:"button",onClick:B,style:VM,children:"Cancel"})]})]})]})})]})}const kc={padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},Pc={padding:"12px"},jM={padding:"6px 12px",marginRight:"8px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},MM={padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},kM={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},PM={backgroundColor:"white",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto"},vh={marginBottom:"15px"},_h={display:"block",marginBottom:"5px",fontWeight:"500"},bh={width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},LM={flex:1,padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},VM={flex:1,padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"};function _A(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=_A(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Pm(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=_A(i))&&(s&&(s+=" "),s+=e);return s}const UM=(i,e,n,s)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(i,n),c=Object.getOwnPropertyDescriptor(e,n);!zM(o,c)&&s||Object.defineProperty(i,n,c)},zM=function(i,e){return i===void 0||i.configurable||i.writable===e.writable&&i.enumerable===e.enumerable&&i.configurable===e.configurable&&(i.writable||i.value===e.value)},BM=(i,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(i)&&Object.setPrototypeOf(i,n)},qM=(i,e)=>`/* Wrapped ${i}*/
${e}`,FM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),HM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),GM=(i,e,n)=>{const s=n===""?"":`with ${n.trim()}() `,o=qM.bind(null,s,e.toString());Object.defineProperty(o,"name",HM);const{writable:c,enumerable:u,configurable:g}=FM;Object.defineProperty(i,"toString",{value:o,writable:c,enumerable:u,configurable:g})};function $M(i,e,{ignoreNonConfigurable:n=!1}={}){const{name:s}=i;for(const o of Reflect.ownKeys(e))UM(i,e,o,n);return BM(i,e),GM(i,e,s),i}const YM=new WeakMap,pw=new WeakMap;function bA(i,{cacheKey:e,cache:n=new Map,maxAge:s}={}){if(s===0)return i;if(typeof s=="number"){if(s>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(s<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...c){const u=e?e(c):c[0],g=n.get(u);if(g)return g.data;const y=i.apply(this,c),v=typeof s=="function"?s(...c):s;if(n.set(u,{data:y,maxAge:v?Date.now()+v:Number.POSITIVE_INFINITY}),v&&v>0&&v!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{n.delete(u)},v);E.unref?.();const S=pw.get(i)??new Set;S.add(E),pw.set(i,S)}return y};return $M(o,i,{ignoreNonConfigurable:!0}),YM.set(o,n),o}function QM(i){return typeof i=="string"}function KM(i,e,n){return n.indexOf(i)===e}function WM(i){return i.toLowerCase()===i}function gw(i){return i.indexOf(",")===-1?i:i.split(",")}function cy(i){if(!i)return i;if(i==="C"||i==="posix"||i==="POSIX")return"en-US";if(i.indexOf(".")!==-1){var e=i.split(".")[0],n=e===void 0?"":e;return cy(n)}if(i.indexOf("@")!==-1){var s=i.split("@")[0],n=s===void 0?"":s;return cy(n)}if(i.indexOf("-")===-1||!WM(i))return i;var o=i.split("-"),c=o[0],u=o[1],g=u===void 0?"":u;return"".concat(c,"-").concat(g.toUpperCase())}function XM(i){var e=i===void 0?{}:i,n=e.useFallbackLocale,s=n===void 0?!0:n,o=e.fallbackLocale,c=o===void 0?"en-US":o,u=[];if(typeof navigator<"u"){for(var g=navigator.languages||[],y=[],v=0,E=g;v<E.length;v++){var S=E[v];y=y.concat(gw(S))}var C=navigator.language,M=C&&gw(C);u=u.concat(y,M)}return s&&u.push(c),u.filter(QM).map(cy).filter(KM)}var JM=bA(XM,{cacheKey:JSON.stringify});function ZM(i){return JM(i)[0]||null}var EA=bA(ZM,{cacheKey:JSON.stringify});function io(i,e,n){return function(o,c=n){const u=i(o)+c;return e(u)}}function cf(i){return function(n){return new Date(i(n).getTime()-1)}}function uf(i,e){return function(s){return[i(s),e(s)]}}function fn(i){if(i instanceof Date)return i.getFullYear();if(typeof i=="number")return i;const e=Number.parseInt(i,10);if(typeof i=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${i}.`)}function hl(i){if(i instanceof Date)return i.getMonth();throw new Error(`Failed to get month from date: ${i}.`)}function Lm(i){if(i instanceof Date)return i.getDate();throw new Error(`Failed to get year from date: ${i}.`)}function mu(i){const e=fn(i),n=e+(-e+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}const ek=io(fn,mu,-100),TA=io(fn,mu,100),Nv=cf(TA),tk=io(fn,Nv,-100),wA=uf(mu,Nv);function fl(i){const e=fn(i),n=e+(-e+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}const SA=io(fn,fl,-10),Iv=io(fn,fl,10),Vm=cf(Iv),AA=io(fn,Vm,-10),xA=uf(fl,Vm);function pu(i){const e=fn(i),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const CA=io(fn,pu,-1),Ov=io(fn,pu,1),Um=cf(Ov),DA=io(fn,Um,-1),nk=uf(pu,Um);function jv(i,e){return function(s,o=e){const c=fn(s),u=hl(s)+o,g=new Date;return g.setFullYear(c,u,1),g.setHours(0,0,0,0),i(g)}}function nc(i){const e=fn(i),n=hl(i),s=new Date;return s.setFullYear(e,n,1),s.setHours(0,0,0,0),s}const RA=jv(nc,-1),Mv=jv(nc,1),hf=cf(Mv),NA=jv(hf,-1),ik=uf(nc,hf);function rk(i,e){return function(s,o=e){const c=fn(s),u=hl(s),g=Lm(s)+o,y=new Date;return y.setFullYear(c,u,g),y.setHours(0,0,0,0),i(y)}}function ff(i){const e=fn(i),n=hl(i),s=Lm(i),o=new Date;return o.setFullYear(e,n,s),o.setHours(0,0,0,0),o}const sk=rk(ff,1),kv=cf(sk),ak=uf(ff,kv);function IA(i){return Lm(hf(i))}var Si={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ok={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Pv=[0,1,2,3,4,5,6],Rg=new Map;function lk(i){return function(n,s){var o=n||EA();Rg.has(o)||Rg.set(o,new Map);var c=Rg.get(o);return c.has(i)||c.set(i,new Intl.DateTimeFormat(o||void 0,i).format),c.get(i)(s)}}function ck(i){var e=new Date(i);return new Date(e.setHours(12))}function ic(i){return function(e,n){return lk(i)(e,ck(n))}}var uk={day:"numeric"},hk={day:"numeric",month:"long",year:"numeric"},fk={month:"long"},dk={month:"long",year:"numeric"},mk={weekday:"short"},pk={weekday:"long"},gk={year:"numeric"},yk=ic(uk),vk=ic(hk),_k=ic(fk),OA=ic(dk),bk=ic(mk),Ek=ic(pk),zm=ic(gk),Tk=Pv[0],wk=Pv[5],yw=Pv[6];function $h(i,e){e===void 0&&(e=Si.ISO_8601);var n=i.getDay();switch(e){case Si.ISO_8601:return(n+6)%7;case Si.ISLAMIC:return(n+1)%7;case Si.HEBREW:case Si.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Sk(i){var e=mu(i);return fn(e)}function Ak(i){var e=fl(i);return fn(e)}function uy(i,e){e===void 0&&(e=Si.ISO_8601);var n=fn(i),s=hl(i),o=i.getDate()-$h(i,e);return new Date(n,s,o)}function xk(i,e){e===void 0&&(e=Si.ISO_8601);var n=e===Si.GREGORY?Si.GREGORY:Si.ISO_8601,s=uy(i,e),o=fn(i)+1,c,u;do c=new Date(o,0,n===Si.ISO_8601?4:1),u=uy(c,e),o-=1;while(i<u);return Math.round((s.getTime()-u.getTime())/(864e5*7))+1}function Hl(i,e){switch(i){case"century":return mu(e);case"decade":return fl(e);case"year":return pu(e);case"month":return nc(e);case"day":return ff(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function Ck(i,e){switch(i){case"century":return ek(e);case"decade":return SA(e);case"year":return CA(e);case"month":return RA(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function jA(i,e){switch(i){case"century":return TA(e);case"decade":return Iv(e);case"year":return Ov(e);case"month":return Mv(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function Dk(i,e){switch(i){case"decade":return SA(e,-100);case"year":return CA(e,-10);case"month":return RA(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function Rk(i,e){switch(i){case"decade":return Iv(e,100);case"year":return Ov(e,10);case"month":return Mv(e,12);default:throw new Error("Invalid rangeType: ".concat(i))}}function MA(i,e){switch(i){case"century":return Nv(e);case"decade":return Vm(e);case"year":return Um(e);case"month":return hf(e);case"day":return kv(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function Nk(i,e){switch(i){case"century":return tk(e);case"decade":return AA(e);case"year":return DA(e);case"month":return NA(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function Ik(i,e){switch(i){case"decade":return AA(e,-100);case"year":return DA(e,-10);case"month":return NA(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function vw(i,e){switch(i){case"century":return wA(e);case"decade":return xA(e);case"year":return nk(e);case"month":return ik(e);case"day":return ak(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function Ok(i,e,n){var s=[e,n].sort(function(o,c){return o.getTime()-c.getTime()});return[Hl(i,s[0]),MA(i,s[1])]}function kA(i,e,n){return n.map(function(s){return(e||zm)(i,s)}).join(" – ")}function jk(i,e,n){return kA(i,e,wA(n))}function PA(i,e,n){return kA(i,e,xA(n))}function Mk(i){return i.getDay()===new Date().getDay()}function LA(i,e){e===void 0&&(e=Si.ISO_8601);var n=i.getDay();switch(e){case Si.ISLAMIC:case Si.HEBREW:return n===wk||n===yw;case Si.ISO_8601:case Si.GREGORY:return n===yw||n===Tk;default:throw new Error("Unsupported calendar type.")}}var na="react-calendar__navigation";function kk(i){var e=i.activeStartDate,n=i.drillUp,s=i.formatMonthYear,o=s===void 0?OA:s,c=i.formatYear,u=c===void 0?zm:c,g=i.locale,y=i.maxDate,v=i.minDate,E=i.navigationAriaLabel,S=E===void 0?"":E,C=i.navigationAriaLive,M=i.navigationLabel,Y=i.next2AriaLabel,K=Y===void 0?"":Y,B=i.next2Label,P=B===void 0?"»":B,H=i.nextAriaLabel,te=H===void 0?"":H,ye=i.nextLabel,le=ye===void 0?"›":ye,pe=i.prev2AriaLabel,j=pe===void 0?"":pe,O=i.prev2Label,k=O===void 0?"«":O,L=i.prevAriaLabel,V=L===void 0?"":L,G=i.prevLabel,I=G===void 0?"‹":G,fe=i.setActiveStartDate,je=i.showDoubleView,X=i.view,se=i.views,me=se.indexOf(X)>0,De=X!=="century",Oe=Ck(X,e),R=De?Dk(X,e):void 0,ae=jA(X,e),ve=De?Rk(X,e):void 0,we=(function(){if(Oe.getFullYear()<0)return!0;var lt=Nk(X,e);return v&&v>=lt})(),Ie=De&&(function(){if(R.getFullYear()<0)return!0;var lt=Ik(X,e);return v&&v>=lt})(),Le=y&&y<ae,Ve=De&&y&&y<ve;function Pt(){fe(Oe,"prev")}function be(){fe(R,"prev2")}function xi(){fe(ae,"next")}function br(){fe(ve,"next2")}function Er(lt){var Ji=(function(){switch(X){case"century":return jk(g,u,lt);case"decade":return PA(g,u,lt);case"year":return u(g,lt);case"month":return o(g,lt);default:throw new Error("Invalid view: ".concat(X,"."))}})();return M?M({date:lt,label:Ji,locale:g||EA()||void 0,view:X}):Ji}function qr(){var lt="".concat(na,"__label");return p.jsxs("button",{"aria-label":S,"aria-live":C,className:lt,disabled:!me,onClick:n,style:{flexGrow:1},type:"button",children:[p.jsx("span",{className:"".concat(lt,"__labelText ").concat(lt,"__labelText--from"),children:Er(e)}),je?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"".concat(lt,"__divider"),children:" – "}),p.jsx("span",{className:"".concat(lt,"__labelText ").concat(lt,"__labelText--to"),children:Er(ae)})]}):null]})}return p.jsxs("div",{className:na,children:[k!==null&&De?p.jsx("button",{"aria-label":j,className:"".concat(na,"__arrow ").concat(na,"__prev2-button"),disabled:Ie,onClick:be,type:"button",children:k}):null,I!==null&&p.jsx("button",{"aria-label":V,className:"".concat(na,"__arrow ").concat(na,"__prev-button"),disabled:we,onClick:Pt,type:"button",children:I}),qr(),le!==null&&p.jsx("button",{"aria-label":te,className:"".concat(na,"__arrow ").concat(na,"__next-button"),disabled:Le,onClick:xi,type:"button",children:le}),P!==null&&De?p.jsx("button",{"aria-label":K,className:"".concat(na,"__arrow ").concat(na,"__next2-button"),disabled:Ve,onClick:br,type:"button",children:P}):null]})}var Fc=function(){return Fc=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Fc.apply(this,arguments)},Pk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function _w(i){return"".concat(i,"%")}function Lv(i){var e=i.children,n=i.className,s=i.count,o=i.direction,c=i.offset,u=i.style,g=i.wrap,y=Pk(i,["children","className","count","direction","offset","style","wrap"]);return p.jsx("div",Fc({className:n,style:Fc({display:"flex",flexDirection:o,flexWrap:g?"wrap":"nowrap"},u)},y,{children:U.Children.map(e,function(v,E){var S=c&&E===0?_w(100*c/s):null;return U.cloneElement(v,Fc(Fc({},v.props),{style:{flexBasis:_w(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function Lk(i,e,n){return e&&e>i?e:n&&n<i?n:i}function Yh(i,e){return e[0]<=i&&e[1]>=i}function Vk(i,e){return i[0]<=e[0]&&i[1]>=e[1]}function VA(i,e){return Yh(i[0],e)||Yh(i[1],e)}function bw(i,e,n){var s=VA(e,i),o=[];if(s){o.push(n);var c=Yh(i[0],e),u=Yh(i[1],e);c&&o.push("".concat(n,"Start")),u&&o.push("".concat(n,"End")),c&&u&&o.push("".concat(n,"BothEnds"))}return o}function Uk(i){return Array.isArray(i)?i[0]!==null&&i[1]!==null:i!==null}function zk(i){if(!i)throw new Error("args is required");var e=i.value,n=i.date,s=i.hover,o="react-calendar__tile",c=[o];if(!n)return c;var u=new Date,g=(function(){if(Array.isArray(n))return n;var M=i.dateType;if(!M)throw new Error("dateType is required when date is not an array of two dates");return vw(M,n)})();if(Yh(u,g)&&c.push("".concat(o,"--now")),!e||!Uk(e))return c;var y=(function(){if(Array.isArray(e))return e;var M=i.valueType;if(!M)throw new Error("valueType is required when value is not an array of two dates");return vw(M,e)})();Vk(y,g)?c.push("".concat(o,"--active")):VA(y,g)&&c.push("".concat(o,"--hasActive"));var v=bw(y,g,"".concat(o,"--range"));c.push.apply(c,v);var E=Array.isArray(e)?e:[e];if(s&&E.length===1){var S=s>y[0]?[y[0],s]:[s,y[0]],C=bw(S,g,"".concat(o,"--hover"));c.push.apply(c,C)}return c}function Bm(i){for(var e=i.className,n=i.count,s=n===void 0?3:n,o=i.dateTransform,c=i.dateType,u=i.end,g=i.hover,y=i.offset,v=i.renderTile,E=i.start,S=i.step,C=S===void 0?1:S,M=i.value,Y=i.valueType,K=[],B=E;B<=u;B+=C){var P=o(B);K.push(v({classes:zk({date:P,dateType:c,hover:g,value:M,valueType:Y}),date:P}))}return p.jsx(Lv,{className:e,count:s,offset:y,wrap:!0,children:K})}function qm(i){var e=i.activeStartDate,n=i.children,s=i.classes,o=i.date,c=i.formatAbbr,u=i.locale,g=i.maxDate,y=i.maxDateTransform,v=i.minDate,E=i.minDateTransform,S=i.onClick,C=i.onMouseOver,M=i.style,Y=i.tileClassName,K=i.tileContent,B=i.tileDisabled,P=i.view,H=U.useMemo(function(){var ye={activeStartDate:e,date:o,view:P};return typeof Y=="function"?Y(ye):Y},[e,o,Y,P]),te=U.useMemo(function(){var ye={activeStartDate:e,date:o,view:P};return typeof K=="function"?K(ye):K},[e,o,K,P]);return p.jsxs("button",{className:Pm(s,H),disabled:v&&E(v)>o||g&&y(g)<o||B?.({activeStartDate:e,date:o,view:P}),onClick:S?function(ye){return S(o,ye)}:void 0,onFocus:C?function(){return C(o)}:void 0,onMouseOver:C?function(){return C(o)}:void 0,style:M,type:"button",children:[c?p.jsx("abbr",{"aria-label":c(u,o),children:n}):n,te]})}var hy=function(){return hy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},hy.apply(this,arguments)},Bk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},Ew="react-calendar__century-view__decades__decade";function qk(i){var e=i.classes,n=e===void 0?[]:e,s=i.currentCentury,o=i.formatYear,c=o===void 0?zm:o,u=Bk(i,["classes","currentCentury","formatYear"]),g=u.date,y=u.locale,v=[];return n&&v.push.apply(v,n),v.push(Ew),mu(g).getFullYear()!==s&&v.push("".concat(Ew,"--neighboringCentury")),p.jsx(qm,hy({},u,{classes:v,maxDateTransform:Vm,minDateTransform:fl,view:"century",children:PA(y,c,g)}))}var fy=function(){return fy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},fy.apply(this,arguments)},Tw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function Fk(i){var e=i.activeStartDate,n=i.hover,s=i.showNeighboringCentury,o=i.value,c=i.valueType,u=Tw(i,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),g=Sk(e),y=g+(s?119:99);return p.jsx(Bm,{className:"react-calendar__century-view__decades",dateTransform:fl,dateType:"decade",end:y,hover:n,renderTile:function(v){var E=v.date,S=Tw(v,["date"]);return p.jsx(qk,fy({},u,S,{activeStartDate:e,currentCentury:g,date:E}),E.getTime())},start:g,step:10,value:o,valueType:c})}var dy=function(){return dy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},dy.apply(this,arguments)};function Hk(i){function e(){return p.jsx(Fk,dy({},i))}return p.jsx("div",{className:"react-calendar__century-view",children:e()})}var my=function(){return my=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},my.apply(this,arguments)},Gk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},ww="react-calendar__decade-view__years__year";function $k(i){var e=i.classes,n=e===void 0?[]:e,s=i.currentDecade,o=i.formatYear,c=o===void 0?zm:o,u=Gk(i,["classes","currentDecade","formatYear"]),g=u.date,y=u.locale,v=[];return n&&v.push.apply(v,n),v.push(ww),fl(g).getFullYear()!==s&&v.push("".concat(ww,"--neighboringDecade")),p.jsx(qm,my({},u,{classes:v,maxDateTransform:Um,minDateTransform:pu,view:"decade",children:c(y,g)}))}var py=function(){return py=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},py.apply(this,arguments)},Sw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function Yk(i){var e=i.activeStartDate,n=i.hover,s=i.showNeighboringDecade,o=i.value,c=i.valueType,u=Sw(i,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),g=Ak(e),y=g+(s?11:9);return p.jsx(Bm,{className:"react-calendar__decade-view__years",dateTransform:pu,dateType:"year",end:y,hover:n,renderTile:function(v){var E=v.date,S=Sw(v,["date"]);return p.jsx($k,py({},u,S,{activeStartDate:e,currentDecade:g,date:E}),E.getTime())},start:g,value:o,valueType:c})}var gy=function(){return gy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},gy.apply(this,arguments)};function Qk(i){function e(){return p.jsx(Yk,gy({},i))}return p.jsx("div",{className:"react-calendar__decade-view",children:e()})}var yy=function(){return yy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},yy.apply(this,arguments)},Kk=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},Aw=function(i,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return i.concat(c||Array.prototype.slice.call(e))},Wk="react-calendar__year-view__months__month";function Xk(i){var e=i.classes,n=e===void 0?[]:e,s=i.formatMonth,o=s===void 0?_k:s,c=i.formatMonthYear,u=c===void 0?OA:c,g=Kk(i,["classes","formatMonth","formatMonthYear"]),y=g.date,v=g.locale;return p.jsx(qm,yy({},g,{classes:Aw(Aw([],n,!0),[Wk],!1),formatAbbr:u,maxDateTransform:hf,minDateTransform:nc,view:"year",children:o(v,y)}))}var vy=function(){return vy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},vy.apply(this,arguments)},xw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function Jk(i){var e=i.activeStartDate,n=i.hover,s=i.value,o=i.valueType,c=xw(i,["activeStartDate","hover","value","valueType"]),u=0,g=11,y=fn(e);return p.jsx(Bm,{className:"react-calendar__year-view__months",dateTransform:function(v){var E=new Date;return E.setFullYear(y,v,1),nc(E)},dateType:"month",end:g,hover:n,renderTile:function(v){var E=v.date,S=xw(v,["date"]);return p.jsx(Xk,vy({},c,S,{activeStartDate:e,date:E}),E.getTime())},start:u,value:s,valueType:o})}var _y=function(){return _y=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},_y.apply(this,arguments)};function Zk(i){function e(){return p.jsx(Jk,_y({},i))}return p.jsx("div",{className:"react-calendar__year-view",children:e()})}var by=function(){return by=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},by.apply(this,arguments)},eP=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},Ng="react-calendar__month-view__days__day";function tP(i){var e=i.calendarType,n=i.classes,s=n===void 0?[]:n,o=i.currentMonthIndex,c=i.formatDay,u=c===void 0?yk:c,g=i.formatLongDate,y=g===void 0?vk:g,v=eP(i,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=v.date,S=v.locale,C=[];return s&&C.push.apply(C,s),C.push(Ng),LA(E,e)&&C.push("".concat(Ng,"--weekend")),E.getMonth()!==o&&C.push("".concat(Ng,"--neighboringMonth")),p.jsx(qm,by({},v,{classes:C,formatAbbr:y,maxDateTransform:kv,minDateTransform:ff,view:"month",children:u(S,E)}))}var Ey=function(){return Ey=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Ey.apply(this,arguments)},Cw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function nP(i){var e=i.activeStartDate,n=i.calendarType,s=i.hover,o=i.showFixedNumberOfWeeks,c=i.showNeighboringMonth,u=i.value,g=i.valueType,y=Cw(i,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),v=fn(e),E=hl(e),S=o||c,C=$h(e,n),M=S?0:C,Y=(S?-C:0)+1,K=(function(){if(o)return Y+42-1;var B=IA(e);if(c){var P=new Date;P.setFullYear(v,E,B),P.setHours(0,0,0,0);var H=7-$h(P,n)-1;return B+H}return B})();return p.jsx(Bm,{className:"react-calendar__month-view__days",count:7,dateTransform:function(B){var P=new Date;return P.setFullYear(v,E,B),ff(P)},dateType:"day",hover:s,end:K,renderTile:function(B){var P=B.date,H=Cw(B,["date"]);return p.jsx(tP,Ey({},y,H,{activeStartDate:e,calendarType:n,currentMonthIndex:E,date:P}),P.getTime())},offset:M,start:Y,value:u,valueType:g})}var UA="react-calendar__month-view__weekdays",Ig="".concat(UA,"__weekday");function iP(i){for(var e=i.calendarType,n=i.formatShortWeekday,s=n===void 0?bk:n,o=i.formatWeekday,c=o===void 0?Ek:o,u=i.locale,g=i.onMouseLeave,y=new Date,v=nc(y),E=fn(v),S=hl(v),C=[],M=1;M<=7;M+=1){var Y=new Date(E,S,M-$h(v,e)),K=c(u,Y);C.push(p.jsx("div",{className:Pm(Ig,Mk(Y)&&"".concat(Ig,"--current"),LA(Y,e)&&"".concat(Ig,"--weekend")),children:p.jsx("abbr",{"aria-label":K,title:K,children:s(u,Y).replace(".","")})},M))}return p.jsx(Lv,{className:UA,count:7,onFocus:g,onMouseOver:g,children:C})}var cm=function(){return cm=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},cm.apply(this,arguments)},Dw=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},Rw="react-calendar__tile";function rP(i){var e=i.onClickWeekNumber,n=i.weekNumber,s=p.jsx("span",{children:n});if(e){var o=i.date,c=i.onClickWeekNumber,u=i.weekNumber,g=Dw(i,["date","onClickWeekNumber","weekNumber"]);return p.jsx("button",cm({},g,{className:Rw,onClick:function(y){return c(u,o,y)},type:"button",children:s}))}else{i.date,i.onClickWeekNumber,i.weekNumber;var g=Dw(i,["date","onClickWeekNumber","weekNumber"]);return p.jsx("div",cm({},g,{className:Rw,children:s}))}}function sP(i){var e=i.activeStartDate,n=i.calendarType,s=i.onClickWeekNumber,o=i.onMouseLeave,c=i.showFixedNumberOfWeeks,u=(function(){if(c)return 6;var v=IA(e),E=$h(e,n),S=v-(7-E);return 1+Math.ceil(S/7)})(),g=(function(){for(var v=fn(e),E=hl(e),S=Lm(e),C=[],M=0;M<u;M+=1)C.push(uy(new Date(v,E,S+M*7),n));return C})(),y=g.map(function(v){return xk(v,n)});return p.jsx(Lv,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:y.map(function(v,E){var S=g[E];if(!S)throw new Error("date is not defined");return p.jsx(rP,{date:S,onClickWeekNumber:s,weekNumber:v},v)})})}var Ty=function(){return Ty=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Ty.apply(this,arguments)},aP=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function oP(i){if(i)for(var e=0,n=Object.entries(ok);e<n.length;e++){var s=n[e],o=s[0],c=s[1];if(c.includes(i))return o}return Si.ISO_8601}function lP(i){var e=i.activeStartDate,n=i.locale,s=i.onMouseLeave,o=i.showFixedNumberOfWeeks,c=i.calendarType,u=c===void 0?oP(n):c,g=i.formatShortWeekday,y=i.formatWeekday,v=i.onClickWeekNumber,E=i.showWeekNumbers,S=aP(i,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function C(){return p.jsx(iP,{calendarType:u,formatShortWeekday:g,formatWeekday:y,locale:n,onMouseLeave:s})}function M(){return E?p.jsx(sP,{activeStartDate:e,calendarType:u,onClickWeekNumber:v,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function Y(){return p.jsx(nP,Ty({calendarType:u},S))}var K="react-calendar__month-view";return p.jsx("div",{className:Pm(K,E?"".concat(K,"--weekNumbers"):""),children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[M(),p.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[C(),Y()]})]})})}var Hc=function(){return Hc=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Hc.apply(this,arguments)},Ad="react-calendar",zd=["century","decade","year","month"],cP=["decade","year","month","day"],Vv=new Date;Vv.setFullYear(1,0,1);Vv.setHours(0,0,0,0);var uP=new Date(864e13);function Ch(i){return i instanceof Date?i:new Date(i)}function zA(i,e){return zd.slice(zd.indexOf(i),zd.indexOf(e)+1)}function hP(i,e,n){var s=zA(e,n);return s.indexOf(i)!==-1}function Uv(i,e,n){return i&&hP(i,e,n)?i:n}function BA(i){var e=zd.indexOf(i);return cP[e]}function fP(i,e){var n=Array.isArray(i)?i[e]:i;if(!n)return null;var s=Ch(n);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(i));return s}function qA(i,e){var n=i.value,s=i.minDate,o=i.maxDate,c=i.maxDetail,u=fP(n,e);if(!u)return null;var g=BA(c),y=(function(){switch(e){case 0:return Hl(g,u);case 1:return MA(g,u);default:throw new Error("Invalid index value: ".concat(e))}})();return Lk(y,s,o)}var zv=function(i){return qA(i,0)},FA=function(i){return qA(i,1)},dP=function(i){return[zv,FA].map(function(e){return e(i)})};function HA(i){var e=i.maxDate,n=i.maxDetail,s=i.minDate,o=i.minDetail,c=i.value,u=i.view,g=Uv(u,o,n),y=zv({value:c,minDate:s,maxDate:e,maxDetail:n})||new Date;return Hl(g,y)}function mP(i){var e=i.activeStartDate,n=i.defaultActiveStartDate,s=i.defaultValue,o=i.defaultView,c=i.maxDate,u=i.maxDetail,g=i.minDate,y=i.minDetail,v=i.value,E=i.view,S=Uv(E,y,u),C=e||n;return C?Hl(S,C):HA({maxDate:c,maxDetail:u,minDate:g,minDetail:y,value:v||s,view:E||o})}function Og(i){return i&&(!Array.isArray(i)||i.length===1)}function xd(i,e){return i instanceof Date&&e instanceof Date&&i.getTime()===e.getTime()}var pP=U.forwardRef(function(e,n){var s=e.activeStartDate,o=e.allowPartialRange,c=e.calendarType,u=e.className,g=e.defaultActiveStartDate,y=e.defaultValue,v=e.defaultView,E=e.formatDay,S=e.formatLongDate,C=e.formatMonth,M=e.formatMonthYear,Y=e.formatShortWeekday,K=e.formatWeekday,B=e.formatYear,P=e.goToRangeStartOnSelect,H=P===void 0?!0:P,te=e.inputRef,ye=e.locale,le=e.maxDate,pe=le===void 0?uP:le,j=e.maxDetail,O=j===void 0?"month":j,k=e.minDate,L=k===void 0?Vv:k,V=e.minDetail,G=V===void 0?"century":V,I=e.navigationAriaLabel,fe=e.navigationAriaLive,je=e.navigationLabel,X=e.next2AriaLabel,se=e.next2Label,me=e.nextAriaLabel,De=e.nextLabel,Oe=e.onActiveStartDateChange,R=e.onChange,ae=e.onClickDay,ve=e.onClickDecade,we=e.onClickMonth,Ie=e.onClickWeekNumber,Le=e.onClickYear,Ve=e.onDrillDown,Pt=e.onDrillUp,be=e.onViewChange,xi=e.prev2AriaLabel,br=e.prev2Label,Er=e.prevAriaLabel,qr=e.prevLabel,lt=e.returnValue,Ji=lt===void 0?"start":lt,Kt=e.selectRange,di=e.showDoubleView,Ms=e.showFixedNumberOfWeeks,tn=e.showNavigation,dn=tn===void 0?!0:tn,Fr=e.showNeighboringCentury,dl=e.showNeighboringDecade,da=e.showNeighboringMonth,Qn=da===void 0?!0:da,Zi=e.showWeekNumbers,Ci=e.tileClassName,ks=e.tileContent,Hr=e.tileDisabled,ma=e.value,Tr=e.view,er=U.useState(g),wr=er[0],Cn=er[1],_n=U.useState(null),ii=_n[0],Wt=_n[1],pa=U.useState(Array.isArray(y)?y.map(function(Ke){return Ke!==null?Ch(Ke):null}):y!=null?Ch(y):null),Gr=pa[0],ro=pa[1],zi=U.useState(v),us=zi[0],Xt=zi[1],It=s||wr||mP({activeStartDate:s,defaultActiveStartDate:g,defaultValue:y,defaultView:v,maxDate:pe,maxDetail:O,minDate:L,minDetail:G,value:ma,view:Tr}),zt=(function(){var Ke=(function(){return Kt&&Og(Gr)?Gr:ma!==void 0?ma:Gr})();return Ke?Array.isArray(Ke)?Ke.map(function(qt){return qt!==null?Ch(qt):null}):Ke!==null?Ch(Ke):null:null})(),Kn=BA(O),Lt=Uv(Tr||us,G,O),mi=zA(G,O),tr=Kt?ii:null,Sr=mi.indexOf(Lt)<mi.length-1,Ar=mi.indexOf(Lt)>0,Di=U.useCallback(function(Ke){var qt=(function(){switch(Ji){case"start":return zv;case"end":return FA;case"range":return dP;default:throw new Error("Invalid returnValue.")}})();return qt({maxDate:pe,maxDetail:O,minDate:L,value:Ke})},[pe,O,L,Ji]),hs=U.useCallback(function(Ke,qt){Cn(Ke);var bt={action:qt,activeStartDate:Ke,value:zt,view:Lt};Oe&&!xd(It,Ke)&&Oe(bt)},[It,Oe,zt,Lt]),$r=U.useCallback(function(Ke,qt){var bt=(function(){switch(Lt){case"century":return ve;case"decade":return Le;case"year":return we;case"month":return ae;default:throw new Error("Invalid view: ".concat(Lt,"."))}})();bt&&bt(Ke,qt)},[ae,ve,we,Le,Lt]),xr=U.useCallback(function(Ke,qt){if(Sr){$r(Ke,qt);var bt=mi[mi.indexOf(Lt)+1];if(!bt)throw new Error("Attempted to drill down from the lowest view.");Cn(Ke),Xt(bt);var Et={action:"drillDown",activeStartDate:Ke,value:zt,view:bt};Oe&&!xd(It,Ke)&&Oe(Et),be&&Lt!==bt&&be(Et),Ve&&Ve(Et)}},[It,Sr,Oe,$r,Ve,be,zt,Lt,mi]),Bi=U.useCallback(function(){if(Ar){var Ke=mi[mi.indexOf(Lt)-1];if(!Ke)throw new Error("Attempted to drill up from the highest view.");var qt=Hl(Ke,It);Cn(qt),Xt(Ke);var bt={action:"drillUp",activeStartDate:qt,value:zt,view:Ke};Oe&&!xd(It,qt)&&Oe(bt),be&&Lt!==Ke&&be(bt),Pt&&Pt(bt)}},[It,Ar,Oe,Pt,be,zt,Lt,mi]),Ps=U.useCallback(function(Ke,qt){var bt=zt;$r(Ke,qt);var Et=Kt&&!Og(bt),ct;if(Kt)if(Et)ct=Hl(Kn,Ke);else{if(!bt)throw new Error("previousValue is required");if(Array.isArray(bt))throw new Error("previousValue must not be an array");ct=Ok(Kn,bt,Ke)}else ct=Di(Ke);var rn=!Kt||Et||H?HA({maxDate:pe,maxDetail:O,minDate:L,minDetail:G,value:ct,view:Lt}):null;qt.persist(),Cn(rn),ro(ct);var Ft={action:"onChange",activeStartDate:rn,value:ct,view:Lt};if(Oe&&!xd(It,rn)&&Oe(Ft),R)if(Kt){var Wn=Og(ct);if(!Wn)R(ct||null,qt);else if(o){if(Array.isArray(ct))throw new Error("value must not be an array");R([ct||null,null],qt)}}else R(ct||null,qt)},[It,o,Di,H,pe,O,L,G,Oe,R,$r,Kt,zt,Kn,Lt]);function pi(Ke){Wt(Ke)}function bn(){Wt(null)}U.useImperativeHandle(n,function(){return{activeStartDate:It,drillDown:xr,drillUp:Bi,onChange:Ps,setActiveStartDate:hs,value:zt,view:Lt}},[It,xr,Bi,Ps,hs,zt,Lt]);function Bt(Ke){var qt=Ke?jA(Lt,It):Hl(Lt,It),bt=Sr?xr:Ps,Et={activeStartDate:qt,hover:tr,locale:ye,maxDate:pe,minDate:L,onClick:bt,onMouseOver:Kt?pi:void 0,tileClassName:Ci,tileContent:ks,tileDisabled:Hr,value:zt,valueType:Kn};switch(Lt){case"century":return p.jsx(Hk,Hc({formatYear:B,showNeighboringCentury:Fr},Et));case"decade":return p.jsx(Qk,Hc({formatYear:B,showNeighboringDecade:dl},Et));case"year":return p.jsx(Zk,Hc({formatMonth:C,formatMonthYear:M},Et));case"month":return p.jsx(lP,Hc({calendarType:c,formatDay:E,formatLongDate:S,formatShortWeekday:Y,formatWeekday:K,onClickWeekNumber:Ie,onMouseLeave:Kt?bn:void 0,showFixedNumberOfWeeks:typeof Ms<"u"?Ms:di,showNeighboringMonth:Qn,showWeekNumbers:Zi},Et));default:throw new Error("Invalid view: ".concat(Lt,"."))}}function En(){return dn?p.jsx(kk,{activeStartDate:It,drillUp:Bi,formatMonthYear:M,formatYear:B,locale:ye,maxDate:pe,minDate:L,navigationAriaLabel:I,navigationAriaLive:fe,navigationLabel:je,next2AriaLabel:X,next2Label:se,nextAriaLabel:me,nextLabel:De,prev2AriaLabel:xi,prev2Label:br,prevAriaLabel:Er,prevLabel:qr,setActiveStartDate:hs,showDoubleView:di,view:Lt,views:mi}):null}var Ri=Array.isArray(zt)?zt:[zt];return p.jsxs("div",{className:Pm(Ad,Kt&&Ri.length===1&&"".concat(Ad,"--selectRange"),di&&"".concat(Ad,"--doubleView"),u),ref:te,children:[En(),p.jsxs("div",{className:"".concat(Ad,"__viewContainer"),onBlur:Kt?bn:void 0,onMouseLeave:Kt?bn:void 0,children:[Bt(),di?Bt(!0):null]})]})});function gP(i){if(!i)return null;if(i instanceof Dt)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function yP(){const[i,e]=U.useState([]),[n,s]=U.useState([]),[o,c]=U.useState(!0),[u,g]=U.useState(new Date);if(U.useEffect(()=>{(async()=>{const C=fa.currentUser;if(C)try{const Y=(await Pn(yn(He,"users"))).docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.role==="patient");e(Y);const K=Qt(He,"users",C.uid),B=Vi(yn(He,"appointments"),Ui("doctorId","==",K)),P=await Pn(B),H=await Promise.all(P.docs.map(async te=>{const ye=te.data();let le="Unknown",pe=null;if(ye.patientId)try{const j=await no(ye.patientId);if(j.exists()){const O=j.data();le=`${O.firstName||""} ${O.lastName||""}`.trim(),pe=j.id}}catch(j){console.error("Error fetching patient:",j)}return{id:te.id,patientName:le,patientId:pe,dateTime:gP(ye.dateTime),type:ye.type||"",location:ye.location||"",notes:ye.notes||"",reason:ye.reason||""}}));s(H)}catch(M){console.error("Error loading dashboard:",M)}finally{c(!1)}})()},[]),o)return p.jsx("p",{children:"Loading dashboard..."});const y=n.filter(S=>S.dateTime).map(S=>S.dateTime.toDateString()),v=n.filter(S=>S.dateTime&&S.dateTime.toDateString()===u.toDateString()),E=S=>{const C=i.find(M=>M.id===S);return C?`${C.firstName||""} ${C.lastName||""}`.trim():"Unknown"};return p.jsxs("div",{className:"dashboard-container",children:[p.jsxs("div",{className:"dashboard-card",children:[p.jsx("h2",{children:"Patient Overview"}),p.jsxs("p",{children:["Active Patients: ",i.length]}),p.jsxs("p",{children:["Pending Checkups: ",Math.floor(i.length/4)]})]}),p.jsxs("div",{className:"dashboard-card",children:[p.jsx("h2",{children:"Patients"}),p.jsxs("table",{className:"appointment-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Patient Name"}),p.jsx("th",{children:"Appointments"})]})}),p.jsx("tbody",{children:i.map(S=>{const C=n.filter(M=>M.patientId===S.id).map(M=>M.dateTime?M.dateTime.toLocaleDateString():"N/A").join(", ");return p.jsxs("tr",{children:[p.jsx("td",{children:E(S.id)}),p.jsx("td",{children:C||"No appointments"})]},S.id)})})]})]}),p.jsxs("div",{className:"dashboard-card",children:[p.jsx("h2",{children:"Appointment Calendar"}),p.jsx(pP,{value:u,onChange:g,tileClassName:({date:S,view:C})=>C==="month"&&y.includes(S.toDateString())?"highlight-appointment":null}),v.length>0?p.jsx("ul",{children:v.map(S=>p.jsxs("li",{children:[S.dateTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," — ",S.patientName," (",S.type||"Checkup",")"]},S.id))}):p.jsx("p",{children:"No appointments on this day."})]})]})}function vP(){const{user:i}=Xi(),{role:e}=Cy(),[n,s]=U.useState([]);U.useEffect(()=>{if(!i)return;(async()=>{const u=Qt(He,"users",i.uid),g=Vi(yn(He,"notifications"),Ui("recipientId","==",u)),v=(await Pn(g)).docs.map(E=>({id:E.id,...E.data()}));s(v.sort((E,S)=>S.timestamp?.seconds-E.timestamp?.seconds))})()},[i]);const o=async(c,u)=>{const g=Qt(He,"notifications",c);await ha(g,{read:!u}),s(y=>y.map(v=>v.id===c?{...v,read:!u}:v))};return p.jsx("div",{className:"notifications-container",children:p.jsxs("div",{className:"notifications-card",children:[p.jsx("h2",{className:"notifications-title",children:"Notifications"}),n.length===0?p.jsx("p",{className:"no-notifications",children:"No notifications yet."}):p.jsx("ul",{className:"notifications-list",children:n.map(c=>p.jsxs("li",{className:`notification-item ${c.read?"read":"unread"}`,children:[p.jsxs("div",{className:"notification-header",children:[p.jsx("h4",{className:"notification-title",children:c.title||"Untitled Notification"}),p.jsx("p",{className:"notification-message",children:c.message}),p.jsx("button",{className:`mark-button ${c.read?"mark-unread":"mark-read"}`,onClick:()=>o(c.id,c.read),children:c.read?"Mark as Unread":"Mark as Read"})]}),p.jsx("small",{className:"notification-timestamp",children:c.timestamp?.toDate().toLocaleString()})]},c.id))})]})})}function jg(i){if(!i)return"N/A";const e=new Date(i),n=Date.now()-e.getTime(),s=new Date(n);return Math.abs(s.getUTCFullYear()-1970)}function _P(){const[i,e]=U.useState([]),[n,s]=U.useState([]),[o,c]=U.useState(!0),[u,g]=U.useState(""),[y,v]=U.useState({key:"name",direction:"asc"}),E=Wl();U.useEffect(()=>{S()},[]);const S=async()=>{try{if(!fa.currentUser)return;const H=(await Pn(yn(He,"users"))).docs.map(le=>({id:le.id,...le.data()})).filter(le=>le.role==="patient");e(H);const ye=(await Pn(yn(He,"appointments"))).docs.map(le=>({id:le.id,...le.data()}));s(ye)}catch(B){console.error("Error fetching data:",B)}finally{c(!1)}},C=B=>{let P="asc";y.key===B&&y.direction==="asc"&&(P="desc"),v({key:B,direction:P})},M=B=>y.key===B?y.direction==="asc"?" ▲":" ▼":"",K=[...i].sort((B,P)=>{if(!B[y.key]&&!P[y.key])return 0;if(!B[y.key])return 1;if(!P[y.key])return-1;let H=B[y.key],te=P[y.key];if(y.key==="name")H=`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`.toLowerCase(),te=`${P.first_name||P.firstName||""} ${P.last_name||P.lastName||""}`.toLowerCase();else if(y.key==="age")H=jg(B.birthDate),te=jg(P.birthDate);else if(y.key==="nextAppointment"){const ye=n.filter(pe=>pe.patientID===B.id&&pe.dateTime).map(pe=>new Date(pe.dateTime)).sort((pe,j)=>pe-j)[0],le=n.filter(pe=>pe.patientID===P.id&&pe.dateTime).map(pe=>new Date(pe.dateTime)).sort((pe,j)=>pe-j)[0];H=ye||new Date(864e13),te=le||new Date(864e13)}return H<te?y.direction==="asc"?-1:1:H>te?y.direction==="asc"?1:-1:0}).filter(B=>`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`.toLowerCase().includes(u.toLowerCase()));return o?p.jsx("p",{className:"loading",children:"Loading patients..."}):p.jsxs("div",{className:"patients-container",children:[p.jsxs("div",{className:"patients-header",children:[p.jsxs("h2",{children:["Patients (",i.length,")"]}),p.jsx("input",{type:"text",placeholder:"Search by name...",value:u,onChange:B=>g(B.target.value)})]}),p.jsxs("table",{className:"patients-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsxs("th",{onClick:()=>C("name"),children:["Name",M("name")]}),p.jsxs("th",{onClick:()=>C("sex"),children:["Sex",M("sex")]}),p.jsxs("th",{onClick:()=>C("age"),children:["Age",M("age")]}),p.jsxs("th",{onClick:()=>C("nextAppointment"),children:["Next Appointment",M("nextAppointment")]}),p.jsxs("th",{onClick:()=>C("currentConcern"),children:["Current Concern",M("currentConcern")]}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:K.map(B=>{const P=n.filter(te=>te.patientID===B.id&&te.dateTime).map(te=>new Date(te.dateTime)).sort((te,ye)=>te-ye),H=P[0]?P[0].toLocaleDateString():"N/A";return p.jsxs("tr",{children:[p.jsx("td",{children:`${B.first_name||B.firstName||""} ${B.last_name||B.lastName||""}`}),p.jsx("td",{children:B.sex||B.gender||"N/A"}),p.jsx("td",{children:jg(B.birthDate)}),p.jsx("td",{children:H}),p.jsx("td",{children:B.currentConcern||"N/A"}),p.jsx("td",{children:p.jsx("button",{className:"view-details-btn",onClick:()=>E(`/doctor/patient-management/${B.id}`),children:"View Details"})})]},B.id)})})]})]})}function Mg(i){if(!i)return null;if(i instanceof Dt)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function bP(){const{user:i}=Xi(),[e,n]=U.useState([]),[s,o]=U.useState([]),[c,u]=U.useState(!0),[g,y]=U.useState(""),[v,E]=U.useState(""),[S,C]=U.useState(""),[M,Y]=U.useState(""),[K,B]=U.useState(""),[P,H]=U.useState(""),[te,ye]=U.useState(""),[le,pe]=U.useState(!1),[j,O]=U.useState(null);U.useEffect(()=>{i?.uid?(k(i.uid.trim()),L()):(console.warn("User UID not available yet."),u(!1))},[i]);const k=async fe=>{try{const je=Qt(He,"users",fe),X=Vi(yn(He,"appointments"),Ui("doctorId","==",je)),se=await Pn(X),me=await Promise.all(se.docs.map(async De=>{const Oe={id:De.id,...De.data()};let R="Unknown";if(Oe.patientId)try{const ae=await no(Oe.patientId);if(ae.exists()){const ve=ae.data();R=`${ve.firstName||""} ${ve.lastName||""}`.trim()}}catch(ae){console.error("Error fetching patient:",ae)}return{...Oe,patientName:R}}));n(me)}catch(je){console.error("Error loading appointments:",je)}finally{u(!1)}},L=async()=>{try{const je=(await Pn(yn(He,"users"))).docs.map(X=>({id:X.id,...X.data()})).filter(X=>X.role==="patient");o(je)}catch(fe){console.error("Error fetching patients:",fe)}},V=fe=>{O(fe.id),y(fe.patientId?.id||""),E(fe.dateTime?Mg(fe.dateTime).toISOString().split("T")[0]:""),C(fe.dateTime?Mg(fe.dateTime).toTimeString().slice(0,5):""),Y(fe.type||""),B(fe.reason||""),H(fe.location||""),ye(fe.notes||""),window.scrollTo({top:0,behavior:"smooth"})},G=async fe=>{if(window.confirm("Are you sure you want to delete this appointment?"))try{await uA(Qt(He,"appointments",fe)),k(i.uid)}catch(je){console.error("Error deleting appointment:",je)}},I=async fe=>{if(fe.preventDefault(),!g||!v||!S)return alert("Fill all required fields");pe(!0);try{const[je,X,se]=v.split("-"),[me,De]=S.split(":").map(Number),Oe=new Date(je,X-1,se,me,De),R=Qt(He,"users",i.uid),ae=Qt(He,"users",g),ve={doctorId:R,patientId:ae,dateTime:Dt.fromDate(Oe),type:M||"",reason:K||"",location:P||"",notes:te||"",updatedAt:Gh()};j?(await ha(Qt(He,"appointments",j),ve),O(null)):(ve.createdAt=Gh(),await hA(yn(He,"appointments"),ve)),k(i.uid),y(""),E(""),C(""),Y(""),B(""),H(""),ye("")}catch(je){console.error("Error saving appointment:",je)}finally{pe(!1)}};return c?p.jsx("p",{className:"loading",children:"Loading appointments..."}):p.jsxs("div",{className:"dashboard-container",children:[e.length===0?p.jsx("p",{children:"No appointments scheduled."}):p.jsx("div",{className:"dashboard-card table-container",children:p.jsxs("table",{className:"appointment-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Date & Time"}),p.jsx("th",{children:"Type"}),p.jsx("th",{children:"Reason"}),p.jsx("th",{children:"Location"}),p.jsx("th",{children:"Patient"}),p.jsx("th",{children:"Notes"}),p.jsx("th",{children:"Actions"})]})}),p.jsx("tbody",{children:e.map(fe=>{const je=Mg(fe.dateTime);return p.jsxs("tr",{children:[p.jsx("td",{children:je?je.toLocaleString():"Invalid Date"}),p.jsx("td",{children:fe.type||"—"}),p.jsx("td",{children:fe.reason||"—"}),p.jsx("td",{children:fe.location||"—"}),p.jsx("td",{children:fe.patientName}),p.jsx("td",{children:fe.notes||"N/A"}),p.jsxs("td",{className:"actions-cell",children:[p.jsx("button",{className:"action-btn edit-btn full-width-btn",onClick:()=>V(fe),children:"Edit"}),p.jsx("button",{className:"action-btn delete-btn full-width-btn",onClick:()=>G(fe.id),children:"Delete"})]})]},fe.id)})})]})}),p.jsxs("div",{className:"dashboard-card add-appointment",children:[p.jsx("h3",{children:j?"Edit Appointment":"Add Appointment"}),p.jsxs("form",{className:"add-appointment-form",onSubmit:I,children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("select",{value:g,onChange:fe=>y(fe.target.value),required:!0,children:[p.jsx("option",{value:"",children:"Select Patient"}),s.map(fe=>p.jsxs("option",{value:fe.id,children:[fe.firstName," ",fe.lastName]},fe.id))]}),p.jsx("input",{type:"date",value:v,onChange:fe=>E(fe.target.value),required:!0}),p.jsx("input",{type:"time",value:S,onChange:fe=>C(fe.target.value),required:!0})]}),p.jsxs("div",{className:"form-row",children:[p.jsx("input",{type:"text",placeholder:"Type",value:M,onChange:fe=>Y(fe.target.value)}),p.jsx("input",{type:"text",placeholder:"Reason",value:K,onChange:fe=>B(fe.target.value)})]}),p.jsxs("div",{className:"form-row",children:[p.jsx("input",{type:"text",placeholder:"Location",value:P,onChange:fe=>H(fe.target.value)}),p.jsx("textarea",{placeholder:"Notes",value:te,onChange:fe=>ye(fe.target.value)})]}),p.jsx("div",{className:"form-row",children:p.jsx("button",{type:"submit",disabled:le,children:le?j?"Updating...":"Adding...":j?"Update Appointment":"Add Appointment"})})]})]})]})}function EP(){const{profile:i,loading:e}=Xi(),[n,s]=U.useState(null),[o,c]=U.useState(null),[u,g]=U.useState(null),[y,v]=U.useState(!0),[E,S]=U.useState(!1),[C,M]=U.useState(!1),[Y,K]=U.useState(""),[B,P]=U.useState(!1),[H,te]=U.useState({current:"",new:"",confirm:""}),[ye,le]=U.useState(""),[pe,j]=U.useState("");U.useEffect(()=>{if(!i)return;(async()=>{try{const fe=Qt(He,"users",i.uid),je=await no(fe);je.exists()&&c(je.data());const X=Vi(yn(He,"doctors"),Ui("uid","==",fe)),se=await Pn(X);if(se.empty)console.warn("No doctor profile found");else{const me=se.docs[0].data();s(me),g({...je.data(),...me})}}catch(fe){console.error("Error fetching doctor profile:",fe),K("Failed to load profile")}finally{v(!1)}})()},[i]);const O=()=>{S(!0),K("")},k=()=>{g({...o,...n}),S(!1),K("")},L=(I,fe)=>{g(je=>({...je,[I]:fe}))},V=async()=>{if(K(""),!u.firstName||!u.lastName)return K("Name is required");if(!u.medicalField)return K("Medical field is required");if(!u.officeAddress)return K("Office address is required");M(!0);try{const I=Qt(He,"users",i.uid),fe=Vi(yn(He,"doctors"),Ui("uid","==",I)),je=await Pn(fe);if(!je.empty){const X=je.docs[0].ref;await ha(X,{medicalField:u.medicalField,placeOfEmployment:u.placeOfEmployment,officeAddress:u.officeAddress,officeRoomNo:u.officeRoomNo,officeContactNo:u.officeContactNo,yearsExperience:u.yearsExperience}),s({...u})}await ha(I,{firstName:u.firstName,lastName:u.lastName,email:u.email,contactNumber:u.contactNumber,address:u.address,birthDate:u.birthDate,gender:u.gender}),c({...u}),S(!1)}catch(I){console.error("Error saving profile:",I),K("Failed to save changes")}finally{M(!1)}},G=async()=>{if(le(""),j(""),!H.current||!H.new||!H.confirm)return le("All fields are required");if(H.new!==H.confirm)return le("New passwords do not match");if(H.new.length<6)return le("New password must be at least 6 characters");try{const I=fa.currentUser,fe=Jl.credential(I.email,H.current);await _N(I,fe),await TN(I,H.new),j("Password updated successfully"),te({current:"",new:"",confirm:""}),P(!1)}catch(I){console.error(I),le("Failed to change password. Check your current password.")}};return e||y?p.jsx("p",{children:"Loading profile..."}):o?p.jsx("div",{className:"profile-container",children:p.jsxs("div",{className:"profile-card",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("h3",{children:"Doctor Profile"}),E?p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:V,disabled:C,children:C?"Saving...":"Save"}),p.jsx("button",{onClick:k,disabled:C,children:"Cancel"})]}):p.jsx("button",{onClick:O,children:"Edit Profile"})]}),Y&&p.jsx("div",{className:"error-message",children:Y}),p.jsx("hr",{}),p.jsxs("p",{children:[p.jsx("strong",{children:"First Name:"})," ",E?p.jsx("input",{value:u.firstName,onChange:I=>L("firstName",I.target.value)}):o.firstName]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Last Name:"})," ",E?p.jsx("input",{value:u.lastName,onChange:I=>L("lastName",I.target.value)}):o.lastName]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",E?p.jsx("input",{value:u.email,onChange:I=>L("email",I.target.value)}):o.email]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Contact Number:"})," ",E?p.jsx("input",{value:u.contactNumber,onChange:I=>L("contactNumber",I.target.value)}):o.contactNumber]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Address:"})," ",E?p.jsx("input",{value:u.address,onChange:I=>L("address",I.target.value)}):o.address]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Birth Date:"})," ",E?p.jsx("input",{type:"date",value:u.birthDate,onChange:I=>L("birthDate",I.target.value)}):o.birthDate]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Gender:"})," ",E?p.jsxs("select",{value:u.gender,onChange:I=>L("gender",I.target.value),children:[p.jsx("option",{value:"",children:"Select"}),p.jsx("option",{value:"Male",children:"Male"}),p.jsx("option",{value:"Female",children:"Female"}),p.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Password:"})," ********",!B&&p.jsx("span",{className:"change-password",onClick:()=>P(!0),children:"Change Password"})]}),B&&p.jsxs("div",{style:{marginTop:"0.5rem"},children:[p.jsx("input",{type:"password",placeholder:"Current password",value:H.current,onChange:I=>te({...H,current:I.target.value})}),p.jsx("input",{type:"password",placeholder:"New password",value:H.new,onChange:I=>te({...H,new:I.target.value})}),p.jsx("input",{type:"password",placeholder:"Confirm new password",value:H.confirm,onChange:I=>te({...H,confirm:I.target.value})}),p.jsx("button",{onClick:G,children:"Save Password"}),p.jsx("button",{onClick:()=>{P(!1),te({current:"",new:"",confirm:""})},children:"Cancel"}),ye&&p.jsx("p",{style:{color:"red"},children:ye}),pe&&p.jsx("p",{style:{color:"green"},children:pe})]}),p.jsx("hr",{}),n?p.jsxs(p.Fragment,{children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Field of Specialization:"})," ",E?p.jsx("input",{value:u.medicalField,onChange:I=>L("medicalField",I.target.value)}):n.medicalField]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Hospital / Office:"})," ",E?p.jsx("input",{value:u.placeOfEmployment,onChange:I=>L("placeOfEmployment",I.target.value)}):n.placeOfEmployment]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Office Address:"})," ",E?p.jsx("input",{value:u.officeAddress,onChange:I=>L("officeAddress",I.target.value)}):n.officeAddress]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Office Room:"})," ",E?p.jsx("input",{value:u.officeRoomNo,onChange:I=>L("officeRoomNo",I.target.value)}):n.officeRoomNo]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Office Contact:"})," ",E?p.jsx("input",{value:u.officeContactNo,onChange:I=>L("officeContactNo",I.target.value)}):n.officeContactNo]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Years Experience:"})," ",E?p.jsx("input",{type:"number",value:u.yearsExperience,onChange:I=>L("yearsExperience",I.target.value)}):n.yearsExperience]})]}):p.jsx("p",{children:"No doctor profile found."})]})}):p.jsx("p",{children:"No profile data found."})}function TP(){return p.jsxs("div",{children:[p.jsx("h1",{children:"Management Dashboard"}),p.jsx("p",{children:"Welcome to the admin management panel."})]})}function wP(){return p.jsxs("div",{children:[p.jsx("h1",{children:"Management Profile"}),p.jsx("p",{children:"Admin details and management profile info go here."})]})}function SP(){const i=Cy(),e=i.patientId||i.id||i.userId,[n,s]=U.useState(null),[o,c]=U.useState(null),[u,g]=U.useState([]),[y,v]=U.useState([]),[E,S]=U.useState(!0),[C,M]=U.useState("");U.useEffect(()=>{e?(async()=>{try{S(!0),console.log("All params:",i),console.log("Fetching data for patientId:",e);const H=await no(Qt(He,"users",e));if(console.log("User document exists:",H.exists()),H.exists()){const j=H.data();console.log("User data:",j),c(j)}else{M("User not found"),S(!1);return}const te=Qt(He,"users",e);console.log("Querying patients collection with userRef:",te.path);const ye=Vi(yn(He,"patients"),Ui("uid","==",te)),le=await Pn(ye);console.log("Patient snapshot empty:",le.empty),console.log("Patient docs found:",le.docs.length);let pe=null;if(le.empty)console.warn("No patient document found for this user");else{const j=le.docs[0].data();pe=le.docs[0].id,console.log("Patient data:",j),console.log("Patient doc ID:",pe),s(j)}if(pe)try{const j=Qt(He,"patients",pe),O=Vi(yn(He,"prescriptions"),Ui("patientId","==",j)),k=await Pn(O);console.log("Prescriptions found:",k.docs.length);const L=k.docs.map(V=>({id:V.id,...V.data()}));g(L)}catch(j){console.error("Error fetching prescriptions:",j)}try{const j=await Pn(yn(He,"appointments"));console.log("Total appointments in DB:",j.docs.length);const O=j.docs.map(L=>({id:L.id,...L.data()}));console.log("Sample appointment data:",O[0]);const k=O.filter(L=>{const V=L.patientID;return console.log("Checking patientID:",V,"Type:",typeof V),V&&V.path?(console.log("PatientID has path:",V.path),V.path.includes(e)):typeof V=="string"?V.includes(e)||V===e:!1});console.log("Matching appointments:",k.length),v(k)}catch(j){console.error("Error fetching appointments:",j)}}catch(H){console.error("Error fetching patient data:",H),M(`Failed to load patient data: ${H.message}`)}finally{S(!1)}})():(console.error("No patientId provided"),M("No patient ID provided"),S(!1))},[e]);const Y=P=>{if(!P)return"N/A";try{let H;return P.toDate&&typeof P.toDate=="function"?H=P.toDate():P.seconds?H=new Date(P.seconds*1e3):H=new Date(P),H.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(H){return console.error("Error formatting date:",H,P),"Invalid date"}},K=P=>{if(!P)return"N/A";try{let H;return P.toDate&&typeof P.toDate=="function"?H=P.toDate():P.seconds?H=new Date(P.seconds*1e3):H=new Date(P),H.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},B=P=>{if(!P)return"N/A";try{const H=new Date,te=new Date(P);let ye=H.getFullYear()-te.getFullYear();const le=H.getMonth()-te.getMonth();return(le<0||le===0&&H.getDate()<te.getDate())&&ye--,ye}catch{return"N/A"}};return E?p.jsxs("div",{className:"loading",children:[p.jsx("p",{children:"Loading patient data..."}),p.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["Patient ID: ",e]})]}):C?p.jsxs("div",{className:"error-message",children:[p.jsx("p",{children:C}),p.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["Patient ID: ",e]}),p.jsx("p",{style:{fontSize:"12px"},children:"Check console for details"})]}):o?p.jsxs("div",{className:"patient-management-container",children:[p.jsx("h2",{className:"page-title",children:"Patient Management"}),p.jsxs("div",{className:"content-grid",children:[p.jsxs("div",{className:"left-column",children:[p.jsxs("div",{className:"card prescriptions-card",children:[p.jsx("h3",{className:"card-title",children:"Prescriptions"}),p.jsx("div",{className:"prescriptions-list",children:u.length>0?u.map(P=>p.jsxs("div",{className:"prescription-item",children:[p.jsxs("div",{className:"presc-header",children:[p.jsx("strong",{children:P.medicationName||P.medication||"Medication"}),P.frequency&&p.jsx("span",{className:"frequency-badge",children:"↑"})]}),p.jsxs("div",{className:"presc-details",children:[P.dosage&&p.jsx("div",{children:P.dosage}),P.frequency&&p.jsx("div",{children:P.frequency}),P.duration&&p.jsxs("div",{children:["Duration: ",P.duration]}),P.instructions&&p.jsx("div",{className:"instructions",children:P.instructions})]})]},P.id)):p.jsx("p",{className:"no-data",children:"No prescriptions found"})})]}),p.jsxs("div",{className:"card patient-info-card",children:[p.jsx("h3",{className:"info-label",children:"Patient Information"}),p.jsxs("div",{className:"info-content",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Patient Name:"})," ",o.firstName||o.first_name||"N/A"," ",o.lastName||o.last_name||""]}),p.jsxs("p",{children:[p.jsx("strong",{children:"E-mail Address:"})," ",o.email||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Contact Number:"})," ",o.contactNumber||o.contact_number||"N/A"]}),p.jsx("br",{}),p.jsxs("p",{children:[p.jsx("strong",{children:"Age:"})," ",B(o.birthDate||o.birth_date)]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Gender:"})," ",o.gender||o.sex||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Date of Birth:"})," ",Y(o.birthDate||o.birth_date)]}),n&&p.jsxs(p.Fragment,{children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Chronic Condition/s:"})," ",n.chronicIllness?.join(", ")||"None"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Allergies:"})," ",n.allergies?.join(", ")||"None"]}),p.jsx("br",{}),p.jsxs("p",{children:[p.jsx("strong",{children:"Insurance Provider:"})," ",n.insuranceProvider||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Senior Citizen:"})," ",n.seniorCitizenStatus?"Yes":"No"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"PWD:"})," ",n.pwdStatus?"Yes":"No"]})]})]})]})]}),p.jsxs("div",{className:"right-column",children:[p.jsxs("div",{className:"card meals-card",children:[p.jsx("h3",{className:"card-title",children:"Meals"}),p.jsx("div",{className:"meals-content",children:p.jsx("p",{className:"no-data",children:"No meal data available"})})]}),p.jsxs("div",{className:"card appointment-card",children:[p.jsx("h3",{className:"card-title",children:"Appointment"}),p.jsx("div",{className:"appointment-content",children:y.length>0?y.filter(P=>P.dateTime||P.appointmentDate).sort((P,H)=>{let te,ye;const le=P.dateTime||P.appointmentDate,pe=H.dateTime||H.appointmentDate;return le?.toDate?te=le.toDate():le?.seconds?te=new Date(le.seconds*1e3):te=new Date(le),pe?.toDate?ye=pe.toDate():pe?.seconds?ye=new Date(pe.seconds*1e3):ye=new Date(pe),te-ye}).slice(0,3).map(P=>p.jsxs("div",{className:"appointment-item",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Date:"})," ",Y(P.dateTime||P.appointmentDate)]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Time:"})," ",K(P.dateTime||P.appointmentDate)]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Status:"})," ",P.status||P.type||"Scheduled"]}),P.reason&&p.jsxs("p",{children:[p.jsx("strong",{children:"Reason:"})," ",P.reason]}),P.location&&p.jsxs("p",{children:[p.jsx("strong",{children:"Location:"})," ",P.location]})]},P.id)):p.jsx("p",{className:"no-scheduled",children:"No Scheduled Appointment"})})]}),p.jsxs("div",{className:"card medical-history-card",children:[p.jsx("h3",{className:"card-title",children:"Medical History"}),p.jsxs("div",{className:"history-content",children:[n?.chronicIllness&&n.chronicIllness.length>0?p.jsx(p.Fragment,{children:n.chronicIllness.map((P,H)=>p.jsxs("p",{className:"history-item",children:["• Patient has been diagnosed with ",P,"."]},H))}):p.jsx("p",{className:"history-item",children:"• No chronic conditions recorded."}),p.jsx("br",{}),p.jsx("h4",{children:"Surgical History"}),n?.surgicalHistory?p.jsxs("p",{className:"history-item",children:["• ",n.surgicalHistory]}):p.jsx("p",{className:"history-item",children:"• N/A"})]})]})]})]})]}):p.jsxs("div",{className:"error-message",children:[p.jsx("p",{children:"No patient data found."}),p.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["Patient ID: ",e]})]})}function Nw(i){if(!i)return null;if(i instanceof Dt)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function AP(i){const e=new Date(i),n=e.getDay(),s=n===0?-6:1-n;return e.setDate(e.getDate()+s),e.setHours(0,0,0,0),e}function xP(){const{user:i}=Xi(),[e,n]=U.useState(null),[s,o]=U.useState(!0),[c,u]=U.useState([]),[g,y]=U.useState([]),[v,E]=U.useState([]),[S,C]=U.useState({}),[M,Y]=U.useState(new Date);U.useEffect(()=>{i&&K()},[i]);const K=async()=>{try{const le=Qt(He,"users",i.uid),pe=await no(le);pe.exists()&&n(pe.data());const j=new Date().toDateString(),O=Vi(yn(He,"dailyIntakeMonitor"),Ui("patient","==",le)),L=(await Pn(O)).docs.map(me=>({...me.data(),docId:me.id,dateTime:Nw(me.data().dateTime)})),V=Vi(yn(He,"dailyMealsChecklist"),Ui("patient","==",le)),I=(await Pn(V)).docs.map(me=>({...me.data(),docId:me.id,dateTime:Nw(me.data().dateTime)})),fe={};L.forEach(me=>{const De=me.dateTime?.toDateString();De&&(fe[De]={...fe[De],medStatus:me.status?.toLowerCase(),medDocId:me.docId})}),I.forEach(me=>{const De=me.dateTime?.toDateString();De&&(fe[De]={...fe[De],mealStatus:me.status?.toLowerCase(),mealDocId:me.docId})}),C(fe);const je=L.filter(me=>me.dateTime?.toDateString()===j),X=I.filter(me=>me.dateTime?.toDateString()===j);u(je),y(X);const se=[];je.forEach(me=>{me.status?.toLowerCase()!=="taken"&&se.push(`Missed medicine: ${me.medication}`)}),X.forEach(me=>{me.status?.toLowerCase()!=="completed"&&se.push(`Missed meal: ${me.mealDescription}`)}),E(se)}catch(le){console.error("Error fetching dashboard data:",le)}finally{o(!1)}},B=le=>{switch(le){case"taken":case"completed":return"green";case"incomplete":return"yellow";case"not taken":case"nottaken":return"red";default:return"gray"}},P=le=>{const pe=S[le.toDateString()]||{};return{mealStatus:pe.mealStatus||"notTaken",medStatus:pe.medStatus||"notTaken",mealDocId:pe.mealDocId||null,medDocId:pe.medDocId||null}},H=async(le,pe)=>{try{const j=P(le),O=pe==="med"?"medStatus":"mealStatus",k=pe==="med"?j.medDocId:j.mealDocId,L=j[O]==="taken"||j[O]==="completed"?"notTaken":"taken";if(k){const G=Qt(He,pe==="med"?"dailyIntakeMonitor":"dailyMealsChecklist",k);await ha(G,{status:L}),C(I=>({...I,[le.toDateString()]:{...I[le.toDateString()],[O]:L}}))}else console.warn("No log document found for this day")}catch(j){console.error("Error updating status:",j)}};if(s)return p.jsx("p",{className:"loading",children:"Loading dashboard..."});const te=AP(M),ye=Array.from({length:7},(le,pe)=>{const j=new Date(te);return j.setDate(te.getDate()+pe),j});return p.jsx("div",{className:"patient-dashboard",children:p.jsxs("div",{className:"dashboard-grid",children:[p.jsxs("div",{className:"dashboard-card",children:[p.jsxs("h2",{children:["Good Morning, ",e?.firstName||"User","!"]}),p.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),p.jsxs("div",{className:"dashboard-card",children:[p.jsx("h2",{children:"Notifications"}),v.length===0?p.jsx("p",{children:"No notifications"}):p.jsx("ul",{children:v.map((le,pe)=>p.jsx("li",{children:le},pe))})]}),p.jsxs("div",{className:"dashboard-card",children:[p.jsx("h2",{children:"This Week's Intake"}),p.jsx("div",{className:"week-scroll",children:p.jsx("div",{className:"week-grid",children:ye.map(le=>{const pe=P(le);return p.jsxs("div",{className:"day-box",children:[p.jsx("strong",{children:le.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-meal",style:{backgroundColor:B(pe.mealStatus),cursor:"pointer"},onClick:()=>H(le,"meal"),children:"Meal"}),p.jsx("span",{className:"status-med",style:{backgroundColor:B(pe.medStatus),cursor:"pointer"},onClick:()=>H(le,"med"),children:"Med"})]})]},le.toDateString())})})}),p.jsxs("div",{className:"legend",children:[p.jsxs("span",{children:[p.jsx("span",{className:"legend-box",style:{backgroundColor:"green"}})," ","Taken/Completed"]}),p.jsxs("span",{children:[p.jsx("span",{className:"legend-box",style:{backgroundColor:"yellow"}})," ","Incomplete"]}),p.jsxs("span",{children:[p.jsx("span",{className:"legend-box",style:{backgroundColor:"red"}})," ","Not Taken"]})]})]}),p.jsxs("div",{className:"dashboard-card",children:[p.jsx("h2",{children:"Today's Checklist"}),p.jsx("h3",{children:"Medicine"}),c.length===0?p.jsx("p",{children:"No medicines scheduled"}):p.jsx("ul",{children:c.map(le=>p.jsxs("li",{style:{color:B(le.status)},children:[le.medication," - ",le.dosage," (",le.status,")"]},le.docId))}),p.jsx("h3",{children:"Meals"}),g.length===0?p.jsx("p",{children:"No meals scheduled"}):p.jsx("ul",{children:g.map(le=>p.jsxs("li",{style:{color:B(le.status)},children:[le.mealDescription," (",le.status,")"]},le.docId))})]})]})})}function CP(){const{user:i}=Xi(),{role:e}=Cy(),[n,s]=U.useState([]);U.useEffect(()=>{if(!i)return;(async()=>{const u=Qt(He,"users",i.uid),g=Vi(yn(He,"notifications"),Ui("recipientId","==",u)),v=(await Pn(g)).docs.map(E=>({id:E.id,...E.data()}));s(v.sort((E,S)=>S.timestamp?.seconds-E.timestamp?.seconds))})()},[i]);const o=async(c,u)=>{const g=Qt(He,"notifications",c);await ha(g,{read:!u}),s(y=>y.map(v=>v.id===c?{...v,read:!u}:v))};return p.jsx("div",{className:"notifications-container",children:p.jsxs("div",{className:"notifications-card",children:[p.jsx("h2",{className:"notifications-title",children:"Notifications"}),n.length===0?p.jsx("p",{className:"no-notifications",children:"No notifications yet."}):p.jsx("ul",{className:"notifications-list",children:n.map(c=>p.jsxs("li",{className:`notification-item ${c.read?"read":"unread"}`,children:[p.jsxs("div",{className:"notification-header",children:[p.jsx("h4",{className:"notification-title",children:c.title||"Untitled Notification"}),p.jsx("p",{className:"notification-message",children:c.message}),p.jsx("button",{className:`mark-button ${c.read?"mark-unread":"mark-read"}`,onClick:()=>o(c.id,c.read),children:c.read?"Mark as Unread":"Mark as Read"})]}),p.jsx("small",{className:"notification-timestamp",children:c.timestamp?.toDate().toLocaleString()})]},c.id))})]})})}function DP(){const{user:i}=Xi(),[e,n]=U.useState(null),[s,o]=U.useState(null),[c,u]=U.useState(!0),g=E=>E?E.toDate?E.toDate():new Date(E):null;if(U.useEffect(()=>{(async()=>{try{if(!i?.uid)return;const S=Qt(He,"users",i.uid),C=Vi(yn(He,"appointments"),Ui("patientId","==",S)),M=await Pn(C);if(!M.empty){const Y=M.docs[0],K={id:Y.id,...Y.data()};if(n(K),K.doctorId)try{const B=await no(K.doctorId);if(!B.exists())return;const P={id:B.id,...B.data()},H=Vi(yn(He,"doctors"),Ui("uid","==",B.id)),te=await Pn(H),ye=te.empty?{}:te.docs[0].data();o({...P,...ye})}catch(B){console.error("Error fetching doctor details:",B)}}}catch(S){console.error("Error loading appointment:",S)}finally{u(!1)}})()},[i]),c)return p.jsx("div",{className:"appointment-loading",children:"Loading..."});if(!e||!s)return p.jsx("div",{className:"appointment-container",children:p.jsx("h2",{children:"No upcoming appointments found."})});const y=g(e.dateTime)?.toLocaleDateString()||"N/A",v=g(e.dateTime)?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||"N/A";return p.jsxs("div",{className:"appointment-container",children:[p.jsx("h1",{children:"Appointments"}),p.jsxs("div",{className:"appointment-card",children:[p.jsx("h2",{children:"Assigned Doctor"}),p.jsx("p",{children:p.jsxs("strong",{children:["Dr. ",s.fullName||`${s.firstName||""} ${s.lastName||""}`]})}),p.jsxs("p",{children:[p.jsx("strong",{children:"Field:"})," ",s.medicalField||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",s.email||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Contact Number:"})," ",s.officeContactNo||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Hospital Address & Office:"})," ",s.placeOfEmployment||"N/A",", Room ",s.officeRoomNo||"N/A",","," ",s.officeAddress||"N/A"]}),p.jsx("hr",{className:"appointment-divider"}),p.jsx("h2",{children:"Upcoming Appointment Details"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Time:"})," ",v]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Date:"})," ",y]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Location:"})," ",e.location||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Type:"})," ",e.type||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Reason:"})," ",e.reason||"N/A"]}),p.jsx("p",{className:"appointment-note",children:"To reschedule, please contact your assigned doctor."})]})]})}function RP(){const{profile:i,loading:e}=Xi(),[n,s]=U.useState(null),[o,c]=U.useState(null),[u,g]=U.useState(null),[y,v]=U.useState(!0),[E,S]=U.useState(!1),[C,M]=U.useState(!1),[Y,K]=U.useState(""),[B,P]=U.useState(!1),[H,te]=U.useState(""),[ye,le]=U.useState(""),[pe,j]=U.useState(""),[O,k]=U.useState(""),[L,V]=U.useState(!1);U.useEffect(()=>{if(!i)return;(async()=>{try{const me=Qt(He,"users",i.uid),De=await no(me);De.exists()&&c(De.data());const Oe=Vi(yn(He,"patients"),Ui("uid","==",me)),R=await Pn(Oe);if(R.empty)console.warn("No patient profile found");else{const ae=R.docs[0].data();s(ae),g({...De.data(),...ae})}}catch(me){console.error("Error fetching patient profile:",me),K("Failed to load profile")}finally{v(!1)}})()},[i]);const G=()=>{S(!0),K("")},I=()=>{g({...o,...n}),S(!1),K("")},fe=(se,me)=>{g(De=>({...De,[se]:me}))},je=async()=>{K(""),M(!0);try{const se=Qt(He,"users",i.uid),me=Vi(yn(He,"patients"),Ui("uid","==",se)),De=await Pn(me);if(!De.empty){const Oe=De.docs[0].ref;await ha(Oe,{chronicIllness:u.chronicIllness||[],allergies:u.allergies||[],insuranceProvider:u.insuranceProvider||"",seniorCitizenStatus:u.seniorCitizenStatus||!1,pwdStatus:u.pwdStatus||!1}),s({...u})}await ha(se,{firstName:u.firstName,lastName:u.lastName,email:u.email,contactNumber:u.contactNumber,address:u.address,birthDate:u.birthDate,gender:u.gender}),c({...u}),S(!1)}catch(se){console.error("Error saving profile:",se),K("Failed to save changes")}finally{M(!1)}},X=async()=>{if(k(""),!H||!ye||!pe){k("All fields are required");return}if(ye!==pe){k("Passwords do not match");return}V(!0);try{const se=fa.currentUser,me=fa.EmailAuthProvider.credential(se.email,H);await se.reauthenticateWithCredential(me),await se.updatePassword(ye),P(!1),te(""),le(""),j(""),alert("Password updated successfully!")}catch(se){console.error(se),k("Failed to update password. Check current password.")}finally{V(!1)}};return e||y?p.jsx("p",{children:"Loading profile..."}):o?p.jsx("div",{className:"profile-container",style:{textAlign:"left"},children:p.jsxs("div",{className:"profile-card",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("h3",{children:"Patient Profile"}),E?p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:je,disabled:C,children:C?"Saving...":"Save"}),p.jsx("button",{onClick:I,disabled:C,children:"Cancel"})]}):p.jsx("button",{onClick:G,children:"Edit Profile"})]}),Y&&p.jsx("div",{className:"error-message",children:Y}),p.jsx("hr",{}),p.jsxs("p",{children:[p.jsx("strong",{children:"First Name:"})," ",E?p.jsx("input",{value:u.firstName,onChange:se=>fe("firstName",se.target.value)}):o.firstName]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Last Name:"})," ",E?p.jsx("input",{value:u.lastName,onChange:se=>fe("lastName",se.target.value)}):o.lastName]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",E?p.jsx("input",{value:u.email,onChange:se=>fe("email",se.target.value)}):o.email]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Contact Number:"})," ",E?p.jsx("input",{value:u.contactNumber,onChange:se=>fe("contactNumber",se.target.value)}):o.contactNumber]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Password:"})," ********"," ",B?null:p.jsx("span",{className:"change-password",style:{cursor:"pointer",color:"blue"},onClick:()=>P(!0),children:"(Change Password)"})]}),B&&p.jsxs("div",{style:{marginTop:"10px",marginBottom:"10px"},children:[O&&p.jsx("p",{className:"error-message",children:O}),p.jsx("input",{type:"password",placeholder:"Current Password",value:H,onChange:se=>te(se.target.value)}),p.jsx("input",{type:"password",placeholder:"New Password",value:ye,onChange:se=>le(se.target.value)}),p.jsx("input",{type:"password",placeholder:"Confirm New Password",value:pe,onChange:se=>j(se.target.value)}),p.jsxs("div",{style:{marginTop:"5px"},children:[p.jsx("button",{onClick:X,disabled:L,children:L?"Updating...":"Update Password"}),p.jsx("button",{onClick:()=>P(!1),disabled:L,children:"Cancel"})]})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Birth Date:"})," ",E?p.jsx("input",{type:"date",value:u.birthDate,onChange:se=>fe("birthDate",se.target.value)}):o.birthDate]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Gender:"})," ",E?p.jsxs("select",{value:u.gender,onChange:se=>fe("gender",se.target.value),children:[p.jsx("option",{value:"",children:"Select"}),p.jsx("option",{value:"Male",children:"Male"}),p.jsx("option",{value:"Female",children:"Female"}),p.jsx("option",{value:"Other",children:"Other"})]}):o.gender]}),p.jsx("hr",{}),n?p.jsxs(p.Fragment,{children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Chronic Illness:"})," ",E?p.jsx("input",{value:(u.chronicIllness||[]).join(", "),onChange:se=>fe("chronicIllness",se.target.value.split(",").map(me=>me.trim()))}):(n.chronicIllness||[]).join(", ")]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Allergies:"})," ",E?p.jsx("input",{value:(u.allergies||[]).join(", "),onChange:se=>fe("allergies",se.target.value.split(",").map(me=>me.trim()))}):(n.allergies||[]).join(", ")]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Insurance Provider:"})," ",E?p.jsx("input",{value:u.insuranceProvider||"",onChange:se=>fe("insuranceProvider",se.target.value)}):n.insuranceProvider]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Senior Citizen:"})," ",E?p.jsxs("select",{value:u.seniorCitizenStatus?"Yes":"No",onChange:se=>fe("seniorCitizenStatus",se.target.value==="Yes"),children:[p.jsx("option",{value:"No",children:"No"}),p.jsx("option",{value:"Yes",children:"Yes"})]}):n.seniorCitizenStatus?"Yes":"No"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"PWD:"})," ",E?p.jsxs("select",{value:u.pwdStatus?"Yes":"No",onChange:se=>fe("pwdStatus",se.target.value==="Yes"),children:[p.jsx("option",{value:"No",children:"No"}),p.jsx("option",{value:"Yes",children:"Yes"})]}):n.pwdStatus?"Yes":"No"]})]}):p.jsx("p",{children:"No patient profile found."})]})}):p.jsx("p",{children:"No profile data found."})}async function GA(i,e,n,s){const o=Qt(He,n,s),c=Vi(yn(He,i),Ui(e,"==",o));return(await Pn(c)).docs.map(g=>({id:g.id,...g.data()}))}function NP(){const{user:i}=Xi(),[e,n]=U.useState([]),[s,o]=U.useState([]),[c,u]=U.useState(!0);return U.useEffect(()=>{if(!i?.uid){u(!1);return}(async()=>{try{const y=await GA("dailyFoodLog","patient","patients",i.uid),v=new Date,E=y.map(M=>{const Y=M.dateTime instanceof Dt?M.dateTime.toDate():null;return{id:M.id,mealType:M.mealType||"Unknown",description:M.mealDescription||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:M.status||"Pending",date:Y}}),S=E.filter(M=>M.status.toLowerCase()!=="completed"&&(!M.date||M.date>=v)),C=E.filter(M=>M.status.toLowerCase()==="completed"||M.date&&M.date<v);n(S),o(C)}catch(y){console.error("Error fetching daily foods:",y)}finally{u(!1)}})()},[i]),c?p.jsx("p",{className:"loading",children:"Loading daily food log..."}):p.jsx("div",{className:"profile-container",children:p.jsxs("div",{className:"profile-card",children:[p.jsx("h1",{className:"profile-title",children:"Daily Food Log"}),p.jsxs("div",{className:"table-section",children:[p.jsx("h2",{className:"section-title",children:"Upcoming / Not Completed"}),e.length===0?p.jsx("p",{className:"empty-message",children:"No upcoming meals."}):p.jsxs("table",{className:"dashboard-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Meal Type"}),p.jsx("th",{children:"Description"}),p.jsx("th",{children:"Time"}),p.jsx("th",{children:"Status"})]})}),p.jsx("tbody",{children:e.map(g=>p.jsxs("tr",{children:[p.jsx("td",{children:g.mealType}),p.jsx("td",{children:g.description}),p.jsx("td",{children:g.time}),p.jsx("td",{children:p.jsx("span",{className:"status pending",children:g.status})})]},g.id))})]})]}),p.jsxs("div",{className:"table-section",children:[p.jsx("h2",{className:"section-title",children:"Completed Meals"}),s.length===0?p.jsx("p",{className:"empty-message",children:"No completed meals yet."}):p.jsxs("table",{className:"dashboard-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Meal Type"}),p.jsx("th",{children:"Description"}),p.jsx("th",{children:"Time"}),p.jsx("th",{children:"Status"})]})}),p.jsx("tbody",{children:s.map(g=>p.jsxs("tr",{children:[p.jsx("td",{children:g.mealType}),p.jsx("td",{children:g.description}),p.jsx("td",{children:g.time}),p.jsx("td",{children:p.jsx("span",{className:"status taken",children:g.status})})]},g.id))})]})]})]})})}function IP(){const{user:i}=Xi(),[e,n]=U.useState([]),[s,o]=U.useState([]),[c,u]=U.useState(!0);return U.useEffect(()=>{if(!i?.uid){u(!1);return}(async()=>{try{const y=await GA("dailyIntakeMonitor","patient","patients",i.uid),v=new Date,E=y.map(M=>{const Y=M.dateTime instanceof Dt?M.dateTime.toDate():null,K=M.endDate instanceof Dt?M.endDate.toDate():null;return{id:M.id,name:M.medication||"Unknown",dosage:M.dosage||"-",frequency:M.frequency||"-",time:Y?Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",status:M.status||"Not taken",endDate:K}}),S=E.filter(M=>M.status.toLowerCase()!=="taken"&&(!M.endDate||M.endDate>=v)),C=E.filter(M=>M.status.toLowerCase()==="taken"||M.endDate&&M.endDate<v);n(S),o(C)}catch(y){console.error("Error fetching daily meds:",y)}finally{u(!1)}})()},[i]),c?p.jsx("p",{className:"loading",children:"Loading daily medicines..."}):p.jsx("div",{className:"profile-container",children:p.jsxs("div",{className:"profile-card",children:[p.jsx("h1",{className:"profile-title",children:"Daily Medicine Log"}),p.jsxs("div",{className:"table-section",children:[p.jsx("h2",{className:"section-title",children:"Upcoming / Not Taken"}),e.length===0?p.jsx("p",{className:"empty-message",children:"No upcoming medicines."}):p.jsxs("table",{className:"dashboard-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Medicine"}),p.jsx("th",{children:"Dosage"}),p.jsx("th",{children:"Frequency"}),p.jsx("th",{children:"Time"}),p.jsx("th",{children:"Status"})]})}),p.jsx("tbody",{children:e.map(g=>p.jsxs("tr",{children:[p.jsx("td",{children:g.name}),p.jsx("td",{children:g.dosage}),p.jsx("td",{children:g.frequency}),p.jsx("td",{children:g.time}),p.jsx("td",{children:p.jsx("span",{className:"status pending",children:g.status})})]},g.id))})]})]}),p.jsxs("div",{className:"table-section",children:[p.jsx("h2",{className:"section-title",children:"Completed / Taken"}),s.length===0?p.jsx("p",{className:"empty-message",children:"No completed medicines yet."}):p.jsxs("table",{className:"dashboard-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Medicine"}),p.jsx("th",{children:"Dosage"}),p.jsx("th",{children:"Frequency"}),p.jsx("th",{children:"Time"}),p.jsx("th",{children:"Status"})]})}),p.jsx("tbody",{children:s.map(g=>p.jsxs("tr",{children:[p.jsx("td",{children:g.name}),p.jsx("td",{children:g.dosage}),p.jsx("td",{children:g.frequency}),p.jsx("td",{children:g.time}),p.jsx("td",{children:p.jsx("span",{className:"status taken",children:g.status})})]},g.id))})]})]})]})})}function OP(){return p.jsx(Zj,{children:p.jsx(DC,{children:p.jsx(sC,{children:p.jsxs(jn,{path:"/",element:p.jsx(pM,{}),children:[p.jsx(jn,{index:!0,element:p.jsx(gM,{})}),p.jsx(jn,{path:"login",element:p.jsx(wM,{})}),p.jsx(jn,{path:"about",element:p.jsx(SM,{})}),p.jsx(jn,{path:"contact",element:p.jsx(AM,{})}),p.jsx(jn,{path:"admin/dashboard",element:p.jsx(Wi,{children:p.jsx(OM,{})})}),p.jsx(jn,{path:"doctor/dashboard",element:p.jsx(Wi,{children:p.jsx(yP,{})})}),p.jsx(jn,{path:"doctor/notifications",element:p.jsx(Wi,{children:p.jsx(vP,{})})}),p.jsx(jn,{path:"doctor/patients",element:p.jsx(Wi,{children:p.jsx(_P,{})})}),p.jsx(jn,{path:"doctor/patient-management/:id",element:p.jsx(Wi,{children:p.jsx(SP,{})})}),p.jsx(jn,{path:"doctor/appointments",element:p.jsx(Wi,{children:p.jsx(bP,{})})}),p.jsx(jn,{path:"doctor/management",element:p.jsx(Wi,{children:p.jsx(TP,{})})}),p.jsx(jn,{path:"doctor/management-profile",element:p.jsx(Wi,{children:p.jsx(wP,{})})}),p.jsx(jn,{path:"doctor/profile",element:p.jsx(Wi,{children:p.jsx(EP,{})})}),p.jsx(jn,{path:"patient/dashboard",element:p.jsx(Wi,{children:p.jsx(xP,{})})}),p.jsx(jn,{path:"patient/notifications",element:p.jsx(Wi,{children:p.jsx(CP,{})})}),p.jsx(jn,{path:"patient/appointments",element:p.jsx(Wi,{children:p.jsx(DP,{})})}),p.jsx(jn,{path:"patient/dailies/food",element:p.jsx(Wi,{children:p.jsx(NP,{})})}),p.jsx(jn,{path:"patient/dailies/medicine",element:p.jsx(Wi,{children:p.jsx(IP,{})})}),p.jsx(jn,{path:"patient/profile",element:p.jsx(Wi,{children:p.jsx(RP,{})})})]})})})})}hx.createRoot(document.getElementById("root")).render(p.jsx(U.StrictMode,{children:p.jsx(OP,{})}));
