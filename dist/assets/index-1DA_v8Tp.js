(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Zp={exports:{}},uh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function P1(){if(aE)return uh;aE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return uh.Fragment=e,uh.jsx=n,uh.jsxs=n,uh}var oE;function j1(){return oE||(oE=1,Zp.exports=P1()),Zp.exports}var E=j1(),eg={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function U1(){if(lE)return Xe;lE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function L(x){return x===null||typeof x!="object"?null:(x=I&&x[I]||x["@@iterator"],typeof x=="function"?x:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,G={};function $(x,se,ge){this.props=x,this.context=se,this.refs=G,this.updater=ge||K}$.prototype.isReactComponent={},$.prototype.setState=function(x,se){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,se,"setState")},$.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function te(){}te.prototype=$.prototype;function ce(x,se,ge){this.props=x,this.context=se,this.refs=G,this.updater=ge||K}var Ce=ce.prototype=new te;Ce.constructor=ce,Z(Ce,$.prototype),Ce.isPureReactComponent=!0;var ze=Array.isArray;function Ne(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function O(x,se,ge){var ve=ge.ref;return{$$typeof:i,type:x,key:se,ref:ve!==void 0?ve:null,props:ge}}function j(x,se){return O(x.type,se,x.props)}function P(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function H(x){var se={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ge){return se[ge]})}var M=/\/+/g;function ye(x,se){return typeof x=="object"&&x!==null&&x.key!=null?H(""+x.key):se.toString(36)}function Ze(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ne,Ne):(x.status="pending",x.then(function(se){x.status==="pending"&&(x.status="fulfilled",x.value=se)},function(se){x.status==="pending"&&(x.status="rejected",x.reason=se)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function J(x,se,ge,ve,Ie){var ke=typeof x;(ke==="undefined"||ke==="boolean")&&(x=null);var Ve=!1;if(x===null)Ve=!0;else switch(ke){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(x.$$typeof){case i:case e:Ve=!0;break;case w:return Ve=x._init,J(Ve(x._payload),se,ge,ve,Ie)}}if(Ve)return Ie=Ie(x),Ve=ve===""?"."+ye(x,0):ve,ze(Ie)?(ge="",Ve!=null&&(ge=Ve.replace(M,"$&/")+"/"),J(Ie,se,ge,"",function(wi){return wi})):Ie!=null&&(P(Ie)&&(Ie=j(Ie,ge+(Ie.key==null||x&&x.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+Ve)),se.push(Ie)),1;Ve=0;var kt=ve===""?".":ve+":";if(ze(x))for(var me=0;me<x.length;me++)ve=x[me],ke=kt+ye(ve,me),Ve+=J(ve,se,ge,ke,Ie);else if(me=L(x),typeof me=="function")for(x=me.call(x),me=0;!(ve=x.next()).done;)ve=ve.value,ke=kt+ye(ve,me++),Ve+=J(ve,se,ge,ke,Ie);else if(ke==="object"){if(typeof x.then=="function")return J(Ze(x),se,ge,ve,Ie);throw se=String(x),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function fe(x,se,ge){if(x==null)return x;var ve=[],Ie=0;return J(x,ve,"","",function(ke){return se.call(ge,ke,Ie++)}),ve}function Ae(x){if(x._status===-1){var se=x._result;se=se(),se.then(function(ge){(x._status===0||x._status===-1)&&(x._status=1,x._result=ge)},function(ge){(x._status===0||x._status===-1)&&(x._status=2,x._result=ge)}),x._status===-1&&(x._status=0,x._result=se)}if(x._status===1)return x._result.default;throw x._result}var je=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Me={map:fe,forEach:function(x,se,ge){fe(x,function(){se.apply(this,arguments)},ge)},count:function(x){var se=0;return fe(x,function(){se++}),se},toArray:function(x){return fe(x,function(se){return se})||[]},only:function(x){if(!P(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Xe.Activity=S,Xe.Children=Me,Xe.Component=$,Xe.Fragment=n,Xe.Profiler=o,Xe.PureComponent=ce,Xe.StrictMode=s,Xe.Suspense=g,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return k.H.useMemoCache(x)}},Xe.cache=function(x){return function(){return x.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(x,se,ge){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ve=Z({},x.props),Ie=x.key;if(se!=null)for(ke in se.key!==void 0&&(Ie=""+se.key),se)!N.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(ve[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)ve.children=ge;else if(1<ke){for(var Ve=Array(ke),kt=0;kt<ke;kt++)Ve[kt]=arguments[kt+2];ve.children=Ve}return O(x.type,Ie,ve)},Xe.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Xe.createElement=function(x,se,ge){var ve,Ie={},ke=null;if(se!=null)for(ve in se.key!==void 0&&(ke=""+se.key),se)N.call(se,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ie[ve]=se[ve]);var Ve=arguments.length-2;if(Ve===1)Ie.children=ge;else if(1<Ve){for(var kt=Array(Ve),me=0;me<Ve;me++)kt[me]=arguments[me+2];Ie.children=kt}if(x&&x.defaultProps)for(ve in Ve=x.defaultProps,Ve)Ie[ve]===void 0&&(Ie[ve]=Ve[ve]);return O(x,ke,Ie)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(x){return{$$typeof:p,render:x}},Xe.isValidElement=P,Xe.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Ae}},Xe.memo=function(x,se){return{$$typeof:y,type:x,compare:se===void 0?null:se}},Xe.startTransition=function(x){var se=k.T,ge={};k.T=ge;try{var ve=x(),Ie=k.S;Ie!==null&&Ie(ge,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Ne,je)}catch(ke){je(ke)}finally{se!==null&&ge.types!==null&&(se.types=ge.types),k.T=se}},Xe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Xe.use=function(x){return k.H.use(x)},Xe.useActionState=function(x,se,ge){return k.H.useActionState(x,se,ge)},Xe.useCallback=function(x,se){return k.H.useCallback(x,se)},Xe.useContext=function(x){return k.H.useContext(x)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(x,se){return k.H.useDeferredValue(x,se)},Xe.useEffect=function(x,se){return k.H.useEffect(x,se)},Xe.useEffectEvent=function(x){return k.H.useEffectEvent(x)},Xe.useId=function(){return k.H.useId()},Xe.useImperativeHandle=function(x,se,ge){return k.H.useImperativeHandle(x,se,ge)},Xe.useInsertionEffect=function(x,se){return k.H.useInsertionEffect(x,se)},Xe.useLayoutEffect=function(x,se){return k.H.useLayoutEffect(x,se)},Xe.useMemo=function(x,se){return k.H.useMemo(x,se)},Xe.useOptimistic=function(x,se){return k.H.useOptimistic(x,se)},Xe.useReducer=function(x,se,ge){return k.H.useReducer(x,se,ge)},Xe.useRef=function(x){return k.H.useRef(x)},Xe.useState=function(x){return k.H.useState(x)},Xe.useSyncExternalStore=function(x,se,ge){return k.H.useSyncExternalStore(x,se,ge)},Xe.useTransition=function(){return k.H.useTransition()},Xe.version="19.2.0",Xe}var uE;function dy(){return uE||(uE=1,eg.exports=U1()),eg.exports}var q=dy(),tg={exports:{}},ch={},ng={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function z1(){return cE||(cE=1,(function(i){function e(J,fe){var Ae=J.length;J.push(fe);e:for(;0<Ae;){var je=Ae-1>>>1,Me=J[je];if(0<o(Me,fe))J[je]=fe,J[Ae]=Me,Ae=je;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var fe=J[0],Ae=J.pop();if(Ae!==fe){J[0]=Ae;e:for(var je=0,Me=J.length,x=Me>>>1;je<x;){var se=2*(je+1)-1,ge=J[se],ve=se+1,Ie=J[ve];if(0>o(ge,Ae))ve<Me&&0>o(Ie,ge)?(J[je]=Ie,J[ve]=Ae,je=ve):(J[je]=ge,J[se]=Ae,je=se);else if(ve<Me&&0>o(Ie,Ae))J[je]=Ie,J[ve]=Ae,je=ve;else break e}}return fe}function o(J,fe){var Ae=J.sortIndex-fe.sortIndex;return Ae!==0?Ae:J.id-fe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],w=1,S=null,I=3,L=!1,K=!1,Z=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Ce(J){for(var fe=n(y);fe!==null;){if(fe.callback===null)s(y);else if(fe.startTime<=J)s(y),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=n(y)}}function ze(J){if(Z=!1,Ce(J),!K)if(n(g)!==null)K=!0,Ne||(Ne=!0,H());else{var fe=n(y);fe!==null&&Ze(ze,fe.startTime-J)}}var Ne=!1,k=-1,N=5,O=-1;function j(){return G?!0:!(i.unstable_now()-O<N)}function P(){if(G=!1,Ne){var J=i.unstable_now();O=J;var fe=!0;try{e:{K=!1,Z&&(Z=!1,te(k),k=-1),L=!0;var Ae=I;try{t:{for(Ce(J),S=n(g);S!==null&&!(S.expirationTime>J&&j());){var je=S.callback;if(typeof je=="function"){S.callback=null,I=S.priorityLevel;var Me=je(S.expirationTime<=J);if(J=i.unstable_now(),typeof Me=="function"){S.callback=Me,Ce(J),fe=!0;break t}S===n(g)&&s(g),Ce(J)}else s(g);S=n(g)}if(S!==null)fe=!0;else{var x=n(y);x!==null&&Ze(ze,x.startTime-J),fe=!1}}break e}finally{S=null,I=Ae,L=!1}fe=void 0}}finally{fe?H():Ne=!1}}}var H;if(typeof ce=="function")H=function(){ce(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ye=M.port2;M.port1.onmessage=P,H=function(){ye.postMessage(null)}}else H=function(){$(P,0)};function Ze(J,fe){k=$(function(){J(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(J){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var Ae=I;I=fe;try{return J()}finally{I=Ae}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ae=I;I=J;try{return fe()}finally{I=Ae}},i.unstable_scheduleCallback=function(J,fe,Ae){var je=i.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?je+Ae:je):Ae=je,J){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=Ae+Me,J={id:w++,callback:fe,priorityLevel:J,startTime:Ae,expirationTime:Me,sortIndex:-1},Ae>je?(J.sortIndex=Ae,e(y,J),n(g)===null&&J===n(y)&&(Z?(te(k),k=-1):Z=!0,Ze(ze,Ae-je))):(J.sortIndex=Me,e(g,J),K||L||(K=!0,Ne||(Ne=!0,H()))),J},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(J){var fe=I;return function(){var Ae=I;I=fe;try{return J.apply(this,arguments)}finally{I=Ae}}}})(ig)),ig}var hE;function B1(){return hE||(hE=1,ng.exports=z1()),ng.exports}var rg={exports:{}},Di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function H1(){if(fE)return Di;fE=1;var i=dy();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:w}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Di.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,w)},Di.flushSync=function(g){var y=h.T,w=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=w,s.d.f()}},Di.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Di.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Di.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,S=p(w,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:L}):w==="script"&&s.d.X(g,{crossOrigin:S,integrity:I,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Di.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Di.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,S=p(w,y.crossOrigin);s.d.L(g,w,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Di.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Di.requestFormReset=function(g){s.d.r(g)},Di.unstable_batchedUpdates=function(g,y){return g(y)},Di.useFormState=function(g,y,w){return h.H.useFormState(g,y,w)},Di.useFormStatus=function(){return h.H.useHostTransitionStatus()},Di.version="19.2.0",Di}var dE;function q1(){if(dE)return rg.exports;dE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rg.exports=H1(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function F1(){if(mE)return ch;mE=1;var i=B1(),e=dy(),n=q1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,C=f.child;C;){if(C===a){b=!0,a=f,l=m;break}if(C===l){b=!0,l=f,a=m;break}C=C.sibling}if(!b){for(C=m.child;C;){if(C===a){b=!0,a=m,l=f;break}if(C===l){b=!0,l=m,a=f;break}C=C.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function w(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=w(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case G:return"StrictMode";case ze:return"Suspense";case Ne:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ce:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case Ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}var Ze=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},je=[],Me=-1;function x(t){return{current:t}}function se(t){0>Me||(t.current=je[Me],je[Me]=null,Me--)}function ge(t,r){Me++,je[Me]=t.current,t.current=r}var ve=x(null),Ie=x(null),ke=x(null),Ve=x(null);function kt(t,r){switch(ge(ke,r),ge(Ie,t),ge(ve,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?xb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=xb(r),t=Db(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ve),ge(ve,t)}function me(){se(ve),se(Ie),se(ke)}function wi(t){t.memoizedState!==null&&ge(Ve,t);var r=ve.current,a=Db(r,t.type);r!==a&&(ge(Ie,t),ge(ve,a))}function mr(t){Ie.current===t&&(se(ve),se(Ie)),Ve.current===t&&(se(Ve),sh._currentValue=Ae)}var pr,Lr;function ot(t){if(pr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);pr=r&&r[1]||"",Lr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+t+Lr}var Gi=!1;function Yt(t,r){if(!t||Gi)return"";Gi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ne){var X=ne}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(ne){X=ne}t.call(oe.prototype)}}else{try{throw Error()}catch(ne){X=ne}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ne){if(ne&&X&&typeof ne.stack=="string")return[ne.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],C=m[1];if(b&&C){var V=b.split(`
`),W=C.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===W.length)for(l=V.length-1,f=W.length-1;1<=l&&0<=f&&V[l]!==W[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==W[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==W[f]){var re=`
`+V[l].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=l&&0<=f);break}}}finally{Gi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ot(a):""}function ui(t,r){switch(t.tag){case 26:case 27:case 5:return ot(t.type);case 16:return ot("Lazy");case 13:return t.child!==r&&r!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return Yt(t.type,!1);case 11:return Yt(t.type.render,!1);case 1:return Yt(t.type,!0);case 31:return ot("Activity");default:return""}}function Is(t){try{var r="",a=null;do r+=ui(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Zt=Object.prototype.hasOwnProperty,hn=i.unstable_scheduleCallback,Pr=i.unstable_cancelCallback,sl=i.unstable_shouldYield,sa=i.unstable_requestPaint,Hn=i.unstable_now,$i=i.unstable_getCurrentPriorityLevel,Ai=i.unstable_ImmediatePriority,xs=i.unstable_UserBlockingPriority,jr=i.unstable_NormalPriority,aa=i.unstable_LowPriority,gr=i.unstable_IdlePriority,Yi=i.log,yr=i.unstable_setDisableYieldValue,An=null,gn=null;function Xn(t){if(typeof Yi=="function"&&yr(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(An,t)}catch{}}var Kt=Math.clz32?Math.clz32:Wa,oa=Math.log,Ur=Math.LN2;function Wa(t){return t>>>=0,t===0?32:31-(oa(t)/Ur|0)|0}var Vi=256,ns=262144,Qt=4194304;function xt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function jt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~m,l!==0?f=xt(l):(b&=C,b!==0?f=xt(b):a||(a=C&~t,a!==0&&(f=xt(a))))):(C=l&~m,C!==0?f=xt(C):b!==0?f=xt(b):a||(a=l&~t,a!==0&&(f=xt(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Vt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(){var t=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),t}function Ki(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function _r(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vr(t,r,a,l,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,V=t.expirationTimes,W=t.hiddenUpdates;for(a=b&~a;0<a;){var re=31-Kt(a),oe=1<<re;C[re]=0,V[re]=-1;var X=W[re];if(X!==null)for(W[re]=null,re=0;re<X.length;re++){var ne=X[re];ne!==null&&(ne.lane&=-536870913)}a&=~oe}l!==0&&Si(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function Si(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function is(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Kt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function zr(t,r){var a=r&-r;return a=(a&42)!==0?1:br(a),(a&(t.suspendedLanes|r))!==0?0:a}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ds(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:Zb(t.type))}function hi(t,r){var a=fe.p;try{return fe.p=t,r()}finally{fe.p=a}}var yn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+yn,_n="__reactProps$"+yn,Ci="__reactContainer$"+yn,Ye="__reactEvents$"+yn,zt="__reactListeners$"+yn,vt="__reactHandles$"+yn,bt="__reactResources$"+yn,lt="__reactMarker$"+yn;function tn(t){delete t[Ut],delete t[_n],delete t[Ye],delete t[zt],delete t[vt]}function Bt(t){var r=t[Ut];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ci]||a[Ut]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Pb(t);t!==null;){if(a=t[Ut])return a;t=Pb(t)}return r}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[Ut]||t[Ci]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Nn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Jn(t){var r=t[bt];return r||(r=t[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gt(t){t[lt]=!0}var Xa=new Set,la={};function fi(t,r){Er(t,r),Er(t+"Capture",r)}function Er(t,r){for(la[t]=r,t=0;t<r.length;t++)Xa.add(r[t])}var ua=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ca={},Ja={};function al(t){return Zt.call(Ja,t)?!0:Zt.call(ca,t)?!1:ua.test(t)?Ja[t]=!0:(ca[t]=!0,!1)}function ha(t,r,a){if(al(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ri(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function fn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rs(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Za(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Et(t){if(!t._valueTracker){var r=rs(t)?"checked":"value";t._valueTracker=Za(t,r,""+t[r])}}function Ns(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=rs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Cn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rn=/[\n"\\]/g;function vn(t){return t.replace(Rn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Gn(t,r,a,l,f,m,b,C){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Sn(r)):t.value!==""+Sn(r)&&(t.value=""+Sn(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?fa(t,b,Sn(r)):a!=null?fa(t,b,Sn(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Sn(C):t.removeAttribute("name")}function eo(t,r,a,l,f,m,b,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Et(t);return}a=a!=null?""+Sn(a):"",r=r!=null?""+Sn(r):a,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Et(t)}function fa(t,r,a){r==="number"&&Cn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $n(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Sn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Br(t,r,a){if(r!=null&&(r=""+Sn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Sn(a):""}function Tr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Sn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Et(t)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var to=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||to.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Hr(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&no(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&no(t,m,r[m])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(t){return Zn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function On(){}var Ms=null;function Pi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,Wi=null;function wr(t){var r=Fn(t);if(r&&(t=r.stateNode)){var a=t[_n]||null;e:switch(t=r.stateNode,r.type){case"input":if(Gn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[_n]||null;if(!f)throw Error(s(90));Gn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ns(l)}break e;case"textarea":Br(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&$n(t,!!a.multiple,r,!1)}}}var da=!1;function ss(t,r,a){if(da)return t(r,a);da=!0;try{var l=t(r);return l}finally{if(da=!1,(Qi!==null||Wi!==null)&&($f(),Qi&&(r=Qi,t=Wi,Wi=Qi=null,wr(r),t)))for(r=0;r<t.length;r++)wr(t[r])}}function Xi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[_n]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Yn)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{ma=!1}var Ji=null,ks=null,as=null;function ll(){if(as)return as;var t,r=ks,a=r.length,l,f="value"in Ji?Ji.value:Ji.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===f[m-l];l++);return as=f.slice(t,1<l?1-l:void 0)}function qr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function Zi(){return!1}function xn(t){function r(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?os:Zi,this.isPropagationStopped=Zi,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),r}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=xn(Ar),ls=S({},Ar,{view:0,detail:0}),us=xn(ls),Fr,pa,Sr,Cr=S({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(Fr=t.screenX-Sr.screenX,pa=t.screenY-Sr.screenY):pa=Fr=0,Sr=t),Fr)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),ul=xn(Cr),Vs=S({},Cr,{dataTransfer:0}),cl=xn(Vs),hl=S({},ls,{relatedTarget:0}),Ls=xn(hl),ro=S({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),so=xn(ro),ga=S({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kl=xn(ga),Ql=S({},Ar,{data:0}),Rr=xn(Ql),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Wl[t])?!!r[t]:!1}function Gr(){return Xl}var ei=S({},ls,{key:function(t){if(t.key){var r=fl[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ya[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dl=xn(ei),$r=S({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ir=xn($r),c=S({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),_=xn(c),T=S({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=xn(T),Y=S({},Cr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=xn(Y),pe=S({},Ar,{newState:0,oldState:0}),Ke=xn(pe),dn=[9,13,27,32],rt=Yn&&"CompositionEvent"in window,Tt=null;Yn&&"documentMode"in document&&(Tt=document.documentMode);var tr=Yn&&"TextEvent"in window&&!Tt,ji=Yn&&(!rt||Tt&&8<Tt&&11>=Tt),xr=" ",Dr=!1;function _a(t,r){switch(t){case"keyup":return dn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function km(t,r){switch(t){case"compositionend":return ao(r);case"keypress":return r.which!==32?null:(Dr=!0,xr);case"textInput":return t=r.data,t===xr&&Dr?null:t;default:return null}}function Vm(t,r){if(oo)return t==="compositionend"||!rt&&_a(t,r)?(t=ll(),as=ks=Ji=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var Lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Lm[t.type]:r==="textarea"}function cc(t,r,a,l){Qi?Wi?Wi.push(l):Wi=[l]:Qi=l,r=Zf(r,"onChange"),0<r.length&&(a=new er("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var lo=null,uo=null;function Pm(t){wb(t,0)}function Jl(t){var r=Nn(t);if(Ns(r))return t}function hc(t,r){if(t==="change")return r}var ml=!1;if(Yn){var fc;if(Yn){var dc="oninput"in document;if(!dc){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),dc=typeof mc.oninput=="function"}fc=dc}else fc=!1;ml=fc&&(!document.documentMode||9<document.documentMode)}function uf(){lo&&(lo.detachEvent("onpropertychange",cf),uo=lo=null)}function cf(t){if(t.propertyName==="value"&&Jl(uo)){var r=[];cc(r,uo,t,Pi(t)),ss(Pm,r)}}function hf(t,r,a){t==="focusin"?(uf(),lo=r,uo=a,lo.attachEvent("onpropertychange",cf)):t==="focusout"&&uf()}function ff(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(uo)}function df(t,r){if(t==="click")return Jl(r)}function Zl(t,r){if(t==="input"||t==="change")return Jl(r)}function mf(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var di=typeof Object.is=="function"?Object.is:mf;function ti(t,r){if(di(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Zt.call(r,f)||!di(t[f],r[f]))return!1}return!0}function pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gf(t,r){var a=pf(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pf(a)}}function pc(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pc(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function gc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Cn(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Cn(t.document)}return r}function yc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var jm=Yn&&"documentMode"in document&&11>=document.documentMode,co=null,_c=null,pl=null,vc=!1;function bc(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vc||co==null||co!==Cn(l)||(l=co,"selectionStart"in l&&yc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ti(pl,l)||(pl=l,l=Zf(_c,"onSelect"),0<l.length&&(r=new er("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=co)))}function Ps(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var js={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Ec={},yf={};Yn&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Ui(t){if(Ec[t])return Ec[t];if(!js[t])return t;var r=js[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in yf)return Ec[t]=r[a];return t}var Yr=Ui("animationend"),Tc=Ui("animationiteration"),_f=Ui("animationstart"),vf=Ui("transitionrun"),bf=Ui("transitionstart"),Ef=Ui("transitioncancel"),wc=Ui("transitionend"),Tf=new Map,Ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ac.push("scrollEnd");function Nr(t,r){Tf.set(t,r),fi(r,[t])}var gl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zi=[],ho=0,Sc=0;function eu(){for(var t=ho,r=Sc=ho=0;r<t;){var a=zi[r];zi[r++]=null;var l=zi[r];zi[r++]=null;var f=zi[r];zi[r++]=null;var m=zi[r];if(zi[r++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&Rc(a,f,m)}}function tu(t,r,a,l){zi[ho++]=t,zi[ho++]=r,zi[ho++]=a,zi[ho++]=l,Sc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cc(t,r,a,l){return tu(t,r,a,l),nu(t)}function mi(t,r){return tu(t,null,null,r),nu(t)}function Rc(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-Kt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function nu(t){if(50<Jc)throw Jc=0,wp=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var fo={};function Um(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(t,r,a,l){return new Um(t,r,a,l)}function Ic(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,r){var a=t.alternate;return a===null?(a=Bi(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wf(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function iu(t,r,a,l,f,m){var b=0;if(l=t,typeof t=="function")Ic(t)&&(b=1);else if(typeof t=="string")b=S1(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Bi(31,a,r,f),t.elementType=O,t.lanes=m,t;case Z:return hs(a.children,f,m,r);case G:b=8,f|=24;break;case $:return t=Bi(12,a,r,f|2),t.elementType=$,t.lanes=m,t;case ze:return t=Bi(13,a,r,f),t.elementType=ze,t.lanes=m,t;case Ne:return t=Bi(19,a,r,f),t.elementType=Ne,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:b=10;break e;case te:b=9;break e;case Ce:b=11;break e;case k:b=14;break e;case N:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Bi(b,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function hs(t,r,a,l){return t=Bi(7,t,l,r),t.lanes=a,t}function mo(t,r,a){return t=Bi(6,t,null,r),t.lanes=a,t}function Af(t){var r=Bi(18,null,null,0);return r.stateNode=t,r}function ru(t,r,a){return r=Bi(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var xc=new WeakMap;function ni(t,r){if(typeof t=="object"&&t!==null){var a=xc.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Is(r)},xc.set(t,r),r)}return{value:t,source:r,stack:Is(r)}}var Us=[],zs=0,su=null,yl=0,ir=[],Mn=0,Bs=null,Kr=1,Qr="";function fs(t,r){Us[zs++]=yl,Us[zs++]=su,su=t,yl=r}function _l(t,r,a){ir[Mn++]=Kr,ir[Mn++]=Qr,ir[Mn++]=Bs,Bs=t;var l=Kr;t=Qr;var f=32-Kt(l)-1;l&=~(1<<f),a+=1;var m=32-Kt(r)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Kr=1<<32-Kt(r)+f|a<<f|l,Qr=m+t}else Kr=1<<m|a<<f|l,Qr=t}function vl(t){t.return!==null&&(fs(t,1),_l(t,1,0))}function Dc(t){for(;t===su;)su=Us[--zs],Us[zs]=null,yl=Us[--zs],Us[zs]=null;for(;t===Bs;)Bs=ir[--Mn],ir[Mn]=null,Qr=ir[--Mn],ir[Mn]=null,Kr=ir[--Mn],ir[Mn]=null}function Nc(t,r){ir[Mn++]=Kr,ir[Mn++]=Qr,ir[Mn++]=Bs,Kr=r.id,Qr=r.overflow,Bs=t}var Kn=null,wt=null,nt=!1,ds=null,rr=!1,Oc=Error(s(519));function Hs(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(ni(r,t)),Oc}function po(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ut]=t,r[_n]=l,a){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(a=0;a<eh.length;a++)at(eh[a],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),eo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),Tr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Rb(r.textContent,a)?(l.popover!=null&&(at("beforetoggle",r),at("toggle",r)),l.onScroll!=null&&at("scroll",r),l.onScrollEnd!=null&&at("scrollend",r),l.onClick!=null&&(r.onclick=On),r=!0):r=!1,r||Hs(t,!0)}function qs(t){for(Kn=t.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Kn=Kn.return}}function go(t){if(t!==Kn)return!1;if(!nt)return qs(t),nt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jp(t.type,t.memoizedProps)),a=!a),a&&wt&&Hs(t),qs(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=Lb(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=Lb(t)}else r===27?(r=wt,Do(t.type)?(t=qp,qp=null,wt=t):wt=r):wt=Kn?Jr(t.stateNode.nextSibling):null;return!0}function va(){wt=Kn=null,nt=!1}function Mc(){var t=ds;return t!==null&&(ur===null?ur=t:ur.push.apply(ur,t),ds=null),t}function bl(t){ds===null?ds=[t]:ds.push(t)}var kc=x(null),ba=null,ms=null;function Fs(t,r,a){ge(kc,r._currentValue),r._currentValue=a}function Wr(t){t._currentValue=kc.current,se(kc)}function Vc(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function au(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var V=0;V<r.length;V++)if(C.context===r[V]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),Vc(m.return,a,t),l||(b=null);break e}m=C.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Vc(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Gs(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var C=f.type;di(f.pendingProps.value,b.value)||(t!==null?t.push(C):t=[C])}}else if(f===Ve.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(sh):t=[sh])}f=f.return}t!==null&&au(r,t,a,l),r.flags|=262144}function El(t){for(t=t.firstContext;t!==null;){if(!di(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hi(t){ba=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kn(t){return Lc(ba,t)}function yo(t,r){return ba===null&&Hi(t),Lc(t,r)}function Lc(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ms===null){if(t===null)throw Error(s(308));ms=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ms=ms.next=r;return a}var Pc=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Sf=i.unstable_scheduleCallback,jc=i.unstable_NormalPriority,bn={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ps(){return{controller:new Pc,data:new Map,refCount:0}}function sr(t){t.refCount--,t.refCount===0&&Sf(jc,function(){t.controller.abort()})}var Tl=null,Uc=0,_o=0,vo=null;function zm(t,r){if(Tl===null){var a=Tl=[];Uc=0,_o=xp(),vo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uc++,r.then(Cf,Cf),r}function Cf(){if(--Uc===0&&Tl!==null){vo!==null&&(vo.status="fulfilled");var t=Tl;Tl=null,_o=0,vo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Bm(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Rf=J.S;J.S=function(t,r){Xv=Hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zm(t,r),Rf!==null&&Rf(t,r)};var $s=x(null);function bo(){var t=$s.current;return t!==null?t:$t.pooledCache}function Ea(t,r){r===null?ge($s,$s.current):ge($s,r.pool)}function If(){var t=bo();return t===null?null:{parent:bn._currentValue,pool:t}}var Eo=Error(s(460)),Ta=Error(s(474)),A=Error(s(542)),d={then:function(){}};function v(t){return t=t.status,t==="fulfilled"||t==="rejected"}function R(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(On,On),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,he(t),t;default:if(typeof r.status=="string")r.then(On,On);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,he(t),t}throw B=r,Eo}}function z(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(B=a,Eo):a}}var B=null;function ie(){if(B===null)throw Error(s(459));var t=B;return B=null,t}function he(t){if(t===Eo||t===A)throw Error(s(483))}var de=null,be=0;function Te(t){var r=be;return be+=1,de===null&&(de=[]),R(de,t,r)}function _e(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ge(t,r){throw r.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Le(t){function r(F,U){if(t){var Q=F.deletions;Q===null?(F.deletions=[U],F.flags|=16):Q.push(U)}}function a(F,U){if(!t)return null;for(;U!==null;)r(F,U),U=U.sibling;return null}function l(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function f(F,U){return F=cs(F,U),F.index=0,F.sibling=null,F}function m(F,U,Q){return F.index=Q,t?(Q=F.alternate,Q!==null?(Q=Q.index,Q<U?(F.flags|=67108866,U):Q):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function b(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function C(F,U,Q,ae){return U===null||U.tag!==6?(U=mo(Q,F.mode,ae),U.return=F,U):(U=f(U,Q),U.return=F,U)}function V(F,U,Q,ae){var xe=Q.type;return xe===Z?re(F,U,Q.props.children,ae,Q.key):U!==null&&(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===N&&z(xe)===U.type)?(U=f(U,Q.props),_e(U,Q),U.return=F,U):(U=iu(Q.type,Q.key,Q.props,null,F.mode,ae),_e(U,Q),U.return=F,U)}function W(F,U,Q,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=ru(Q,F.mode,ae),U.return=F,U):(U=f(U,Q.children||[]),U.return=F,U)}function re(F,U,Q,ae,xe){return U===null||U.tag!==7?(U=hs(Q,F.mode,ae,xe),U.return=F,U):(U=f(U,Q),U.return=F,U)}function oe(F,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=mo(""+U,F.mode,Q),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return Q=iu(U.type,U.key,U.props,null,F.mode,Q),_e(Q,U),Q.return=F,Q;case K:return U=ru(U,F.mode,Q),U.return=F,U;case N:return U=z(U),oe(F,U,Q)}if(Ze(U)||H(U))return U=hs(U,F.mode,Q,null),U.return=F,U;if(typeof U.then=="function")return oe(F,Te(U),Q);if(U.$$typeof===ce)return oe(F,yo(F,U),Q);Ge(F,U)}return null}function X(F,U,Q,ae){var xe=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return xe!==null?null:C(F,U,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:return Q.key===xe?V(F,U,Q,ae):null;case K:return Q.key===xe?W(F,U,Q,ae):null;case N:return Q=z(Q),X(F,U,Q,ae)}if(Ze(Q)||H(Q))return xe!==null?null:re(F,U,Q,ae,null);if(typeof Q.then=="function")return X(F,U,Te(Q),ae);if(Q.$$typeof===ce)return X(F,U,yo(F,Q),ae);Ge(F,Q)}return null}function ne(F,U,Q,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return F=F.get(Q)||null,C(U,F,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case L:return F=F.get(ae.key===null?Q:ae.key)||null,V(U,F,ae,xe);case K:return F=F.get(ae.key===null?Q:ae.key)||null,W(U,F,ae,xe);case N:return ae=z(ae),ne(F,U,Q,ae,xe)}if(Ze(ae)||H(ae))return F=F.get(Q)||null,re(U,F,ae,xe,null);if(typeof ae.then=="function")return ne(F,U,Q,Te(ae),xe);if(ae.$$typeof===ce)return ne(F,U,Q,yo(U,ae),xe);Ge(U,ae)}return null}function Se(F,U,Q,ae){for(var xe=null,St=null,Re=U,et=U=0,ct=null;Re!==null&&et<Q.length;et++){Re.index>et?(ct=Re,Re=null):ct=Re.sibling;var Ct=X(F,Re,Q[et],ae);if(Ct===null){Re===null&&(Re=ct);break}t&&Re&&Ct.alternate===null&&r(F,Re),U=m(Ct,U,et),St===null?xe=Ct:St.sibling=Ct,St=Ct,Re=ct}if(et===Q.length)return a(F,Re),nt&&fs(F,et),xe;if(Re===null){for(;et<Q.length;et++)Re=oe(F,Q[et],ae),Re!==null&&(U=m(Re,U,et),St===null?xe=Re:St.sibling=Re,St=Re);return nt&&fs(F,et),xe}for(Re=l(Re);et<Q.length;et++)ct=ne(Re,F,et,Q[et],ae),ct!==null&&(t&&ct.alternate!==null&&Re.delete(ct.key===null?et:ct.key),U=m(ct,U,et),St===null?xe=ct:St.sibling=ct,St=ct);return t&&Re.forEach(function(Vo){return r(F,Vo)}),nt&&fs(F,et),xe}function Ue(F,U,Q,ae){if(Q==null)throw Error(s(151));for(var xe=null,St=null,Re=U,et=U=0,ct=null,Ct=Q.next();Re!==null&&!Ct.done;et++,Ct=Q.next()){Re.index>et?(ct=Re,Re=null):ct=Re.sibling;var Vo=X(F,Re,Ct.value,ae);if(Vo===null){Re===null&&(Re=ct);break}t&&Re&&Vo.alternate===null&&r(F,Re),U=m(Vo,U,et),St===null?xe=Vo:St.sibling=Vo,St=Vo,Re=ct}if(Ct.done)return a(F,Re),nt&&fs(F,et),xe;if(Re===null){for(;!Ct.done;et++,Ct=Q.next())Ct=oe(F,Ct.value,ae),Ct!==null&&(U=m(Ct,U,et),St===null?xe=Ct:St.sibling=Ct,St=Ct);return nt&&fs(F,et),xe}for(Re=l(Re);!Ct.done;et++,Ct=Q.next())Ct=ne(Re,F,et,Ct.value,ae),Ct!==null&&(t&&Ct.alternate!==null&&Re.delete(Ct.key===null?et:Ct.key),U=m(Ct,U,et),St===null?xe=Ct:St.sibling=Ct,St=Ct);return t&&Re.forEach(function(L1){return r(F,L1)}),nt&&fs(F,et),xe}function qt(F,U,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:e:{for(var xe=Q.key;U!==null;){if(U.key===xe){if(xe=Q.type,xe===Z){if(U.tag===7){a(F,U.sibling),ae=f(U,Q.props.children),ae.return=F,F=ae;break e}}else if(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===N&&z(xe)===U.type){a(F,U.sibling),ae=f(U,Q.props),_e(ae,Q),ae.return=F,F=ae;break e}a(F,U);break}else r(F,U);U=U.sibling}Q.type===Z?(ae=hs(Q.props.children,F.mode,ae,Q.key),ae.return=F,F=ae):(ae=iu(Q.type,Q.key,Q.props,null,F.mode,ae),_e(ae,Q),ae.return=F,F=ae)}return b(F);case K:e:{for(xe=Q.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){a(F,U.sibling),ae=f(U,Q.children||[]),ae.return=F,F=ae;break e}else{a(F,U);break}else r(F,U);U=U.sibling}ae=ru(Q,F.mode,ae),ae.return=F,F=ae}return b(F);case N:return Q=z(Q),qt(F,U,Q,ae)}if(Ze(Q))return Se(F,U,Q,ae);if(H(Q)){if(xe=H(Q),typeof xe!="function")throw Error(s(150));return Q=xe.call(Q),Ue(F,U,Q,ae)}if(typeof Q.then=="function")return qt(F,U,Te(Q),ae);if(Q.$$typeof===ce)return qt(F,U,yo(F,Q),ae);Ge(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,U!==null&&U.tag===6?(a(F,U.sibling),ae=f(U,Q),ae.return=F,F=ae):(a(F,U),ae=mo(Q,F.mode,ae),ae.return=F,F=ae),b(F)):a(F,U)}return function(F,U,Q,ae){try{be=0;var xe=qt(F,U,Q,ae);return de=null,xe}catch(Re){if(Re===Eo||Re===A)throw Re;var St=Bi(29,Re,null,F.mode);return St.lanes=ae,St.return=F,St}finally{}}}var Pe=Le(!0),Be=Le(!1),Oe=!1;function At(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dt(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fe(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tt(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(It&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=nu(t),Rc(t,null,a),r}return tu(t,l,r,a),nu(t)}function $e(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,is(t,a)}}function it(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yt=!1;function pt(){if(yt){var t=vo;if(t!==null)throw t}}function mt(t,r,a,l){yt=!1;var f=t.updateQueue;Oe=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var V=C,W=V.next;V.next=null,b===null?m=W:b.next=W,b=V;var re=t.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==b&&(C===null?re.firstBaseUpdate=W:C.next=W,re.lastBaseUpdate=V))}if(m!==null){var oe=f.baseState;b=0,re=W=V=null,C=m;do{var X=C.lane&-536870913,ne=X!==C.lane;if(ne?(ut&X)===X:(l&X)===X){X!==0&&X===_o&&(yt=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=t,Ue=C;X=r;var qt=a;switch(Ue.tag){case 1:if(Se=Ue.payload,typeof Se=="function"){oe=Se.call(qt,oe,X);break e}oe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ue.payload,X=typeof Se=="function"?Se.call(qt,oe,X):Se,X==null)break e;oe=S({},oe,X);break e;case 2:Oe=!0}}X=C.callback,X!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=f.callbacks,ne===null?f.callbacks=[X]:ne.push(X))}else ne={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(W=re=ne,V=oe):re=re.next=ne,b|=X;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ne=C,C=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);re===null&&(V=oe),f.baseState=V,f.firstBaseUpdate=W,f.lastBaseUpdate=re,m===null&&(f.shared.lanes=0),So|=b,t.lanes=b,t.memoizedState=oe}}function nn(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ii(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)nn(a[t],r)}var ii=x(null),Vn=x(0);function qi(t,r){t=Ma,ge(Vn,t),ge(ii,r),Ma=t|r.baseLanes}function xi(){ge(Vn,Ma),ge(ii,ii.current)}function Wt(){Ma=Vn.current,se(ii),se(Vn)}var rn=x(null),mn=null;function Fi(t){var r=t.alternate;ge(Ot,Ot.current&1),ge(rn,t),mn===null&&(r===null||ii.current!==null||r.memoizedState!==null)&&(mn=t)}function En(t){ge(Ot,Ot.current),ge(rn,t),mn===null&&(mn=t)}function Nt(t){t.tag===22?(ge(Ot,Ot.current),ge(rn,t),mn===null&&(mn=t)):sn()}function sn(){ge(Ot,Ot.current),ge(rn,rn.current)}function Xt(t){se(rn),mn===t&&(mn=null),se(Ot)}var Ot=x(0);function wa(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bp(a)||Hp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xr=0,Qe=null,_t=null,Tn=null,ou=!1,Ys=!1,Aa=!1,wl=0,Al=0,Sa=null,xf=0;function an(){throw Error(s(321))}function zc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!di(t[a],r[a]))return!1;return!0}function gs(t,r,a,l,f,m){return Xr=m,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?lv:Jm,Aa=!1,m=a(l,f),Aa=!1,Ys&&(m=Bc(r,a,l,f)),Sl(t),m}function Sl(t){J.H=qc;var r=_t!==null&&_t.next!==null;if(Xr=0,Tn=_t=Qe=null,ou=!1,Al=0,Sa=null,r)throw Error(s(300));t===null||Ln||(t=t.dependencies,t!==null&&El(t)&&(Ln=!0))}function Bc(t,r,a,l){Qe=t;var f=0;do{if(Ys&&(Sa=null),Al=0,Ys=!1,25<=f)throw Error(s(301));if(f+=1,Tn=_t=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=uv,m=r(a,l)}while(Ys);return m}function Df(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?Rl(r):r,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(Qe.flags|=1024),r}function Cl(){var t=wl!==0;return wl=0,t}function lu(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function uu(t){if(ou){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ou=!1}Xr=0,Tn=_t=Qe=null,Ys=!1,Al=wl=0,Sa=null}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Qe.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function on(){if(_t===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var r=Tn===null?Qe.memoizedState:Tn.next;if(r!==null)Tn=r,_t=t;else{if(t===null)throw Qe.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Tn===null?Qe.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var r=Al;return Al+=1,Sa===null&&(Sa=[]),t=R(Sa,t,r),r=Qe,(Tn===null?r.memoizedState:Tn.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?lv:Jm),t}function To(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===ce)return kn(t)}throw Error(s(438,String(t)))}function hu(t){var r=null,a=Qe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=cu(),Qe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=j;return r.index++,a}function Ca(t,r){return typeof r=="function"?r(t):r}function Nf(t){var r=on();return Hm(r,_t,t)}function Hm(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var C=b=null,V=null,W=r,re=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(ut&oe)===oe:(Xr&oe)===oe){var X=W.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===_o&&(re=!0);else if((Xr&X)===X){W=W.next,X===_o&&(re=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(C=V=oe,b=m):V=V.next=oe,Qe.lanes|=X,So|=X;oe=W.action,Aa&&a(m,oe),m=W.hasEagerState?W.eagerState:a(m,oe)}else X={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(C=V=X,b=m):V=V.next=X,Qe.lanes|=oe,So|=oe;W=W.next}while(W!==null&&W!==r);if(V===null?b=m:V.next=C,!di(m,t.memoizedState)&&(Ln=!0,re&&(a=vo,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=V,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qm(t){var r=on(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);di(m,r.memoizedState)||(Ln=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function I_(t,r,a){var l=Qe,f=on(),m=nt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!di((_t||f).memoizedState,a);if(b&&(f.memoizedState=a,Ln=!0),f=f.queue,$m(N_.bind(null,l,f,t),[t]),f.getSnapshot!==r||b||Tn!==null&&Tn.memoizedState.tag&1){if(l.flags|=2048,fu(9,{destroy:void 0},D_.bind(null,l,f,a,r),null),$t===null)throw Error(s(349));m||(Xr&127)!==0||x_(l,r,a)}return a}function x_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Qe.updateQueue,r===null?(r=cu(),Qe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function D_(t,r,a,l){r.value=a,r.getSnapshot=l,O_(r)&&M_(t)}function N_(t,r,a){return a(function(){O_(r)&&M_(t)})}function O_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!di(t,a)}catch{return!0}}function M_(t){var r=mi(t,2);r!==null&&cr(r,t,2)}function Fm(t){var r=ri();if(typeof t=="function"){var a=t;if(t=a(),Aa){Xn(!0);try{a()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},r}function k_(t,r,a,l){return t.baseState=a,Hm(t,_t,typeof l=="function"?l:Ca)}function IS(t,r,a,l,f){if(kf(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};J.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,V_(r,m)):(m.next=a.next,r.pending=a.next=m)}}function V_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=J.T,b={};J.T=b;try{var C=a(f,l),V=J.S;V!==null&&V(b,C),L_(t,r,C)}catch(W){Gm(t,r,W)}finally{m!==null&&b.types!==null&&(m.types=b.types),J.T=m}}else try{m=a(f,l),L_(t,r,m)}catch(W){Gm(t,r,W)}}function L_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){P_(t,r,l)},function(l){return Gm(t,r,l)}):P_(t,r,a)}function P_(t,r,a){r.status="fulfilled",r.value=a,j_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,V_(t,a)))}function Gm(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,j_(r),r=r.next;while(r!==l)}t.action=null}function j_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function U_(t,r){return r}function z_(t,r){if(nt){var a=$t.formState;if(a!==null){e:{var l=Qe;if(nt){if(wt){t:{for(var f=wt,m=rr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){wt=Jr(f.nextSibling),l=f.data==="F!";break e}}Hs(l)}l=!1}l&&(r=a[0])}}return a=ri(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U_,lastRenderedState:r},a.queue=l,a=sv.bind(null,Qe,l),l.dispatch=a,l=Fm(!1),m=Xm.bind(null,Qe,!1,l.queue),l=ri(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=IS.bind(null,Qe,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function B_(t){var r=on();return H_(r,_t,t)}function H_(t,r,a){if(r=Hm(t,r,U_)[0],t=Nf(Ca)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Rl(r)}catch(b){throw b===Eo?A:b}else l=r;r=on();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Qe.flags|=2048,fu(9,{destroy:void 0},xS.bind(null,f,a),null)),[l,m,t]}function xS(t,r){t.action=r}function q_(t){var r=on(),a=_t;if(a!==null)return H_(r,a,t);on(),r=r.memoizedState,a=on();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function fu(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Qe.updateQueue,r===null&&(r=cu(),Qe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function F_(){return on().memoizedState}function Of(t,r,a,l){var f=ri();Qe.flags|=t,f.memoizedState=fu(1|r,{destroy:void 0},a,l===void 0?null:l)}function Mf(t,r,a,l){var f=on();l=l===void 0?null:l;var m=f.memoizedState.inst;_t!==null&&l!==null&&zc(l,_t.memoizedState.deps)?f.memoizedState=fu(r,m,a,l):(Qe.flags|=t,f.memoizedState=fu(1|r,m,a,l))}function G_(t,r){Of(8390656,8,t,r)}function $m(t,r){Mf(2048,8,t,r)}function DS(t){Qe.flags|=4;var r=Qe.updateQueue;if(r===null)r=cu(),Qe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function $_(t){var r=on().memoizedState;return DS({ref:r,nextImpl:t}),function(){if((It&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Y_(t,r){return Mf(4,2,t,r)}function K_(t,r){return Mf(4,4,t,r)}function Q_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function W_(t,r,a){a=a!=null?a.concat([t]):null,Mf(4,4,Q_.bind(null,r,t),a)}function Ym(){}function X_(t,r){var a=on();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&zc(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function J_(t,r){var a=on();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&zc(r,l[1]))return l[0];if(l=t(),Aa){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,r],l}function Km(t,r,a){return a===void 0||(Xr&1073741824)!==0&&(ut&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Zv(),Qe.lanes|=t,So|=t,a)}function Z_(t,r,a,l){return di(a,r)?a:ii.current!==null?(t=Km(t,a,l),di(t,r)||(Ln=!0),t):(Xr&42)===0||(Xr&1073741824)!==0&&(ut&261930)===0?(Ln=!0,t.memoizedState=a):(t=Zv(),Qe.lanes|=t,So|=t,r)}function ev(t,r,a,l,f){var m=fe.p;fe.p=m!==0&&8>m?m:8;var b=J.T,C={};J.T=C,Xm(t,!1,r,a);try{var V=f(),W=J.S;if(W!==null&&W(C,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=Bm(V,l);Hc(t,r,re,kr(t))}else Hc(t,r,l,kr(t))}catch(oe){Hc(t,r,{then:function(){},status:"rejected",reason:oe},kr())}finally{fe.p=m,b!==null&&C.types!==null&&(b.types=C.types),J.T=b}}function NS(){}function Qm(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=tv(t).queue;ev(t,f,r,Ae,a===null?NS:function(){return nv(t),a(l)})}function tv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:Ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function nv(t){var r=tv(t);r.next===null&&(r=t.alternate.memoizedState),Hc(t,r.next.queue,{},kr())}function Wm(){return kn(sh)}function iv(){return on().memoizedState}function rv(){return on().memoizedState}function OS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=kr();t=Fe(a);var l=tt(r,t,a);l!==null&&(cr(l,r,a),$e(l,r,a)),r={cache:ps()},t.payload=r;return}r=r.return}}function MS(t,r,a){var l=kr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kf(t)?av(r,a):(a=Cc(t,r,a,l),a!==null&&(cr(a,t,l),ov(a,r,l)))}function sv(t,r,a){var l=kr();Hc(t,r,a,l)}function Hc(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kf(t))av(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,C=m(b,a);if(f.hasEagerState=!0,f.eagerState=C,di(C,b))return tu(t,r,f,0),$t===null&&eu(),!1}catch{}finally{}if(a=Cc(t,r,f,l),a!==null)return cr(a,t,l),ov(a,r,l),!0}return!1}function Xm(t,r,a,l){if(l={lane:2,revertLane:xp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kf(t)){if(r)throw Error(s(479))}else r=Cc(t,a,l,2),r!==null&&cr(r,t,2)}function kf(t){var r=t.alternate;return t===Qe||r!==null&&r===Qe}function av(t,r){Ys=ou=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ov(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,is(t,a)}}var qc={readContext:kn,use:To,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};qc.useEffectEvent=an;var lv={readContext:kn,use:To,useCallback:function(t,r){return ri().memoizedState=[t,r===void 0?null:r],t},useContext:kn,useEffect:G_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Of(4194308,4,Q_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Of(4194308,4,t,r)},useInsertionEffect:function(t,r){Of(4,2,t,r)},useMemo:function(t,r){var a=ri();r=r===void 0?null:r;var l=t();if(Aa){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ri();if(a!==void 0){var f=a(r);if(Aa){Xn(!0);try{a(r)}finally{Xn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=MS.bind(null,Qe,t),[l.memoizedState,t]},useRef:function(t){var r=ri();return t={current:t},r.memoizedState=t},useState:function(t){t=Fm(t);var r=t.queue,a=sv.bind(null,Qe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ym,useDeferredValue:function(t,r){var a=ri();return Km(a,t,r)},useTransition:function(){var t=Fm(!1);return t=ev.bind(null,Qe,t.queue,!0,!1),ri().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Qe,f=ri();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),$t===null)throw Error(s(349));(ut&127)!==0||x_(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,G_(N_.bind(null,l,m,t),[t]),l.flags|=2048,fu(9,{destroy:void 0},D_.bind(null,l,m,a,r),null),a},useId:function(){var t=ri(),r=$t.identifierPrefix;if(nt){var a=Qr,l=Kr;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=wl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=xf++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Wm,useFormState:z_,useActionState:z_,useOptimistic:function(t){var r=ri();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xm.bind(null,Qe,!0,a),a.dispatch=r,[t,r]},useMemoCache:hu,useCacheRefresh:function(){return ri().memoizedState=OS.bind(null,Qe)},useEffectEvent:function(t){var r=ri(),a={impl:t};return r.memoizedState=a,function(){if((It&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jm={readContext:kn,use:To,useCallback:X_,useContext:kn,useEffect:$m,useImperativeHandle:W_,useInsertionEffect:Y_,useLayoutEffect:K_,useMemo:J_,useReducer:Nf,useRef:F_,useState:function(){return Nf(Ca)},useDebugValue:Ym,useDeferredValue:function(t,r){var a=on();return Z_(a,_t.memoizedState,t,r)},useTransition:function(){var t=Nf(Ca)[0],r=on().memoizedState;return[typeof t=="boolean"?t:Rl(t),r]},useSyncExternalStore:I_,useId:iv,useHostTransitionStatus:Wm,useFormState:B_,useActionState:B_,useOptimistic:function(t,r){var a=on();return k_(a,_t,t,r)},useMemoCache:hu,useCacheRefresh:rv};Jm.useEffectEvent=$_;var uv={readContext:kn,use:To,useCallback:X_,useContext:kn,useEffect:$m,useImperativeHandle:W_,useInsertionEffect:Y_,useLayoutEffect:K_,useMemo:J_,useReducer:qm,useRef:F_,useState:function(){return qm(Ca)},useDebugValue:Ym,useDeferredValue:function(t,r){var a=on();return _t===null?Km(a,t,r):Z_(a,_t.memoizedState,t,r)},useTransition:function(){var t=qm(Ca)[0],r=on().memoizedState;return[typeof t=="boolean"?t:Rl(t),r]},useSyncExternalStore:I_,useId:iv,useHostTransitionStatus:Wm,useFormState:q_,useActionState:q_,useOptimistic:function(t,r){var a=on();return _t!==null?k_(a,_t,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hu,useCacheRefresh:rv};uv.useEffectEvent=$_;function Zm(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ep={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=kr(),f=Fe(l);f.payload=r,a!=null&&(f.callback=a),r=tt(t,f,l),r!==null&&(cr(r,t,l),$e(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=kr(),f=Fe(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=tt(t,f,l),r!==null&&(cr(r,t,l),$e(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=kr(),l=Fe(a);l.tag=2,r!=null&&(l.callback=r),r=tt(t,l,a),r!==null&&(cr(r,t,a),$e(r,t,a))}};function cv(t,r,a,l,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!ti(a,l)||!ti(f,m):!0}function hv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ep.enqueueReplaceState(r,r.state,null)}function Il(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function fv(t){gl(t)}function dv(t){console.error(t)}function mv(t){gl(t)}function Vf(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function pv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function tp(t,r,a){return a=Fe(a),a.tag=3,a.payload={element:null},a.callback=function(){Vf(t,r)},a}function gv(t){return t=Fe(t),t.tag=3,t}function yv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){pv(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){pv(r,a,l),typeof f!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function kS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Gs(r,a,f,!0),a=rn.current,a!==null){switch(a.tag){case 31:case 13:return mn===null?Yf():a.alternate===null&&wn===0&&(wn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Cp(t,l,f)),!1;case 22:return a.flags|=65536,l===d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Cp(t,l,f)),!1}throw Error(s(435,a.tag))}return Cp(t,l,f),Yf(),!1}if(nt)return r=rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Oc&&(t=Error(s(422),{cause:l}),bl(ni(t,a)))):(l!==Oc&&(r=Error(s(423),{cause:l}),bl(ni(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ni(l,a),f=tp(t.stateNode,l,f),it(t,f),wn!==4&&(wn=2)),!1;var m=Error(s(520),{cause:l});if(m=ni(m,a),Xc===null?Xc=[m]:Xc.push(m),wn!==4&&(wn=2),r===null)return!0;l=ni(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=tp(a.stateNode,l,t),it(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Co===null||!Co.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=gv(f),yv(f,t,a,l),it(a,f),!1}a=a.return}while(a!==null);return!1}var np=Error(s(461)),Ln=!1;function pi(t,r,a,l){r.child=t===null?Be(r,null,a,l):Pe(r,t.child,a,l)}function _v(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var b={};for(var C in l)C!=="ref"&&(b[C]=l[C])}else b=l;return Hi(r),l=gs(t,r,a,b,m,f),C=Cl(),t!==null&&!Ln?(lu(t,r,f),Ra(t,r,f)):(nt&&C&&vl(r),r.flags|=1,pi(t,r,l,f),r.child)}function vv(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Ic(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,bv(t,r,m,l,f)):(t=iu(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!cp(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:ti,a(b,l)&&t.ref===r.ref)return Ra(t,r,f)}return r.flags|=1,t=cs(m,l),t.ref=r.ref,t.return=r,r.child=t}function bv(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(ti(m,l)&&t.ref===r.ref)if(Ln=!1,r.pendingProps=l=m,cp(t,f))(t.flags&131072)!==0&&(Ln=!0);else return r.lanes=t.lanes,Ra(t,r,f)}return ip(t,r,a,l,f)}function Ev(t,r,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return Tv(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ea(r,m!==null?m.cachePool:null),m!==null?qi(r,m):xi(),Nt(r);else return l=r.lanes=536870912,Tv(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ea(r,m.cachePool),qi(r,m),sn(),r.memoizedState=null):(t!==null&&Ea(r,null),xi(),sn());return pi(t,r,f,a),r.child}function Fc(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Tv(t,r,a,l,f){var m=bo();return m=m===null?null:{parent:bn._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ea(r,null),xi(),Nt(r),t!==null&&Gs(t,r,l,!0),r.childLanes=f,null}function Lf(t,r){return r=jf({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function wv(t,r,a){return Pe(r,t.child,null,a),t=Lf(r,r.pendingProps),t.flags|=2,Xt(r),r.memoizedState=null,t}function VS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(nt){if(l.mode==="hidden")return t=Lf(r,l),r.lanes=536870912,Fc(null,t);if(En(r),(t=wt)?(t=Vb(t,rr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},a=Af(t),a.return=r,r.child=a,Kn=r,wt=null)):t=null,t===null)throw Hs(r);return r.lanes=536870912,null}return Lf(r,l)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(En(r),f)if(r.flags&256)r.flags&=-257,r=wv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ln||Gs(t,r,a,!1),f=(a&t.childLanes)!==0,Ln||f){if(l=$t,l!==null&&(b=zr(l,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,mi(t,b),cr(l,t,b),np;Yf(),r=wv(t,r,a)}else t=m.treeContext,wt=Jr(b.nextSibling),Kn=r,nt=!0,ds=null,rr=!1,t!==null&&Nc(r,t),r=Lf(r,l),r.flags|=4096;return r}return t=cs(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Pf(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ip(t,r,a,l,f){return Hi(r),a=gs(t,r,a,l,void 0,f),l=Cl(),t!==null&&!Ln?(lu(t,r,f),Ra(t,r,f)):(nt&&l&&vl(r),r.flags|=1,pi(t,r,a,f),r.child)}function Av(t,r,a,l,f,m){return Hi(r),r.updateQueue=null,a=Bc(r,l,a,f),Sl(t),l=Cl(),t!==null&&!Ln?(lu(t,r,m),Ra(t,r,m)):(nt&&l&&vl(r),r.flags|=1,pi(t,r,a,m),r.child)}function Sv(t,r,a,l,f){if(Hi(r),r.stateNode===null){var m=fo,b=a.contextType;typeof b=="object"&&b!==null&&(m=kn(b)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ep,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},At(r),b=a.contextType,m.context=typeof b=="object"&&b!==null?kn(b):fo,m.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Zm(r,a,b,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&ep.enqueueReplaceState(m,m.state,null),mt(r,l,m,f),pt(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var C=r.memoizedProps,V=Il(a,C);m.props=V;var W=m.context,re=a.contextType;b=fo,typeof re=="object"&&re!==null&&(b=kn(re));var oe=a.getDerivedStateFromProps;re=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||W!==b)&&hv(r,m,l,b),Oe=!1;var X=r.memoizedState;m.state=X,mt(r,l,m,f),pt(),W=r.memoizedState,C||X!==W||Oe?(typeof oe=="function"&&(Zm(r,a,oe,l),W=r.memoizedState),(V=Oe||cv(r,a,V,l,X,W,b))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=W),m.props=l,m.state=W,m.context=b,l=V):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Dt(t,r),b=r.memoizedProps,re=Il(a,b),m.props=re,oe=r.pendingProps,X=m.context,W=a.contextType,V=fo,typeof W=="object"&&W!==null&&(V=kn(W)),C=a.getDerivedStateFromProps,(W=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==oe||X!==V)&&hv(r,m,l,V),Oe=!1,X=r.memoizedState,m.state=X,mt(r,l,m,f),pt();var ne=r.memoizedState;b!==oe||X!==ne||Oe||t!==null&&t.dependencies!==null&&El(t.dependencies)?(typeof C=="function"&&(Zm(r,a,C,l),ne=r.memoizedState),(re=Oe||cv(r,a,re,l,X,ne,V)||t!==null&&t.dependencies!==null&&El(t.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ne,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ne,V)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ne),m.props=l,m.state=ne,m.context=V,l=re):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Pf(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Pe(r,t.child,null,f),r.child=Pe(r,null,a,f)):pi(t,r,a,f),r.memoizedState=m.state,t=r.child):t=Ra(t,r,f),t}function Cv(t,r,a,l){return va(),r.flags|=256,pi(t,r,a,l),r.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(t){return{baseLanes:t,cachePool:If()}}function ap(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mr),t}function Rv(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(nt){if(f?Fi(r):sn(),(t=wt)?(t=Vb(t,rr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},a=Af(t),a.return=r,r.child=a,Kn=r,wt=null)):t=null,t===null)throw Hs(r);return Hp(t)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(sn(),f=r.mode,C=jf({mode:"hidden",children:C},f),l=hs(l,f,a,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=sp(a),l.childLanes=ap(t,b,a),r.memoizedState=rp,Fc(null,l)):(Fi(r),op(r,C))}var V=t.memoizedState;if(V!==null&&(C=V.dehydrated,C!==null)){if(m)r.flags&256?(Fi(r),r.flags&=-257,r=lp(t,r,a)):r.memoizedState!==null?(sn(),r.child=t.child,r.flags|=128,r=null):(sn(),C=l.fallback,f=r.mode,l=jf({mode:"visible",children:l.children},f),C=hs(C,f,a,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,Pe(r,t.child,null,a),l=r.child,l.memoizedState=sp(a),l.childLanes=ap(t,b,a),r.memoizedState=rp,r=Fc(null,l));else if(Fi(r),Hp(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var W=b.dgst;b=W,l=Error(s(419)),l.stack="",l.digest=b,bl({value:l,source:null,stack:null}),r=lp(t,r,a)}else if(Ln||Gs(t,r,a,!1),b=(a&t.childLanes)!==0,Ln||b){if(b=$t,b!==null&&(l=zr(b,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,mi(t,l),cr(b,t,l),np;Bp(C)||Yf(),r=lp(t,r,a)}else Bp(C)?(r.flags|=192,r.child=t.child,r=null):(t=V.treeContext,wt=Jr(C.nextSibling),Kn=r,nt=!0,ds=null,rr=!1,t!==null&&Nc(r,t),r=op(r,l.children),r.flags|=4096);return r}return f?(sn(),C=l.fallback,f=r.mode,V=t.child,W=V.sibling,l=cs(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,W!==null?C=cs(W,C):(C=hs(C,f,a,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,Fc(null,l),l=r.child,C=t.child.memoizedState,C===null?C=sp(a):(f=C.cachePool,f!==null?(V=bn._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=If(),C={baseLanes:C.baseLanes|a,cachePool:f}),l.memoizedState=C,l.childLanes=ap(t,b,a),r.memoizedState=rp,Fc(t.child,l)):(Fi(r),a=t.child,t=a.sibling,a=cs(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function op(t,r){return r=jf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function jf(t,r){return t=Bi(22,t,null,r),t.lanes=0,t}function lp(t,r,a){return Pe(r,t.child,null,a),t=op(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Iv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Vc(t.return,r,a)}function up(t,r,a,l,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function xv(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var b=Ot.current,C=(b&2)!==0;if(C?(b=b&1|2,r.flags|=128):b&=1,ge(Ot,b),pi(t,r,l,a),l=nt?yl:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iv(t,a,r);else if(t.tag===19)Iv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&wa(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),up(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&wa(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}up(r,!0,a,null,m,l);break;case"together":up(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ra(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),So|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Gs(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=cs(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=cs(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function cp(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&El(t)))}function LS(t,r,a){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),Fs(r,bn,t.memoizedState.cache),va();break;case 27:case 5:wi(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:Fs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,En(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Rv(t,r,a):(Fi(r),t=Ra(t,r,a),t!==null?t.sibling:null);Fi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Gs(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return xv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ge(Ot,Ot.current),l)break;return null;case 22:return r.lanes=0,Ev(t,r,a,r.pendingProps);case 24:Fs(r,bn,t.memoizedState.cache)}return Ra(t,r,a)}function Dv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ln=!0;else{if(!cp(t,a)&&(r.flags&128)===0)return Ln=!1,LS(t,r,a);Ln=(t.flags&131072)!==0}else Ln=!1,nt&&(r.flags&1048576)!==0&&_l(r,yl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=z(r.elementType),r.type=t,typeof t=="function")Ic(t)?(l=Il(t,l),r.tag=1,r=Sv(null,r,t,l,a)):(r.tag=0,r=ip(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===Ce){r.tag=11,r=_v(null,r,t,l,a);break e}else if(f===k){r.tag=14,r=vv(null,r,t,l,a);break e}}throw r=ye(t)||t,Error(s(306,r,""))}}return r;case 0:return ip(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Il(l,r.pendingProps),Sv(t,r,l,f,a);case 3:e:{if(kt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Dt(t,r),mt(r,l,null,a);var b=r.memoizedState;if(l=b.cache,Fs(r,bn,l),l!==m.cache&&au(r,[bn],a,!0),pt(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Cv(t,r,l,a);break e}else if(l!==f){f=ni(Error(s(424)),r),bl(f),r=Cv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=Jr(t.firstChild),Kn=r,nt=!0,ds=null,rr=!0,a=Be(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),l===f){r=Ra(t,r,a);break e}pi(t,r,l,a)}r=r.child}return r;case 26:return Pf(t,r),t===null?(a=Bb(r.type,null,r.pendingProps,null))?r.memoizedState=a:nt||(a=r.type,t=r.pendingProps,l=ed(ke.current).createElement(a),l[Ut]=r,l[_n]=t,gi(l,a,t),Gt(l),r.stateNode=l):r.memoizedState=Bb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return wi(r),t===null&&nt&&(l=r.stateNode=jb(r.type,r.pendingProps,ke.current),Kn=r,rr=!0,f=wt,Do(r.type)?(qp=f,wt=Jr(l.firstChild)):wt=f),pi(t,r,r.pendingProps.children,a),Pf(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&nt&&((f=l=wt)&&(l=f1(l,r.type,r.pendingProps,rr),l!==null?(r.stateNode=l,Kn=r,wt=Jr(l.firstChild),rr=!1,f=!0):f=!1),f||Hs(r)),wi(r),f=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,jp(f,m)?l=null:b!==null&&jp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=gs(t,r,Df,null,null,a),sh._currentValue=f),Pf(t,r),pi(t,r,l,a),r.child;case 6:return t===null&&nt&&((t=a=wt)&&(a=d1(a,r.pendingProps,rr),a!==null?(r.stateNode=a,Kn=r,wt=null,t=!0):t=!1),t||Hs(r)),null;case 13:return Rv(t,r,a);case 4:return kt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Pe(r,null,l,a):pi(t,r,l,a),r.child;case 11:return _v(t,r,r.type,r.pendingProps,a);case 7:return pi(t,r,r.pendingProps,a),r.child;case 8:return pi(t,r,r.pendingProps.children,a),r.child;case 12:return pi(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fs(r,r.type,l.value),pi(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Hi(r),f=kn(f),l=l(f),r.flags|=1,pi(t,r,l,a),r.child;case 14:return vv(t,r,r.type,r.pendingProps,a);case 15:return bv(t,r,r.type,r.pendingProps,a);case 19:return xv(t,r,a);case 31:return VS(t,r,a);case 22:return Ev(t,r,a,r.pendingProps);case 24:return Hi(r),l=kn(bn),t===null?(f=bo(),f===null&&(f=$t,m=ps(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},At(r),Fs(r,bn,f)):((t.lanes&a)!==0&&(Dt(t,r),mt(r,null,null,a),pt()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fs(r,bn,l)):(l=m.cache,Fs(r,bn,l),l!==f.cache&&au(r,[bn],a,!0))),pi(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ia(t){t.flags|=4}function hp(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ib())t.flags|=8192;else throw B=d,Ta}else t.flags&=-16777217}function Nv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$b(r))if(ib())t.flags|=8192;else throw B=d,Ta}function Uf(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ci():536870912,t.lanes|=r,gu|=r)}function Gc(t,r){if(!nt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function en(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function PS(t,r,a){var l=r.pendingProps;switch(Dc(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(r),null;case 1:return en(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Wr(bn),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(go(r)?Ia(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mc())),en(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(Ia(r),m!==null?(en(r),Nv(r,m)):(en(r),hp(r,f,null,l,a))):m?m!==t.memoizedState?(Ia(r),en(r),Nv(r,m)):(en(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ia(r),en(r),hp(r,f,t,l,a)),null;case 27:if(mr(r),a=ke.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ia(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return en(r),null}t=ve.current,go(r)?po(r):(t=jb(f,l,a),r.stateNode=t,Ia(r))}return en(r),null;case 5:if(mr(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ia(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return en(r),null}if(m=ve.current,go(r))po(r);else{var b=ed(ke.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}m[Ut]=r,m[_n]=l;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(gi(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ia(r)}}return en(r),hp(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ia(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ke.current,go(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Kn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ut]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Rb(t.nodeValue,a)),t||Hs(r,!0)}else t=ed(t).createTextNode(l),t[Ut]=r,r.stateNode=t}return en(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=go(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ut]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;en(r),t=!1}else a=Mc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Xt(r),r):(Xt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return en(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=go(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ut]=r}else va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;en(r),f=!1}else f=Mc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xt(r),r):(Xt(r),null)}return Xt(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Uf(r,r.updateQueue),en(r),null);case 4:return me(),t===null&&Mp(r.stateNode.containerInfo),en(r),null;case 10:return Wr(r.type),en(r),null;case 19:if(se(Ot),l=r.memoizedState,l===null)return en(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Gc(l,!1);else{if(wn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=wa(t),m!==null){for(r.flags|=128,Gc(l,!1),t=m.updateQueue,r.updateQueue=t,Uf(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)wf(a,t),a=a.sibling;return ge(Ot,Ot.current&1|2),nt&&fs(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Hn()>Ff&&(r.flags|=128,f=!0,Gc(l,!1),r.lanes=4194304)}else{if(!f)if(t=wa(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Uf(r,t),Gc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!nt)return en(r),null}else 2*Hn()-l.renderingStartTime>Ff&&a!==536870912&&(r.flags|=128,f=!0,Gc(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Hn(),t.sibling=null,a=Ot.current,ge(Ot,f?a&1|2:a&1),nt&&fs(r,l.treeForkCount),t):(en(r),null);case 22:case 23:return Xt(r),Wt(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(en(r),r.subtreeFlags&6&&(r.flags|=8192)):en(r),a=r.updateQueue,a!==null&&Uf(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&se($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wr(bn),en(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jS(t,r){switch(Dc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Wr(bn),me(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return mr(r),null;case 31:if(r.memoizedState!==null){if(Xt(r),r.alternate===null)throw Error(s(340));va()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Xt(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));va()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return se(Ot),null;case 4:return me(),null;case 10:return Wr(r.type),null;case 22:case 23:return Xt(r),Wt(),t!==null&&se($s),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Wr(bn),null;case 25:return null;default:return null}}function Ov(t,r){switch(Dc(r),r.tag){case 3:Wr(bn),me();break;case 26:case 27:case 5:mr(r);break;case 4:me();break;case 31:r.memoizedState!==null&&Xt(r);break;case 13:Xt(r);break;case 19:se(Ot);break;case 10:Wr(r.type);break;case 22:case 23:Xt(r),Wt(),t!==null&&se($s);break;case 24:Wr(bn)}}function $c(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(C){Pt(r,r.return,C)}}function wo(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var b=l.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,f=r;var V=a,W=C;try{W()}catch(re){Pt(f,V,re)}}}l=l.next}while(l!==m)}}catch(re){Pt(r,r.return,re)}}function Mv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ii(r,a)}catch(l){Pt(t,t.return,l)}}}function kv(t,r,a){a.props=Il(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Pt(t,r,l)}}function Yc(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Pt(t,r,f)}}function Ks(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Pt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Pt(t,r,f)}else a.current=null}function Vv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Pt(t,t.return,f)}}function fp(t,r,a){try{var l=t.stateNode;a1(l,t.type,a,r),l[_n]=r}catch(f){Pt(t,t.return,f)}}function Lv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Do(t.type)||t.tag===4}function dp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Do(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=On));else if(l!==4&&(l===27&&Do(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(mp(t,r,a),t=t.sibling;t!==null;)mp(t,r,a),t=t.sibling}function zf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Do(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zf(t,r,a),t=t.sibling;t!==null;)zf(t,r,a),t=t.sibling}function Pv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);gi(r,l,a),r[Ut]=t,r[_n]=a}catch(m){Pt(t,t.return,m)}}var xa=!1,Pn=!1,pp=!1,jv=typeof WeakSet=="function"?WeakSet:Set,si=null;function US(t,r){if(t=t.containerInfo,Lp=od,t=gc(t),yc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,C=-1,V=-1,W=0,re=0,oe=t,X=null;t:for(;;){for(var ne;oe!==a||f!==0&&oe.nodeType!==3||(C=b+f),oe!==m||l!==0&&oe.nodeType!==3||(V=b+l),oe.nodeType===3&&(b+=oe.nodeValue.length),(ne=oe.firstChild)!==null;)X=oe,oe=ne;for(;;){if(oe===t)break t;if(X===a&&++W===f&&(C=b),X===m&&++re===l&&(V=b),(ne=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=ne}a=C===-1||V===-1?null:{start:C,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pp={focusedElem:t,selectionRange:a},od=!1,si=r;si!==null;)if(r=si,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,si=t;else for(;si!==null;){switch(r=si,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Se=Il(a.type,f);t=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ue){Pt(a,a.return,Ue)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)zp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,si=t;break}si=r.return}}function Uv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Na(t,a),l&4&&$c(5,a);break;case 1:if(Na(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){Pt(a,a.return,b)}else{var f=Il(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Pt(a,a.return,b)}}l&64&&Mv(a),l&512&&Yc(a,a.return);break;case 3:if(Na(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ii(t,r)}catch(b){Pt(a,a.return,b)}}break;case 27:r===null&&l&4&&Pv(a);case 26:case 5:Na(t,a),r===null&&l&4&&Vv(a),l&512&&Yc(a,a.return);break;case 12:Na(t,a);break;case 31:Na(t,a),l&4&&Hv(t,a);break;case 13:Na(t,a),l&4&&qv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=KS.bind(null,a),m1(t,a))));break;case 22:if(l=a.memoizedState!==null||xa,!l){r=r!==null&&r.memoizedState!==null||Pn,f=xa;var m=Pn;xa=l,(Pn=r)&&!m?Oa(t,a,(a.subtreeFlags&8772)!==0):Na(t,a),xa=f,Pn=m}break;case 30:break;default:Na(t,a)}}function zv(t){var r=t.alternate;r!==null&&(t.alternate=null,zv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&tn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ln=null,ar=!1;function Da(t,r,a){for(a=a.child;a!==null;)Bv(t,r,a),a=a.sibling}function Bv(t,r,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:Pn||Ks(a,r),Da(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pn||Ks(a,r);var l=ln,f=ar;Do(a.type)&&(ln=a.stateNode,ar=!1),Da(t,r,a),nh(a.stateNode),ln=l,ar=f;break;case 5:Pn||Ks(a,r);case 6:if(l=ln,f=ar,ln=null,Da(t,r,a),ln=l,ar=f,ln!==null)if(ar)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(a.stateNode)}catch(m){Pt(a,r,m)}else try{ln.removeChild(a.stateNode)}catch(m){Pt(a,r,m)}break;case 18:ln!==null&&(ar?(t=ln,Mb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Au(t)):Mb(ln,a.stateNode));break;case 4:l=ln,f=ar,ln=a.stateNode.containerInfo,ar=!0,Da(t,r,a),ln=l,ar=f;break;case 0:case 11:case 14:case 15:wo(2,a,r),Pn||wo(4,a,r),Da(t,r,a);break;case 1:Pn||(Ks(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kv(a,r,l)),Da(t,r,a);break;case 21:Da(t,r,a);break;case 22:Pn=(l=Pn)||a.memoizedState!==null,Da(t,r,a),Pn=l;break;default:Da(t,r,a)}}function Hv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Au(t)}catch(a){Pt(r,r.return,a)}}}function qv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Au(t)}catch(a){Pt(r,r.return,a)}}function zS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new jv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new jv),r;default:throw Error(s(435,t.tag))}}function Bf(t,r){var a=zS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=QS.bind(null,t,l);l.then(f,f)}})}function or(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,b=r,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(Do(C.type)){ln=C.stateNode,ar=!1;break e}break;case 5:ln=C.stateNode,ar=!1;break e;case 3:case 4:ln=C.stateNode.containerInfo,ar=!0;break e}C=C.return}if(ln===null)throw Error(s(160));Bv(m,b,f),ln=null,ar=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Fv(r,t),r=r.sibling}var ys=null;function Fv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:or(r,t),lr(t),l&4&&(wo(3,t,t.return),$c(3,t),wo(5,t,t.return));break;case 1:or(r,t),lr(t),l&512&&(Pn||a===null||Ks(a,a.return)),l&64&&xa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ys;if(or(r,t),lr(t),l&512&&(Pn||a===null||Ks(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[lt]||m[Ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),gi(m,l,a),m[Ut]=t,Gt(m),l=m;break e;case"link":var b=Fb("link","href",f).get(l+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(m=b[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}m=f.createElement(l),gi(m,l,a),f.head.appendChild(m);break;case"meta":if(b=Fb("meta","content",f).get(l+(a.content||""))){for(C=0;C<b.length;C++)if(m=b[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}m=f.createElement(l),gi(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ut]=t,Gt(m),l=m}t.stateNode=l}else Gb(f,t.type,t.stateNode);else t.stateNode=qb(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Gb(f,t.type,t.stateNode):qb(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fp(t,t.memoizedProps,a.memoizedProps)}break;case 27:or(r,t),lr(t),l&512&&(Pn||a===null||Ks(a,a.return)),a!==null&&l&4&&fp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(or(r,t),lr(t),l&512&&(Pn||a===null||Ks(a,a.return)),t.flags&32){f=t.stateNode;try{In(f,"")}catch(Se){Pt(t,t.return,Se)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,fp(t,f,a!==null?a.memoizedProps:f)),l&1024&&(pp=!0);break;case 6:if(or(r,t),lr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Se){Pt(t,t.return,Se)}}break;case 3:if(id=null,f=ys,ys=td(r.containerInfo),or(r,t),ys=f,lr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Au(r.containerInfo)}catch(Se){Pt(t,t.return,Se)}pp&&(pp=!1,Gv(t));break;case 4:l=ys,ys=td(t.stateNode.containerInfo),or(r,t),lr(t),ys=l;break;case 12:or(r,t),lr(t);break;case 31:or(r,t),lr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 13:or(r,t),lr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qf=Hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 22:f=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,W=xa,re=Pn;if(xa=W||f,Pn=re||V,or(r,t),Pn=re,xa=W,lr(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||V||xa||Pn||xl(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){V=a=r;try{if(m=V.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=V.stateNode;var oe=V.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Se){Pt(V,V.return,Se)}}}else if(r.tag===6){if(a===null){V=r;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(Se){Pt(V,V.return,Se)}}}else if(r.tag===18){if(a===null){V=r;try{var ne=V.stateNode;f?kb(ne,!0):kb(V.stateNode,!1)}catch(Se){Pt(V,V.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(t,a))));break;case 19:or(r,t),lr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bf(t,l)));break;case 30:break;case 21:break;default:or(r,t),lr(t)}}function lr(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Lv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=dp(t);zf(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(In(b,""),a.flags&=-33);var C=dp(t);zf(t,C,b);break;case 3:case 4:var V=a.stateNode.containerInfo,W=dp(t);mp(t,W,V);break;default:throw Error(s(161))}}catch(re){Pt(t,t.return,re)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Gv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Gv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Na(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Uv(t,r.alternate,r),r=r.sibling}function xl(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:wo(4,r,r.return),xl(r);break;case 1:Ks(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&kv(r,r.return,a),xl(r);break;case 27:nh(r.stateNode);case 26:case 5:Ks(r,r.return),xl(r);break;case 22:r.memoizedState===null&&xl(r);break;case 30:xl(r);break;default:xl(r)}t=t.sibling}}function Oa(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Oa(f,m,a),$c(4,m);break;case 1:if(Oa(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){Pt(l,l.return,W)}if(l=m,f=l.updateQueue,f!==null){var C=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)nn(V[f],C)}catch(W){Pt(l,l.return,W)}}a&&b&64&&Mv(m),Yc(m,m.return);break;case 27:Pv(m);case 26:case 5:Oa(f,m,a),a&&l===null&&b&4&&Vv(m),Yc(m,m.return);break;case 12:Oa(f,m,a);break;case 31:Oa(f,m,a),a&&b&4&&Hv(f,m);break;case 13:Oa(f,m,a),a&&b&4&&qv(f,m);break;case 22:m.memoizedState===null&&Oa(f,m,a),Yc(m,m.return);break;case 30:break;default:Oa(f,m,a)}r=r.sibling}}function gp(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sr(a))}function yp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sr(t))}function _s(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$v(t,r,a,l),r=r.sibling}function $v(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_s(t,r,a,l),f&2048&&$c(9,r);break;case 1:_s(t,r,a,l);break;case 3:_s(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sr(t)));break;case 12:if(f&2048){_s(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,C=m.onPostCommit;typeof C=="function"&&C(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Pt(r,r.return,V)}}else _s(t,r,a,l);break;case 31:_s(t,r,a,l);break;case 13:_s(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?_s(t,r,a,l):Kc(t,r):m._visibility&2?_s(t,r,a,l):(m._visibility|=2,du(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&gp(b,r);break;case 24:_s(t,r,a,l),f&2048&&yp(r.alternate,r);break;default:_s(t,r,a,l)}}function du(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,b=r,C=a,V=l,W=b.flags;switch(b.tag){case 0:case 11:case 15:du(m,b,C,V,f),$c(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?du(m,b,C,V,f):Kc(m,b):(re._visibility|=2,du(m,b,C,V,f)),f&&W&2048&&gp(b.alternate,b);break;case 24:du(m,b,C,V,f),f&&W&2048&&yp(b.alternate,b);break;default:du(m,b,C,V,f)}r=r.sibling}}function Kc(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Kc(a,l),f&2048&&gp(l.alternate,l);break;case 24:Kc(a,l),f&2048&&yp(l.alternate,l);break;default:Kc(a,l)}r=r.sibling}}var Qc=8192;function mu(t,r,a){if(t.subtreeFlags&Qc)for(t=t.child;t!==null;)Yv(t,r,a),t=t.sibling}function Yv(t,r,a){switch(t.tag){case 26:mu(t,r,a),t.flags&Qc&&t.memoizedState!==null&&C1(a,ys,t.memoizedState,t.memoizedProps);break;case 5:mu(t,r,a);break;case 3:case 4:var l=ys;ys=td(t.stateNode.containerInfo),mu(t,r,a),ys=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Qc,Qc=16777216,mu(t,r,a),Qc=l):mu(t,r,a));break;default:mu(t,r,a)}}function Kv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Wc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];si=l,Wv(l,t)}Kv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 0:case 11:case 15:Wc(t),t.flags&2048&&wo(9,t,t.return);break;case 3:Wc(t);break;case 12:Wc(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Hf(t)):Wc(t);break;default:Wc(t)}}function Hf(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];si=l,Wv(l,t)}Kv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:wo(8,r,r.return),Hf(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Hf(r));break;default:Hf(r)}t=t.sibling}}function Wv(t,r){for(;si!==null;){var a=si;switch(a.tag){case 0:case 11:case 15:wo(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,si=l;else e:for(a=t;si!==null;){l=si;var f=l.sibling,m=l.return;if(zv(l),l===a){si=null;break e}if(f!==null){f.return=m,si=f;break e}si=m}}}var BS={getCacheForType:function(t){var r=kn(bn),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return kn(bn).controller.signal}},HS=typeof WeakMap=="function"?WeakMap:Map,It=0,$t=null,st=null,ut=0,Lt=0,Or=null,Ao=!1,pu=!1,_p=!1,Ma=0,wn=0,So=0,Dl=0,vp=0,Mr=0,gu=0,Xc=null,ur=null,bp=!1,qf=0,Xv=0,Ff=1/0,Gf=null,Co=null,Qn=0,Ro=null,yu=null,ka=0,Ep=0,Tp=null,Jv=null,Jc=0,wp=null;function kr(){return(It&2)!==0&&ut!==0?ut&-ut:J.T!==null?xp():Ds()}function Zv(){if(Mr===0)if((ut&536870912)===0||nt){var t=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),Mr=t}else Mr=536870912;return t=rn.current,t!==null&&(t.flags|=32),Mr}function cr(t,r,a){(t===$t&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&(_u(t,0),Io(t,ut,Mr,!1)),_r(t,a),((It&2)===0||t!==$t)&&(t===$t&&((It&2)===0&&(Dl|=a),wn===4&&Io(t,ut,Mr,!1)),Qs(t))}function eb(t,r,a){if((It&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||qn(t,r),f=l?GS(t,r):Sp(t,r,!0),m=l;do{if(f===0){pu&&!l&&Io(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!qS(a)){f=Sp(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var C=t;f=Xc;var V=C.current.memoizedState.isDehydrated;if(V&&(_u(C,b).flags|=256),b=Sp(C,b,!1),b!==2){if(_p&&!V){C.errorRecoveryDisabledLanes|=m,Dl|=m,f=4;break e}m=ur,ur=f,m!==null&&(ur===null?ur=m:ur.push.apply(ur,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){_u(t,0),Io(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Io(l,r,Mr,!Ao);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=qf+300-Hn(),10<f)){if(Io(l,r,Mr,!Ao),jt(l,0,!0)!==0)break e;ka=r,l.timeoutHandle=Nb(tb.bind(null,l,a,ur,Gf,bp,r,Mr,Dl,gu,Ao,m,"Throttled",-0,0),f);break e}tb(l,a,ur,Gf,bp,r,Mr,Dl,gu,Ao,m,null,-0,0)}}break}while(!0);Qs(t)}function tb(t,r,a,l,f,m,b,C,V,W,re,oe,X,ne){if(t.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},Yv(r,m,oe);var Se=(m&62914560)===m?qf-Hn():(m&4194048)===m?Xv-Hn():0;if(Se=R1(oe,Se),Se!==null){ka=m,t.cancelPendingCommit=Se(ub.bind(null,t,r,m,a,l,f,b,C,V,re,oe,null,X,ne)),Io(t,m,b,!W);return}}ub(t,r,m,a,l,f,b,C,V)}function qS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!di(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Io(t,r,a,l){r&=~vp,r&=~Dl,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-Kt(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&Si(t,a,r)}function $f(){return(It&6)===0?(Zc(0),!1):!0}function Ap(){if(st!==null){if(Lt===0)var t=st.return;else t=st,ms=ba=null,uu(t),de=null,be=0,t=st;for(;t!==null;)Ov(t.alternate,t),t=t.return;st=null}}function _u(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,u1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ka=0,Ap(),$t=t,st=a=cs(t.current,null),ut=r,Lt=0,Or=null,Ao=!1,pu=qn(t,r),_p=!1,gu=Mr=vp=Dl=So=wn=0,ur=Xc=null,bp=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Kt(l),m=1<<f;r|=t[f],l&=~m}return Ma=r,eu(),a}function nb(t,r){Qe=null,J.H=qc,r===Eo||r===A?(r=ie(),Lt=3):r===Ta?(r=ie(),Lt=4):Lt=r===np?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Or=r,st===null&&(wn=1,Vf(t,ni(r,t.current)))}function ib(){var t=rn.current;return t===null?!0:(ut&4194048)===ut?mn===null:(ut&62914560)===ut||(ut&536870912)!==0?t===mn:!1}function rb(){var t=J.H;return J.H=qc,t===null?qc:t}function sb(){var t=J.A;return J.A=BS,t}function Yf(){wn=4,Ao||(ut&4194048)!==ut&&rn.current!==null||(pu=!0),(So&134217727)===0&&(Dl&134217727)===0||$t===null||Io($t,ut,Mr,!1)}function Sp(t,r,a){var l=It;It|=2;var f=rb(),m=sb();($t!==t||ut!==r)&&(Gf=null,_u(t,r)),r=!1;var b=wn;e:do try{if(Lt!==0&&st!==null){var C=st,V=Or;switch(Lt){case 8:Ap(),b=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(r=!0);var W=Lt;if(Lt=0,Or=null,vu(t,C,V,W),a&&pu){b=0;break e}break;default:W=Lt,Lt=0,Or=null,vu(t,C,V,W)}}FS(),b=wn;break}catch(re){nb(t,re)}while(!0);return r&&t.shellSuspendCounter++,ms=ba=null,It=l,J.H=f,J.A=m,st===null&&($t=null,ut=0,eu()),b}function FS(){for(;st!==null;)ab(st)}function GS(t,r){var a=It;It|=2;var l=rb(),f=sb();$t!==t||ut!==r?(Gf=null,Ff=Hn()+500,_u(t,r)):pu=qn(t,r);e:do try{if(Lt!==0&&st!==null){r=st;var m=Or;t:switch(Lt){case 1:Lt=0,Or=null,vu(t,r,m,1);break;case 2:case 9:if(v(m)){Lt=0,Or=null,ob(r);break}r=function(){Lt!==2&&Lt!==9||$t!==t||(Lt=7),Qs(t)},m.then(r,r);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:v(m)?(Lt=0,Or=null,ob(r)):(Lt=0,Or=null,vu(t,r,m,7));break;case 5:var b=null;switch(st.tag){case 26:b=st.memoizedState;case 5:case 27:var C=st;if(b?$b(b):C.stateNode.complete){Lt=0,Or=null;var V=C.sibling;if(V!==null)st=V;else{var W=C.return;W!==null?(st=W,Kf(W)):st=null}break t}}Lt=0,Or=null,vu(t,r,m,5);break;case 6:Lt=0,Or=null,vu(t,r,m,6);break;case 8:Ap(),wn=6;break e;default:throw Error(s(462))}}$S();break}catch(re){nb(t,re)}while(!0);return ms=ba=null,J.H=l,J.A=f,It=a,st!==null?0:($t=null,ut=0,eu(),wn)}function $S(){for(;st!==null&&!sl();)ab(st)}function ab(t){var r=Dv(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,r===null?Kf(t):st=r}function ob(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Av(a,r,r.pendingProps,r.type,void 0,ut);break;case 11:r=Av(a,r,r.pendingProps,r.type.render,r.ref,ut);break;case 5:uu(r);default:Ov(a,r),r=st=wf(r,Ma),r=Dv(a,r,Ma)}t.memoizedProps=t.pendingProps,r===null?Kf(t):st=r}function vu(t,r,a,l){ms=ba=null,uu(r),de=null,be=0;var f=r.return;try{if(kS(t,f,r,a,ut)){wn=1,Vf(t,ni(a,t.current)),st=null;return}}catch(m){if(f!==null)throw st=f,m;wn=1,Vf(t,ni(a,t.current)),st=null;return}r.flags&32768?(nt||l===1?t=!0:pu||(ut&536870912)!==0?t=!1:(Ao=t=!0,(l===2||l===9||l===3||l===6)&&(l=rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lb(r,t)):Kf(r)}function Kf(t){var r=t;do{if((r.flags&32768)!==0){lb(r,Ao);return}t=r.return;var a=PS(r.alternate,r,Ma);if(a!==null){st=a;return}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);wn===0&&(wn=5)}function lb(t,r){do{var a=jS(t.alternate,t);if(a!==null){a.flags&=32767,st=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){st=t;return}st=t=a}while(t!==null);wn=6,st=null}function ub(t,r,a,l,f,m,b,C,V){t.cancelPendingCommit=null;do Qf();while(Qn!==0);if((It&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Sc,vr(t,a,m,b,C,V),t===$t&&(st=$t=null,ut=0),yu=r,Ro=t,ka=a,Ep=m,Tp=f,Jv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WS(jr,function(){return mb(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=fe.p,fe.p=2,b=It,It|=4;try{US(t,r,a)}finally{It=b,fe.p=f,J.T=l}}Qn=1,cb(),hb(),fb()}}function cb(){if(Qn===1){Qn=0;var t=Ro,r=yu,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=fe.p;fe.p=2;var f=It;It|=4;try{Fv(r,t);var m=Pp,b=gc(t.containerInfo),C=m.focusedElem,V=m.selectionRange;if(b!==C&&C&&C.ownerDocument&&pc(C.ownerDocument.documentElement,C)){if(V!==null&&yc(C)){var W=V.start,re=V.end;if(re===void 0&&(re=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(re,C.value.length);else{var oe=C.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var ne=X.getSelection(),Se=C.textContent.length,Ue=Math.min(V.start,Se),qt=V.end===void 0?Ue:Math.min(V.end,Se);!ne.extend&&Ue>qt&&(b=qt,qt=Ue,Ue=b);var F=gf(C,Ue),U=gf(C,qt);if(F&&U&&(ne.rangeCount!==1||ne.anchorNode!==F.node||ne.anchorOffset!==F.offset||ne.focusNode!==U.node||ne.focusOffset!==U.offset)){var Q=oe.createRange();Q.setStart(F.node,F.offset),ne.removeAllRanges(),Ue>qt?(ne.addRange(Q),ne.extend(U.node,U.offset)):(Q.setEnd(U.node,U.offset),ne.addRange(Q))}}}}for(oe=[],ne=C;ne=ne.parentNode;)ne.nodeType===1&&oe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<oe.length;C++){var ae=oe[C];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}od=!!Lp,Pp=Lp=null}finally{It=f,fe.p=l,J.T=a}}t.current=r,Qn=2}}function hb(){if(Qn===2){Qn=0;var t=Ro,r=yu,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=fe.p;fe.p=2;var f=It;It|=4;try{Uv(t,r.alternate,r)}finally{It=f,fe.p=l,J.T=a}}Qn=3}}function fb(){if(Qn===4||Qn===3){Qn=0,sa();var t=Ro,r=yu,a=ka,l=Jv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qn=5:(Qn=0,yu=Ro=null,db(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Co=null),Li(a),r=r.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(An,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,f=fe.p,fe.p=2,J.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var C=l[b];m(C.value,{componentStack:C.stack})}}finally{J.T=r,fe.p=f}}(ka&3)!==0&&Qf(),Qs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===wp?Jc++:(Jc=0,wp=t):Jc=0,Zc(0)}}function db(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,sr(r)))}function Qf(){return cb(),hb(),fb(),mb()}function mb(){if(Qn!==5)return!1;var t=Ro,r=Ep;Ep=0;var a=Li(ka),l=J.T,f=fe.p;try{fe.p=32>a?32:a,J.T=null,a=Tp,Tp=null;var m=Ro,b=ka;if(Qn=0,yu=Ro=null,ka=0,(It&6)!==0)throw Error(s(331));var C=It;if(It|=4,Qv(m.current),$v(m,m.current,b,a),It=C,Zc(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(An,m)}catch{}return!0}finally{fe.p=f,J.T=l,db(t,r)}}function pb(t,r,a){r=ni(a,r),r=tp(t.stateNode,r,2),t=tt(t,r,2),t!==null&&(_r(t,2),Qs(t))}function Pt(t,r,a){if(t.tag===3)pb(t,t,a);else for(;r!==null;){if(r.tag===3){pb(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Co===null||!Co.has(l))){t=ni(a,t),a=gv(2),l=tt(r,a,2),l!==null&&(yv(a,l,r,t),_r(l,2),Qs(l));break}}r=r.return}}function Cp(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new HS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(_p=!0,f.add(a),t=YS.bind(null,t,r,a),r.then(t,t))}function YS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(ut&a)===a&&(wn===4||wn===3&&(ut&62914560)===ut&&300>Hn()-qf?(It&2)===0&&_u(t,0):vp|=a,gu===ut&&(gu=0)),Qs(t)}function gb(t,r){r===0&&(r=ci()),t=mi(t,r),t!==null&&(_r(t,r),Qs(t))}function KS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),gb(t,a)}function QS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),gb(t,a)}function WS(t,r){return hn(t,r)}var Wf=null,bu=null,Rp=!1,Xf=!1,Ip=!1,xo=0;function Qs(t){t!==bu&&t.next===null&&(bu===null?Wf=bu=t:bu=bu.next=t),Xf=!0,Rp||(Rp=!0,JS())}function Zc(t,r){if(!Ip&&Xf){Ip=!0;do for(var a=!1,l=Wf;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,C=l.pingedLanes;m=(1<<31-Kt(42|t)+1)-1,m&=f&~(b&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,bb(l,m))}else m=ut,m=jt(l,l===$t?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||qn(l,m)||(a=!0,bb(l,m));l=l.next}while(a);Ip=!1}}function XS(){yb()}function yb(){Xf=Rp=!1;var t=0;xo!==0&&l1()&&(t=xo);for(var r=Hn(),a=null,l=Wf;l!==null;){var f=l.next,m=_b(l,r);m===0?(l.next=null,a===null?Wf=f:a.next=f,f===null&&(bu=a)):(a=l,(t!==0||(m&3)!==0)&&(Xf=!0)),l=f}Qn!==0&&Qn!==5||Zc(t),xo!==0&&(xo=0)}function _b(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Kt(m),C=1<<b,V=f[b];V===-1?((C&a)===0||(C&l)!==0)&&(f[b]=Vt(C,r)):V<=r&&(t.expiredLanes|=C),m&=~C}if(r=$t,a=ut,a=jt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Pr(l),Li(a)){case 2:case 8:a=xs;break;case 32:a=jr;break;case 268435456:a=gr;break;default:a=jr}return l=vb.bind(null,t),a=hn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Pr(l),t.callbackPriority=2,t.callbackNode=null,2}function vb(t,r){if(Qn!==0&&Qn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qf()&&t.callbackNode!==a)return null;var l=ut;return l=jt(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(eb(t,l,r),_b(t,Hn()),t.callbackNode!=null&&t.callbackNode===a?vb.bind(null,t):null)}function bb(t,r){if(Qf())return null;eb(t,r,!0)}function JS(){c1(function(){(It&6)!==0?hn(Ai,XS):yb()})}function xp(){if(xo===0){var t=_o;t===0&&(t=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),xo=t}return xo}function Eb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:io(""+t)}function Tb(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function ZS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Eb((f[_n]||null).action),b=l.submitter;b&&(r=(r=b[_n]||null)?Eb(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var C=new er("action","action",null,l,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xo!==0){var V=b?Tb(f,b):new FormData(f);Qm(a,{pending:!0,data:V,method:f.method,action:m},null,V)}}else typeof m=="function"&&(C.preventDefault(),V=b?Tb(f,b):new FormData(f),Qm(a,{pending:!0,data:V,method:f.method,action:m},m,V))},currentTarget:f}]})}}for(var Dp=0;Dp<Ac.length;Dp++){var Np=Ac[Dp],e1=Np.toLowerCase(),t1=Np[0].toUpperCase()+Np.slice(1);Nr(e1,"on"+t1)}Nr(Yr,"onAnimationEnd"),Nr(Tc,"onAnimationIteration"),Nr(_f,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(vf,"onTransitionRun"),Nr(bf,"onTransitionStart"),Nr(Ef,"onTransitionCancel"),Nr(wc,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function wb(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var b=l.length-1;0<=b;b--){var C=l[b],V=C.instance,W=C.currentTarget;if(C=C.listener,V!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=W;try{m(f)}catch(re){gl(re)}f.currentTarget=null,m=V}else for(b=0;b<l.length;b++){if(C=l[b],V=C.instance,W=C.currentTarget,C=C.listener,V!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=W;try{m(f)}catch(re){gl(re)}f.currentTarget=null,m=V}}}}function at(t,r){var a=r[Ye];a===void 0&&(a=r[Ye]=new Set);var l=t+"__bubble";a.has(l)||(Ab(r,t,2,!1),a.add(l))}function Op(t,r,a){var l=0;r&&(l|=4),Ab(a,t,l,r)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function Mp(t){if(!t[Jf]){t[Jf]=!0,Xa.forEach(function(a){a!=="selectionchange"&&(n1.has(a)||Op(a,!1,t),Op(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Jf]||(r[Jf]=!0,Op("selectionchange",!1,r))}}function Ab(t,r,a,l){switch(Zb(r)){case 2:var f=D1;break;case 8:f=N1;break;default:f=Kp}a=f.bind(null,r,a,t),f=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function kp(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var C=l.stateNode.containerInfo;if(C===f)break;if(b===4)for(b=l.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;C!==null;){if(b=Bt(C),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){l=m=b;continue e}C=C.parentNode}}l=l.return}ss(function(){var W=m,re=Pi(a),oe=[];e:{var X=Tf.get(t);if(X!==void 0){var ne=er,Se=t;switch(t){case"keypress":if(qr(a)===0)break e;case"keydown":case"keyup":ne=dl;break;case"focusin":Se="focus",ne=Ls;break;case"focusout":Se="blur",ne=Ls;break;case"beforeblur":case"afterblur":ne=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=_;break;case Yr:case Tc:case _f:ne=so;break;case wc:ne=D;break;case"scroll":case"scrollend":ne=us;break;case"wheel":ne=ee;break;case"copy":case"cut":case"paste":ne=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ir;break;case"toggle":case"beforetoggle":ne=Ke}var Ue=(r&4)!==0,qt=!Ue&&(t==="scroll"||t==="scrollend"),F=Ue?X!==null?X+"Capture":null:X;Ue=[];for(var U=W,Q;U!==null;){var ae=U;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||F===null||(ae=Xi(U,F),ae!=null&&Ue.push(th(U,ae,Q))),qt)break;U=U.return}0<Ue.length&&(X=new ne(X,Se,null,a,re),oe.push({event:X,listeners:Ue}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",X&&a!==Ms&&(Se=a.relatedTarget||a.fromElement)&&(Bt(Se)||Se[Ci]))break e;if((ne||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,ne?(Se=a.relatedTarget||a.toElement,ne=W,Se=Se?Bt(Se):null,Se!==null&&(qt=u(Se),Ue=Se.tag,Se!==qt||Ue!==5&&Ue!==27&&Ue!==6)&&(Se=null)):(ne=null,Se=W),ne!==Se)){if(Ue=ul,ae="onMouseLeave",F="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ue=Ir,ae="onPointerLeave",F="onPointerEnter",U="pointer"),qt=ne==null?X:Nn(ne),Q=Se==null?X:Nn(Se),X=new Ue(ae,U+"leave",ne,a,re),X.target=qt,X.relatedTarget=Q,ae=null,Bt(re)===W&&(Ue=new Ue(F,U+"enter",Se,a,re),Ue.target=Q,Ue.relatedTarget=qt,ae=Ue),qt=ae,ne&&Se)t:{for(Ue=i1,F=ne,U=Se,Q=0,ae=F;ae;ae=Ue(ae))Q++;ae=0;for(var xe=U;xe;xe=Ue(xe))ae++;for(;0<Q-ae;)F=Ue(F),Q--;for(;0<ae-Q;)U=Ue(U),ae--;for(;Q--;){if(F===U||U!==null&&F===U.alternate){Ue=F;break t}F=Ue(F),U=Ue(U)}Ue=null}else Ue=null;ne!==null&&Sb(oe,X,ne,Ue,!1),Se!==null&&qt!==null&&Sb(oe,qt,Se,Ue,!0)}}e:{if(X=W?Nn(W):window,ne=X.nodeName&&X.nodeName.toLowerCase(),ne==="select"||ne==="input"&&X.type==="file")var St=hc;else if(nr(X))if(ml)St=Zl;else{St=ff;var Re=hf}else ne=X.nodeName,!ne||ne.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Os(W.elementType)&&(St=hc):St=df;if(St&&(St=St(t,W))){cc(oe,St,a,re);break e}Re&&Re(t,X,W),t==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&fa(X,"number",X.value)}switch(Re=W?Nn(W):window,t){case"focusin":(nr(Re)||Re.contentEditable==="true")&&(co=Re,_c=W,pl=null);break;case"focusout":pl=_c=co=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,bc(oe,a,re);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":bc(oe,a,re)}var et;if(rt)e:{switch(t){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else oo?_a(t,a)&&(ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(ji&&a.locale!=="ko"&&(oo||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&oo&&(et=ll()):(Ji=re,ks="value"in Ji?Ji.value:Ji.textContent,oo=!0)),Re=Zf(W,ct),0<Re.length&&(ct=new Rr(ct,t,null,a,re),oe.push({event:ct,listeners:Re}),et?ct.data=et:(et=ao(a),et!==null&&(ct.data=et)))),(et=tr?km(t,a):Vm(t,a))&&(ct=Zf(W,"onBeforeInput"),0<ct.length&&(Re=new Rr("onBeforeInput","beforeinput",null,a,re),oe.push({event:Re,listeners:ct}),Re.data=et)),ZS(oe,t,W,a,re)}wb(oe,r)})}function th(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Zf(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Xi(t,a),f!=null&&l.unshift(th(t,f,m)),f=Xi(t,r),f!=null&&l.push(th(t,f,m))),t.tag===3)return l;t=t.return}return[]}function i1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sb(t,r,a,l,f){for(var m=r._reactName,b=[];a!==null&&a!==l;){var C=a,V=C.alternate,W=C.stateNode;if(C=C.tag,V!==null&&V===l)break;C!==5&&C!==26&&C!==27||W===null||(V=W,f?(W=Xi(a,m),W!=null&&b.unshift(th(a,W,V))):f||(W=Xi(a,m),W!=null&&b.push(th(a,W,V)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var r1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function Cb(t){return(typeof t=="string"?t:""+t).replace(r1,`
`).replace(s1,"")}function Rb(t,r){return r=Cb(r),Cb(t)===r}function Ht(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":Ri(t,"class",l);break;case"tabIndex":Ri(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(t,a,l);break;case"style":Hr(t,l,m);break;case"data":if(r!=="object"){Ri(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=io(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ht(t,r,"name",f.name,f,null),Ht(t,r,"formEncType",f.formEncType,f,null),Ht(t,r,"formMethod",f.formMethod,f,null),Ht(t,r,"formTarget",f.formTarget,f,null)):(Ht(t,r,"encType",f.encType,f,null),Ht(t,r,"method",f.method,f,null),Ht(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=io(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=On);break;case"onScroll":l!=null&&at("scroll",t);break;case"onScrollEnd":l!=null&&at("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=io(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":at("beforetoggle",t),at("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ol.get(a)||a,ha(t,a,l))}}function Vp(t,r,a,l,f,m){switch(a){case"style":Hr(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&at("scroll",t);break;case"onScrollEnd":l!=null&&at("scrollend",t);break;case"onClick":l!=null&&(t.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[_n]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function gi(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",t),at("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,m,b,a,null)}}f&&Ht(t,r,"srcSet",a.srcSet,a,null),l&&Ht(t,r,"src",a.src,a,null);return;case"input":at("invalid",t);var C=m=b=f=null,V=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var re=a[l];if(re!=null)switch(l){case"name":f=re;break;case"type":b=re;break;case"checked":V=re;break;case"defaultChecked":W=re;break;case"value":m=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:Ht(t,r,l,re,a,null)}}eo(t,m,C,V,W,b,f,!1);return;case"select":at("invalid",t),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":b=C;break;case"multiple":l=C;default:Ht(t,r,f,C,a,null)}r=m,a=b,t.multiple=!!l,r!=null?$n(t,!!l,r,!1):a!=null&&$n(t,!!l,a,!0);return;case"textarea":at("invalid",t),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":l=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ht(t,r,b,C,a,null)}Tr(t,l,f,m);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ht(t,r,V,l,a,null)}return;case"dialog":at("beforetoggle",t),at("toggle",t),at("cancel",t),at("close",t);break;case"iframe":case"object":at("load",t);break;case"video":case"audio":for(l=0;l<eh.length;l++)at(eh[l],t);break;case"image":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"embed":case"source":case"link":at("error",t),at("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ht(t,r,W,l,a,null)}return;default:if(Os(r)){for(re in a)a.hasOwnProperty(re)&&(l=a[re],l!==void 0&&Vp(t,r,re,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&Ht(t,r,C,l,a,null))}function a1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,C=null,V=null,W=null,re=null;for(ne in a){var oe=a[ne];if(a.hasOwnProperty(ne)&&oe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":V=oe;default:l.hasOwnProperty(ne)||Ht(t,r,ne,null,l,oe)}}for(var X in l){var ne=l[X];if(oe=a[X],l.hasOwnProperty(X)&&(ne!=null||oe!=null))switch(X){case"type":m=ne;break;case"name":f=ne;break;case"checked":W=ne;break;case"defaultChecked":re=ne;break;case"value":b=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ne!==oe&&Ht(t,r,X,ne,l,oe)}}Gn(t,b,C,V,W,re,m,f);return;case"select":ne=b=C=X=null;for(m in a)if(V=a[m],a.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":ne=V;default:l.hasOwnProperty(m)||Ht(t,r,m,null,l,V)}for(f in l)if(m=l[f],V=a[f],l.hasOwnProperty(f)&&(m!=null||V!=null))switch(f){case"value":X=m;break;case"defaultValue":C=m;break;case"multiple":b=m;default:m!==V&&Ht(t,r,f,m,l,V)}r=C,a=b,l=ne,X!=null?$n(t,!!a,X,!1):!!l!=!!a&&(r!=null?$n(t,!!a,r,!0):$n(t,!!a,a?[]:"",!1));return;case"textarea":ne=X=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(t,r,C,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":X=f;break;case"defaultValue":ne=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ht(t,r,b,f,l,m)}Br(t,X,ne);return;case"option":for(var Se in a)if(X=a[Se],a.hasOwnProperty(Se)&&X!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Ht(t,r,Se,null,l,X)}for(V in l)if(X=l[V],ne=a[V],l.hasOwnProperty(V)&&X!==ne&&(X!=null||ne!=null))switch(V){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ht(t,r,V,X,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)X=a[Ue],a.hasOwnProperty(Ue)&&X!=null&&!l.hasOwnProperty(Ue)&&Ht(t,r,Ue,null,l,X);for(W in l)if(X=l[W],ne=a[W],l.hasOwnProperty(W)&&X!==ne&&(X!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ht(t,r,W,X,l,ne)}return;default:if(Os(r)){for(var qt in a)X=a[qt],a.hasOwnProperty(qt)&&X!==void 0&&!l.hasOwnProperty(qt)&&Vp(t,r,qt,void 0,l,X);for(re in l)X=l[re],ne=a[re],!l.hasOwnProperty(re)||X===ne||X===void 0&&ne===void 0||Vp(t,r,re,X,l,ne);return}}for(var F in a)X=a[F],a.hasOwnProperty(F)&&X!=null&&!l.hasOwnProperty(F)&&Ht(t,r,F,null,l,X);for(oe in l)X=l[oe],ne=a[oe],!l.hasOwnProperty(oe)||X===ne||X==null&&ne==null||Ht(t,r,oe,X,l,ne)}function Ib(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,b=f.initiatorType,C=f.duration;if(m&&C&&Ib(b)){for(b=0,C=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],W=V.startTime;if(W>C)break;var re=V.transferSize,oe=V.initiatorType;re&&Ib(oe)&&(V=V.responseEnd,b+=re*(V<C?1:(C-W)/(V-W)))}if(--l,r+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lp=null,Pp=null;function ed(t){return t.nodeType===9?t:t.ownerDocument}function xb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function jp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Up=null;function l1(){var t=window.event;return t&&t.type==="popstate"?t===Up?!1:(Up=t,!0):(Up=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(t){return Ob.resolve(null).then(t).catch(h1)}:Nb;function h1(t){setTimeout(function(){throw t})}function Do(t){return t==="head"}function Mb(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Au(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")nh(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,nh(a);for(var m=a.firstChild;m;){var b=m.nextSibling,C=m.nodeName;m[lt]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&nh(t.ownerDocument.body);a=f}while(a);Au(r)}function kb(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function zp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zp(a),tn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function f1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[lt])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Jr(t.nextSibling),t===null)break}return null}function d1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jr(t.nextSibling),t===null))return null;return t}function Vb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Jr(t.nextSibling),t===null))return null;return t}function Bp(t){return t.data==="$?"||t.data==="$~"}function Hp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function m1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var qp=null;function Lb(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Jr(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Pb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function jb(t,r,a){switch(r=ed(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function nh(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);tn(t)}var Zr=new Map,Ub=new Set;function td(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Va=fe.d;fe.d={f:p1,r:g1,D:y1,C:_1,L:v1,m:b1,X:T1,S:E1,M:w1};function p1(){var t=Va.f(),r=$f();return t||r}function g1(t){var r=Fn(t);r!==null&&r.tag===5&&r.type==="form"?nv(r):Va.r(t)}var Eu=typeof document>"u"?null:document;function zb(t,r,a){var l=Eu;if(l&&typeof r=="string"&&r){var f=vn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ub.has(f)||(Ub.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),gi(r,"link",t),Gt(r),l.head.appendChild(r)))}}function y1(t){Va.D(t),zb("dns-prefetch",t,null)}function _1(t,r){Va.C(t,r),zb("preconnect",t,r)}function v1(t,r,a){Va.L(t,r,a);var l=Eu;if(l&&t&&r){var f='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vn(a.imageSizes)+'"]')):f+='[href="'+vn(t)+'"]';var m=f;switch(r){case"style":m=Tu(t);break;case"script":m=wu(t)}Zr.has(m)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Zr.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(ih(m))||r==="script"&&l.querySelector(rh(m))||(r=l.createElement("link"),gi(r,"link",t),Gt(r),l.head.appendChild(r)))}}function b1(t,r){Va.m(t,r);var a=Eu;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wu(t)}if(!Zr.has(m)&&(t=S({rel:"modulepreload",href:t},r),Zr.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rh(m)))return}l=a.createElement("link"),gi(l,"link",t),Gt(l),a.head.appendChild(l)}}}function E1(t,r,a){Va.S(t,r,a);var l=Eu;if(l&&t){var f=Jn(l).hoistableStyles,m=Tu(t);r=r||"default";var b=f.get(m);if(!b){var C={loading:0,preload:null};if(b=l.querySelector(ih(m)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Zr.get(m))&&Fp(t,a);var V=b=l.createElement("link");Gt(V),gi(V,"link",t),V._p=new Promise(function(W,re){V.onload=W,V.onerror=re}),V.addEventListener("load",function(){C.loading|=1}),V.addEventListener("error",function(){C.loading|=2}),C.loading|=4,nd(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:C},f.set(m,b)}}}function T1(t,r){Va.X(t,r);var a=Eu;if(a&&t){var l=Jn(a).hoistableScripts,f=wu(t),m=l.get(f);m||(m=a.querySelector(rh(f)),m||(t=S({src:t,async:!0},r),(r=Zr.get(f))&&Gp(t,r),m=a.createElement("script"),Gt(m),gi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function w1(t,r){Va.M(t,r);var a=Eu;if(a&&t){var l=Jn(a).hoistableScripts,f=wu(t),m=l.get(f);m||(m=a.querySelector(rh(f)),m||(t=S({src:t,async:!0,type:"module"},r),(r=Zr.get(f))&&Gp(t,r),m=a.createElement("script"),Gt(m),gi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Bb(t,r,a,l){var f=(f=ke.current)?td(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Tu(a.href),a=Jn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Tu(a.href);var m=Jn(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(ih(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Zr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zr.set(t,a),m||A1(f,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wu(a),a=Jn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Tu(t){return'href="'+vn(t)+'"'}function ih(t){return'link[rel="stylesheet"]['+t+"]"}function Hb(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function A1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),gi(r,"link",a),Gt(r),t.head.appendChild(r))}function wu(t){return'[src="'+vn(t)+'"]'}function rh(t){return"script[async]"+t}function qb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return r.instance=l,Gt(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Gt(l),gi(l,"style",f),nd(l,a.precedence,t),r.instance=l;case"stylesheet":f=Tu(a.href);var m=t.querySelector(ih(f));if(m)return r.state.loading|=4,r.instance=m,Gt(m),m;l=Hb(a),(f=Zr.get(f))&&Fp(l,f),m=(t.ownerDocument||t).createElement("link"),Gt(m);var b=m;return b._p=new Promise(function(C,V){b.onload=C,b.onerror=V}),gi(m,"link",l),r.state.loading|=4,nd(m,a.precedence,t),r.instance=m;case"script":return m=wu(a.src),(f=t.querySelector(rh(m)))?(r.instance=f,Gt(f),f):(l=a,(f=Zr.get(m))&&(l=S({},a),Gp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Gt(f),gi(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,nd(l,a.precedence,t));return r.instance}function nd(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var C=l[b];if(C.dataset.precedence===r)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Fp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Gp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var id=null;function Fb(t,r,a){if(id===null){var l=new Map,f=id=new Map;f.set(a,l)}else f=id,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[lt]||m[Ut]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var C=l.get(b);C?C.push(m):l.set(b,[m])}}return l}function Gb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function S1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $b(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function C1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Tu(l.href),m=r.querySelector(ih(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=rd.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,Gt(m);return}m=r.ownerDocument||r,l=Hb(l),(f=Zr.get(f))&&Fp(l,f),m=m.createElement("link"),Gt(m);var b=m;b._p=new Promise(function(C,V){b.onload=C,b.onerror=V}),gi(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=rd.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var $p=0;function R1(t,r){return t.stylesheets&&t.count===0&&ad(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ad(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&$p===0&&($p=62500*o1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ad(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>$p?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sd=null;function ad(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sd=new Map,r.forEach(I1,t),sd=null,rd.call(t))}function I1(t,r){if(!(r.state.loading&4)){var a=sd.get(t);if(a)var l=a.get(null);else{a=new Map,sd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=r.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=rd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var sh={$$typeof:ce,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function x1(t,r,a,l,f,m,b,C,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Yb(t,r,a,l,f,m,b,C,V,W,re,oe){return t=new x1(t,r,a,b,V,W,re,oe,C),r=1,m===!0&&(r|=24),m=Bi(3,null,null,r),t.current=m,m.stateNode=t,r=ps(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},At(m),t}function Kb(t){return t?(t=fo,t):fo}function Qb(t,r,a,l,f,m){f=Kb(f),l.context===null?l.context=f:l.pendingContext=f,l=Fe(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=tt(t,l,r),a!==null&&(cr(a,t,r),$e(a,t,r))}function Wb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Yp(t,r){Wb(t,r),(t=t.alternate)&&Wb(t,r)}function Xb(t){if(t.tag===13||t.tag===31){var r=mi(t,67108864);r!==null&&cr(r,t,67108864),Yp(t,67108864)}}function Jb(t){if(t.tag===13||t.tag===31){var r=kr();r=br(r);var a=mi(t,r);a!==null&&cr(a,t,r),Yp(t,r)}}var od=!0;function D1(t,r,a,l){var f=J.T;J.T=null;var m=fe.p;try{fe.p=2,Kp(t,r,a,l)}finally{fe.p=m,J.T=f}}function N1(t,r,a,l){var f=J.T;J.T=null;var m=fe.p;try{fe.p=8,Kp(t,r,a,l)}finally{fe.p=m,J.T=f}}function Kp(t,r,a,l){if(od){var f=Qp(l);if(f===null)kp(t,r,l,ld,a),eE(t,l);else if(M1(f,t,r,a,l))l.stopPropagation();else if(eE(t,l),r&4&&-1<O1.indexOf(t)){for(;f!==null;){var m=Fn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=xt(m.pendingLanes);if(b!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var V=1<<31-Kt(b);C.entanglements[1]|=V,b&=~V}Qs(m),(It&6)===0&&(Ff=Hn()+500,Zc(0))}}break;case 31:case 13:C=mi(m,2),C!==null&&cr(C,m,2),$f(),Yp(m,2)}if(m=Qp(l),m===null&&kp(t,r,l,ld,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else kp(t,r,l,null,a)}}function Qp(t){return t=Pi(t),Wp(t)}var ld=null;function Wp(t){if(ld=null,t=Bt(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ld=t,null}function Zb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case Ai:return 2;case xs:return 8;case jr:case aa:return 32;case gr:return 268435456;default:return 32}default:return 32}}var Xp=!1,No=null,Oo=null,Mo=null,ah=new Map,oh=new Map,ko=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(t,r){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":ah.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(r.pointerId)}}function lh(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Fn(r),r!==null&&Xb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function M1(t,r,a,l,f){switch(r){case"focusin":return No=lh(No,t,r,a,l,f),!0;case"dragenter":return Oo=lh(Oo,t,r,a,l,f),!0;case"mouseover":return Mo=lh(Mo,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return ah.set(m,lh(ah.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,oh.set(m,lh(oh.get(m)||null,t,r,a,l,f)),!0}return!1}function tE(t){var r=Bt(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,hi(t.priority,function(){Jb(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,hi(t.priority,function(){Jb(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Qp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ms=l,a.target.dispatchEvent(l),Ms=null}else return r=Fn(a),r!==null&&Xb(r),t.blockedOn=a,!1;r.shift()}return!0}function nE(t,r,a){ud(t)&&a.delete(r)}function k1(){Xp=!1,No!==null&&ud(No)&&(No=null),Oo!==null&&ud(Oo)&&(Oo=null),Mo!==null&&ud(Mo)&&(Mo=null),ah.forEach(nE),oh.forEach(nE)}function cd(t,r){t.blockedOn===r&&(t.blockedOn=null,Xp||(Xp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,k1)))}var hd=null;function iE(t){hd!==t&&(hd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hd===t&&(hd=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Wp(l||a)===null)continue;break}var m=Fn(a);m!==null&&(t.splice(r,3),r-=3,Qm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Au(t){function r(V){return cd(V,t)}No!==null&&cd(No,t),Oo!==null&&cd(Oo,t),Mo!==null&&cd(Mo,t),ah.forEach(r),oh.forEach(r);for(var a=0;a<ko.length;a++){var l=ko[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ko.length&&(a=ko[0],a.blockedOn===null);)tE(a),a.blockedOn===null&&ko.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[_n]||null;if(typeof m=="function")b||iE(a);else if(b){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[_n]||null)C=b.formAction;else if(Wp(f)!==null)continue}else C=b.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),iE(a)}}}function rE(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Jp(t){this._internalRoot=t}fd.prototype.render=Jp.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=kr();Qb(a,l,t,r,null,null)},fd.prototype.unmount=Jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Qb(t.current,2,null,t,null,null),$f(),r[Ci]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ds();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ko.length&&r!==0&&r<ko[a].priority;a++);ko.splice(a,0,t),a===0&&tE(t)}};var sE=e.version;if(sE!=="19.2.0")throw Error(s(527,sE,"19.2.0"));fe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var V1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{An=dd.inject(V1),gn=dd}catch{}}return ch.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=fv,m=dv,b=mv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Yb(t,1,!1,null,null,a,l,null,f,m,b,rE),t[Ci]=r.current,Mp(t),new Jp(r)},ch.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=fv,b=dv,C=mv,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),r=Yb(t,1,!0,r,a??null,l,f,V,m,b,C,rE),r.context=Kb(null),a=r.current,l=kr(),l=br(l),f=Fe(l),f.callback=null,tt(a,f,l),a=l,r.current.lanes=a,_r(r,a),Qs(r),t[Ci]=r.current,Mp(t),new fd(r)},ch.version="19.2.0",ch}var pE;function G1(){if(pE)return tg.exports;pE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),tg.exports=F1(),tg.exports}var $1=G1();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gE="popstate";function Y1(i={}){function e(s,o){let{pathname:u,search:h,hash:p}=s.location;return Sg("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ih(o)}return Q1(e,n,null,i)}function un(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ws(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K1(){return Math.random().toString(36).substring(2,10)}function yE(i,e){return{usr:i.state,key:i.key,idx:e}}function Sg(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Qu(e):e,state:n,key:e&&e.key||s||K1()}}function Ih({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Qu(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Q1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function S(){p="POP";let G=w(),$=G==null?null:G-y;y=G,g&&g({action:p,location:Z.location,delta:$})}function I(G,$){p="PUSH";let te=Sg(Z.location,G,$);y=w()+1;let ce=yE(te,y),Ce=Z.createHref(te);try{h.pushState(ce,"",Ce)}catch(ze){if(ze instanceof DOMException&&ze.name==="DataCloneError")throw ze;o.location.assign(Ce)}u&&g&&g({action:p,location:Z.location,delta:1})}function L(G,$){p="REPLACE";let te=Sg(Z.location,G,$);y=w();let ce=yE(te,y),Ce=Z.createHref(te);h.replaceState(ce,"",Ce),u&&g&&g({action:p,location:Z.location,delta:0})}function K(G){return W1(G)}let Z={get action(){return p},get location(){return i(o,h)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(gE,S),g=G,()=>{o.removeEventListener(gE,S),g=null}},createHref(G){return e(o,G)},createURL:K,encodeLocation(G){let $=K(G);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:I,replace:L,go(G){return h.go(G)}};return Z}function W1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),un(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ih(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function m0(i,e,n="/"){return X1(i,e,n,!1)}function X1(i,e,n,s){let o=typeof e=="string"?Qu(e):e,u=za(o.pathname||"/",n);if(u==null)return null;let h=p0(i);J1(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=uC(u);p=oC(h[g],y,s)}return p}function p0(i,e=[],n=[],s="",o=!1){let u=(h,p,g=o,y)=>{let w={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;un(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let S=ja([s,w.relativePath]),I=n.concat(w);h.children&&h.children.length>0&&(un(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),p0(h.children,e,I,S,g)),!(h.path==null&&!h.index)&&e.push({path:S,score:sC(S,h.index),routesMeta:I})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of g0(h.path))u(h,p,!0,g)}),e}function g0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=g0(s.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function J1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:aC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Z1=/^:[\w-]+$/,eC=3,tC=2,nC=1,iC=10,rC=-2,_E=i=>i==="*";function sC(i,e){let n=i.split("/"),s=n.length;return n.some(_E)&&(s+=rC),e&&(s+=tC),n.filter(o=>!_E(o)).reduce((o,u)=>o+(Z1.test(u)?eC:u===""?nC:iC),s)}function aC(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function oC(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",S=Pd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),I=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Pd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:ja([u,S.pathname]),pathnameBase:dC(ja([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=ja([u,S.pathnameBase]))}return h}function Pd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=lC(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:S},I)=>{if(w==="*"){let K=p[I]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const L=p[I];return S&&!L?y[w]=void 0:y[w]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function lC(i,e=!1,n=!0){ws(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ws(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function za(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function cC(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Qu(i):i;return{pathname:n?n.startsWith("/")?n:hC(n,e):e,search:mC(s),hash:pC(o)}}function hC(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sg(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fC(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function my(i){let e=fC(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function py(i,e,n,s=!1){let o;typeof i=="string"?o=Qu(i):(o={...i},un(!o.pathname||!o.pathname.includes("?"),sg("?","pathname","search",o)),un(!o.pathname||!o.pathname.includes("#"),sg("#","pathname","hash",o)),un(!o.search||!o.search.includes("#"),sg("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}p=S>=0?e[S]:"/"}let g=cC(o,p),y=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var ja=i=>i.join("/").replace(/\/\/+/g,"/"),dC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),mC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var yC=["GET",...y0];new Set(yC);var Wu=q.createContext(null);Wu.displayName="DataRouter";var im=q.createContext(null);im.displayName="DataRouterState";q.createContext(!1);var _0=q.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var _C=q.createContext(new Map);_C.displayName="Fetchers";var vC=q.createContext(null);vC.displayName="Await";var Cs=q.createContext(null);Cs.displayName="Navigation";var qh=q.createContext(null);qh.displayName="Location";var Rs=q.createContext({outlet:null,matches:[],isDataRoute:!1});Rs.displayName="Route";var gy=q.createContext(null);gy.displayName="RouteError";function bC(i,{relative:e}={}){un(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Cs),{hash:o,pathname:u,search:h}=Gh(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ja([n,u])),s.createHref({pathname:p,search:h,hash:o})}function Xu(){return q.useContext(qh)!=null}function $a(){return un(Xu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(qh).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b0(i){q.useContext(Cs).static||q.useLayoutEffect(i)}function Fh(){let{isDataRoute:i}=q.useContext(Rs);return i?VC():EC()}function EC(){un(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Wu),{basename:e,navigator:n}=q.useContext(Cs),{matches:s}=q.useContext(Rs),{pathname:o}=$a(),u=JSON.stringify(my(s)),h=q.useRef(!1);return b0(()=>{h.current=!0}),q.useCallback((g,y={})=>{if(ws(h.current,v0),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=py(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ja([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,u,o,i])}var TC=q.createContext(null);function wC(i){let e=q.useContext(Rs).outlet;return q.useMemo(()=>e&&q.createElement(TC.Provider,{value:i},e),[e,i])}function Gh(i,{relative:e}={}){let{matches:n}=q.useContext(Rs),{pathname:s}=$a(),o=JSON.stringify(my(n));return q.useMemo(()=>py(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function AC(i,e){return E0(i,e)}function E0(i,e,n,s,o){un(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Cs),{matches:h}=q.useContext(Rs),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",S=p&&p.route;{let te=S&&S.path||"";T0(y,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let I=$a(),L;if(e){let te=typeof e=="string"?Qu(e):e;un(w==="/"||te.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${te.pathname}" was given in the \`location\` prop.`),L=te}else L=I;let K=L.pathname||"/",Z=K;if(w!=="/"){let te=w.replace(/^\//,"").split("/");Z="/"+K.replace(/^\//,"").split("/").slice(te.length).join("/")}let G=m0(i,{pathname:Z});ws(S||G!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ws(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=xC(G&&G.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:ja([w,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?w:ja([w,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&$?q.createElement(qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},$):$}function SC(){let i=kC(),e=gC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var CC=q.createElement(SC,null),RC=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?q.createElement(Rs.Provider,{value:this.props.routeContext},q.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IC({routeContext:i,match:e,children:n}){let s=q.useContext(Wu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Rs.Provider,{value:i},n)}function xC(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let y=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);un(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:S,errors:I}=n,L=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||L){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,w,S)=>{let I,L=!1,K=null,Z=null;n&&(I=h&&w.route.id?h[w.route.id]:void 0,K=w.route.errorElement||CC,p&&(g<0&&S===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,Z=null):g===S&&(L=!0,Z=w.route.hydrateFallbackElement||null)));let G=e.concat(u.slice(0,S+1)),$=()=>{let te;return I?te=K:L?te=Z:w.route.Component?te=q.createElement(w.route.Component,null):w.route.element?te=w.route.element:te=y,q.createElement(IC,{match:w,routeContext:{outlet:y,matches:G,isDataRoute:n!=null},children:te})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?q.createElement(RC,{location:n.location,revalidation:n.revalidation,component:K,error:I,children:$(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:s}):$()},null)}function yy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DC(i){let e=q.useContext(Wu);return un(e,yy(i)),e}function NC(i){let e=q.useContext(im);return un(e,yy(i)),e}function OC(i){let e=q.useContext(Rs);return un(e,yy(i)),e}function _y(i){let e=OC(i),n=e.matches[e.matches.length-1];return un(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function MC(){return _y("useRouteId")}function kC(){let i=q.useContext(gy),e=NC("useRouteError"),n=_y("useRouteError");return i!==void 0?i:e.errors?.[n]}function VC(){let{router:i}=DC("useNavigate"),e=_y("useNavigate"),n=q.useRef(!1);return b0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{ws(n.current,v0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var vE={};function T0(i,e,n){!e&&!vE[i]&&(vE[i]=!0,ws(!1,n))}q.memo(LC);function LC({routes:i,future:e,state:n,unstable_onError:s}){return E0(i,void 0,n,s,e)}function PC({to:i,replace:e,state:n,relative:s}){un(Xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Cs);ws(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Rs),{pathname:h}=$a(),p=Fh(),g=py(i,my(u),h,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function jC(i){return wC(i.context)}function yi(i){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UC({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){un(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Qu(n));let{pathname:g="/",search:y="",hash:w="",state:S=null,key:I="default"}=n,L=q.useMemo(()=>{let K=za(g,h);return K==null?null:{location:{pathname:K,search:y,hash:w,state:S,key:I},navigationType:s}},[h,g,y,w,S,I,s]);return ws(L!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:q.createElement(Cs.Provider,{value:p},q.createElement(qh.Provider,{children:e,value:L}))}function zC({children:i,location:e}){return AC(Cg(i),e)}function Cg(i,e=[]){let n=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Cg(s.props.children,u));return}un(s.type===yi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Cg(s.props.children,u)),n.push(h)}),n}var wd="get",Ad="application/x-www-form-urlencoded";function rm(i){return i!=null&&typeof i.tagName=="string"}function BC(i){return rm(i)&&i.tagName.toLowerCase()==="button"}function HC(i){return rm(i)&&i.tagName.toLowerCase()==="form"}function qC(i){return rm(i)&&i.tagName.toLowerCase()==="input"}function FC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function GC(i,e){return i.button===0&&(!e||e==="_self")&&!FC(i)}var md=null;function $C(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var YC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(i){return i!=null&&!YC.has(i)?(ws(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):i}function KC(i,e){let n,s,o,u,h;if(HC(i)){let p=i.getAttribute("action");s=p?za(p,e):null,n=i.getAttribute("method")||wd,o=ag(i.getAttribute("enctype"))||Ad,u=new FormData(i)}else if(BC(i)||qC(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(s=g?za(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||wd,o=ag(i.getAttribute("formenctype"))||ag(p.getAttribute("enctype"))||Ad,u=new FormData(p,i),!$C()){let{name:y,type:w,value:S}=i;if(w==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,S)}}else{if(rm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wd,s=null,o=Ad,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vy(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function QC(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&za(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function WC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function JC(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await WC(u,n);return h.links?h.links():[]}return[]}));return nR(s.flat(1).filter(XC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bE(i,e,n,s,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ZC(i,e,{includeHydrateFallback:n}={}){return eR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function eR(i){return[...new Set(i)]}function tR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function nR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(tR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function w0(){let i=q.useContext(Wu);return vy(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iR(){let i=q.useContext(im);return vy(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var by=q.createContext(void 0);by.displayName="FrameworkContext";function A0(){let i=q.useContext(by);return vy(i,"You must render this element inside a <HydratedRouter> element"),i}function rR(i,e){let n=q.useContext(by),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:S}=e,I=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Z=$=>{$.forEach(te=>{h(te.isIntersecting)})},G=new IntersectionObserver(Z,{threshold:.5});return I.current&&G.observe(I.current),()=>{G.disconnect()}}},[i]),q.useEffect(()=>{if(s){let Z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,I,{}]:[u,I,{onFocus:hh(p,L),onBlur:hh(g,K),onMouseEnter:hh(y,L),onMouseLeave:hh(w,K),onTouchStart:hh(S,L)}]:[!1,I,{}]}function hh(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function sR({page:i,...e}){let{router:n}=w0(),s=q.useMemo(()=>m0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(oR,{page:i,matches:s,...e}):null}function aR(i){let{manifest:e,routeModules:n}=A0(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return JC(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function oR({page:i,matches:e,...n}){let s=$a(),{manifest:o,routeModules:u}=A0(),{basename:h}=w0(),{loaderData:p,matches:g}=iR(),y=q.useMemo(()=>bE(i,e,g,o,s,"data"),[i,e,g,o,s]),w=q.useMemo(()=>bE(i,e,g,o,s,"assets"),[i,e,g,o,s]),S=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let K=new Set,Z=!1;if(e.forEach($=>{let te=o.routes[$.route.id];!te||!te.hasLoader||(!y.some(ce=>ce.route.id===$.route.id)&&$.route.id in p&&u[$.route.id]?.shouldRevalidate||te.hasClientLoader?Z=!0:K.add($.route.id))}),K.size===0)return[];let G=QC(i,h,"data");return Z&&K.size>0&&G.searchParams.set("_routes",e.filter($=>K.has($.route.id)).map($=>$.route.id).join(",")),[G.pathname+G.search]},[h,p,s,o,y,e,i,u]),I=q.useMemo(()=>ZC(w,o),[w,o]),L=aR(w);return q.createElement(q.Fragment,null,S.map(K=>q.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),I.map(K=>q.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),L.map(({key:K,link:Z})=>q.createElement("link",{key:K,nonce:n.nonce,...Z})))}function lR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var S0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S0&&(window.__reactRouterVersion="7.9.3")}catch{}function uR({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Y1({window:n,v5Compat:!0}));let o=s.current,[u,h]=q.useState({action:o.action,location:o.location}),p=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>o.listen(p),[o,p]),q.createElement(UC,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nu=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:w,viewTransition:S,...I},L){let{basename:K}=q.useContext(Cs),Z=typeof y=="string"&&C0.test(y),G,$=!1;if(typeof y=="string"&&Z&&(G=y,S0))try{let O=new URL(window.location.href),j=y.startsWith("//")?new URL(O.protocol+y):new URL(y),P=za(j.pathname,K);j.origin===O.origin&&P!=null?y=P+j.search+j.hash:$=!0}catch{ws(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=bC(y,{relative:o}),[ce,Ce,ze]=rR(s,I),Ne=fR(y,{replace:h,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:S});function k(O){e&&e(O),O.defaultPrevented||Ne(O)}let N=q.createElement("a",{...I,...ze,href:G||te,onClick:$||u?e:k,ref:lR(L,Ce),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return ce&&!Z?q.createElement(q.Fragment,null,N,q.createElement(sR,{page:te})):N});Nu.displayName="Link";var fr=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},w){let S=Gh(h,{relative:y.relative}),I=$a(),L=q.useContext(im),{navigator:K,basename:Z}=q.useContext(Cs),G=L!=null&&yR(S)&&p===!0,$=K.encodeLocation?K.encodeLocation(S).pathname:S.pathname,te=I.pathname,ce=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(te=te.toLowerCase(),ce=ce?ce.toLowerCase():null,$=$.toLowerCase()),ce&&Z&&(ce=za(ce,Z)||ce);const Ce=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ze=te===$||!o&&te.startsWith($)&&te.charAt(Ce)==="/",Ne=ce!=null&&(ce===$||!o&&ce.startsWith($)&&ce.charAt($.length)==="/"),k={isActive:ze,isPending:Ne,isTransitioning:G},N=ze?e:void 0,O;typeof s=="function"?O=s(k):O=[s,ze?"active":null,Ne?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(k):u;return q.createElement(Nu,{...y,"aria-current":N,className:O,ref:w,style:j,to:h,viewTransition:p},typeof g=="function"?g(k):g)});fr.displayName="NavLink";var cR=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=wd,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:S,...I},L)=>{let K=pR(),Z=gR(p,{relative:y}),G=h.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&C0.test(p),te=ce=>{if(g&&g(ce),ce.defaultPrevented)return;ce.preventDefault();let Ce=ce.nativeEvent.submitter,ze=Ce?.getAttribute("formmethod")||h;K(Ce||ce.currentTarget,{fetcherKey:e,method:ze,navigate:n,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:S})};return q.createElement("form",{ref:L,method:G,action:Z,onSubmit:s?g:te,...I,"data-discover":!$&&i==="render"?"true":void 0})});cR.displayName="Form";function hR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(i){let e=q.useContext(Wu);return un(e,hR(i)),e}function fR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Fh(),g=$a(),y=Gh(i,{relative:u});return q.useCallback(w=>{if(GC(w,e)){w.preventDefault();let S=n!==void 0?n:Ih(g)===Ih(y);p(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,n,s,e,i,o,u,h])}var dR=0,mR=()=>`__${String(++dR)}__`;function pR(){let{router:i}=R0("useSubmit"),{basename:e}=q.useContext(Cs),n=MC();return q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=KC(s,e);if(o.navigate===!1){let w=o.fetcherKey||mR();await i.fetch(w,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function gR(i,{relative:e}={}){let{basename:n}=q.useContext(Cs),s=q.useContext(Rs);un(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Gh(i||".",{relative:e})},h=$a();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let w=p.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ja([n,u.pathname])),Ih(u)}function yR(i,{relative:e}={}){let n=q.useContext(_0);un(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R0("useViewTransitionState"),o=Gh(i,{relative:e});if(!n.isTransitioning)return!1;let u=za(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=za(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pd(o.pathname,h)!=null||Pd(o.pathname,u)!=null}const _R=()=>{};var EE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,w=u>>2,S=(u&3)<<4|p>>4;let I=(p&15)<<2|y>>6,L=y&63;g||(L=64,h||(I=64)),s.push(n[w],n[S],n[I],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(I0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):vR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new bR;const I=u<<2|p>>4;if(s.push(I),y!==64){const L=p<<4&240|y>>2;if(s.push(L),S!==64){const K=y<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(i){const e=I0(i);return x0.encodeByteArray(e,!0)},jd=function(i){return ER(i).replace(/\./g,"")},D0=function(i){try{return x0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=()=>TR().__FIREBASE_DEFAULTS__,AR=()=>{if(typeof process>"u"||typeof EE>"u")return;const i=EE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&D0(i[1]);return e&&JSON.parse(e)},sm=()=>{try{return _R()||wR()||AR()||SR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},N0=i=>sm()?.emulatorHosts?.[i],CR=i=>{const e=N0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},O0=()=>sm()?.config,M0=i=>sm()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[jd(JSON.stringify(n)),jd(JSON.stringify(h)),""].join(".")}const Th={};function xR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Th))Th[e]?i.emulator.push(e):i.prod.push(e);return i}function DR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let TE=!1;function V0(i,e){if(typeof window>"u"||typeof document>"u"||!Ju(window.location.host)||Th[i]===e||Th[i]||TE)return;Th[i]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=xR().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,L){I.setAttribute("width","24"),I.setAttribute("id",L),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{TE=!0,h()},I}function w(I,L){I.setAttribute("id",L),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=DR(s),L=n("text"),K=document.getElementById(L)||document.createElement("span"),Z=n("learnmore"),G=document.getElementById(Z)||document.createElement("a"),$=n("preprendIcon"),te=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ce=I.element;p(ce),w(G,Z);const Ce=y();g(te,$),ce.append(te,K,G,Ce),document.body.appendChild(ce)}u?(K.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function OR(){const i=sm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const i=ki();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function PR(){return!OR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function UR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class Ya extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zR,Object.setPrototypeOf(this,Ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?BR(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Ya(o,p,s)}}function BR(i,e){return i.replace(HR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const HR=/\{\$([^}]+)}/g;function qR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ll(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(wE(u)&&wE(h)){if(!Ll(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ph(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function gh(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function FR(i,e){const n=new GR(i,e);return n.subscribe.bind(n)}class GR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$R(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=og),o.error===void 0&&(o.error=og),o.complete===void 0&&(o.complete=og);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $R(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(i){return i&&i._delegate?i._delegate:i}class Pl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(i){return i===Nl?void 0:i}function QR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ht||(ht={}));const XR={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},JR=ht.INFO,ZR={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},eI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ZR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ey{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const tI=(i,e)=>e.some(n=>i instanceof n);let AE,SE;function nI(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iI(){return SE||(SE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Rg=new WeakMap,P0=new WeakMap,lg=new WeakMap,Ty=new WeakMap;function rI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Ho(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,i)}).catch(()=>{}),Ty.set(e,i),e}function sI(i){if(Rg.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Rg.set(i,e)}let Ig={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||P0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aI(i){Ig=i(Ig)}function oI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ug(this),e,...n);return P0.set(s,e.sort?e.sort():[e]),Ho(s)}:iI().includes(i)?function(...e){return i.apply(ug(this),e),Ho(L0.get(this))}:function(...e){return Ho(i.apply(ug(this),e))}}function lI(i){return typeof i=="function"?oI(i):(i instanceof IDBTransaction&&sI(i),tI(i,nI())?new Proxy(i,Ig):i)}function Ho(i){if(i instanceof IDBRequest)return rI(i);if(lg.has(i))return lg.get(i);const e=lI(i);return e!==i&&(lg.set(i,e),Ty.set(e,i)),e}const ug=i=>Ty.get(i);function uI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),p=Ho(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Ho(h.result),g.oldVersion,g.newVersion,Ho(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const cI=["get","getKey","getAll","getAllKeys","count"],hI=["put","add","delete","clear"],cg=new Map;function CE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=hI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cI.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return cg.set(e,u),u}aI(i=>({...i,get:(e,n,s)=>CE(e,n)||i.get(e,n,s),has:(e,n)=>!!CE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dI(i){return i.getComponent()?.type==="VERSION"}const xg="@firebase/app",RE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Ey("@firebase/app"),mI="@firebase/app-compat",pI="@firebase/analytics-compat",gI="@firebase/analytics",yI="@firebase/app-check-compat",_I="@firebase/app-check",vI="@firebase/auth",bI="@firebase/auth-compat",EI="@firebase/database",TI="@firebase/data-connect",wI="@firebase/database-compat",AI="@firebase/functions",SI="@firebase/functions-compat",CI="@firebase/installations",RI="@firebase/installations-compat",II="@firebase/messaging",xI="@firebase/messaging-compat",DI="@firebase/performance",NI="@firebase/performance-compat",OI="@firebase/remote-config",MI="@firebase/remote-config-compat",kI="@firebase/storage",VI="@firebase/storage-compat",LI="@firebase/firestore",PI="@firebase/ai",jI="@firebase/firestore-compat",UI="firebase",zI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",BI={[xg]:"fire-core",[mI]:"fire-core-compat",[gI]:"fire-analytics",[pI]:"fire-analytics-compat",[_I]:"fire-app-check",[yI]:"fire-app-check-compat",[vI]:"fire-auth",[bI]:"fire-auth-compat",[EI]:"fire-rtdb",[TI]:"fire-data-connect",[wI]:"fire-rtdb-compat",[AI]:"fire-fn",[SI]:"fire-fn-compat",[CI]:"fire-iid",[RI]:"fire-iid-compat",[II]:"fire-fcm",[xI]:"fire-fcm-compat",[DI]:"fire-perf",[NI]:"fire-perf-compat",[OI]:"fire-rc",[MI]:"fire-rc-compat",[kI]:"fire-gcs",[VI]:"fire-gcs-compat",[LI]:"fire-fst",[jI]:"fire-fst-compat",[PI]:"fire-vertex","fire-js":"fire-js",[UI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,HI=new Map,Ng=new Map;function IE(i,e){try{i.container.addComponent(e)}catch(n){Ba.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function zu(i){const e=i.name;if(Ng.has(e))return Ba.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,i);for(const n of xh.values())IE(n,i);for(const n of HI.values())IE(n,i);return!0}function wy(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function bs(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new $h("app","Firebase",qI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=zI;function j0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Dg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw qo.create("bad-app-name",{appName:String(o)});if(n||(n=O0()),!n)throw qo.create("no-options");const u=xh.get(o);if(u){if(Ll(n,u.options)&&Ll(s,u.config))return u;throw qo.create("duplicate-app",{appName:o})}const h=new WR(o);for(const g of Ng.values())h.addComponent(g);const p=new FI(n,s,h);return xh.set(o,p),p}function Ay(i=Dg){const e=xh.get(i);if(!e&&i===Dg&&O0())return j0();if(!e)throw qo.create("no-app",{appName:i});return e}function GI(){return Array.from(xh.values())}function Fo(i,e,n){let s=BI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ba.warn(h.join(" "));return}zu(new Pl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firebase-heartbeat-database",YI=1,Dh="firebase-heartbeat-store";let hg=null;function U0(){return hg||(hg=uI($I,YI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Dh)}catch(n){console.warn(n)}}}}).catch(i=>{throw qo.create("idb-open",{originalErrorMessage:i.message})})),hg}async function KI(i){try{const n=(await U0()).transaction(Dh),s=await n.objectStore(Dh).get(z0(i));return await n.done,s}catch(e){if(e instanceof Ya)Ba.warn(e.message);else{const n=qo.create("idb-get",{originalErrorMessage:e?.message});Ba.warn(n.message)}}}async function xE(i,e){try{const s=(await U0()).transaction(Dh,"readwrite");await s.objectStore(Dh).put(e,z0(i)),await s.done}catch(n){if(n instanceof Ya)Ba.warn(n.message);else{const s=qo.create("idb-set",{originalErrorMessage:n?.message});Ba.warn(s.message)}}}function z0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1024,WI=30;class XI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>WI){const o=ex(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ba.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:n,unsentEntries:s}=JI(this._heartbeatsCache.heartbeats),o=jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ba.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function JI(i,e=QI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),NE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?UR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NE(i){return jd(JSON.stringify({version:2,heartbeats:i})).length}function ex(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(i){zu(new Pl("platform-logger",e=>new fI(e),"PRIVATE")),zu(new Pl("heartbeat",e=>new XI(e),"PRIVATE")),Fo(xg,RE,i),Fo(xg,RE,"esm2020"),Fo("fire-js","")}tx("");var nx="firebase",ix="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(nx,ix,"app");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rx=B0,H0=new $h("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Ey("@firebase/auth");function sx(i,...e){Ud.logLevel<=ht.WARN&&Ud.warn(`Auth (${Zu}): ${i}`,...e)}function Sd(i,...e){Ud.logLevel<=ht.ERROR&&Ud.error(`Auth (${Zu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(i,...e){throw Sy(i,...e)}function Js(i,...e){return Sy(i,...e)}function q0(i,e,n){const s={...rx(),[e]:n};return new $h("auth","Firebase",s).create(e,{appName:i.name})}function Go(i){return q0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sy(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return H0.create(i,...e)}function He(i,e,...n){if(!i)throw Sy(e,...n)}function La(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sd(e),new Error(e)}function Ha(i,e){i||La(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){return typeof self<"u"&&self.location?.href||""}function ax(){return OE()==="http:"||OE()==="https:"}function OE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ax()||kR()||"connection"in navigator)?navigator.onLine:!0}function lx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ha(n>e,"Short delay should be less than long delay!"),this.isMobile=NR()||VR()}get(){return ox()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(i,e){Ha(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hx=new Kh(3e4,6e4);function Bl(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function el(i,e,n,s,o={}){return G0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=Yh({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return MR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ju(i.emulatorConfig.host)&&(y.credentials="include"),F0.fetch()(await $0(i,i.config.apiHost,n,p),y)})}async function G0(i,e,n){i._canInitEmulator=!1;const s={...ux,...e};try{const o=new dx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw pd(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw pd(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw pd(i,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw q0(i,w,y);As(i,w)}}catch(o){if(o instanceof Ya)throw o;As(i,"network-request-failed",{message:String(o)})}}async function am(i,e,n,s,o={}){const u=await el(i,e,n,s,o);return"mfaPendingCredential"in u&&As(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Cy(i.config,o):`${i.config.apiScheme}://${o}`;return cx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function fx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Js(this.auth,"network-request-failed")),hx.get())})}}function pd(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Js(i,e,s);return o.customData._tokenResponse=n,o}function ME(i){return i!==void 0&&i.enterprise!==void 0}class mx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function px(i,e){return el(i,"GET","/v2/recaptchaConfig",Bl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(i,e){return el(i,"POST","/v1/accounts:delete",e)}async function zd(i,e){return el(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yx(i,e=!1){const n=li(i),s=await n.getIdToken(e),o=Ry(s);He(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:wh(fg(o.auth_time)),issuedAtTime:wh(fg(o.iat)),expirationTime:wh(fg(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function fg(i){return Number(i)*1e3}function Ry(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const o=D0(n);return o?JSON.parse(o):(Sd("Failed to decode base64 JWT payload"),null)}catch(o){return Sd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function kE(i){const e=Ry(i);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ya&&_x(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _x({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(i){const e=i.auth,n=await i.getIdToken(),s=await Nh(i,zd(e,{idToken:n}));He(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Y0(o.providerUserInfo):[],h=Ex(i.providerData,u),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Mg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,w)}async function bx(i){const e=li(i);await Bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ex(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Y0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(i,e){const n=await G0(i,{},async()=>{const s=Yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await $0(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&Ju(i.emulatorConfig.host)&&(g.credentials="include"),F0.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wx(i,e){return el(i,"POST","/v2/accounts:revokeToken",Bl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=kE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Tx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Vu;return s&&(He(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(He(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i,e){He(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Es{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yx(this,e)}reload(){return bx(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await Nh(this,gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:L,providerData:K,stsTokenManager:Z}=n;He(S&&Z,e,"internal-error");const G=Vu.fromJSON(this.name,Z);He(typeof S=="string",e,"internal-error"),Lo(s,e.name),Lo(o,e.name),He(typeof I=="boolean",e,"internal-error"),He(typeof L=="boolean",e,"internal-error"),Lo(u,e.name),Lo(h,e.name),Lo(p,e.name),Lo(g,e.name),Lo(y,e.name),Lo(w,e.name);const $=new Es({uid:S,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:G,createdAt:y,lastLoginAt:w});return K&&Array.isArray(K)&&($.providerData=K.map(te=>({...te}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new Vu;o.updateFromServerResponse(n);const u=new Es({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];He(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Y0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Vu;p.updateFromIdToken(s);const g=new Es({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Pa(i){Ha(i instanceof Function,"Expected a class definition");let e=VE.get(i);return e?(Ha(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,VE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K0.type="NONE";const LE=K0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(i,e,n){return`firebase:${i}:${e}:${n}`}class Lu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Cd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zd(this.auth,{idToken:e}).catch(()=>{});return n?Es._fromGetAccountInfoResponse(this.auth,n,e):null}return Es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Lu(Pa(LE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Pa(LE);const h=Cd(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const w=await y._get(h);if(w){let S;if(typeof w=="string"){const I=await zd(e,{idToken:w}).catch(()=>{});if(!I)break;S=await Es._fromGetAccountInfoResponse(e,I,w)}else S=Es._fromJSON(e,w);y!==u&&(p=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Lu(u,e,s):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new Lu(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ew(e))return"Blackberry";if(tw(e))return"Webos";if(W0(e))return"Safari";if((e.includes("chrome/")||X0(e))&&!e.includes("edge/"))return"Chrome";if(Z0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Q0(i=ki()){return/firefox\//i.test(i)}function W0(i=ki()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X0(i=ki()){return/crios\//i.test(i)}function J0(i=ki()){return/iemobile/i.test(i)}function Z0(i=ki()){return/android/i.test(i)}function ew(i=ki()){return/blackberry/i.test(i)}function tw(i=ki()){return/webos/i.test(i)}function Iy(i=ki()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Ax(i=ki()){return Iy(i)&&!!window.navigator?.standalone}function Sx(){return LR()&&document.documentMode===10}function nw(i=ki()){return Iy(i)||Z0(i)||tw(i)||ew(i)||/windows phone/i.test(i)||J0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i,e=[]){let n;switch(i){case"Browser":n=PE(ki());break;case"Worker":n=`${PE(ki())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(i,e={}){return el(i,"GET","/v2/passwordPolicy",Bl(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=6;class xx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ix,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new Cx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pa(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zd(this,{idToken:e}),s=await Es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(Go(this));const n=e?li(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rx(this),n=new xx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $h("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pa(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Lu.create(this,[Pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ec(i){return li(i)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=FR(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nx(i){om=i}function rw(i){return om.loadJS(i)}function Ox(){return om.recaptchaEnterpriseScript}function Mx(){return om.gapiScript}function kx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Vx{constructor(){this.enterprise=new Lx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Lx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Px="recaptcha-enterprise",sw="NO_RECAPTCHA";class jx{constructor(e){this.type=Px,this.auth=ec(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{px(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new mx(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;ME(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(sw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vx().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!n&&ME(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Ox();g.length!==0&&(g+=p),rw(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function UE(i,e,n,s=!1,o=!1){const u=new jx(i);let h;if(o)h=sw;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function zE(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await UE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await UE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(i,e){const n=wy(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ll(u,e??{}))return o;As(o,"already-initialized")}return n.initialize({options:e})}function zx(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Pa);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Bx(i,e,n){const s=ec(i);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=aw(e),{host:h,port:p}=Hx(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},w=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(Ll(y,s.config.emulator)&&Ll(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ju(h)?(k0(`${u}//${h}${g}`),V0("Auth",!0)):qx()}function aw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Hx(i){const e=aw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:BE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:BE(h)}}}function BE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function qx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return La("not implemented")}_getIdTokenResponse(e){return La("not implemented")}_linkToIdToken(e,n){return La("not implemented")}_getReauthenticationResolver(e){return La("not implemented")}}async function Fx(i,e){return el(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(i,e){return am(i,"POST","/v1/accounts:signInWithPassword",Bl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,e){return am(i,"POST","/v1/accounts:signInWithEmailLink",Bl(i,e))}async function Yx(i,e){return am(i,"POST","/v1/accounts:signInWithEmailLink",Bl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends xy{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Oh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Oh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,n,"signInWithPassword",Gx);case"emailLink":return $x(e,{email:this._email,oobCode:this._password});default:As(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,s,"signUpPassword",Fx);case"emailLink":return Yx(e,{idToken:n,email:this._email,oobCode:this._password});default:As(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(i,e){return am(i,"POST","/v1/accounts:signInWithIdp",Bl(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="http://localhost";class jl extends xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):As("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new jl(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Pu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:Kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wx(i){const e=ph(gh(i)).link,n=e?ph(gh(e)).deep_link_id:null,s=ph(gh(i)).deep_link_id;return(s?ph(gh(s)).link:null)||s||n||e||i}class Dy{constructor(e){const n=ph(gh(e)),s=n.apiKey??null,o=n.oobCode??null,u=Qx(n.mode??null);He(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Wx(e);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(e,n){return Oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Dy.parseLink(n);return He(s,"argument-error"),Oh._fromEmailAndCode(e,s.code,s.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Qh{constructor(){super("facebook.com")}static credential(e){return jl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.FACEBOOK_SIGN_IN_METHOD="facebook.com";Po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jo.credential(n,s)}catch{return null}}}jo.GOOGLE_SIGN_IN_METHOD="google.com";jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Qh{constructor(){super("github.com")}static credential(e){return jl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Qh{constructor(){super("twitter.com")}static credential(e,n){return jl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zo.credential(n,s)}catch{return null}}}zo.TWITTER_SIGN_IN_METHOD="twitter.com";zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Es._fromIdTokenResponse(e,s,o),h=HE(s);return new Bu({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=HE(s);return new Bu({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function HE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Ya{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Hd(e,n,s,o)}}function lw(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(i,u,e,s):u})}async function Xx(i,e,n=!1){const s=await Nh(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Bu._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(i,e,n=!1){const{auth:s}=i;if(bs(s.app))return Promise.reject(Go(s));const o="reauthenticate";try{const u=await Nh(i,lw(s,o,e,i),n);He(u.idToken,s,"internal-error");const h=Ry(u.idToken);He(h,s,"internal-error");const{sub:p}=h;return He(i.uid===p,s,"user-mismatch"),Bu._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&As(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(i,e,n=!1){if(bs(i.app))return Promise.reject(Go(i));const s="signIn",o=await lw(i,s,e),u=await Bu._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function Zx(i,e){return uw(ec(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i){const e=ec(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tD(i,e,n){return bs(i.app)?Promise.reject(Go(i)):Zx(li(i),tc.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eD(i),s})}function nD(i,e,n,s){return li(i).onIdTokenChanged(e,n,s)}function iD(i,e,n){return li(i).beforeAuthStateChanged(e,n)}function rD(i,e,n,s){return li(i).onAuthStateChanged(e,n,s)}function Ny(i){return li(i).signOut()}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,aD=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Sx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const oD=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fw.type="SESSION";const dw=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,u)),g=await lD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=Oy("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function cD(i){Zs().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function hD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fD(){return navigator?.serviceWorker?.controller||null}function dD(){return mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",mD=1,Fd="firebaseLocalStorage",gw="fbase_key";class Wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(i,e){return i.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function pD(){const i=indexedDB.deleteDatabase(pw);return new Wh(i).toPromise()}function kg(){const i=indexedDB.open(pw,mD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Fd,{keyPath:gw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Fd)?e(s):(s.close(),await pD(),e(await kg()))})})}async function qE(i,e,n){const s=um(i,!0).put({[gw]:e,value:n});return new Wh(s).toPromise()}async function gD(i,e){const n=um(i,!1).get(e),s=await new Wh(n).toPromise();return s===void 0?null:s.value}function FE(i,e){const n=um(i,!0).delete(e);return new Wh(n).toPromise()}const yD=800,_D=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_D)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(dD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hD(),!this.activeServiceWorker)return;this.sender=new uD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await qE(e,qd,"1"),await FE(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>gD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=um(o,!1).getAll();return new Wh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const vD=yw;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i,e){return e?Pa(e):(He(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ED(i){return uw(i.auth,new My(i),i.bypassAuthState)}function TD(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),Jx(n,new My(i),i.bypassAuthState)}async function wD(i){const{auth:e,user:n}=i;return He(n,e,"internal-error"),Xx(n,new My(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ED;case"linkViaPopup":case"linkViaRedirect":return wD;case"reauthViaPopup":case"reauthViaRedirect":return TD;default:As(this.auth,"internal-error")}}resolve(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Kh(2e3,1e4);class Ou extends _w{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ou.currentPopupAction&&Ou.currentPopupAction.cancel(),Ou.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ha(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ou.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AD.get())};e()}}Ou.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",Rd=new Map;class CD extends _w{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rd.get(this.auth._key());if(!e){try{const s=await RD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RD(i,e){const n=DD(e),s=xD(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ID(i,e){Rd.set(i._key(),e)}function xD(i){return Pa(i._redirectPersistence)}function DD(i){return Cd(SD,i.config.apiKey,i.name)}async function ND(i,e,n=!1){if(bs(i.app))return Promise.reject(Go(i));const s=ec(i),o=bD(s,e),h=await new CD(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=600*1e3;class MD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!vw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OD&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function kD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(i,e={}){return el(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PD=/^https?/;async function jD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await VD(i);for(const n of e)try{if(UD(n))return}catch{}As(i,"unauthorized-domain")}function UD(i){const e=Og(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!PD.test(n))return!1;if(LD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Kh(3e4,6e4);function $E(){const i=Zs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function BD(i){return new Promise((e,n)=>{function s(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(Js(i,"network-request-failed"))},timeout:zD.get()})}if(Zs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zs().gapi?.load)s();else{const o=kx("iframefcb");return Zs()[o]=()=>{gapi.load?s():n(Js(i,"network-request-failed"))},rw(`${Mx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Id=null,e})}let Id=null;function HD(i){return Id=Id||BD(i),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Kh(5e3,15e3),FD="__/auth/iframe",GD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KD(i){const e=i.config;He(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Cy(e,GD):`https://${i.config.authDomain}/${FD}`,s={apiKey:e.apiKey,appName:i.name,v:Zu},o=YD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yh(s).slice(1)}`}async function QD(i){const e=await HD(i),n=Zs().gapi;return He(n,i,"internal-error"),e.open({where:document.body,url:KD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Js(i,"network-request-failed"),p=Zs().setTimeout(()=>{u(h)},qD.get());function g(){Zs().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XD=500,JD=600,ZD="_blank",eN="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tN(i,e,n,s=XD,o=JD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...WD,width:s.toString(),height:o.toString(),top:u,left:h},y=ki().toLowerCase();n&&(p=X0(y)?ZD:n),Q0(y)&&(e=e||eN,g.scrollbars="yes");const w=Object.entries(g).reduce((I,[L,K])=>`${I}${L}=${K},`,"");if(Ax(y)&&p!=="_self")return nN(e||"",p),new YE(null);const S=window.open(e||"",p,w);He(S,i,"popup-blocked");try{S.focus()}catch{}return new YE(S)}function nN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="__/auth/handler",rN="emulator/auth/handler",sN=encodeURIComponent("fac");async function KE(i,e,n,s,o,u){He(i.config.authDomain,i,"auth-domain-config-required"),He(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Zu,eventId:o};if(e instanceof ow){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",qR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))h[w]=S}if(e instanceof Qh){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(h.scopes=w.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await i._getAppCheckToken(),y=g?`#${sN}=${encodeURIComponent(g)}`:"";return`${aN(i)}?${Yh(p).slice(1)}${y}`}function aN({config:i}){return i.emulator?Cy(i,rN):`https://${i.authDomain}/${iN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dw,this._completeRedirectFn=ND,this._overrideRedirectResult=ID}async _openPopup(e,n,s,o){Ha(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await KE(e,n,s,Og(),o);return tN(e,u,Oy())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await KE(e,n,s,Og(),o);return cD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ha(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await QD(e),s=new MD(e);return n.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},o=>{const u=o?.[0]?.[dg];u!==void 0&&n(!!u),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nw()||W0()||Iy()}}const lN=oN;var QE="@firebase/auth",WE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hN(i){zu(new Pl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;He(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(i)},y=new Dx(s,o,u,g);return zx(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zu(new Pl("auth-internal",e=>{const n=ec(e.getProvider("auth").getImmediate());return(s=>new uN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fo(QE,WE,cN(i)),Fo(QE,WE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=300,dN=M0("authIdTokenMaxAge")||fN;let XE=null;const mN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dN)return;const o=n?.token;XE!==o&&(XE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pN(i=Ay()){const e=wy(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Ux(i,{popupRedirectResolver:lN,persistence:[vD,oD,dw]}),s=M0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=mN(u.toString());iD(n,h,()=>h(n.currentUser)),nD(n,p=>h(p))}}const o=N0("auth");return o&&Bx(n,`http://${o}`),n}function gN(){return document.getElementsByTagName("head")?.[0]??document}Nx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Js("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hN("Browser");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $o,bw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function O(){}O.prototype=N.prototype,k.F=N.prototype,k.prototype=new O,k.prototype.constructor=k,k.D=function(j,P,H){for(var M=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)M[ye-2]=arguments[ye];return N.prototype[P].apply(j,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,N,O){O||(O=0);const j=Array(16);if(typeof N=="string")for(var P=0;P<16;++P)j[P]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(P=0;P<16;++P)j[P]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=k.g[0],O=k.g[1],P=k.g[2];let H=k.g[3],M;M=N+(H^O&(P^H))+j[0]+3614090360&4294967295,N=O+(M<<7&4294967295|M>>>25),M=H+(P^N&(O^P))+j[1]+3905402710&4294967295,H=N+(M<<12&4294967295|M>>>20),M=P+(O^H&(N^O))+j[2]+606105819&4294967295,P=H+(M<<17&4294967295|M>>>15),M=O+(N^P&(H^N))+j[3]+3250441966&4294967295,O=P+(M<<22&4294967295|M>>>10),M=N+(H^O&(P^H))+j[4]+4118548399&4294967295,N=O+(M<<7&4294967295|M>>>25),M=H+(P^N&(O^P))+j[5]+1200080426&4294967295,H=N+(M<<12&4294967295|M>>>20),M=P+(O^H&(N^O))+j[6]+2821735955&4294967295,P=H+(M<<17&4294967295|M>>>15),M=O+(N^P&(H^N))+j[7]+4249261313&4294967295,O=P+(M<<22&4294967295|M>>>10),M=N+(H^O&(P^H))+j[8]+1770035416&4294967295,N=O+(M<<7&4294967295|M>>>25),M=H+(P^N&(O^P))+j[9]+2336552879&4294967295,H=N+(M<<12&4294967295|M>>>20),M=P+(O^H&(N^O))+j[10]+4294925233&4294967295,P=H+(M<<17&4294967295|M>>>15),M=O+(N^P&(H^N))+j[11]+2304563134&4294967295,O=P+(M<<22&4294967295|M>>>10),M=N+(H^O&(P^H))+j[12]+1804603682&4294967295,N=O+(M<<7&4294967295|M>>>25),M=H+(P^N&(O^P))+j[13]+4254626195&4294967295,H=N+(M<<12&4294967295|M>>>20),M=P+(O^H&(N^O))+j[14]+2792965006&4294967295,P=H+(M<<17&4294967295|M>>>15),M=O+(N^P&(H^N))+j[15]+1236535329&4294967295,O=P+(M<<22&4294967295|M>>>10),M=N+(P^H&(O^P))+j[1]+4129170786&4294967295,N=O+(M<<5&4294967295|M>>>27),M=H+(O^P&(N^O))+j[6]+3225465664&4294967295,H=N+(M<<9&4294967295|M>>>23),M=P+(N^O&(H^N))+j[11]+643717713&4294967295,P=H+(M<<14&4294967295|M>>>18),M=O+(H^N&(P^H))+j[0]+3921069994&4294967295,O=P+(M<<20&4294967295|M>>>12),M=N+(P^H&(O^P))+j[5]+3593408605&4294967295,N=O+(M<<5&4294967295|M>>>27),M=H+(O^P&(N^O))+j[10]+38016083&4294967295,H=N+(M<<9&4294967295|M>>>23),M=P+(N^O&(H^N))+j[15]+3634488961&4294967295,P=H+(M<<14&4294967295|M>>>18),M=O+(H^N&(P^H))+j[4]+3889429448&4294967295,O=P+(M<<20&4294967295|M>>>12),M=N+(P^H&(O^P))+j[9]+568446438&4294967295,N=O+(M<<5&4294967295|M>>>27),M=H+(O^P&(N^O))+j[14]+3275163606&4294967295,H=N+(M<<9&4294967295|M>>>23),M=P+(N^O&(H^N))+j[3]+4107603335&4294967295,P=H+(M<<14&4294967295|M>>>18),M=O+(H^N&(P^H))+j[8]+1163531501&4294967295,O=P+(M<<20&4294967295|M>>>12),M=N+(P^H&(O^P))+j[13]+2850285829&4294967295,N=O+(M<<5&4294967295|M>>>27),M=H+(O^P&(N^O))+j[2]+4243563512&4294967295,H=N+(M<<9&4294967295|M>>>23),M=P+(N^O&(H^N))+j[7]+1735328473&4294967295,P=H+(M<<14&4294967295|M>>>18),M=O+(H^N&(P^H))+j[12]+2368359562&4294967295,O=P+(M<<20&4294967295|M>>>12),M=N+(O^P^H)+j[5]+4294588738&4294967295,N=O+(M<<4&4294967295|M>>>28),M=H+(N^O^P)+j[8]+2272392833&4294967295,H=N+(M<<11&4294967295|M>>>21),M=P+(H^N^O)+j[11]+1839030562&4294967295,P=H+(M<<16&4294967295|M>>>16),M=O+(P^H^N)+j[14]+4259657740&4294967295,O=P+(M<<23&4294967295|M>>>9),M=N+(O^P^H)+j[1]+2763975236&4294967295,N=O+(M<<4&4294967295|M>>>28),M=H+(N^O^P)+j[4]+1272893353&4294967295,H=N+(M<<11&4294967295|M>>>21),M=P+(H^N^O)+j[7]+4139469664&4294967295,P=H+(M<<16&4294967295|M>>>16),M=O+(P^H^N)+j[10]+3200236656&4294967295,O=P+(M<<23&4294967295|M>>>9),M=N+(O^P^H)+j[13]+681279174&4294967295,N=O+(M<<4&4294967295|M>>>28),M=H+(N^O^P)+j[0]+3936430074&4294967295,H=N+(M<<11&4294967295|M>>>21),M=P+(H^N^O)+j[3]+3572445317&4294967295,P=H+(M<<16&4294967295|M>>>16),M=O+(P^H^N)+j[6]+76029189&4294967295,O=P+(M<<23&4294967295|M>>>9),M=N+(O^P^H)+j[9]+3654602809&4294967295,N=O+(M<<4&4294967295|M>>>28),M=H+(N^O^P)+j[12]+3873151461&4294967295,H=N+(M<<11&4294967295|M>>>21),M=P+(H^N^O)+j[15]+530742520&4294967295,P=H+(M<<16&4294967295|M>>>16),M=O+(P^H^N)+j[2]+3299628645&4294967295,O=P+(M<<23&4294967295|M>>>9),M=N+(P^(O|~H))+j[0]+4096336452&4294967295,N=O+(M<<6&4294967295|M>>>26),M=H+(O^(N|~P))+j[7]+1126891415&4294967295,H=N+(M<<10&4294967295|M>>>22),M=P+(N^(H|~O))+j[14]+2878612391&4294967295,P=H+(M<<15&4294967295|M>>>17),M=O+(H^(P|~N))+j[5]+4237533241&4294967295,O=P+(M<<21&4294967295|M>>>11),M=N+(P^(O|~H))+j[12]+1700485571&4294967295,N=O+(M<<6&4294967295|M>>>26),M=H+(O^(N|~P))+j[3]+2399980690&4294967295,H=N+(M<<10&4294967295|M>>>22),M=P+(N^(H|~O))+j[10]+4293915773&4294967295,P=H+(M<<15&4294967295|M>>>17),M=O+(H^(P|~N))+j[1]+2240044497&4294967295,O=P+(M<<21&4294967295|M>>>11),M=N+(P^(O|~H))+j[8]+1873313359&4294967295,N=O+(M<<6&4294967295|M>>>26),M=H+(O^(N|~P))+j[15]+4264355552&4294967295,H=N+(M<<10&4294967295|M>>>22),M=P+(N^(H|~O))+j[6]+2734768916&4294967295,P=H+(M<<15&4294967295|M>>>17),M=O+(H^(P|~N))+j[13]+1309151649&4294967295,O=P+(M<<21&4294967295|M>>>11),M=N+(P^(O|~H))+j[4]+4149444226&4294967295,N=O+(M<<6&4294967295|M>>>26),M=H+(O^(N|~P))+j[11]+3174756917&4294967295,H=N+(M<<10&4294967295|M>>>22),M=P+(N^(H|~O))+j[2]+718787259&4294967295,P=H+(M<<15&4294967295|M>>>17),M=O+(H^(P|~N))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+H&4294967295}s.prototype.v=function(k,N){N===void 0&&(N=k.length);const O=N-this.blockSize,j=this.C;let P=this.h,H=0;for(;H<N;){if(P==0)for(;H<=O;)o(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<N;)if(j[P++]=k.charCodeAt(H++),P==this.blockSize){o(this,j),P=0;break}}else for(;H<N;)if(j[P++]=k[H++],P==this.blockSize){o(this,j),P=0;break}}this.h=P,this.o+=N},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var O=k.length-8;O<k.length;++O)k[O]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,O=0;O<4;++O)for(let j=0;j<32;j+=8)k[N++]=this.g[O]>>>j&255;return k};function u(k,N){var O=p;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=N(k)}function h(k,N){this.h=N;const O=[];let j=!0;for(let P=k.length-1;P>=0;P--){const H=k[P]|0;j&&H==N||(O[P]=H,j=!1)}this.g=O}var p={};function g(k){return-128<=k&&k<128?u(k,function(N){return new h([N|0],N<0?-1:0)}):new h([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return S;if(k<0)return G(y(-k));const N=[];let O=1;for(let j=0;k>=O;j++)N[j]=k/O|0,O*=4294967296;return new h(N,0)}function w(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return G(w(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=y(Math.pow(N,8));let j=S;for(let H=0;H<k.length;H+=8){var P=Math.min(8,k.length-H);const M=parseInt(k.substring(H,H+P),N);P<8?(P=y(Math.pow(N,P)),j=j.j(P).add(y(M))):(j=j.j(O),j=j.add(y(M)))}return j}var S=g(0),I=g(1),L=g(16777216);i=h.prototype,i.m=function(){if(Z(this))return-G(this).m();let k=0,N=1;for(let O=0;O<this.g.length;O++){const j=this.i(O);k+=(j>=0?j:4294967296+j)*N,N*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(K(this))return"0";if(Z(this))return"-"+G(this).toString(k);const N=y(Math.pow(k,6));var O=this;let j="";for(;;){const P=Ce(O,N).g;O=$(O,P.j(N));let H=((O.g.length>0?O.g[0]:O.h)>>>0).toString(k);if(O=P,K(O))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function K(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function Z(k){return k.h==-1}i.l=function(k){return k=$(this,k),Z(k)?-1:K(k)?0:1};function G(k){const N=k.g.length,O=[];for(let j=0;j<N;j++)O[j]=~k.g[j];return new h(O,~k.h).add(I)}i.abs=function(){return Z(this)?G(this):this},i.add=function(k){const N=Math.max(this.g.length,k.g.length),O=[];let j=0;for(let P=0;P<=N;P++){let H=j+(this.i(P)&65535)+(k.i(P)&65535),M=(H>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);j=M>>>16,H&=65535,M&=65535,O[P]=M<<16|H}return new h(O,O[O.length-1]&-2147483648?-1:0)};function $(k,N){return k.add(G(N))}i.j=function(k){if(K(this)||K(k))return S;if(Z(this))return Z(k)?G(this).j(G(k)):G(G(this).j(k));if(Z(k))return G(this.j(G(k)));if(this.l(L)<0&&k.l(L)<0)return y(this.m()*k.m());const N=this.g.length+k.g.length,O=[];for(var j=0;j<2*N;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<k.g.length;P++){const H=this.i(j)>>>16,M=this.i(j)&65535,ye=k.i(P)>>>16,Ze=k.i(P)&65535;O[2*j+2*P]+=M*Ze,te(O,2*j+2*P),O[2*j+2*P+1]+=H*Ze,te(O,2*j+2*P+1),O[2*j+2*P+1]+=M*ye,te(O,2*j+2*P+1),O[2*j+2*P+2]+=H*ye,te(O,2*j+2*P+2)}for(k=0;k<N;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=N;k<2*N;k++)O[k]=0;return new h(O,0)};function te(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function ce(k,N){this.g=k,this.h=N}function Ce(k,N){if(K(N))throw Error("division by zero");if(K(k))return new ce(S,S);if(Z(k))return N=Ce(G(k),N),new ce(G(N.g),G(N.h));if(Z(N))return N=Ce(k,G(N)),new ce(G(N.g),N.h);if(k.g.length>30){if(Z(k)||Z(N))throw Error("slowDivide_ only works with positive integers.");for(var O=I,j=N;j.l(k)<=0;)O=ze(O),j=ze(j);var P=Ne(O,1),H=Ne(j,1);for(j=Ne(j,2),O=Ne(O,2);!K(j);){var M=H.add(j);M.l(k)<=0&&(P=P.add(O),H=M),j=Ne(j,1),O=Ne(O,1)}return N=$(k,P.j(N)),new ce(P,N)}for(P=S;k.l(N)>=0;){for(O=Math.max(1,Math.floor(k.m()/N.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=y(O),M=H.j(N);Z(M)||M.l(k)>0;)O-=j,H=y(O),M=H.j(N);K(H)&&(H=I),P=P.add(H),k=$(k,M)}return new ce(P,k)}i.B=function(k){return Ce(this,k).h},i.and=function(k){const N=Math.max(this.g.length,k.g.length),O=[];for(let j=0;j<N;j++)O[j]=this.i(j)&k.i(j);return new h(O,this.h&k.h)},i.or=function(k){const N=Math.max(this.g.length,k.g.length),O=[];for(let j=0;j<N;j++)O[j]=this.i(j)|k.i(j);return new h(O,this.h|k.h)},i.xor=function(k){const N=Math.max(this.g.length,k.g.length),O=[];for(let j=0;j<N;j++)O[j]=this.i(j)^k.i(j);return new h(O,this.h^k.h)};function ze(k){const N=k.g.length+1,O=[];for(let j=0;j<N;j++)O[j]=k.i(j)<<1|k.i(j-1)>>>31;return new h(O,k.h)}function Ne(k,N){const O=N>>5;N%=32;const j=k.g.length-O,P=[];for(let H=0;H<j;H++)P[H]=N>0?k.i(H+O)>>>N|k.i(H+O+1)<<32-N:k.i(H+O);return new h(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,bw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,$o=h}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ew,yh,Tw,xd,Vg,ww,Aw,Sw;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var _=0;_<c.length;++_){var T=c[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var T=s;c=c.split(".");for(var D=0;D<c.length-1;D++){var Y=c[D];if(!(Y in T))break e;T=T[Y]}c=c[c.length-1],D=T[c],_=_(D),_!=D&&_!=null&&e(T,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var T=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&T.push([D,_[D]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function g(c,_,T){return c.call.apply(c.bind,arguments)}function y(c,_,T){return y=g,y.apply(null,arguments)}function w(c,_){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function S(c,_){function T(){}T.prototype=_.prototype,c.Z=_.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(D,Y,ee){for(var pe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)pe[Ke-2]=arguments[Ke];return _.prototype[Y].apply(D,pe)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const _=c.length;if(_>0){const T=Array(_);for(let D=0;D<_;D++)T[D]=c[D];return T}return[]}function K(c,_){for(let D=1;D<arguments.length;D++){const Y=arguments[D];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=c.length||0;const ee=Y.length||0;c.length=T+ee;for(let pe=0;pe<ee;pe++)c[T+pe]=Y[pe]}else c.push(Y)}}class Z{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function G(c){h.setTimeout(()=>{throw c},0)}function $(){var c=k;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class te{constructor(){this.h=this.g=null}add(_,T){const D=ce.get();D.set(_,T),this.h?this.h.next=D:this.g=D,this.h=D}}var ce=new Z(()=>new Ce,c=>c.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Ne=!1,k=new te,N=()=>{const c=Promise.resolve(void 0);ze=()=>{c.then(O)}};function O(){for(var c;c=$();){try{c.h.call(c.g)}catch(T){G(T)}var _=ce;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}Ne=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return c})();function M(c){return/^[\s\xa0]*$/.test(c)}function ye(c,_){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}S(ye,P),ye.prototype.init=function(c,_){const T=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(T=="mouseover"?_=c.fromElement:T=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),J=0;function fe(c,_,T,D,Y){this.listener=c,this.proxy=null,this.src=_,this.type=T,this.capture=!!D,this.ha=Y,this.key=++J,this.da=this.fa=!1}function Ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,_,T){for(const D in c)_.call(T,c[D],D,c)}function Me(c,_){for(const T in c)_.call(void 0,c[T],T,c)}function x(c){const _={};for(const T in c)_[T]=c[T];return _}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(c,_){let T,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(T in D)c[T]=D[T];for(let ee=0;ee<se.length;ee++)T=se[ee],Object.prototype.hasOwnProperty.call(D,T)&&(c[T]=D[T])}}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,_,T,D,Y){const ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);const pe=ke(c,_,D,Y);return pe>-1?(_=c[pe],T||(_.fa=!1)):(_=new fe(_,this.src,ee,!!D,Y),_.fa=T,c.push(_)),_};function Ie(c,_){const T=_.type;if(T in c.g){var D=c.g[T],Y=Array.prototype.indexOf.call(D,_,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(D,Y,1),ee&&(Ae(_),c.g[T].length==0&&(delete c.g[T],c.h--))}}function ke(c,_,T,D){for(let Y=0;Y<c.length;++Y){const ee=c[Y];if(!ee.da&&ee.listener==_&&ee.capture==!!T&&ee.ha==D)return Y}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),kt={};function me(c,_,T,D,Y){if(Array.isArray(_)){for(let ee=0;ee<_.length;ee++)me(c,_[ee],T,D,Y);return null}return T=Is(T),c&&c[Ze]?c.J(_,T,p(D)?!!D.capture:!1,Y):wi(c,_,T,!1,D,Y)}function wi(c,_,T,D,Y,ee){if(!_)throw Error("Invalid event type");const pe=p(Y)?!!Y.capture:!!Y;let Ke=Yt(c);if(Ke||(c[Ve]=Ke=new ve(c)),T=Ke.add(_,T,D,pe,ee),T.proxy)return T;if(D=mr(),T.proxy=D,D.src=c,D.listener=T,c.addEventListener)H||(Y=pe),Y===void 0&&(Y=!1),c.addEventListener(_.toString(),D,Y);else if(c.attachEvent)c.attachEvent(ot(_.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mr(){function c(T){return _.call(c.src,c.listener,T)}const _=Gi;return c}function pr(c,_,T,D,Y){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)pr(c,_[ee],T,D,Y);else D=p(D)?!!D.capture:!!D,T=Is(T),c&&c[Ze]?(c=c.i,ee=String(_).toString(),ee in c.g&&(_=c.g[ee],T=ke(_,T,D,Y),T>-1&&(Ae(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete c.g[ee],c.h--)))):c&&(c=Yt(c))&&(_=c.g[_.toString()],c=-1,_&&(c=ke(_,T,D,Y)),(T=c>-1?_[c]:null)&&Lr(T))}function Lr(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Ze])Ie(_.i,c);else{var T=c.type,D=c.proxy;_.removeEventListener?_.removeEventListener(T,D,c.capture):_.detachEvent?_.detachEvent(ot(T),D):_.addListener&&_.removeListener&&_.removeListener(D),(T=Yt(_))?(Ie(T,c),T.h==0&&(T.src=null,_[Ve]=null)):Ae(c)}}}function ot(c){return c in kt?kt[c]:kt[c]="on"+c}function Gi(c,_){if(c.da)c=!0;else{_=new ye(_,this);const T=c.listener,D=c.ha||c.src;c.fa&&Lr(c),c=T.call(D,_)}return c}function Yt(c){return c=c[Ve],c instanceof ve?c:null}var ui="__closure_events_fn_"+(Math.random()*1e9>>>0);function Is(c){return typeof c=="function"?c:(c[ui]||(c[ui]=function(_){return c.handleEvent(_)}),c[ui])}function Zt(){j.call(this),this.i=new ve(this),this.M=this,this.G=null}S(Zt,j),Zt.prototype[Ze]=!0,Zt.prototype.removeEventListener=function(c,_,T,D){pr(this,c,_,T,D)};function hn(c,_){var T,D=c.G;if(D)for(T=[];D;D=D.G)T.push(D);if(c=c.M,D=_.type||_,typeof _=="string")_=new P(_,c);else if(_ instanceof P)_.target=_.target||c;else{var Y=_;_=new P(D,c),ge(_,Y)}Y=!0;let ee,pe;if(T)for(pe=T.length-1;pe>=0;pe--)ee=_.g=T[pe],Y=Pr(ee,D,!0,_)&&Y;if(ee=_.g=c,Y=Pr(ee,D,!0,_)&&Y,Y=Pr(ee,D,!1,_)&&Y,T)for(pe=0;pe<T.length;pe++)ee=_.g=T[pe],Y=Pr(ee,D,!1,_)&&Y}Zt.prototype.N=function(){if(Zt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const T=c.g[_];for(let D=0;D<T.length;D++)Ae(T[D]);delete c.g[_],c.h--}}this.G=null},Zt.prototype.J=function(c,_,T,D){return this.i.add(String(c),_,!1,T,D)},Zt.prototype.K=function(c,_,T,D){return this.i.add(String(c),_,!0,T,D)};function Pr(c,_,T,D){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let ee=0;ee<_.length;++ee){const pe=_[ee];if(pe&&!pe.da&&pe.capture==T){const Ke=pe.listener,dn=pe.ha||pe.src;pe.fa&&Ie(c.i,pe),Y=Ke.call(dn,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function sl(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function sa(c){c.g=sl(()=>{c.g=null,c.i&&(c.i=!1,sa(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Hn extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(c){j.call(this),this.h=c,this.g={}}S($i,j);var Ai=[];function xs(c){je(c.g,function(_,T){this.g.hasOwnProperty(T)&&Lr(_)},c),c.g={}}$i.prototype.N=function(){$i.Z.N.call(this),xs(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=h.JSON.stringify,aa=h.JSON.parse,gr=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Yi(){}function yr(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){P.call(this,"d")}S(gn,P);function Xn(){P.call(this,"c")}S(Xn,P);var Kt={},oa=null;function Ur(){return oa=oa||new Zt}Kt.Ia="serverreachability";function Wa(c){P.call(this,Kt.Ia,c)}S(Wa,P);function Vi(c){const _=Ur();hn(_,new Wa(_))}Kt.STAT_EVENT="statevent";function ns(c,_){P.call(this,Kt.STAT_EVENT,c),this.stat=_}S(ns,P);function Qt(c){const _=Ur();hn(_,new ns(_,c))}Kt.Ja="timingevent";function xt(c,_){P.call(this,Kt.Ja,c),this.size=_}S(xt,P);function jt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Vt(c,_,T,D,Y,ee){c.info(function(){if(c.g)if(ee){var pe="",Ke=ee.split("&");for(let rt=0;rt<Ke.length;rt++){var dn=Ke[rt].split("=");if(dn.length>1){const Tt=dn[0];dn=dn[1];const tr=Tt.split("_");pe=tr.length>=2&&tr[1]=="type"?pe+(Tt+"="+dn+"&"):pe+(Tt+"=redacted&")}}}else pe=null;else pe=ee;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+_+`
`+T+`
`+pe})}function ci(c,_,T,D,Y,ee,pe){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+_+`
`+T+`
`+ee+" "+pe})}function Ki(c,_,T,D){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+vr(c,T)+(D?" "+D:"")})}function _r(c,_){c.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function vr(c,_){if(!c.g)return _;if(!_)return null;try{const ee=JSON.parse(_);if(ee){for(c=0;c<ee.length;c++)if(Array.isArray(ee[c])){var T=ee[c];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var Y=D[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<D.length;pe++)D[pe]=""}}}}return jr(ee)}catch{return _}}var Si={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},is={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zr;function br(){}S(br,Yi),br.prototype.g=function(){return new XMLHttpRequest},zr=new br;function Li(c){return encodeURIComponent(String(c))}function Ds(c){var _=1;c=c.split(":");const T=[];for(;_>0&&c.length;)T.push(c.shift()),_--;return c.length&&T.push(c.join(":")),T}function hi(c,_,T,D){this.j=c,this.i=_,this.l=T,this.S=D||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yn}function yn(){this.i=null,this.g="",this.h=!1}var Ut={},_n={};function Ci(c,_,T){c.M=1,c.A=Ns(fn(_)),c.u=T,c.R=!0,Ye(c,null)}function Ye(c,_){c.F=Date.now(),lt(c),c.B=fn(c.A);var T=c.B,D=c.S;Array.isArray(D)||(D=[String(D)]),Os(T.i,"t",D),c.C=0,T=c.j.L,c.h=new yn,c.g=Wl(c.j,T?_:null,!c.u),c.P>0&&(c.O=new Hn(y(c.Y,c,c.g),c.P)),_=c.V,T=c.g,D=c.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ai[0]=Y.toString()),Y=Ai);for(let ee=0;ee<Y.length;ee++){const pe=me(T,Y[ee],D||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Vi(),Vt(c.i,c.v,c.B,c.l,c.S,c.u)}hi.prototype.ba=function(c){c=c.target;const _=this.O;_&&Zi(c)==3?_.j():this.Y(c)},hi.prototype.Y=function(c){try{if(c==this.g)e:{const Ke=Zi(this.g),dn=this.g.ya(),rt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||Ke!=4||dn==7||(dn==8||rt<=0?Vi(3):Vi(2)),Bt(this);var _=this.g.ca();this.X=_;var T=zt(this);if(this.o=_==200,ci(this.i,this.v,this.B,this.l,this.S,Ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Y=this.g;if((D=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var ee=D;break t}}ee=null}if(c=ee)Ki(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Jn(this,c);else{this.o=!1,this.m=3,Qt(12),Nn(this),Fn(this);break e}}if(this.R){c=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=bt(this,T),Tt==_n){Ke==4&&(this.m=4,Qt(14),c=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Ut){this.m=4,Qt(15),Ki(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else Ki(this.i,this.l,Tt,null),Jn(this,Tt);if(vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||T.length!=0||this.h.h||(this.m=1,Qt(16),c=!1),this.o=this.o&&c,!c)Ki(this.i,this.l,T,"[Invalid Chunked Response]"),Nn(this),Fn(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ro(pe),pe.P=!0,Qt(11))}}else Ki(this.i,this.l,T,null),Jn(this,T);Ke==4&&Nn(this),this.o&&!this.K&&(Ke==4?Kl(this.j,this):(this.o=!1,lt(this)))}else Ar(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Nn(this),Fn(this)}}}catch{}finally{}};function zt(c){if(!vt(c))return c.g.la();const _=xn(c.g);if(_==="")return"";let T="";const D=_.length,Y=Zi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nn(c),Fn(c),"";c.h.i=new h.TextDecoder}for(let ee=0;ee<D;ee++)c.h.h=!0,T+=c.h.i.decode(_[ee],{stream:!(Y&&ee==D-1)});return _.length=0,c.h.g+=T,c.C=0,c.h.g}function vt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bt(c,_){var T=c.C,D=_.indexOf(`
`,T);return D==-1?_n:(T=Number(_.substring(T,D)),isNaN(T)?Ut:(D+=1,D+T>_.length?_n:(_=_.slice(D,D+T),c.C=D+T,_)))}hi.prototype.cancel=function(){this.K=!0,Nn(this)};function lt(c){c.T=Date.now()+c.H,tn(c,c.H)}function tn(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=jt(y(c.aa,c),_)}function Bt(c){c.D&&(h.clearTimeout(c.D),c.D=null)}hi.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(_r(this.i,this.B),this.M!=2&&(Vi(),Qt(17)),Nn(this),this.m=2,Fn(this)):tn(this,this.T-c)};function Fn(c){c.j.I==0||c.K||Kl(c.j,c)}function Nn(c){Bt(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,xs(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Jn(c,_){try{var T=c.j;if(T.I!=0&&(T.g==c||Er(T.h,c))){if(!c.L&&Er(T.h,c)&&T.I==3){try{var D=T.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)ga(T),Fr(T);else break e;Ls(T),Qt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=jt(y(T.Va,T),6e3));fi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Rr(T,11)}else if((c.L||T.g==c)&&ga(T),!M(_))for(Y=T.Ba.g.parse(_),_=0;_<Y.length;_++){let rt=Y[_];const Tt=rt[0];if(!(Tt<=T.K))if(T.K=Tt,rt=rt[1],T.I==2)if(rt[0]=="c"){T.M=rt[1],T.ba=rt[2];const tr=rt[3];tr!=null&&(T.ka=tr,T.j.info("VER="+T.ka));const ji=rt[4];ji!=null&&(T.za=ji,T.j.info("SVER="+T.za));const xr=rt[5];xr!=null&&typeof xr=="number"&&xr>0&&(D=1.5*xr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Dr=c.g;if(Dr){const _a=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var ee=D.h;ee.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ua(ee,ee.h),ee.h=null))}if(D.G){const ao=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(D.wa=ao,Et(D.J,D.G,ao))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var pe=c;if(D.na=ya(D,D.L?D.ba:null,D.W),pe.L){ca(D.h,pe);var Ke=pe,dn=D.O;dn&&(Ke.H=dn),Ke.D&&(Bt(Ke),lt(Ke)),D.g=pe}else hl(D);T.i.length>0&&Sr(T)}else rt[0]!="stop"&&rt[0]!="close"||Rr(T,7);else T.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Rr(T,7):us(T):rt[0]!="noop"&&T.l&&T.l.qa(rt),T.A=0)}}Vi(4)}catch{}}var Gt=class{constructor(c,_){this.g=c,this.map=_}};function Xa(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function la(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function Er(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function ua(c,_){c.g?c.g.add(_):c.h=_}function ca(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Xa.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ja(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const T of c.g.values())_=_.concat(T.G);return _}return L(c.i)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,_){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const D=c[T].indexOf("=");let Y,ee=null;D>=0?(Y=c[T].substring(0,D),ee=c[T].substring(D+1)):Y=c[T],_(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Ri(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Ri?(this.l=c.l,Sn(this,c.j),this.o=c.o,this.g=c.g,rs(this,c.u),this.h=c.h,Za(this,ol(c.i)),this.m=c.m):c&&(_=String(c).match(al))?(this.l=!1,Sn(this,_[1]||"",!0),this.o=Cn(_[2]||""),this.g=Cn(_[3]||"",!0),rs(this,_[4]),this.h=Cn(_[5]||"",!0),Za(this,_[6]||"",!0),this.m=Cn(_[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}Ri.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Rn(_,Gn,!0),":");var T=this.g;return(T||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Rn(_,Gn,!0),"@"),c.push(Li(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(Rn(T,T.charAt(0)=="/"?fa:eo,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",Rn(T,Br)),c.join("")},Ri.prototype.resolve=function(c){const _=fn(this);let T=!!c.j;T?Sn(_,c.j):T=!!c.o,T?_.o=c.o:T=!!c.g,T?_.g=c.g:T=c.u!=null;var D=c.h;if(T)rs(_,c.u);else if(T=!!c.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(D=_.h.slice(0,Y+1)+D)}if(Y=D,Y==".."||Y==".")D="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){D=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let pe=0;pe<Y.length;){const Ke=Y[pe++];Ke=="."?D&&pe==Y.length&&ee.push(""):Ke==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),D&&pe==Y.length&&ee.push("")):(ee.push(Ke),D=!0)}D=ee.join("/")}else D=Y}return T?_.h=D:T=c.i.toString()!=="",T?Za(_,ol(c.i)):T=!!c.m,T&&(_.m=c.m),_};function fn(c){return new Ri(c)}function Sn(c,_,T){c.j=T?Cn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function rs(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Za(c,_,T){_ instanceof Tr?(c.i=_,io(c.i,c.l)):(T||(_=Rn(_,$n)),c.i=new Tr(_,c.l))}function Et(c,_,T){c.i.set(_,T)}function Ns(c){return Et(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Cn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rn(c,_,T){return typeof c=="string"?(c=encodeURI(c).replace(_,vn),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gn=/[#\/\?@]/g,eo=/[#\?:]/g,fa=/[#\?]/g,$n=/[#\?@]/g,Br=/#/g;function Tr(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(_,T){c.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=Tr.prototype,i.add=function(c,_){In(this),this.i=null,c=Zn(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(_),this.h+=1,this};function to(c,_){In(c),_=Zn(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function no(c,_){return In(c),_=Zn(c,_),c.g.has(_)}i.forEach=function(c,_){In(this),this.g.forEach(function(T,D){T.forEach(function(Y){c.call(_,Y,D,this)},this)},this)};function Hr(c,_){In(c);let T=[];if(typeof _=="string")no(c,_)&&(T=T.concat(c.g.get(Zn(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)T=T.concat(c[_]);return T}i.set=function(c,_){return In(this),this.i=null,c=Zn(this,c),no(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=Hr(this,c),c.length>0?String(c[0]):_):_};function Os(c,_,T){to(c,_),T.length>0&&(c.i=null,c.g.set(Zn(c,_),L(T)),c.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var T=_[D];const Y=Li(T);T=Hr(this,T);for(let ee=0;ee<T.length;ee++){let pe=Y;T[ee]!==""&&(pe+="="+Li(T[ee])),c.push(pe)}}return this.i=c.join("&")};function ol(c){const _=new Tr;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function Zn(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function io(c,_){_&&!c.j&&(In(c),c.i=null,c.g.forEach(function(T,D){const Y=D.toLowerCase();D!=Y&&(to(this,D),Os(this,Y,T))},c)),c.j=_}function On(c,_){const T=new qn;if(h.Image){const D=new Image;D.onload=w(Pi,T,"TestLoadImage: loaded",!0,_,D),D.onerror=w(Pi,T,"TestLoadImage: error",!1,_,D),D.onabort=w(Pi,T,"TestLoadImage: abort",!1,_,D),D.ontimeout=w(Pi,T,"TestLoadImage: timeout",!1,_,D),h.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else _(!1)}function Ms(c,_){const T=new qn,D=new AbortController,Y=setTimeout(()=>{D.abort(),Pi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:D.signal}).then(ee=>{clearTimeout(Y),ee.ok?Pi(T,"TestPingServer: ok",!0,_):Pi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Pi(T,"TestPingServer: error",!1,_)})}function Pi(c,_,T,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(T)}catch{}}function Qi(){this.g=new gr}function Wi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Wi,Yi),Wi.prototype.g=function(){return new wr(this.i,this.h)};function wr(c,_){Zt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(wr,Zt),i=wr.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Xi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ss(this):Xi(this),this.readyState==3&&da(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,ss(this))},i.Na=function(c){this.g&&(this.response=c,ss(this))},i.ga=function(){this.g&&ss(this)};function ss(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xi(c)}i.setRequestHeader=function(c,_){this.A.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=_.next();return c.join(`\r
`)};function Xi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yn(c){let _="";return je(c,function(T,D){_+=D,_+=":",_+=T,_+=`\r
`}),_}function ma(c,_,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Yn(T),typeof c=="string"?T!=null&&Li(T):Et(c,_,T))}function Rt(c){Zt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Rt,Zt);var Ji=/^https?$/i,ks=["POST","PUT"];i=Rt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,_,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zr.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(ee){as(this,ee);return}if(c=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)T.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())T.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ks,_,void 0)>=0)||D||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,pe]of T)this.g.setRequestHeader(ee,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(ee){as(this,ee)}};function as(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,ll(c),os(c)}function ll(c){c.A||(c.A=!0,hn(c,"complete"),hn(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,hn(this,"complete"),hn(this,"abort"),os(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},i.Xa=function(){qr(this)};function qr(c){if(c.h&&typeof u<"u"){if(c.v&&Zi(c)==4)setTimeout(c.Ca.bind(c),0);else if(hn(c,"readystatechange"),Zi(c)==4){c.h=!1;try{const ee=c.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var D;if(D=ee===0){let pe=String(c.D).match(al)[1]||null;!pe&&h.self&&h.self.location&&(pe=h.self.location.protocol.slice(0,-1)),D=!Ji.test(pe?pe.toLowerCase():"")}T=D}if(T)hn(c,"complete"),hn(c,"success");else{c.o=6;try{var Y=Zi(c)>2?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.ca()+"]",ll(c)}}finally{os(c)}}}}function os(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,_||hn(c,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Zi(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),aa(_)}};function xn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ar(c){const _={};c=(c.g&&Zi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(M(c[D]))continue;var T=Ds(c[D]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=_[Y]||[];_[Y]=ee,ee.push(T)}Me(_,function(D){return D.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(c,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||_}function ls(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,c),this.Za=er("retryDelaySeedMs",1e4,c),this.Ta=er("forwardChannelMaxRetries",2,c),this.va=er("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Xa(c&&c.concurrentRequestLimit),this.Ba=new Qi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ls.prototype,i.ka=8,i.I=1,i.connect=function(c,_,T,D){Qt(0),this.W=c,this.H=_||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=ya(this,null,this.W),Sr(this)};function us(c){if(pa(c),c.I==3){var _=c.V++,T=fn(c.J);if(Et(T,"SID",c.M),Et(T,"RID",_),Et(T,"TYPE","terminate"),Vs(c,T),_=new hi(c,c.j,_),_.M=2,_.A=Ns(fn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.A,T=!0),T||(_.g=Wl(_.j,null),_.g.ea(_.A)),_.F=Date.now(),lt(_)}fl(c)}function Fr(c){c.g&&(ro(c),c.g.cancel(),c.g=null)}function pa(c){Fr(c),c.v&&(h.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Sr(c){if(!la(c.h)&&!c.m){c.m=!0;var _=c.Ea;ze||N(),Ne||(ze(),Ne=!0),k.add(_,c),c.D=0}}function Cr(c,_){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=jt(y(c.Ea,c,_),Ql(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const Y=new hi(this,this.j,c);let ee=this.o;if(this.U&&(ee?(ee=x(ee),ge(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=cl(this,Y,_),T=fn(this.J),Et(T,"RID",c),Et(T,"CVER",22),this.G&&Et(T,"X-HTTP-Session-Id",this.G),Vs(this,T),ee&&(this.R?_="headers="+Li(Yn(ee))+"&"+_:this.u&&ma(T,this.u,ee)),ua(this.h,Y),this.Ra&&Et(T,"TYPE","init"),this.S?(Et(T,"$req",_),Et(T,"SID","null"),Y.U=!0,Ci(Y,T,null)):Ci(Y,T,_),this.I=2}}else this.I==3&&(c?ul(this,c):this.i.length==0||la(this.h)||ul(this))};function ul(c,_){var T;_?T=_.l:T=c.V++;const D=fn(c.J);Et(D,"SID",c.M),Et(D,"RID",T),Et(D,"AID",c.K),Vs(c,D),c.u&&c.o&&ma(D,c.u,c.o),T=new hi(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),_&&(c.i=_.G.concat(c.i)),_=cl(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ua(c.h,T),Ci(T,D,_)}function Vs(c,_){c.H&&je(c.H,function(T,D){Et(_,D,T)}),c.l&&je({},function(T,D){Et(_,D,T)})}function cl(c,_,T){T=Math.min(c.i.length,T);const D=c.l?y(c.l.Ka,c.l,c):null;e:{var Y=c.i;let Ke=-1;for(;;){const dn=["count="+T];Ke==-1?T>0?(Ke=Y[0].g,dn.push("ofs="+Ke)):Ke=0:dn.push("ofs="+Ke);let rt=!0;for(let Tt=0;Tt<T;Tt++){var ee=Y[Tt].g;const tr=Y[Tt].map;if(ee-=Ke,ee<0)Ke=Math.max(0,Y[Tt].g-100),rt=!1;else try{ee="req"+ee+"_"||"";try{var pe=tr instanceof Map?tr:Object.entries(tr);for(const[ji,xr]of pe){let Dr=xr;p(xr)&&(Dr=jr(xr)),dn.push(ee+ji+"="+encodeURIComponent(Dr))}}catch(ji){throw dn.push(ee+"type="+encodeURIComponent("_badmap")),ji}}catch{D&&D(tr)}}if(rt){pe=dn.join("&");break e}}pe=void 0}return c=c.i.splice(0,T),_.G=c,pe}function hl(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;ze||N(),Ne||(ze(),Ne=!0),k.add(_,c),c.A=0}}function Ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=jt(y(c.Da,c),Ql(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,so(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=jt(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),Fr(this),so(this))};function ro(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function so(c){c.g=new hi(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=fn(c.na);Et(_,"RID","rpc"),Et(_,"SID",c.M),Et(_,"AID",c.K),Et(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Et(_,"TO",c.ia),Et(_,"TYPE","xmlhttp"),Vs(c,_),c.u&&c.o&&ma(_,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=Ns(fn(_)),T.u=null,T.R=!0,Ye(T,c)}i.Va=function(){this.C!=null&&(this.C=null,Fr(this),Ls(this),Qt(19))};function ga(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Kl(c,_){var T=null;if(c.g==_){ga(c),ro(c),c.g=null;var D=2}else if(Er(c.h,_))T=_.G,ca(c.h,_),D=1;else return;if(c.I!=0){if(_.o)if(D==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Y=c.D;D=Ur(),hn(D,new xt(D,T)),Sr(c)}else hl(c);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(D==1&&Cr(c,_)||D==2&&Ls(c)))switch(T&&T.length>0&&(_=c.h,_.i=_.i.concat(T)),Y){case 1:Rr(c,5);break;case 4:Rr(c,10);break;case 3:Rr(c,6);break;default:Rr(c,2)}}}function Ql(c,_){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*_}function Rr(c,_){if(c.j.info("Error code "+_),_==2){var T=y(c.bb,c),D=c.Ua;const Y=!D;D=new Ri(D||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Sn(D,"https"),Ns(D),Y?On(D.toString(),T):Ms(D.toString(),T)}else Qt(2);c.I=0,c.l&&c.l.pa(_),fl(c),pa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function fl(c){if(c.I=0,c.ja=[],c.l){const _=Ja(c.h);(_.length!=0||c.i.length!=0)&&(K(c.ja,_),K(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function ya(c,_,T){var D=T instanceof Ri?fn(T):new Ri(T);if(D.g!="")_&&(D.g=_+"."+D.g),rs(D,D.u);else{var Y=h.location;D=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new Ri(null);D&&Sn(ee,D),_&&(ee.g=_),Y&&rs(ee,Y),T&&(ee.h=T),D=ee}return T=c.G,_=c.wa,T&&_&&Et(D,T,_),Et(D,"VER",c.ka),Vs(c,D),D}function Wl(c,_,T){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Rt(new Wi({ab:T})):new Rt(c.ma),_.Fa(c.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xl(){}i=Xl.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Gr(){}Gr.prototype.g=function(c,_){return new ei(c,_)};function ei(c,_){Zt.call(this),this.g=new ls(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!M(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ir(this)}S(ei,Zt),ei.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ei.prototype.close=function(){us(this.g)},ei.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=jr(c),c=T);_.i.push(new Gt(_.Ya++,c)),_.I==3&&Sr(_)},ei.prototype.N=function(){this.g.l=null,delete this.j,us(this.g),delete this.g,ei.Z.N.call(this)};function dl(c){gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const T in _){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}S(dl,gn);function $r(){Xn.call(this),this.status=1}S($r,Xn);function Ir(c){this.g=c}S(Ir,Xl),Ir.prototype.ra=function(){hn(this.g,"a")},Ir.prototype.qa=function(c){hn(this.g,new dl(c))},Ir.prototype.pa=function(c){hn(this.g,new $r)},Ir.prototype.oa=function(){hn(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,ei.prototype.send=ei.prototype.o,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,Sw=function(){return new Gr},Aw=function(){return Ur()},ww=Kt,Vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,xd=Si,is.COMPLETE="complete",Tw=is,yr.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Zt.prototype.listen=Zt.prototype.J,yh=yr,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,Ew=Rt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",eT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Ey("@firebase/firestore");function Ru(){return Ul.logLevel}function we(i,...e){if(Ul.logLevel<=ht.DEBUG){const n=e.map(ky);Ul.debug(`Firestore (${nc}): ${i}`,...n)}}function qa(i,...e){if(Ul.logLevel<=ht.ERROR){const n=e.map(ky);Ul.error(`Firestore (${nc}): ${i}`,...n)}}function Hu(i,...e){if(Ul.logLevel<=ht.WARN){const n=e.map(ky);Ul.warn(`Firestore (${nc}): ${i}`,...n)}}function ky(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Cw(i,s,n)}function Cw(i,e,n){let s=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qa(s),new Error(s)}function Mt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Cw(e,o,s)}function Je(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Oi.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ua,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ua)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mt(typeof s.accessToken=="string",31837,{l:s}),new Rw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Oi(e)}}class bN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Oi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const s=u=>{u.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,we("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=wN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ft(i,e){return i<e?-1:i>e?1:0}function Lg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return mg(o)===mg(u)?ft(o,u):mg(o)?1:-1}return ft(i.length,e.length)}const AN=55296,SN=57343;function mg(i){const e=i.charCodeAt(0);return e>=AN&&e<=SN}function qu(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class Xs{constructor(e,n,s){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&qe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Xs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ft(e.length,n.length)}static compareSegments(e,n){const s=Xs.isNumericId(e),o=Xs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Xs.extractNumericId(e).compare(Xs.extractNumericId(n)):Lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $o.fromString(e.substring(4,e.length-2))}}class Jt extends Xs{construct(e,n,s){return new Jt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const CN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends Xs{construct(e,n,s){return new bi(e,n,s)}static isValidIdentifier(e){return CN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new bi([nT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ee(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new Ee(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bi(n)}static emptyPath(){return new bi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Jt.fromString(e))}static fromName(e){return new De(Jt.fromString(e).popFirst(5))}static empty(){return new De(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i,e,n){if(!n)throw new Ee(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function RN(i,e,n,s){if(e===!0&&s===!0)throw new Ee(le.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function iT(i){if(!De.isDocumentKey(i))throw new Ee(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rT(i){if(De.isDocumentKey(i))throw new Ee(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function xw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function cm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":qe(12329,{type:typeof i})}function Fa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(i);throw new Ee(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(i,e){const n={typeString:i};return e&&(n.value=e),n}function Xh(i,e){if(!xw(i))throw new Ee(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ee(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=-62135596800,aT=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*aT);return new Ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sT)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aT}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xh(e,Ft._jsonSchema))return new Ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ft._jsonSchemaVersion="firestore/timestamp/1.0",Ft._jsonSchema={type:zn("string",Ft._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Ft(0,0))}static max(){return new We(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function IN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=We.fromTimestamp(s===1e9?new Ft(n+1,0):new Ft(n,s));return new Ko(o,De.empty(),e)}function xN(i){return new Ko(i.readTime,i.key,Mh)}class Ko{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ko(We.min(),De.empty(),Mh)}static max(){return new Ko(We.max(),De.empty(),Mh)}}function DN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(i.documentKey,e.documentKey),n!==0?n:ft(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==NN)throw i;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,s)=>{n(e)}))}static reject(e){return new ue(((n,s)=>{s(e)}))}static waitFor(e){return new ue(((n,s)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next((o=>o?ue.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ue(((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((w=>{h[y]=w,++p,p===u&&s(h)}),(w=>o(w)))}}))}static doWhile(e,n){return new ue(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function MN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function fm(i){return i==null}function Gd(i){return i===0&&1/i==-1/0}function kN(i){return typeof i=="number"&&Number.isInteger(i)&&!Gd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="";function VN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=oT(e)),e=LN(i.get(n),e);return oT(e)}function LN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Dw:n+="";break;default:n+=u}}return n}function oT(i){return i+Dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function tl(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Nw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.comparator=e,this.root=n||vi.EMPTY}insert(e,n){return new pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??vi.RED,this.left=o??vi.EMPTY,this.right=u??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new vi(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1;vi.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new vi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(e){return new uT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class uT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(bi.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new Wn(bi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qu(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ow("Invalid base64 string: "+u):u}})(e);return new Ti(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(i){if(Mt(!!i,39018),typeof i=="string"){let e=0;const n=PN.exec(i);if(Mt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dn(i.seconds),nanos:Dn(i.nanos)}}function Dn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wo(i){return typeof i=="string"?Ti.fromBase64String(i):Ti.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="server_timestamp",kw="__type__",Vw="__previous_value__",Lw="__local_write_time__";function Py(i){return(i?.mapValue?.fields||{})[kw]?.stringValue===Mw}function dm(i){const e=i.mapValue.fields[Vw];return Py(e)?dm(e):e}function kh(i){const e=Qo(i.mapValue.fields[Lw].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s,o,u,h,p,g,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const $d="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||$d}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===$d}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__type__",UN="__max__",_d={mapValue:{}},jw="__vector__",Yd="value";function Xo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Py(i)?4:BN(i)?9007199254740991:zN(i)?10:11:qe(28295,{value:i})}function ra(i,e){if(i===e)return!0;const n=Xo(i);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return kh(i).isEqual(kh(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Qo(o.timestampValue),p=Qo(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Wo(o.bytesValue).isEqual(Wo(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Dn(o.geoPointValue.latitude)===Dn(u.geoPointValue.latitude)&&Dn(o.geoPointValue.longitude)===Dn(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Dn(o.integerValue)===Dn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Dn(o.doubleValue),p=Dn(u.doubleValue);return h===p?Gd(h)===Gd(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return qu(i.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(lT(h)!==lT(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!ra(h[g],p[g])))return!1;return!0})(i,e);default:return qe(52216,{left:i})}}function Lh(i,e){return(i.values||[]).find((n=>ra(n,e)))!==void 0}function Fu(i,e){if(i===e)return 0;const n=Xo(i),s=Xo(e);if(n!==s)return ft(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Dn(u.integerValue||u.doubleValue),g=Dn(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return cT(i.timestampValue,e.timestampValue);case 4:return cT(kh(i),kh(e));case 5:return Lg(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=Wo(u),g=Wo(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=ft(p[y],g[y]);if(w!==0)return w}return ft(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ft(Dn(u.latitude),Dn(h.latitude));return p!==0?p:ft(Dn(u.longitude),Dn(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return hT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[Yd]?.arrayValue,w=g[Yd]?.arrayValue,S=ft(y?.values?.length||0,w?.values?.length||0);return S!==0?S:hT(y,w)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===_d.mapValue&&h===_d.mapValue)return 0;if(u===_d.mapValue)return 1;if(h===_d.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const I=Lg(g[S],w[S]);if(I!==0)return I;const L=Fu(p[g[S]],y[w[S]]);if(L!==0)return L}return ft(g.length,w.length)})(i.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function cT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ft(i,e);const n=Qo(i),s=Qo(e),o=ft(n.seconds,s.seconds);return o!==0?o:ft(n.nanos,s.nanos)}function hT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Fu(n[o],s[o]);if(u)return u}return ft(n.length,s.length)}function Gu(i){return Pg(i)}function Pg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Qo(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Wo(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return De.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pg(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Pg(n.fields[h])}`;return o+"}"})(i.mapValue):qe(61005,{value:i})}function Dd(i){switch(Xo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(i);return e?16+Dd(e):16;case 5:return 2*i.stringValue.length;case 6:return Wo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dd(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return tl(s.fields,((u,h)=>{o+=u.length+Dd(h)})),o})(i.mapValue);default:throw qe(13486,{value:i})}}function fT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function jg(i){return!!i&&"integerValue"in i}function jy(i){return!!i&&"arrayValue"in i}function dT(i){return!!i&&"nullValue"in i}function mT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nd(i){return!!i&&"mapValue"in i}function zN(i){return(i?.mapValue?.fields||{})[Pw]?.stringValue===jw}function Ah(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return tl(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ah(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ah(i.arrayValue.values[n]);return e}return{...i}}function BN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(n)}setAll(e){let n=bi.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=Ah(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Nd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){tl(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dr(Ah(this.value))}}function Uw(i){const e=[];return tl(i.fields,((n,s)=>{const o=new bi([n]);if(Nd(s)){const u=Uw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Mi(e,0,We.min(),We.min(),We.min(),dr.empty(),0)}static newFoundDocument(e,n,s,o){return new Mi(e,1,n,We.min(),s,o,0)}static newNoDocument(e,n){return new Mi(e,2,n,We.min(),We.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Mi(e,3,n,We.min(),We.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.position=e,this.inclusive=n}}function pT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=De.comparator(De.fromName(h.referenceValue),n.key):s=Fu(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function gT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ra(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function HN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{}class Un extends zw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new FN(e,n,s):n==="array-contains"?new YN(e,s):n==="in"?new KN(e,s):n==="not-in"?new QN(e,s):n==="array-contains-any"?new WN(e,s):new Un(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new GN(e,s):new $N(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fu(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(Fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends zw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ss(e,n)}matches(e){return Bw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bw(i){return i.op==="and"}function Hw(i){return qN(i)&&Bw(i)}function qN(i){for(const e of i.filters)if(e instanceof Ss)return!1;return!0}function Ug(i){if(i instanceof Un)return i.field.canonicalString()+i.op.toString()+Gu(i.value);if(Hw(i))return i.filters.map((e=>Ug(e))).join(",");{const e=i.filters.map((n=>Ug(n))).join(",");return`${i.op}(${e})`}}function qw(i,e){return i instanceof Un?(function(s,o){return o instanceof Un&&s.op===o.op&&s.field.isEqual(o.field)&&ra(s.value,o.value)})(i,e):i instanceof Ss?(function(s,o){return o instanceof Ss&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,p)=>u&&qw(h,o.filters[p])),!0):!1})(i,e):void qe(19439)}function Fw(i){return i instanceof Un?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gu(n.value)}`})(i):i instanceof Ss?(function(n){return n.op.toString()+" {"+n.getFilters().map(Fw).join(" ,")+"}"})(i):"Filter"}class FN extends Un{constructor(e,n,s){super(e,n,s),this.key=De.fromName(s.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class GN extends Un{constructor(e,n){super(e,"in",n),this.keys=Gw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $N extends Un{constructor(e,n){super(e,"not-in",n),this.keys=Gw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Gw(i,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class YN extends Un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jy(n)&&Lh(n.arrayValue,this.value)}}class KN extends Un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class QN extends Un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class WN extends Un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Lh(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function yT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new XN(i,e,n,s,o,u,h)}function Uy(i){const e=Je(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ug(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Gu(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Gu(s))).join(",")),e.Te=n}return e.Te}function zy(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!HN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!qw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!gT(i.startAt,e.startAt)&&gT(i.endAt,e.endAt)}function zg(i){return De.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JN(i,e,n,s,o,u,h,p){return new Jh(i,e,n,s,o,u,h,p)}function By(i){return new Jh(i)}function _T(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $w(i){return i.collectionGroup!==null}function Sh(i){const e=Je(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Wn(bi.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Qd(u,s))})),n.has(bi.keyField().canonicalString())||e.Ie.push(new Qd(bi.keyField(),s))}return e.Ie}function ea(i){const e=Je(i);return e.Ee||(e.Ee=ZN(e,Sh(i))),e.Ee}function ZN(i,e){if(i.limitType==="F")return yT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Qd(o.field,u)}));const n=i.endAt?new Kd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kd(i.startAt.position,i.startAt.inclusive):null;return yT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Bg(i,e){const n=i.filters.concat([e]);return new Jh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Hg(i,e,n){return new Jh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function mm(i,e){return zy(ea(i),ea(e))&&i.limitType===e.limitType}function Yw(i){return`${Uy(ea(i))}|lt:${i.limitType}`}function Iu(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Fw(o))).join(", ")}]`),fm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Gu(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Gu(o))).join(",")),`Target(${s})`})(ea(i))}; limitType=${i.limitType})`}function pm(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):De.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Sh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=pT(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,Sh(s),o)||s.endAt&&!(function(h,p,g){const y=pT(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,Sh(s),o))})(i,e)}function eO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Kw(i){return(e,n)=>{let s=!1;for(const o of Sh(i)){const u=tO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tO(i,e,n){const s=i.field.isKeyField()?De.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Fu(g,y):qe(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return qe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){tl(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new pn(De.comparator);function Ga(){return nO}const Qw=new pn(De.comparator);function _h(...i){let e=Qw;for(const n of i)e=e.insert(n.key,n);return e}function Ww(i){let e=Qw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ol(){return Ch()}function Xw(){return Ch()}function Ch(){return new Hl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const iO=new pn(De.comparator),rO=new Wn(De.comparator);function dt(...i){let e=rO;for(const n of i)e=e.add(n);return e}const sO=new Wn(ft);function aO(){return sO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function Jw(i){return{integerValue:""+i}}function oO(i,e){return kN(e)?Jw(e):Hy(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function lO(i,e,n){return i instanceof Ph?(function(o,u){const h={fields:{[kw]:{stringValue:Mw},[Lw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Py(u)&&(u=dm(u)),u&&(h.fields[Vw]=u),{mapValue:h}})(n,e):i instanceof jh?eA(i,e):i instanceof Uh?tA(i,e):(function(o,u){const h=Zw(o,u),p=vT(h)+vT(o.Ae);return jg(h)&&jg(o.Ae)?Jw(p):Hy(o.serializer,p)})(i,e)}function uO(i,e,n){return i instanceof jh?eA(i,e):i instanceof Uh?tA(i,e):n}function Zw(i,e){return i instanceof Wd?(function(s){return jg(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ph extends gm{}class jh extends gm{constructor(e){super(),this.elements=e}}function eA(i,e){const n=nA(e);for(const s of i.elements)n.some((o=>ra(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Uh extends gm{constructor(e){super(),this.elements=e}}function tA(i,e){let n=nA(e);for(const s of i.elements)n=n.filter((o=>!ra(o,s)));return{arrayValue:{values:n}}}class Wd extends gm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vT(i){return Dn(i.integerValue||i.doubleValue)}function nA(i){return jy(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.field=e,this.transform=n}}function hO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof jh&&o instanceof jh||s instanceof Uh&&o instanceof Uh?qu(s.elements,o.elements,ra):s instanceof Wd&&o instanceof Wd?ra(s.Ae,o.Ae):s instanceof Ph&&o instanceof Ph})(i.transform,e.transform)}class fO{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ym{}function iA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qy(i.key,Ts.none()):new Zh(i.key,i.data,Ts.none());{const n=i.data,s=dr.empty();let o=new Wn(bi.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new nl(i.key,s,new Vr(o.toArray()),Ts.none())}}function dO(i,e,n){i instanceof Zh?(function(o,u,h){const p=o.value.clone(),g=ET(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof nl?(function(o,u,h){if(!Od(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=ET(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(rA(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Rh(i,e,n,s){return i instanceof Zh?(function(u,h,p,g){if(!Od(u.precondition,h))return p;const y=u.value.clone(),w=TT(u.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof nl?(function(u,h,p,g){if(!Od(u.precondition,h))return p;const y=TT(u.fieldTransforms,g,h),w=h.data;return w.setAll(rA(u)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,h,p){return Od(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function mO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Zw(s.transform,o||null);u!=null&&(n===null&&(n=dr.empty()),n.set(s.field,u))}return n||null}function bT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&qu(s,o,((u,h)=>hO(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Zh extends ym{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class nl extends ym{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function ET(i,e,n){const s=new Map;Mt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,uO(h,p,n[o]))}return s}function TT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,lO(u,h,e))}return s}class qy extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pO extends ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Rh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Rh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Xw();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=iA(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(We.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&qu(this.mutations,e.mutations,((n,s)=>bT(n,s)))&&qu(this.baseMutations,e.baseMutations,((n,s)=>bT(n,s)))}}class Fy{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return iO})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Fy(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,gt;function vO(i){switch(i){case le.OK:return qe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return qe(15467,{code:i})}}function sA(i){if(i===void 0)return qa("GRPC error has no .code"),le.UNKNOWN;switch(i){case jn.OK:return le.OK;case jn.CANCELLED:return le.CANCELLED;case jn.UNKNOWN:return le.UNKNOWN;case jn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case jn.INTERNAL:return le.INTERNAL;case jn.UNAVAILABLE:return le.UNAVAILABLE;case jn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case jn.NOT_FOUND:return le.NOT_FOUND;case jn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case jn.ABORTED:return le.ABORTED;case jn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case jn.DATA_LOSS:return le.DATA_LOSS;default:return qe(39323,{code:i})}}(gt=jn||(jn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new $o([4294967295,4294967295],0);function wT(i){const e=bO().encode(i),n=new bw;return n.update(e),new Uint8Array(n.digest())}function AT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $o([n,s],0),new $o([o,u],0)]}class Gy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(s<0)throw new vh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$o.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply($o.fromNumber(s)));return o.compare(EO)===1&&(o=new $o([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wT(e),[s,o]=AT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gy(u,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=wT(e),[s,o]=AT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _m(We.min(),o,new pn(ft),Ga(),dt())}}class ef{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ef(s,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class aA{constructor(e,n){this.targetId=e,this.Ce=n}}class oA{constructor(e,n,s=Ti.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class ST{constructor(){this.ve=0,this.Fe=CT(),this.Me=Ti.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),s=dt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:qe(38017,{changeType:u})}})),new ef(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=CT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ga(),this.Je=vd(),this.He=vd(),this.Ye=new pn(ft)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zg(u))if(s===0){const h=new De(u.path);this.et(n,h,Mi.newNoDocument(h,We.min()))}else Mt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Wo(s).toUint8Array()}catch(g){if(g instanceof Ow)return Hu("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gy(h,o,u)}catch(g){return Hu(g instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&zg(p.target)){const g=new De(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Mi.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=dt();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new _m(e,n,this.Ye,this.je,s);return this.je=Ga(),this.Je=vd(),this.He=vd(),this.Ye=new pn(ft),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ST,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(ft),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(ft),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ST),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vd(){return new pn(De.comparator)}function CT(){return new pn(De.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},AO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SO={and:"AND",or:"OR"};class CO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(i,e){return i.useProto3Json||fm(e)?e:{value:e}}function Xd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function RO(i,e){return Xd(i,e.toTimestamp())}function ta(i){return Mt(!!i,49232),We.fromTimestamp((function(n){const s=Qo(n);return new Ft(s.seconds,s.nanos)})(i))}function $y(i,e){return Fg(i,e).canonicalString()}function Fg(i,e){const n=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function uA(i){const e=Jt.fromString(i);return Mt(mA(e),10190,{key:e.toString()}),e}function Gg(i,e){return $y(i.databaseId,e.path)}function pg(i,e){const n=uA(e);if(n.get(1)!==i.databaseId.projectId)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ee(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new De(hA(n))}function cA(i,e){return $y(i.databaseId,e)}function IO(i){const e=uA(i);return e.length===4?Jt.emptyPath():hA(e)}function $g(i){return new Jt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hA(i){return Mt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function RT(i,e,n){return{name:Gg(i,e),fields:n.value.mapValue.fields}}function xO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:qe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(Mt(w===void 0||typeof w=="string",58123),Ti.fromBase64String(w||"")):(Mt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ti.fromUint8Array(w||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const w=y.code===void 0?le.UNKNOWN:sA(y.code);return new Ee(w,y.message||"")})(h);n=new oA(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pg(i,s.document.name),u=ta(s.document.updateTime),h=s.document.createTime?ta(s.document.createTime):We.min(),p=new dr({mapValue:{fields:s.document.fields}}),g=Mi.newFoundDocument(o,u,h,p),y=s.targetIds||[],w=s.removedTargetIds||[];n=new Md(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pg(i,s.document),u=s.readTime?ta(s.readTime):We.min(),h=Mi.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Md([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pg(i,s.document),u=s.removedTargetIds||[];n=new Md([],u,o,null)}else{if(!("filter"in e))return qe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new _O(o,u),p=s.targetId;n=new aA(p,h)}}return n}function DO(i,e){let n;if(e instanceof Zh)n={update:RT(i,e.key,e.value)};else if(e instanceof qy)n={delete:Gg(i,e.key)};else if(e instanceof nl)n={update:RT(i,e.key,e.data),updateMask:UO(e.fieldMask)};else{if(!(e instanceof pO))return qe(16599,{Vt:e.type});n={verify:Gg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Uh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw qe(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:RO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:qe(27497)})(i,e.precondition)),n}function NO(i,e){return i&&i.length>0?(Mt(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?ta(o.updateTime):ta(u);return h.isEqual(We.min())&&(h=ta(u)),new fO(h,o.transformResults||[])})(n,e)))):[]}function OO(i,e){return{documents:[cA(i,e.path)]}}function MO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cA(i,o);const u=(function(y){if(y.length!==0)return dA(Ss.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((w=>(function(I){return{field:xu(I.field),direction:LO(I.dir)}})(w)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=qg(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function kO(i){let e=IO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Mt(s===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(S){const I=fA(S);return I instanceof Ss&&Hw(I)?I.getFilters():[I]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((I=>(function(K){return new Qd(Du(K.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(I)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let I;return I=typeof S=="object"?S.value:S,fm(I)?null:I})(n.limit));let g=null;n.startAt&&(g=(function(S){const I=!!S.before,L=S.values||[];return new Kd(L,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const I=!S.before,L=S.values||[];return new Kd(L,I)})(n.endAt)),JN(e,o,h,u,p,"F",g,y)}function VO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Du(n.unaryFilter.field);return Un.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Du(n.unaryFilter.field);return Un.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Du(n.unaryFilter.field);return Un.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Du(n.unaryFilter.field);return Un.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Un.create(Du(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ss.create(n.compositeFilter.filters.map((s=>fA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(n.compositeFilter.op))})(i):qe(30097,{filter:i})}function LO(i){return wO[i]}function PO(i){return AO[i]}function jO(i){return SO[i]}function xu(i){return{fieldPath:i.canonicalString()}}function Du(i){return bi.fromServerFormat(i.fieldPath)}function dA(i){return i instanceof Un?(function(n){if(n.op==="=="){if(mT(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mT(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(n.field),op:PO(n.op),value:n.value}}})(i):i instanceof Ss?(function(n){const s=n.getFilters().map((o=>dA(o)));return s.length===1?s[0]:{compositeFilter:{op:jO(n.op),filters:s}}})(i):qe(54877,{filter:i})}function UO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,s,o,u=We.min(),h=We.min(),p=Ti.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.yt=e}}function BO(i){const e=kO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.Cn=new qO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Ko.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class qO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Wn(Jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Wn(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pA=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(pA,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $u(0)}static cr(){return new $u(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="LruGarbageCollector",FO=1048576;function DT([i,e],[n,s]){const o=ft(i,n);return o===0?ft(e,s):o}class GO{constructor(e){this.Ir=e,this.buffer=new Wn(DT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();DT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $O{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(xT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?we(xT,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.Vr(3e5)}))}}class YO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(hm.ce);const s=new GO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(IT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Ru()<=ht.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function KO(i,e){return new YO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.changes=new Hl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Rh(s.mutation,o,Vr.empty(),Ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,dt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=dt()){const o=Ol();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=_h();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ol();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,dt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let u=Ga();const h=Ch(),p=(function(){return Ch()})();return n.forEach(((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof nl)?u=u.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Rh(w.mutation,y,w.mutation.getFieldMask(),Ft.now())):h.set(y.key,Vr.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,w)=>h.set(y,w))),n.forEach(((y,w)=>p.set(y,new WO(w,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Ch();let o=new pn(((h,p)=>h-p)),u=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let w=s.get(g)||Vr.empty();w=p.applyToLocalView(y,w),s.set(g,w);const S=(o.get(p.batchId)||dt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,S=Xw();w.forEach((I=>{if(!u.has(I)){const L=iA(n.get(I),s.get(I));L!==null&&S.set(I,L),u=u.add(I)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ue.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return De.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$w(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ue.resolve(Ol());let p=Mh,g=u;return h.next((y=>ue.forEach(y,((w,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(w)?ue.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{g=g.insert(w,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,dt()))).next((w=>({batchId:p,changes:Ww(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((s=>{let o=_h();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=_h();return this.indexManager.getCollectionParents(e,u).next((p=>ue.forEach(p,(g=>{const y=(function(S,I){return new Jh(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((S,I)=>{h=h.insert(S,I)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Mi.newInvalidDocument(w)))}));let p=_h();return h.forEach(((g,y)=>{const w=u.get(g);w!==void 0&&Rh(w.mutation,y,Vr.empty(),Ft.now()),pm(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ta(o.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:BO(o.bundledQuery),readTime:ta(o.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.overlays=new pn(De.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ol();return ue.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ue.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const o=Ol(),u=n.length+1,h=new De(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new pn(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=Ol(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Ol(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return ue.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new yO(n,s));let u=this.qr.get(n);u===void 0&&(u=dt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.sessionToken=Ti.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Qr=new Wn(ai.$r),this.Ur=new Wn(ai.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ai(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new ai(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new De(new Jt([])),s=new ai(n,e),o=new ai(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Jt([])),s=new ai(n,e),o=new ai(n,e+1);let u=dt();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new ai(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ai{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||ft(e.Yr,n.Yr)}static Kr(e,n){return ft(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(ai.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gO(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new ai(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(h)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Ly:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ai(n,0),o=new ai(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Wn(ft);return n.forEach((o=>{const u=new ai(o,0),h=new ai(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;De.isDocumentKey(u)||(u=u.child(""));const h=new ai(new De(u),0);let p=new Wn(ft);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),ue.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(n.mutations,(o=>{const u=new ai(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new ai(n,0),o=this.Zr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.ri=e,this.docs=(function(){return new pn(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():Mi.newInvalidDocument(n))}getEntries(e,n){let s=Ga();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Mi.newInvalidDocument(o))})),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ga();const h=n.path,p=new De(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||DN(xN(w),s)<=0||(o.has(w.key)||pm(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,n,s,o){qe(9500)}ii(e,n){return ue.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new i2(this)}getSize(e){return ue.resolve(this.size)}}class i2 extends QO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.persistence=e,this.si=new Hl((n=>Uy(n)),zy),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.oi=0,this._i=new Yy,this.targetCount=0,this.ai=$u.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $u(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ue.waitFor(u).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ue.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.ui={},this.overlays={},this.ci=new hm(0),this.li=!1,this.li=!0,this.hi=new e2,this.referenceDelegate=e(this),this.Pi=new r2(this),this.indexManager=new HO,this.remoteDocumentCache=(function(o){return new n2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zO(n),this.Ii=new JO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new t2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){we("MemoryPersistence","Starting transaction:",e);const o=new s2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class s2 extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Ri=new Yy,this.Vi=null}static mi(e){return new Ky(e)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const o=De.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,We.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jd{constructor(e,n){this.persistence=e,this.pi=new Hl((s=>VN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=KO(this,n)}static mi(e,n){return new Jd(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ue.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,u.removeEntry(h,We.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dd(e.data.value)),n}br(e,n,s){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=dt(),o=dt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qy(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PR()?8:MN(ki())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new a2;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ru()<=ht.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Ru()<=ht.DEBUG&&we("QueryEngine","Query:",Iu(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ru()<=ht.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ea(n))):ue.resolve())}ys(e,n){if(_T(n))return ue.resolve(null);let s=ea(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hg(n,null,"F"),s=ea(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=dt(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,Hg(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return _T(n)||o.isEqual(We.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ue.resolve(null):(Ru()<=ht.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Iu(n)),this.vs(e,h,n,IN(o,Mh)).next((p=>p)))}))}Ds(e,n){let s=new Wn(Kw(e));return n.forEach(((o,u)=>{pm(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ru()<=ht.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Iu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ko.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",l2=3e8;class u2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new pn(ft),this.xs=new Hl((u=>Uy(u)),zy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function c2(i,e,n,s){return new u2(i,e,n,s)}async function yA(i,e){const n=Je(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let g=dt();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function h2(i,e){const n=Je(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const S=y.batch,I=S.keys();let L=ue.resolve();return I.forEach((K=>{L=L.next((()=>w.getEntry(g,K))).next((Z=>{const G=y.docVersions.get(K);Mt(G!==null,48541),Z.version.compareTo(G)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),w.addEntry(Z)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=dt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function _A(i){const e=Je(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function f2(i,e){const n=Je(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((w,S)=>{const I=o.get(S);if(!I)return;p.push(n.Pi.removeMatchingKeys(u,w.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,w.addedDocuments,S))));let L=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Ti.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),o=o.insert(S,L),(function(Z,G,$){return Z.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=l2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(I,L,w)&&p.push(n.Pi.updateTargetData(u,L))}));let g=Ga(),y=dt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(d2(u,h,e.documentUpdates).next((w=>{g=w.ks,y=w.qs}))),!s.isEqual(We.min())){const w=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(w)}return ue.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function d2(i,e,n){let s=dt(),o=dt();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=Ga();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(We.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):we(Wy,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function m2(i,e){const n=Je(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function p2(i,e){const n=Je(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ue.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Bo(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Yg(i,e,n){const s=Je(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!rc(h))throw h;we(Wy,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function NT(i,e,n){const s=Je(i);let o=We.min(),u=dt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,w){const S=Je(g),I=S.xs.get(w);return I!==void 0?ue.resolve(S.Ms.get(I)):S.Pi.getTargetData(y,w)})(s,h,ea(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:We.min(),n?u:dt()))).next((p=>(g2(s,eO(e),p),{documents:p,Qs:u})))))}function g2(i,e,n){let s=i.Os.get(e)||We.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class OT{constructor(){this.activeTargetIds=aO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y2{constructor(){this.Mo=new OT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new OT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="ConnectivityMonitor";class kT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(MT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(MT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function Kg(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",v2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===$d?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Kg(),p=this.zo(e,n.toUriEncodedString());we(gg,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),w=Ju(y);return this.Jo(e,p,g,s,w).then((S=>(we(gg,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Hu(gg,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=v2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="WebChannelConnection";class T2 extends b2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Kg();return new Promise(((p,g)=>{const y=new Ew;y.setWithCredentials(!0),y.listenOnce(Tw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xd.NO_ERROR:const S=y.getResponseJson();we(Ni,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case xd.TIMEOUT:we(Ni,`RPC '${e}' ${h} timed out`),g(new Ee(le.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const I=y.getStatus();if(we(Ni,`RPC '${e}' ${h} failed with status:`,I,"response text:",y.getResponseText()),I>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L?.error;if(K&&K.status&&K.message){const Z=(function($){const te=$.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(te)>=0?te:le.UNKNOWN})(K.status);g(new Ee(Z,K.message))}else g(new Ee(le.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ee(le.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{we(Ni,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);we(Ni,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",w,s,15)}))}T_(e,n,s){const o=Kg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Sw(),p=Aw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");we(Ni,`Creating RPC '${e}' stream ${o}: ${w}`,g);const S=h.createWebChannel(w,g);this.I_(S);let I=!1,L=!1;const K=new E2({Yo:G=>{L?we(Ni,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(I||(we(Ni,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),we(Ni,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),Z=(G,$,te)=>{G.listen($,(ce=>{try{te(ce)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return Z(S,yh.EventType.OPEN,(()=>{L||(we(Ni,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),Z(S,yh.EventType.CLOSE,(()=>{L||(L=!0,we(Ni,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(S))})),Z(S,yh.EventType.ERROR,(G=>{L||(L=!0,Hu(Ni,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),K.a_(new Ee(le.UNAVAILABLE,"The operation could not be completed")))})),Z(S,yh.EventType.MESSAGE,(G=>{if(!L){const $=G.data[0];Mt(!!$,16349);const te=$,ce=te?.error||te[0]?.error;if(ce){we(Ni,`RPC '${e}' stream ${o} received error:`,ce);const Ce=ce.status;let ze=(function(N){const O=jn[N];if(O!==void 0)return sA(O)})(Ce),Ne=ce.message;ze===void 0&&(ze=le.INTERNAL,Ne="Unknown error status: "+Ce+" with message "+ce.message),L=!0,K.a_(new Ee(ze,Ne)),S.close()}else we(Ni,`RPC '${e}' stream ${o} received:`,$),K.u_($)}})),Z(p,ww.STAT_EVENT,(G=>{G.stat===Vg.PROXY?we(Ni,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Vg.NOPROXY&&we(Ni,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(i){return new CO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class bA{constructor(e,n,s,o,u,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(qa(n.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ee(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w2 extends bA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return We.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?We.min():h.readTime?ta(h.readTime):We.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$g(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=zg(g)?{documents:OO(u,g)}:{query:MO(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=lA(u,h.resumeToken);const y=qg(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(We.min())>0){p.readTime=Xd(u,h.snapshotVersion.toTimestamp());const y=qg(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=VO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.q_(n)}}class A2 extends bA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NO(e.writeResults,e.commitTime),s=ta(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>DO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{}class C2 extends S2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Fg(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(le.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Fg(n,s),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(le.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class R2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qa(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="RemoteStore";class I2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ql(this)&&(we(zl,"Restarting streams for network reachability change."),await(async function(g){const y=Je(g);y.Ea.add(4),await tf(y),y.Ra.set("Unknown"),y.Ea.delete(4),await bm(y)})(this))}))})),this.Ra=new R2(s,o)}}async function bm(i){if(ql(i))for(const e of i.da)await e(!0)}async function tf(i){for(const e of i.da)await e(!1)}function EA(i,e){const n=Je(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e_(n)?Zy(n):sc(n).O_()&&Jy(n,e))}function Xy(i,e){const n=Je(i),s=sc(n);n.Ia.delete(e),s.O_()&&TA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ql(n)&&n.Ra.set("Unknown"))}function Jy(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sc(i).Y_(e)}function TA(i,e){i.Va.Ue(e),sc(i).Z_(e)}function Zy(i){i.Va=new TO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),sc(i).start(),i.Ra.ua()}function e_(i){return ql(i)&&!sc(i).x_()&&i.Ia.size>0}function ql(i){return Je(i).Ea.size===0}function wA(i){i.Va=void 0}async function x2(i){i.Ra.set("Online")}async function D2(i){i.Ia.forEach(((e,n)=>{Jy(i,e)}))}async function N2(i,e){wA(i),e_(i)?(i.Ra.ha(e),Zy(i)):i.Ra.set("Unknown")}async function O2(i,e,n){if(i.Ra.set("Online"),e instanceof oA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){we(zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zd(i,s)}else if(e instanceof Md?i.Va.Ze(e):e instanceof aA?i.Va.st(e):i.Va.tt(e),!n.isEqual(We.min()))try{const s=await _A(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(Ti.EMPTY_BYTE_STRING,w.snapshotVersion)),TA(u,g);const S=new Bo(w.target,g,y,w.sequenceNumber);Jy(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(s){we(zl,"Failed to raise snapshot:",s),await Zd(i,s)}}async function Zd(i,e,n){if(!rc(e))throw e;i.Ea.add(1),await tf(i),i.Ra.set("Offline"),n||(n=()=>_A(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{we(zl,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await bm(i)}))}function AA(i,e){return e().catch((n=>Zd(i,n,e)))}async function Em(i){const e=Je(i),n=Jo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ly;for(;M2(e);)try{const o=await m2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,k2(e,o)}catch(o){await Zd(e,o)}SA(e)&&CA(e)}function M2(i){return ql(i)&&i.Ta.length<10}function k2(i,e){i.Ta.push(e);const n=Jo(i);n.O_()&&n.X_&&n.ea(e.mutations)}function SA(i){return ql(i)&&!Jo(i).x_()&&i.Ta.length>0}function CA(i){Jo(i).start()}async function V2(i){Jo(i).ra()}async function L2(i){const e=Jo(i);for(const n of i.Ta)e.ea(n.mutations)}async function P2(i,e,n){const s=i.Ta.shift(),o=Fy.from(s,e,n);await AA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Em(i)}async function j2(i,e){e&&Jo(i).X_&&await(async function(s,o){if((function(h){return vO(h)&&h!==le.ABORTED})(o.code)){const u=s.Ta.shift();Jo(s).B_(),await AA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Em(s)}})(i,e),SA(i)&&CA(i)}async function LT(i,e){const n=Je(i);n.asyncQueue.verifyOperationInProgress(),we(zl,"RemoteStore received new credentials");const s=ql(n);n.Ea.add(3),await tf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bm(n)}async function U2(i,e){const n=Je(i);e?(n.Ea.delete(2),await bm(n)):e||(n.Ea.add(2),await tf(n),n.Ra.set("Unknown"))}function sc(i){return i.ma||(i.ma=(function(n,s,o){const u=Je(n);return u.sa(),new w2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:x2.bind(null,i),t_:D2.bind(null,i),r_:N2.bind(null,i),H_:O2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),e_(i)?Zy(i):i.Ra.set("Unknown")):(await i.ma.stop(),wA(i))}))),i.ma}function Jo(i){return i.fa||(i.fa=(function(n,s,o){const u=Je(n);return u.sa(),new A2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:V2.bind(null,i),r_:j2.bind(null,i),ta:L2.bind(null,i),na:P2.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Em(i)):(await i.fa.stop(),i.Ta.length>0&&(we(zl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new t_(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n_(i,e){if(qa("AsyncQueue",`${e}: ${i}`),rc(i))return new Ee(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static emptySet(e){return new ju(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||De.comparator(n.key,s.key):(n,s)=>De.comparator(n.key,s.key),this.keyedMap=_h(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ju;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.ga=new pn(De.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Yu{constructor(e,n,s,o,u,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Yu(e,n,ju.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class B2{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Je(n),u=o.queries;o.queries=jT(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new Ee(le.ABORTED,"Firestore shutting down"))}}function jT(){return new Hl((i=>Yw(i)),mm)}async function RA(i,e){const n=Je(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new z2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=n_(h,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&i_(n)}async function IA(i,e){const n=Je(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function H2(i,e){const n=Je(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&i_(n)}function q2(i,e,n){const s=Je(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function i_(i){i.Ca.forEach((e=>{e.next()}))}var Qg,UT;(UT=Qg||(Qg={})).Ma="default",UT.Cache="cache";class xA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.key=e}}class NA{constructor(e){this.key=e}}class F2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=Kw(e),this.tu=new ju(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new PT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,S)=>{const I=o.get(w),L=pm(this.query,S)?S:null,K=!!I&&this.mutatedKeys.has(I.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let G=!1;I&&L?I.data.isEqual(L.data)?K!==Z&&(s.track({type:3,doc:L}),G=!0):this.su(I,L)||(s.track({type:2,doc:L}),G=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!I&&L?(s.track({type:0,doc:L}),G=!0):I&&!L&&(s.track({type:1,doc:I}),G=!0,(g||y)&&(p=!0)),G&&(L?(h=h.add(L),u=Z?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,S)=>(function(L,K){const Z=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:G})}};return Z(L)-Z(K)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Yu(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new NA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new DA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const r_="SyncEngine";class G2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $2{constructor(e){this.key=e,this.hu=!1}}class Y2{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Hl((p=>Yw(p)),mm),this.Iu=new Map,this.Eu=new Set,this.du=new pn(De.comparator),this.Au=new Map,this.Ru=new Yy,this.Vu={},this.mu=new Map,this.fu=$u.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K2(i,e,n=!0){const s=PA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await OA(s,e,n,!0),o}async function Q2(i,e){const n=PA(i);await OA(n,e,!0,!1)}async function OA(i,e,n,s){const o=await p2(i.localStore,ea(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await W2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&EA(i.remoteStore,o),p}async function W2(i,e,n,s,o){i.pu=(S,I,L)=>(async function(Z,G,$,te){let ce=G.view.ru($);ce.Cs&&(ce=await NT(Z.localStore,G.query,!1).then((({documents:k})=>G.view.ru(k,ce))));const Ce=te&&te.targetChanges.get(G.targetId),ze=te&&te.targetMismatches.get(G.targetId)!=null,Ne=G.view.applyChanges(ce,Z.isPrimaryClient,Ce,ze);return BT(Z,G.targetId,Ne.au),Ne.snapshot})(i,S,I,L);const u=await NT(i.localStore,e,!0),h=new F2(e,u.Qs),p=h.ru(u.documents),g=ef.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);BT(i,n,y.au);const w=new G2(e,n,h);return i.Tu.set(e,w),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function X2(i,e,n){const s=Je(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!mm(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Yg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Xy(s.remoteStore,o.targetId),Wg(s,o.targetId)})).catch(ic)):(Wg(s,o.targetId),await Yg(s.localStore,o.targetId,!0))}async function J2(i,e){const n=Je(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xy(n.remoteStore,s.targetId))}async function Z2(i,e,n){const s=aM(i);try{const o=await(function(h,p){const g=Je(h),y=Ft.now(),w=p.reduce(((L,K)=>L.add(K.key)),dt());let S,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let K=Ga(),Z=dt();return g.Ns.getEntries(L,w).next((G=>{K=G,K.forEach((($,te)=>{te.isValidDocument()||(Z=Z.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,K))).next((G=>{S=G;const $=[];for(const te of p){const ce=mO(te,S.get(te.key).overlayedDocument);ce!=null&&$.push(new nl(te.key,ce,Uw(ce.value.mapValue),Ts.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,$,p)})).next((G=>{I=G;const $=G.applyToLocalDocumentSet(S,Z);return g.documentOverlayCache.saveOverlays(L,G.batchId,$)}))})).then((()=>({batchId:I.batchId,changes:Ww(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new pn(ft)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,n),await nf(s,o.changes),await Em(s.remoteStore)}catch(o){const u=n_(o,"Failed to persist write");n.reject(u)}}async function MA(i,e){const n=Je(i);try{const s=await f2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Mt(h.hu,14607):o.removedDocuments.size>0&&(Mt(h.hu,42227),h.hu=!1))})),await nf(n,s,e)}catch(s){await ic(s)}}function zT(i,e,n){const s=Je(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Je(h);g.onlineState=p;let y=!1;g.queries.forEach(((w,S)=>{for(const I of S.Sa)I.va(p)&&(y=!0)})),y&&i_(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eM(i,e,n){const s=Je(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new pn(De.comparator);h=h.insert(u,Mi.newNoDocument(u,We.min()));const p=dt().add(u),g=new _m(We.min(),new Map,new pn(ft),h,p);await MA(s,g),s.du=s.du.remove(u),s.Au.delete(e),s_(s)}else await Yg(s.localStore,e,!1).then((()=>Wg(s,e,n))).catch(ic)}async function tM(i,e){const n=Je(i),s=e.batch.batchId;try{const o=await h2(n.localStore,e);VA(n,s,null),kA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nf(n,o)}catch(o){await ic(o)}}async function nM(i,e,n){const s=Je(i);try{const o=await(function(h,p){const g=Je(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Mt(S!==null,37113),w=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);VA(s,e,n),kA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await nf(s,o)}catch(o){await ic(o)}}function kA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function VA(i,e,n){const s=Je(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Wg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||LA(i,s)}))}function LA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Xy(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),s_(i))}function BT(i,e,n){for(const s of n)s instanceof DA?(i.Ru.addReference(s.key,e),iM(i,s)):s instanceof NA?(we(r_,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||LA(i,s.key)):qe(19791,{wu:s})}function iM(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(we(r_,"New document in limbo: "+n),i.Eu.add(s),s_(i))}function s_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new De(Jt.fromString(e)),s=i.fu.next();i.Au.set(s,new $2(n)),i.du=i.du.insert(n,s),EA(i.remoteStore,new Bo(ea(By(n.path)),s,"TargetPurposeLimboResolution",hm.ce))}}async function nf(i,e,n){const s=Je(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Qy.As(g.targetId,y);u.push(w)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const w=Je(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ue.forEach(y,(I=>ue.forEach(I.Es,(L=>w.persistence.referenceDelegate.addReference(S,I.targetId,L))).next((()=>ue.forEach(I.ds,(L=>w.persistence.referenceDelegate.removeReference(S,I.targetId,L)))))))))}catch(S){if(!rc(S))throw S;we(Wy,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const L=w.Ms.get(I),K=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(K);w.Ms=w.Ms.insert(I,Z)}}})(s.localStore,u))}async function rM(i,e){const n=Je(i);if(!n.currentUser.isEqual(e)){we(r_,"User change. New user:",e.toKey());const s=await yA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ee(le.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nf(n,s.Ls)}}function sM(i,e){const n=Je(i),s=n.Au.get(e);if(s&&s.hu)return dt().add(s.key);{let o=dt();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function PA(i){const e=Je(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eM.bind(null,e),e.Pu.H_=H2.bind(null,e.eventManager),e.Pu.yu=q2.bind(null,e.eventManager),e}function aM(i){const e=Je(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nM.bind(null,e),e}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return c2(this.persistence,new o2,e.initialUser,this.serializer)}Cu(e){return new gA(Ky.mi,this.serializer)}Du(e){return new y2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class oM extends em{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Mt(this.persistence.referenceDelegate instanceof Jd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $O(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new gA((s=>Jd.mi(s,n)),this.serializer)}}class Xg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rM.bind(null,this.syncEngine),await U2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B2})()}createDatastore(e){const n=vm(e.databaseInfo.databaseId),s=(function(u){return new T2(u)})(e.databaseInfo);return(function(u,h,p,g){return new C2(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,p){return new I2(s,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>zT(this.syncEngine,n,0)),(function(){return kT.v()?new kT:new _2})())}createSyncEngine(e,n){return(function(o,u,h,p,g,y,w){const S=new Y2(o,u,h,p,g,y);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Je(n);we(zl,"RemoteStore shutting down."),s.Ea.add(5),await tf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="FirestoreClient";class lM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Oi.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{we(Zo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(we(Zo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=n_(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function _g(i,e){i.asyncQueue.verifyOperationInProgress(),we(Zo,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function HT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await uM(i);we(Zo,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>LT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>LT(e.remoteStore,o))),i._onlineComponents=e}async function uM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){we(Zo,"Using user provided OfflineComponentProvider");try{await _g(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await _g(i,new em)}}else we(Zo,"Using default OfflineComponentProvider"),await _g(i,new oM(void 0));return i._offlineComponents}async function UA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(we(Zo,"Using user provided OnlineComponentProvider"),await HT(i,i._uninitializedComponentsProvider._online)):(we(Zo,"Using default OnlineComponentProvider"),await HT(i,new Xg))),i._onlineComponents}function cM(i){return UA(i).then((e=>e.syncEngine))}async function zA(i){const e=await UA(i),n=e.eventManager;return n.onListen=K2.bind(null,e.syncEngine),n.onUnlisten=X2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=J2.bind(null,e.syncEngine),n}function hM(i,e,n={}){const s=new Ua;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const w=new jA({next:I=>{w.Nu(),h.enqueueAndForget((()=>IA(u,S)));const L=I.docs.has(p);!L&&I.fromCache?y.reject(new Ee(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&I.fromCache&&g&&g.source==="server"?y.reject(new Ee(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new xA(By(p.path),w,{includeMetadataChanges:!0,qa:!0});return RA(u,S)})(await zA(i),i.asyncQueue,e,n,s))),s.promise}function fM(i,e,n={}){const s=new Ua;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const w=new jA({next:I=>{w.Nu(),h.enqueueAndForget((()=>IA(u,S))),I.fromCache&&g.source==="server"?y.reject(new Ee(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new xA(p,w,{includeMetadataChanges:!0,qa:!0});return RA(u,S)})(await zA(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firestore.googleapis.com",FT=!0;class GT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HA,this.ssl=FT}else this.host=e.host,this.ssl=e.ssl??FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FO)throw new Ee(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yN;switch(s.type){case"firstParty":return new EN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qT.get(n);s&&(we("ComponentProvider","Removing Datastore"),qT.delete(n),s.terminate())})(this),Promise.resolve()}}function dM(i,e,n,s={}){i=Fa(i,Tm);const o=Ju(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(k0(`https://${p}`),V0("Firestore",!0)),u.host!==HA&&u.host!==p&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!Ll(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,w;if(typeof s.mockUserToken=="string")y=s.mockUserToken,w=Oi.MOCK_USER;else{y=IR(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ee(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Oi(S)}i._authCredentials=new _N(new Rw(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ac(this.firestore,e,this._query)}}class Bn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}toJSON(){return{type:Bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xh(n,Bn._jsonSchema))return new Bn(e,s||null,new De(Jt.fromString(n.referencePath)))}}Bn._jsonSchemaVersion="firestore/documentReference/1.0",Bn._jsonSchema={type:zn("string",Bn._jsonSchemaVersion),referencePath:zn("string")};class Yo extends ac{constructor(e,n,s){super(e,n,By(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new De(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function Ml(i,e,...n){if(i=li(i),Iw("collection","path",e),i instanceof Tm){const s=Jt.fromString(e,...n);return rT(s),new Yo(i,null,s)}{if(!(i instanceof Bn||i instanceof Yo))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Jt.fromString(e,...n));return rT(s),new Yo(i.firestore,null,s)}}function ts(i,e,...n){if(i=li(i),arguments.length===1&&(e=Vy.newId()),Iw("doc","path",e),i instanceof Tm){const s=Jt.fromString(e,...n);return iT(s),new Bn(i,null,new De(s))}{if(!(i instanceof Bn||i instanceof Yo))throw new Ee(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Jt.fromString(e,...n));return iT(s),new Bn(i.firestore,i instanceof Yo?i.converter:null,new De(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class YT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vA(this,"async_queue_retry"),this._c=()=>{const s=yg();s&&we($T,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rc(e))throw e;we($T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,qa("INTERNAL UNHANDLED ERROR: ",KT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=t_.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&qe(47125,{Pc:KT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class oc extends Tm{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new YT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YT(e),this._firestoreClient=void 0,await e}}}function mM(i,e){const n=typeof i=="object"?i:Ay(),s=typeof i=="string"?i:$d,o=wy(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=CR("firestore");u&&dM(o,...u)}return o}function a_(i){if(i._terminated)throw new Ee(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pM(i),i._firestoreClient}function pM(i){const e=i._freezeSettings(),n=(function(o,u,h,p){return new jN(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new lM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(Ti.fromBase64String(e))}catch(n){throw new Ee(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xh(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:zn("string",es._jsonSchemaVersion),bytes:zn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:na._jsonSchemaVersion}}static fromJSON(e){if(Xh(e,na._jsonSchema))return new na(e.latitude,e.longitude)}}na._jsonSchemaVersion="firestore/geoPoint/1.0",na._jsonSchema={type:zn("string",na._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ia._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xh(e,ia._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ia(e.vectorValues);throw new Ee(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ia._jsonSchemaVersion="firestore/vectorValue/1.0",ia._jsonSchema={type:zn("string",ia._jsonSchemaVersion),vectorValues:zn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=/^__.*__$/;class yM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new nl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zh(e,this.data,n,this.fieldTransforms)}}class qA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new nl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ac:i})}}class o_{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new o_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FA(this.Ac)&&gM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _M{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vm(e)}Cc(e,n,s,o=!1){return new o_({Ac:e,methodName:n,Dc:s,path:bi.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(i){const e=i._freezeSettings(),n=vm(i._databaseId);return new _M(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vM(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);c_("Data must be an object, but it was:",h,s);const p=GA(s,h);let g,y;if(u.merge)g=new Vr(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const S of u.mergeFields){const I=Jg(e,S,n);if(!h.contains(I))throw new Ee(le.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);YA(w,I)||w.push(I)}g=new Vr(w),y=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=h.fieldTransforms;return new yM(new dr(p),g,y)}class Sm extends Am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}class u_ extends Am{_toFieldTransform(e){return new cO(e.path,new Ph)}isEqual(e){return e instanceof u_}}function bM(i,e,n,s){const o=i.Cc(1,e,n);c_("Data must be an object, but it was:",o,s);const u=[],h=dr.empty();tl(s,((g,y)=>{const w=h_(e,g,n);y=li(y);const S=o.yc(w);if(y instanceof Sm)u.push(w);else{const I=rf(y,S);I!=null&&(u.push(w),h.set(w,I))}}));const p=new Vr(u);return new qA(h,p,o.fieldTransforms)}function EM(i,e,n,s,o,u){const h=i.Cc(1,e,n),p=[Jg(e,s,n)],g=[o];if(u.length%2!=0)throw new Ee(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)p.push(Jg(e,u[I])),g.push(u[I+1]);const y=[],w=dr.empty();for(let I=p.length-1;I>=0;--I)if(!YA(y,p[I])){const L=p[I];let K=g[I];K=li(K);const Z=h.yc(L);if(K instanceof Sm)y.push(L);else{const G=rf(K,Z);G!=null&&(y.push(L),w.set(L,G))}}const S=new Vr(y);return new qA(w,S,h.fieldTransforms)}function TM(i,e,n,s=!1){return rf(n,i.Cc(s?4:3,e))}function rf(i,e){if($A(i=li(i)))return c_("Unsupported field value:",e,i),GA(i,e);if(i instanceof Am)return(function(s,o){if(!FA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const p of s){let g=rf(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=li(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ft.fromDate(s);return{timestampValue:Xd(o.serializer,u)}}if(s instanceof Ft){const u=new Ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xd(o.serializer,u)}}if(s instanceof na)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof es)return{bytesValue:lA(o.serializer,s._byteString)};if(s instanceof Bn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$y(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ia)return(function(h,p){return{mapValue:{fields:{[Pw]:{stringValue:jw},[Yd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hy(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${cm(s)}`)})(i,e)}function GA(i,e){const n={};return Nw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tl(i,((s,o)=>{const u=rf(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function $A(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ft||i instanceof na||i instanceof es||i instanceof Bn||i instanceof Am||i instanceof ia)}function c_(i,e,n){if(!$A(n)||!xw(n)){const s=cm(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Jg(i,e,n){if((e=li(e))instanceof wm)return e._internalPath;if(typeof e=="string")return h_(i,e);throw tm("Field path arguments must be of type string or ",i,!1,void 0,n)}const wM=new RegExp("[~\\*/\\[\\]]");function h_(i,e,n){if(e.search(wM)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wm(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function tm(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new Ee(le.INVALID_ARGUMENT,p+i+g)}function YA(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AM extends KA{data(){return super.data()}}function f_(i,e){return typeof e=="string"?h_(i,e):e instanceof wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d_{}class CM extends d_{}function RM(i,e,...n){let s=[];e instanceof d_&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof m_)).length,p=u.filter((g=>g instanceof Cm)).length;if(h>1||h>0&&p>0)throw new Ee(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Cm extends CM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Cm(e,n,s)}_apply(e){const n=this._parse(e);return QA(e._query,n),new ac(e.firestore,e.converter,Bg(e._query,n))}_parse(e){const n=l_(e.firestore);return(function(u,h,p,g,y,w,S){let I;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){WT(S,w);const K=[];for(const Z of S)K.push(QT(g,u,Z));I={arrayValue:{values:K}}}else I=QT(g,u,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||WT(S,w),I=TM(p,h,S,w==="in"||w==="not-in");return Un.create(y,w,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function IM(i,e,n){const s=e,o=f_("where",i);return Cm._create(o,s,n)}class m_ extends d_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m_(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)QA(h,g),h=Bg(h,g)})(e._query,n),new ac(e.firestore,e.converter,Bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QT(i,e,n){if(typeof(n=li(n))=="string"){if(n==="")throw new Ee(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$w(e)&&n.indexOf("/")!==-1)throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Jt.fromString(n));if(!De.isDocumentKey(s))throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fT(i,new De(s))}if(n instanceof Bn)return fT(i,n._key);throw new Ee(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function WT(i,e){if(!Array.isArray(i)||i.length===0)throw new Ee(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QA(i,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xM{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return tl(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Yd].arrayValue?.values?.map((s=>Dn(s.doubleValue)));return new ia(n)}convertGeoPoint(e){return new na(Dn(e.latitude),Dn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=dm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Jt.fromString(e);Mt(mA(s),9688,{name:e});const o=new Vh(s.get(1),s.get(3)),u=new De(s.popFirst(5));return o.isEqual(n)||qa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class bh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kl extends KA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(f_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",kl._jsonSchema={type:zn("string",kl._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class kd extends kl{data(e={}){return super.data(e)}}class Uu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new bh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kd(this._firestore,this._userDataWriter,s.key,s,new bh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new kd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new kd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),w=h.indexOf(p.doc.key)),{type:NM(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(i){i=Fa(i,Bn);const e=Fa(i.firestore,oc);return hM(a_(e),i._key).then((n=>OM(e,i,n)))}Uu._jsonSchemaVersion="firestore/querySnapshot/1.0",Uu._jsonSchema={type:zn("string",Uu._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};class WA extends xM{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,n)}}function Ku(i){i=Fa(i,ac);const e=Fa(i.firestore,oc),n=a_(e),s=new WA(e);return SM(i._query),fM(n,i._query).then((o=>new Uu(e,s,i,o)))}function p_(i,e,n,...s){i=Fa(i,Bn);const o=Fa(i.firestore,oc),u=l_(o);let h;return h=typeof(e=li(e))=="string"||e instanceof wm?EM(u,"updateDoc",i._key,e,n,s):bM(u,"updateDoc",i._key,e),g_(o,[h.toMutation(i._key,Ts.exists(!0))])}function XA(i){return g_(Fa(i.firestore,oc),[new qy(i._key,Ts.none())])}function JA(i,e){const n=Fa(i.firestore,oc),s=ts(i),o=DM(i.converter,e);return g_(n,[vM(l_(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ts.exists(!1))]).then((()=>s))}function g_(i,e){return(function(s,o){const u=new Ua;return s.asyncQueue.enqueueAndForget((async()=>Z2(await cM(s),o,u))),u.promise})(a_(i),e)}function OM(i,e,n){const s=n.docs.get(e._key),o=new WA(i);return new kl(i,o,e._key,s,new bh(n.hasPendingWrites,n.fromCache),e.converter)}function zh(){return new u_("serverTimestamp")}(function(e,n=!0){(function(o){nc=o})(Zu),zu(new Pl("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new oc(new vN(s.getProvider("auth-internal")),new TN(h,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ee(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(y.options.projectId,w)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Fo(ZE,eT,e),Fo(ZE,eT,"esm2020")})();const MM={apiKey:"AIzaSyBlI04ySruuL_zJ-n_sBF_q4WOkCp2Grzo",authDomain:"salamatdoc-its120l-project.firebaseapp.com",projectId:"salamatdoc-its120l-project",storageBucket:"salamatdoc-its120l-project.firebasestorage.app",messagingSenderId:"793384134765",appId:"1:793384134765:web:01c5d9920619818d6db764"},ZA=GI().length?Ay():j0(MM),Gl=pN(ZA),oi=mM(ZA),eS=q.createContext(),Ka=()=>q.useContext(eS);function kM({children:i}){const[e,n]=q.useState(null),[s,o]=q.useState(null),[u,h]=q.useState(!0);return q.useEffect(()=>{const p=rD(Gl,async g=>{if(g){n(g);const y=await Fl(ts(oi,"users",g.uid));y.exists()?o({uid:g.uid,...y.data()}):o({uid:g.uid})}else n(null),o(null);h(!1)});return()=>p()},[]),u?E.jsx("div",{className:"loading-screen",children:"Loading..."}):E.jsx(eS.Provider,{value:{user:e,profile:s,loading:u},children:i})}function VM(){const{logout:i}=Ka(),e=useNavigate(),n=async()=>{try{await Ny(Gl),e("/login")}catch(s){console.error("Error logging out:",s)}};return E.jsxs("aside",{className:"sidebar",children:[E.jsx("h2",{className:"logo",children:"SalamatDoc"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(fr,{to:"/admin/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),E.jsx("li",{children:E.jsx(fr,{to:"/admin/users",className:({isActive:s})=>s?"active":"",children:"Manage Users"})}),E.jsx("li",{children:E.jsx(fr,{to:"/admin/reports",className:({isActive:s})=>s?"active":"",children:"Reports"})}),E.jsx("li",{children:E.jsx(fr,{to:"/admin/settings",className:({isActive:s})=>s?"active":"",children:"Settings"})}),E.jsx("li",{children:E.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}function LM(){const{user:i}=Ka(),e=Fh(),n=async()=>{try{await Ny(Gl),e("/login")}catch(s){console.error("Error logging out:",s)}};return E.jsxs("aside",{className:"sidebar",children:[E.jsx("h2",{className:"logo",children:"SalamatDoc"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(fr,{to:"/doctor/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),E.jsx("li",{children:E.jsx(fr,{to:"/doctor/patients",className:({isActive:s})=>s?"active":"",children:"Patients"})}),E.jsx("li",{children:E.jsx(fr,{to:"/doctor/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),E.jsx("li",{children:E.jsx(fr,{to:"/doctor/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),E.jsx("li",{children:E.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}function PM(){const{logout:i}=Ka(),e=Fh(),n=async()=>{try{await Ny(Gl),e("/login")}catch(s){console.error("Error logging out:",s)}};return E.jsxs("aside",{className:"sidebar",children:[E.jsx("h2",{className:"logo",children:"SalamatDoc"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(fr,{to:"/patient/dashboard",className:({isActive:s})=>s?"active":"",children:"Dashboard"})}),E.jsx("li",{children:E.jsx(fr,{to:"/patient/medicine",className:({isActive:s})=>s?"active":"",children:"Dailies – Medicine"})}),E.jsx("li",{children:E.jsx(fr,{to:"/patient/food",className:({isActive:s})=>s?"active":"",children:"Dailies – Food"})}),E.jsx("li",{children:E.jsx(fr,{to:"/patient/appointments",className:({isActive:s})=>s?"active":"",children:"Appointments"})}),E.jsx("li",{children:E.jsx(fr,{to:"/patient/profile",className:({isActive:s})=>s?"active":"",children:"Profile"})}),E.jsx("li",{children:E.jsx("button",{className:"logout-btn",onClick:n,children:"Log out"})})]})]})}var Vd={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var jM=Vd.exports,XT;function UM(){return XT||(XT=1,(function(i,e){(function(n,s){i.exports=s()})(jM,function(){const n=new Map,s={set(A,d,v){n.has(A)||n.set(A,new Map);const R=n.get(A);R.has(d)||R.size===0?R.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(R.keys())[0]}.`)},get:(A,d)=>n.has(A)&&n.get(A).get(d)||null,remove(A,d){if(!n.has(A))return;const v=n.get(A);v.delete(d),v.size===0&&n.delete(A)}},o="transitionend",u=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),A),h=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),p=A=>{A.dispatchEvent(new Event(o))},g=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),y=A=>g(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(u(A)):null,w=A=>{if(!g(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",v=A.closest("details:not([open])");if(!v)return d;if(v!==A){const R=A.closest("summary");if(R&&R.parentNode!==v||R===null)return!1}return d},S=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),I=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?I(A.parentNode):null},L=()=>{},K=A=>{A.offsetHeight},Z=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,G=[],$=()=>document.documentElement.dir==="rtl",te=A=>{var d;d=()=>{const v=Z();if(v){const R=A.NAME,z=v.fn[R];v.fn[R]=A.jQueryInterface,v.fn[R].Constructor=A,v.fn[R].noConflict=()=>(v.fn[R]=z,A.jQueryInterface)}},document.readyState==="loading"?(G.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of G)v()}),G.push(d)):d()},ce=(A,d=[],v=A)=>typeof A=="function"?A.call(...d):v,Ce=(A,d,v=!0)=>{if(!v)return void ce(A);const R=(ie=>{if(!ie)return 0;let{transitionDuration:he,transitionDelay:de}=window.getComputedStyle(ie);const be=Number.parseFloat(he),Te=Number.parseFloat(de);return be||Te?(he=he.split(",")[0],de=de.split(",")[0],1e3*(Number.parseFloat(he)+Number.parseFloat(de))):0})(d)+5;let z=!1;const B=({target:ie})=>{ie===d&&(z=!0,d.removeEventListener(o,B),ce(A))};d.addEventListener(o,B),setTimeout(()=>{z||p(d)},R)},ze=(A,d,v,R)=>{const z=A.length;let B=A.indexOf(d);return B===-1?!v&&R?A[z-1]:A[0]:(B+=v?1:-1,R&&(B=(B+z)%z),A[Math.max(0,Math.min(B,z-1))])},Ne=/[^.]*(?=\..*)\.|.*/,k=/\..*/,N=/::\d+$/,O={};let j=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},H=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(A,d){return d&&`${d}::${j++}`||A.uidEvent||j++}function ye(A){const d=M(A);return A.uidEvent=d,O[d]=O[d]||{},O[d]}function Ze(A,d,v=null){return Object.values(A).find(R=>R.callable===d&&R.delegationSelector===v)}function J(A,d,v){const R=typeof d=="string",z=R?v:d||v;let B=Me(A);return H.has(B)||(B=A),[R,z,B]}function fe(A,d,v,R,z){if(typeof d!="string"||!A)return;let[B,ie,he]=J(d,v,R);d in P&&(ie=(Pe=>function(Be){if(!Be.relatedTarget||Be.relatedTarget!==Be.delegateTarget&&!Be.delegateTarget.contains(Be.relatedTarget))return Pe.call(this,Be)})(ie));const de=ye(A),be=de[he]||(de[he]={}),Te=Ze(be,ie,B?v:null);if(Te)return void(Te.oneOff=Te.oneOff&&z);const _e=M(ie,d.replace(Ne,"")),Ge=B?(function(Le,Pe,Be){return function Oe(At){const Dt=Le.querySelectorAll(Pe);for(let{target:Fe}=At;Fe&&Fe!==this;Fe=Fe.parentNode)for(const tt of Dt)if(tt===Fe)return se(At,{delegateTarget:Fe}),Oe.oneOff&&x.off(Le,At.type,Pe,Be),Be.apply(Fe,[At])}})(A,v,ie):(function(Le,Pe){return function Be(Oe){return se(Oe,{delegateTarget:Le}),Be.oneOff&&x.off(Le,Oe.type,Pe),Pe.apply(Le,[Oe])}})(A,ie);Ge.delegationSelector=B?v:null,Ge.callable=ie,Ge.oneOff=z,Ge.uidEvent=_e,be[_e]=Ge,A.addEventListener(he,Ge,B)}function Ae(A,d,v,R,z){const B=Ze(d[v],R,z);B&&(A.removeEventListener(v,B,!!z),delete d[v][B.uidEvent])}function je(A,d,v,R){const z=d[v]||{};for(const[B,ie]of Object.entries(z))B.includes(R)&&Ae(A,d,v,ie.callable,ie.delegationSelector)}function Me(A){return A=A.replace(k,""),P[A]||A}const x={on(A,d,v,R){fe(A,d,v,R,!1)},one(A,d,v,R){fe(A,d,v,R,!0)},off(A,d,v,R){if(typeof d!="string"||!A)return;const[z,B,ie]=J(d,v,R),he=ie!==d,de=ye(A),be=de[ie]||{},Te=d.startsWith(".");if(B===void 0){if(Te)for(const _e of Object.keys(de))je(A,de,_e,d.slice(1));for(const[_e,Ge]of Object.entries(be)){const Le=_e.replace(N,"");he&&!d.includes(Le)||Ae(A,de,ie,Ge.callable,Ge.delegationSelector)}}else{if(!Object.keys(be).length)return;Ae(A,de,ie,B,z?v:null)}},trigger(A,d,v){if(typeof d!="string"||!A)return null;const R=Z();let z=null,B=!0,ie=!0,he=!1;d!==Me(d)&&R&&(z=R.Event(d,v),R(A).trigger(z),B=!z.isPropagationStopped(),ie=!z.isImmediatePropagationStopped(),he=z.isDefaultPrevented());const de=se(new Event(d,{bubbles:B,cancelable:!0}),v);return he&&de.preventDefault(),ie&&A.dispatchEvent(de),de.defaultPrevented&&z&&z.preventDefault(),de}};function se(A,d={}){for(const[v,R]of Object.entries(d))try{A[v]=R}catch{Object.defineProperty(A,v,{configurable:!0,get:()=>R})}return A}function ge(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function ve(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const Ie={setDataAttribute(A,d,v){A.setAttribute(`data-bs-${ve(d)}`,v)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${ve(d)}`)},getDataAttributes(A){if(!A)return{};const d={},v=Object.keys(A.dataset).filter(R=>R.startsWith("bs")&&!R.startsWith("bsConfig"));for(const R of v){let z=R.replace(/^bs/,"");z=z.charAt(0).toLowerCase()+z.slice(1),d[z]=ge(A.dataset[R])}return d},getDataAttribute:(A,d)=>ge(A.getAttribute(`data-bs-${ve(d)}`))};class ke{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const R=g(v)?Ie.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof R=="object"?R:{},...g(v)?Ie.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[R,z]of Object.entries(v)){const B=d[R],ie=g(B)?"element":h(B);if(!new RegExp(z).test(ie))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${R}" provided type "${ie}" but expected type "${z}".`)}}}class Ve extends ke{constructor(d,v){super(),(d=y(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),x.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,R=!0){Ce(d,v,R)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(y(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const kt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let v=A.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>u(v)).join(","):null},me={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(v=>v.matches(d)),parents(A,d){const v=[];let R=A.parentNode.closest(d);for(;R;)v.push(R),R=R.parentNode.closest(d);return v},prev(A,d){let v=A.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(A,d){let v=A.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(v=>!S(v)&&w(v))},getSelectorFromElement(A){const d=kt(A);return d&&me.findOne(d)?d:null},getElementFromSelector(A){const d=kt(A);return d?me.findOne(d):null},getMultipleElementsFromSelector(A){const d=kt(A);return d?me.find(d):[]}},wi=(A,d="hide")=>{const v=`click.dismiss${A.EVENT_KEY}`,R=A.NAME;x.on(document,v,`[data-bs-dismiss="${R}"]`,function(z){if(["A","AREA"].includes(this.tagName)&&z.preventDefault(),S(this))return;const B=me.getElementFromSelector(this)||this.closest(`.${R}`);A.getOrCreateInstance(B)[d]()})},mr=".bs.alert",pr=`close${mr}`,Lr=`closed${mr}`;class ot extends Ve{static get NAME(){return"alert"}close(){if(x.trigger(this._element,pr).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),x.trigger(this._element,Lr),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=ot.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}wi(ot,"close"),te(ot);const Gi='[data-bs-toggle="button"]';class Yt extends Ve{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Yt.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}x.on(document,"click.bs.button.data-api",Gi,A=>{A.preventDefault();const d=A.target.closest(Gi);Yt.getOrCreateInstance(d).toggle()}),te(Yt);const ui=".bs.swipe",Is=`touchstart${ui}`,Zt=`touchmove${ui}`,hn=`touchend${ui}`,Pr=`pointerdown${ui}`,sl=`pointerup${ui}`,sa={endCallback:null,leftCallback:null,rightCallback:null},Hn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $i extends ke{constructor(d,v){super(),this._element=d,d&&$i.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return sa}static get DefaultType(){return Hn}static get NAME(){return"swipe"}dispose(){x.off(this._element,ui)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),ce(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&ce(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(x.on(this._element,Pr,d=>this._start(d)),x.on(this._element,sl,d=>this._end(d)),this._element.classList.add("pointer-event")):(x.on(this._element,Is,d=>this._start(d)),x.on(this._element,Zt,d=>this._move(d)),x.on(this._element,hn,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ai=".bs.carousel",xs=".data-api",jr="ArrowLeft",aa="ArrowRight",gr="next",Yi="prev",yr="left",An="right",gn=`slide${Ai}`,Xn=`slid${Ai}`,Kt=`keydown${Ai}`,oa=`mouseenter${Ai}`,Ur=`mouseleave${Ai}`,Wa=`dragstart${Ai}`,Vi=`load${Ai}${xs}`,ns=`click${Ai}${xs}`,Qt="carousel",xt="active",jt=".active",qn=".carousel-item",Vt=jt+qn,ci={[jr]:An,[aa]:yr},Ki={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_r={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class vr extends Ve{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=me.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Qt&&this.cycle()}static get Default(){return Ki}static get DefaultType(){return _r}static get NAME(){return"carousel"}next(){this._slide(gr)}nextWhenVisible(){!document.hidden&&w(this._element)&&this.next()}prev(){this._slide(Yi)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?x.one(this._element,Xn,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void x.one(this._element,Xn,()=>this.to(d));const R=this._getItemIndex(this._getActive());if(R===d)return;const z=d>R?gr:Yi;this._slide(z,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&x.on(this._element,Kt,d=>this._keydown(d)),this._config.pause==="hover"&&(x.on(this._element,oa,()=>this.pause()),x.on(this._element,Ur,()=>this._maybeEnableCycle())),this._config.touch&&$i.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of me.find(".carousel-item img",this._element))x.on(v,Wa,R=>R.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(yr)),rightCallback:()=>this._slide(this._directionToOrder(An)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new $i(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=ci[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=me.findOne(jt,this._indicatorsElement);v.classList.remove(xt),v.removeAttribute("aria-current");const R=me.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);R&&(R.classList.add(xt),R.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const R=this._getActive(),z=d===gr,B=v||ze(this._getItems(),R,z,this._config.wrap);if(B===R)return;const ie=this._getItemIndex(B),he=_e=>x.trigger(this._element,_e,{relatedTarget:B,direction:this._orderToDirection(d),from:this._getItemIndex(R),to:ie});if(he(gn).defaultPrevented||!R||!B)return;const de=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ie),this._activeElement=B;const be=z?"carousel-item-start":"carousel-item-end",Te=z?"carousel-item-next":"carousel-item-prev";B.classList.add(Te),K(B),R.classList.add(be),B.classList.add(be),this._queueCallback(()=>{B.classList.remove(be,Te),B.classList.add(xt),R.classList.remove(xt,Te,be),this._isSliding=!1,he(Xn)},R,this._isAnimated()),de&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return me.findOne(Vt,this._element)}_getItems(){return me.find(qn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return $()?d===yr?Yi:gr:d===yr?gr:Yi}_orderToDirection(d){return $()?d===Yi?yr:An:d===Yi?An:yr}static jQueryInterface(d){return this.each(function(){const v=vr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}x.on(document,ns,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=me.getElementFromSelector(this);if(!d||!d.classList.contains(Qt))return;A.preventDefault();const v=vr.getOrCreateInstance(d),R=this.getAttribute("data-bs-slide-to");return R?(v.to(R),void v._maybeEnableCycle()):Ie.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),x.on(window,Vi,()=>{const A=me.find('[data-bs-ride="carousel"]');for(const d of A)vr.getOrCreateInstance(d)}),te(vr);const Si=".bs.collapse",is=`show${Si}`,zr=`shown${Si}`,br=`hide${Si}`,Li=`hidden${Si}`,Ds=`click${Si}.data-api`,hi="show",yn="collapse",Ut="collapsing",_n=`:scope .${yn} .${yn}`,Ci='[data-bs-toggle="collapse"]',Ye={parent:null,toggle:!0},zt={parent:"(null|element)",toggle:"boolean"};class vt extends Ve{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const R=me.find(Ci);for(const z of R){const B=me.getSelectorFromElement(z),ie=me.find(B).filter(he=>he===this._element);B!==null&&ie.length&&this._triggerArray.push(z)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ye}static get DefaultType(){return zt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(z=>z!==this._element).map(z=>vt.getOrCreateInstance(z,{toggle:!1}))),d.length&&d[0]._isTransitioning||x.trigger(this._element,is).defaultPrevented)return;for(const z of d)z.hide();const v=this._getDimension();this._element.classList.remove(yn),this._element.classList.add(Ut),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ut),this._element.classList.add(yn,hi),this._element.style[v]="",x.trigger(this._element,zr)},this._element,!0),this._element.style[v]=`${this._element[R]}px`}hide(){if(this._isTransitioning||!this._isShown()||x.trigger(this._element,br).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,K(this._element),this._element.classList.add(Ut),this._element.classList.remove(yn,hi);for(const v of this._triggerArray){const R=me.getElementFromSelector(v);R&&!this._isShown(R)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ut),this._element.classList.add(yn),x.trigger(this._element,Li)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(hi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=y(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Ci);for(const v of d){const R=me.getElementFromSelector(v);R&&this._addAriaAndCollapsedClass([v],this._isShown(R))}}_getFirstLevelChildren(d){const v=me.find(_n,this._config.parent);return me.find(d,this._config.parent).filter(R=>!v.includes(R))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const R of d)R.classList.toggle("collapsed",!v),R.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const R=vt.getOrCreateInstance(this,v);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d]()}})}}x.on(document,Ds,Ci,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of me.getMultipleElementsFromSelector(this))vt.getOrCreateInstance(d,{toggle:!1}).toggle()}),te(vt);var bt="top",lt="bottom",tn="right",Bt="left",Fn="auto",Nn=[bt,lt,tn,Bt],Jn="start",Gt="end",Xa="clippingParents",la="viewport",fi="popper",Er="reference",ua=Nn.reduce(function(A,d){return A.concat([d+"-"+Jn,d+"-"+Gt])},[]),ca=[].concat(Nn,[Fn]).reduce(function(A,d){return A.concat([d,d+"-"+Jn,d+"-"+Gt])},[]),Ja="beforeRead",al="read",ha="afterRead",Ri="beforeMain",fn="main",Sn="afterMain",rs="beforeWrite",Za="write",Et="afterWrite",Ns=[Ja,al,ha,Ri,fn,Sn,rs,Za,Et];function Cn(A){return A?(A.nodeName||"").toLowerCase():null}function Rn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function vn(A){return A instanceof Rn(A).Element||A instanceof Element}function Gn(A){return A instanceof Rn(A).HTMLElement||A instanceof HTMLElement}function eo(A){return typeof ShadowRoot<"u"&&(A instanceof Rn(A).ShadowRoot||A instanceof ShadowRoot)}const fa={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(v){var R=d.styles[v]||{},z=d.attributes[v]||{},B=d.elements[v];Gn(B)&&Cn(B)&&(Object.assign(B.style,R),Object.keys(z).forEach(function(ie){var he=z[ie];he===!1?B.removeAttribute(ie):B.setAttribute(ie,he===!0?"":he)}))})},effect:function(A){var d=A.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(R){var z=d.elements[R],B=d.attributes[R]||{},ie=Object.keys(d.styles.hasOwnProperty(R)?d.styles[R]:v[R]).reduce(function(he,de){return he[de]="",he},{});Gn(z)&&Cn(z)&&(Object.assign(z.style,ie),Object.keys(B).forEach(function(he){z.removeAttribute(he)}))})}},requires:["computeStyles"]};function $n(A){return A.split("-")[0]}var Br=Math.max,Tr=Math.min,In=Math.round;function to(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function no(){return!/^((?!chrome|android).)*safari/i.test(to())}function Hr(A,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var R=A.getBoundingClientRect(),z=1,B=1;d&&Gn(A)&&(z=A.offsetWidth>0&&In(R.width)/A.offsetWidth||1,B=A.offsetHeight>0&&In(R.height)/A.offsetHeight||1);var ie=(vn(A)?Rn(A):window).visualViewport,he=!no()&&v,de=(R.left+(he&&ie?ie.offsetLeft:0))/z,be=(R.top+(he&&ie?ie.offsetTop:0))/B,Te=R.width/z,_e=R.height/B;return{width:Te,height:_e,top:be,right:de+Te,bottom:be+_e,left:de,x:de,y:be}}function Os(A){var d=Hr(A),v=A.offsetWidth,R=A.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-R)<=1&&(R=d.height),{x:A.offsetLeft,y:A.offsetTop,width:v,height:R}}function ol(A,d){var v=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(v&&eo(v)){var R=d;do{if(R&&A.isSameNode(R))return!0;R=R.parentNode||R.host}while(R)}return!1}function Zn(A){return Rn(A).getComputedStyle(A)}function io(A){return["table","td","th"].indexOf(Cn(A))>=0}function On(A){return((vn(A)?A.ownerDocument:A.document)||window.document).documentElement}function Ms(A){return Cn(A)==="html"?A:A.assignedSlot||A.parentNode||(eo(A)?A.host:null)||On(A)}function Pi(A){return Gn(A)&&Zn(A).position!=="fixed"?A.offsetParent:null}function Qi(A){for(var d=Rn(A),v=Pi(A);v&&io(v)&&Zn(v).position==="static";)v=Pi(v);return v&&(Cn(v)==="html"||Cn(v)==="body"&&Zn(v).position==="static")?d:v||(function(R){var z=/firefox/i.test(to());if(/Trident/i.test(to())&&Gn(R)&&Zn(R).position==="fixed")return null;var B=Ms(R);for(eo(B)&&(B=B.host);Gn(B)&&["html","body"].indexOf(Cn(B))<0;){var ie=Zn(B);if(ie.transform!=="none"||ie.perspective!=="none"||ie.contain==="paint"||["transform","perspective"].indexOf(ie.willChange)!==-1||z&&ie.willChange==="filter"||z&&ie.filter&&ie.filter!=="none")return B;B=B.parentNode}return null})(A)||d}function Wi(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function wr(A,d,v){return Br(A,Tr(d,v))}function da(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function ss(A,d){return d.reduce(function(v,R){return v[R]=A,v},{})}const Xi={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,v=A.state,R=A.name,z=A.options,B=v.elements.arrow,ie=v.modifiersData.popperOffsets,he=$n(v.placement),de=Wi(he),be=[Bt,tn].indexOf(he)>=0?"height":"width";if(B&&ie){var Te=(function(pt,mt){return da(typeof(pt=typeof pt=="function"?pt(Object.assign({},mt.rects,{placement:mt.placement})):pt)!="number"?pt:ss(pt,Nn))})(z.padding,v),_e=Os(B),Ge=de==="y"?bt:Bt,Le=de==="y"?lt:tn,Pe=v.rects.reference[be]+v.rects.reference[de]-ie[de]-v.rects.popper[be],Be=ie[de]-v.rects.reference[de],Oe=Qi(B),At=Oe?de==="y"?Oe.clientHeight||0:Oe.clientWidth||0:0,Dt=Pe/2-Be/2,Fe=Te[Ge],tt=At-_e[be]-Te[Le],$e=At/2-_e[be]/2+Dt,it=wr(Fe,$e,tt),yt=de;v.modifiersData[R]=((d={})[yt]=it,d.centerOffset=it-$e,d)}},effect:function(A){var d=A.state,v=A.options.element,R=v===void 0?"[data-popper-arrow]":v;R!=null&&(typeof R!="string"||(R=d.elements.popper.querySelector(R)))&&ol(d.elements.popper,R)&&(d.elements.arrow=R)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yn(A){return A.split("-")[1]}var ma={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rt(A){var d,v=A.popper,R=A.popperRect,z=A.placement,B=A.variation,ie=A.offsets,he=A.position,de=A.gpuAcceleration,be=A.adaptive,Te=A.roundOffsets,_e=A.isFixed,Ge=ie.x,Le=Ge===void 0?0:Ge,Pe=ie.y,Be=Pe===void 0?0:Pe,Oe=typeof Te=="function"?Te({x:Le,y:Be}):{x:Le,y:Be};Le=Oe.x,Be=Oe.y;var At=ie.hasOwnProperty("x"),Dt=ie.hasOwnProperty("y"),Fe=Bt,tt=bt,$e=window;if(be){var it=Qi(v),yt="clientHeight",pt="clientWidth";it===Rn(v)&&Zn(it=On(v)).position!=="static"&&he==="absolute"&&(yt="scrollHeight",pt="scrollWidth"),(z===bt||(z===Bt||z===tn)&&B===Gt)&&(tt=lt,Be-=(_e&&it===$e&&$e.visualViewport?$e.visualViewport.height:it[yt])-R.height,Be*=de?1:-1),z!==Bt&&(z!==bt&&z!==lt||B!==Gt)||(Fe=tn,Le-=(_e&&it===$e&&$e.visualViewport?$e.visualViewport.width:it[pt])-R.width,Le*=de?1:-1)}var mt,nn=Object.assign({position:he},be&&ma),Ii=Te===!0?(function(ii,Vn){var qi=ii.x,xi=ii.y,Wt=Vn.devicePixelRatio||1;return{x:In(qi*Wt)/Wt||0,y:In(xi*Wt)/Wt||0}})({x:Le,y:Be},Rn(v)):{x:Le,y:Be};return Le=Ii.x,Be=Ii.y,de?Object.assign({},nn,((mt={})[tt]=Dt?"0":"",mt[Fe]=At?"0":"",mt.transform=($e.devicePixelRatio||1)<=1?"translate("+Le+"px, "+Be+"px)":"translate3d("+Le+"px, "+Be+"px, 0)",mt)):Object.assign({},nn,((d={})[tt]=Dt?Be+"px":"",d[Fe]=At?Le+"px":"",d.transform="",d))}const Ji={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,v=A.options,R=v.gpuAcceleration,z=R===void 0||R,B=v.adaptive,ie=B===void 0||B,he=v.roundOffsets,de=he===void 0||he,be={placement:$n(d.placement),variation:Yn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:z,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Rt(Object.assign({},be,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:ie,roundOffsets:de})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Rt(Object.assign({},be,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:de})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var ks={passive:!0};const as={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,v=A.instance,R=A.options,z=R.scroll,B=z===void 0||z,ie=R.resize,he=ie===void 0||ie,de=Rn(d.elements.popper),be=[].concat(d.scrollParents.reference,d.scrollParents.popper);return B&&be.forEach(function(Te){Te.addEventListener("scroll",v.update,ks)}),he&&de.addEventListener("resize",v.update,ks),function(){B&&be.forEach(function(Te){Te.removeEventListener("scroll",v.update,ks)}),he&&de.removeEventListener("resize",v.update,ks)}},data:{}};var ll={left:"right",right:"left",bottom:"top",top:"bottom"};function qr(A){return A.replace(/left|right|bottom|top/g,function(d){return ll[d]})}var os={start:"end",end:"start"};function Zi(A){return A.replace(/start|end/g,function(d){return os[d]})}function xn(A){var d=Rn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Ar(A){return Hr(On(A)).left+xn(A).scrollLeft}function er(A){var d=Zn(A),v=d.overflow,R=d.overflowX,z=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+z+R)}function ls(A){return["html","body","#document"].indexOf(Cn(A))>=0?A.ownerDocument.body:Gn(A)&&er(A)?A:ls(Ms(A))}function us(A,d){var v;d===void 0&&(d=[]);var R=ls(A),z=R===((v=A.ownerDocument)==null?void 0:v.body),B=Rn(R),ie=z?[B].concat(B.visualViewport||[],er(R)?R:[]):R,he=d.concat(ie);return z?he:he.concat(us(Ms(ie)))}function Fr(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function pa(A,d,v){return d===la?Fr((function(R,z){var B=Rn(R),ie=On(R),he=B.visualViewport,de=ie.clientWidth,be=ie.clientHeight,Te=0,_e=0;if(he){de=he.width,be=he.height;var Ge=no();(Ge||!Ge&&z==="fixed")&&(Te=he.offsetLeft,_e=he.offsetTop)}return{width:de,height:be,x:Te+Ar(R),y:_e}})(A,v)):vn(d)?(function(R,z){var B=Hr(R,!1,z==="fixed");return B.top=B.top+R.clientTop,B.left=B.left+R.clientLeft,B.bottom=B.top+R.clientHeight,B.right=B.left+R.clientWidth,B.width=R.clientWidth,B.height=R.clientHeight,B.x=B.left,B.y=B.top,B})(d,v):Fr((function(R){var z,B=On(R),ie=xn(R),he=(z=R.ownerDocument)==null?void 0:z.body,de=Br(B.scrollWidth,B.clientWidth,he?he.scrollWidth:0,he?he.clientWidth:0),be=Br(B.scrollHeight,B.clientHeight,he?he.scrollHeight:0,he?he.clientHeight:0),Te=-ie.scrollLeft+Ar(R),_e=-ie.scrollTop;return Zn(he||B).direction==="rtl"&&(Te+=Br(B.clientWidth,he?he.clientWidth:0)-de),{width:de,height:be,x:Te,y:_e}})(On(A)))}function Sr(A){var d,v=A.reference,R=A.element,z=A.placement,B=z?$n(z):null,ie=z?Yn(z):null,he=v.x+v.width/2-R.width/2,de=v.y+v.height/2-R.height/2;switch(B){case bt:d={x:he,y:v.y-R.height};break;case lt:d={x:he,y:v.y+v.height};break;case tn:d={x:v.x+v.width,y:de};break;case Bt:d={x:v.x-R.width,y:de};break;default:d={x:v.x,y:v.y}}var be=B?Wi(B):null;if(be!=null){var Te=be==="y"?"height":"width";switch(ie){case Jn:d[be]=d[be]-(v[Te]/2-R[Te]/2);break;case Gt:d[be]=d[be]+(v[Te]/2-R[Te]/2)}}return d}function Cr(A,d){d===void 0&&(d={});var v=d,R=v.placement,z=R===void 0?A.placement:R,B=v.strategy,ie=B===void 0?A.strategy:B,he=v.boundary,de=he===void 0?Xa:he,be=v.rootBoundary,Te=be===void 0?la:be,_e=v.elementContext,Ge=_e===void 0?fi:_e,Le=v.altBoundary,Pe=Le!==void 0&&Le,Be=v.padding,Oe=Be===void 0?0:Be,At=da(typeof Oe!="number"?Oe:ss(Oe,Nn)),Dt=Ge===fi?Er:fi,Fe=A.rects.popper,tt=A.elements[Pe?Dt:Ge],$e=(function(Vn,qi,xi,Wt){var rn=qi==="clippingParents"?(function(Nt){var sn=us(Ms(Nt)),Xt=["absolute","fixed"].indexOf(Zn(Nt).position)>=0&&Gn(Nt)?Qi(Nt):Nt;return vn(Xt)?sn.filter(function(Ot){return vn(Ot)&&ol(Ot,Xt)&&Cn(Ot)!=="body"}):[]})(Vn):[].concat(qi),mn=[].concat(rn,[xi]),Fi=mn[0],En=mn.reduce(function(Nt,sn){var Xt=pa(Vn,sn,Wt);return Nt.top=Br(Xt.top,Nt.top),Nt.right=Tr(Xt.right,Nt.right),Nt.bottom=Tr(Xt.bottom,Nt.bottom),Nt.left=Br(Xt.left,Nt.left),Nt},pa(Vn,Fi,Wt));return En.width=En.right-En.left,En.height=En.bottom-En.top,En.x=En.left,En.y=En.top,En})(vn(tt)?tt:tt.contextElement||On(A.elements.popper),de,Te,ie),it=Hr(A.elements.reference),yt=Sr({reference:it,element:Fe,placement:z}),pt=Fr(Object.assign({},Fe,yt)),mt=Ge===fi?pt:it,nn={top:$e.top-mt.top+At.top,bottom:mt.bottom-$e.bottom+At.bottom,left:$e.left-mt.left+At.left,right:mt.right-$e.right+At.right},Ii=A.modifiersData.offset;if(Ge===fi&&Ii){var ii=Ii[z];Object.keys(nn).forEach(function(Vn){var qi=[tn,lt].indexOf(Vn)>=0?1:-1,xi=[bt,lt].indexOf(Vn)>=0?"y":"x";nn[Vn]+=ii[xi]*qi})}return nn}function ul(A,d){d===void 0&&(d={});var v=d,R=v.placement,z=v.boundary,B=v.rootBoundary,ie=v.padding,he=v.flipVariations,de=v.allowedAutoPlacements,be=de===void 0?ca:de,Te=Yn(R),_e=Te?he?ua:ua.filter(function(Pe){return Yn(Pe)===Te}):Nn,Ge=_e.filter(function(Pe){return be.indexOf(Pe)>=0});Ge.length===0&&(Ge=_e);var Le=Ge.reduce(function(Pe,Be){return Pe[Be]=Cr(A,{placement:Be,boundary:z,rootBoundary:B,padding:ie})[$n(Be)],Pe},{});return Object.keys(Le).sort(function(Pe,Be){return Le[Pe]-Le[Be]})}const Vs={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,R=A.name;if(!d.modifiersData[R]._skip){for(var z=v.mainAxis,B=z===void 0||z,ie=v.altAxis,he=ie===void 0||ie,de=v.fallbackPlacements,be=v.padding,Te=v.boundary,_e=v.rootBoundary,Ge=v.altBoundary,Le=v.flipVariations,Pe=Le===void 0||Le,Be=v.allowedAutoPlacements,Oe=d.options.placement,At=$n(Oe),Dt=de||(At!==Oe&&Pe?(function(Nt){if($n(Nt)===Fn)return[];var sn=qr(Nt);return[Zi(Nt),sn,Zi(sn)]})(Oe):[qr(Oe)]),Fe=[Oe].concat(Dt).reduce(function(Nt,sn){return Nt.concat($n(sn)===Fn?ul(d,{placement:sn,boundary:Te,rootBoundary:_e,padding:be,flipVariations:Pe,allowedAutoPlacements:Be}):sn)},[]),tt=d.rects.reference,$e=d.rects.popper,it=new Map,yt=!0,pt=Fe[0],mt=0;mt<Fe.length;mt++){var nn=Fe[mt],Ii=$n(nn),ii=Yn(nn)===Jn,Vn=[bt,lt].indexOf(Ii)>=0,qi=Vn?"width":"height",xi=Cr(d,{placement:nn,boundary:Te,rootBoundary:_e,altBoundary:Ge,padding:be}),Wt=Vn?ii?tn:Bt:ii?lt:bt;tt[qi]>$e[qi]&&(Wt=qr(Wt));var rn=qr(Wt),mn=[];if(B&&mn.push(xi[Ii]<=0),he&&mn.push(xi[Wt]<=0,xi[rn]<=0),mn.every(function(Nt){return Nt})){pt=nn,yt=!1;break}it.set(nn,mn)}if(yt)for(var Fi=function(Nt){var sn=Fe.find(function(Xt){var Ot=it.get(Xt);if(Ot)return Ot.slice(0,Nt).every(function(wa){return wa})});if(sn)return pt=sn,"break"},En=Pe?3:1;En>0&&Fi(En)!=="break";En--);d.placement!==pt&&(d.modifiersData[R]._skip=!0,d.placement=pt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cl(A,d,v){return v===void 0&&(v={x:0,y:0}),{top:A.top-d.height-v.y,right:A.right-d.width+v.x,bottom:A.bottom-d.height+v.y,left:A.left-d.width-v.x}}function hl(A){return[bt,tn,lt,Bt].some(function(d){return A[d]>=0})}const Ls={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,v=A.name,R=d.rects.reference,z=d.rects.popper,B=d.modifiersData.preventOverflow,ie=Cr(d,{elementContext:"reference"}),he=Cr(d,{altBoundary:!0}),de=cl(ie,R),be=cl(he,z,B),Te=hl(de),_e=hl(be);d.modifiersData[v]={referenceClippingOffsets:de,popperEscapeOffsets:be,isReferenceHidden:Te,hasPopperEscaped:_e},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Te,"data-popper-escaped":_e})}},ro={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,v=A.options,R=A.name,z=v.offset,B=z===void 0?[0,0]:z,ie=ca.reduce(function(Te,_e){return Te[_e]=(function(Ge,Le,Pe){var Be=$n(Ge),Oe=[Bt,bt].indexOf(Be)>=0?-1:1,At=typeof Pe=="function"?Pe(Object.assign({},Le,{placement:Ge})):Pe,Dt=At[0],Fe=At[1];return Dt=Dt||0,Fe=(Fe||0)*Oe,[Bt,tn].indexOf(Be)>=0?{x:Fe,y:Dt}:{x:Dt,y:Fe}})(_e,d.rects,B),Te},{}),he=ie[d.placement],de=he.x,be=he.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=de,d.modifiersData.popperOffsets.y+=be),d.modifiersData[R]=ie}},so={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,v=A.name;d.modifiersData[v]=Sr({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},ga={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,R=A.name,z=v.mainAxis,B=z===void 0||z,ie=v.altAxis,he=ie!==void 0&&ie,de=v.boundary,be=v.rootBoundary,Te=v.altBoundary,_e=v.padding,Ge=v.tether,Le=Ge===void 0||Ge,Pe=v.tetherOffset,Be=Pe===void 0?0:Pe,Oe=Cr(d,{boundary:de,rootBoundary:be,padding:_e,altBoundary:Te}),At=$n(d.placement),Dt=Yn(d.placement),Fe=!Dt,tt=Wi(At),$e=tt==="x"?"y":"x",it=d.modifiersData.popperOffsets,yt=d.rects.reference,pt=d.rects.popper,mt=typeof Be=="function"?Be(Object.assign({},d.rects,{placement:d.placement})):Be,nn=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),Ii=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ii={x:0,y:0};if(it){if(B){var Vn,qi=tt==="y"?bt:Bt,xi=tt==="y"?lt:tn,Wt=tt==="y"?"height":"width",rn=it[tt],mn=rn+Oe[qi],Fi=rn-Oe[xi],En=Le?-pt[Wt]/2:0,Nt=Dt===Jn?yt[Wt]:pt[Wt],sn=Dt===Jn?-pt[Wt]:-yt[Wt],Xt=d.elements.arrow,Ot=Le&&Xt?Os(Xt):{width:0,height:0},wa=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Xr=wa[qi],Qe=wa[xi],_t=wr(0,yt[Wt],Ot[Wt]),Tn=Fe?yt[Wt]/2-En-_t-Xr-nn.mainAxis:Nt-_t-Xr-nn.mainAxis,ou=Fe?-yt[Wt]/2+En+_t+Qe+nn.mainAxis:sn+_t+Qe+nn.mainAxis,Ys=d.elements.arrow&&Qi(d.elements.arrow),Aa=Ys?tt==="y"?Ys.clientTop||0:Ys.clientLeft||0:0,wl=(Vn=Ii?.[tt])!=null?Vn:0,Al=rn+ou-wl,Sa=wr(Le?Tr(mn,rn+Tn-wl-Aa):mn,rn,Le?Br(Fi,Al):Fi);it[tt]=Sa,ii[tt]=Sa-rn}if(he){var xf,an=tt==="x"?bt:Bt,zc=tt==="x"?lt:tn,gs=it[$e],Sl=$e==="y"?"height":"width",Bc=gs+Oe[an],Df=gs-Oe[zc],Cl=[bt,Bt].indexOf(At)!==-1,lu=(xf=Ii?.[$e])!=null?xf:0,uu=Cl?Bc:gs-yt[Sl]-pt[Sl]-lu+nn.altAxis,ri=Cl?gs+yt[Sl]+pt[Sl]-lu-nn.altAxis:Df,on=Le&&Cl?(function(cu,Rl,To){var hu=wr(cu,Rl,To);return hu>To?To:hu})(uu,gs,ri):wr(Le?uu:Bc,gs,Le?ri:Df);it[$e]=on,ii[$e]=on-gs}d.modifiersData[R]=ii}},requiresIfExists:["offset"]};function Kl(A,d,v){v===void 0&&(v=!1);var R,z,B=Gn(d),ie=Gn(d)&&(function(_e){var Ge=_e.getBoundingClientRect(),Le=In(Ge.width)/_e.offsetWidth||1,Pe=In(Ge.height)/_e.offsetHeight||1;return Le!==1||Pe!==1})(d),he=On(d),de=Hr(A,ie,v),be={scrollLeft:0,scrollTop:0},Te={x:0,y:0};return(B||!B&&!v)&&((Cn(d)!=="body"||er(he))&&(be=(R=d)!==Rn(R)&&Gn(R)?{scrollLeft:(z=R).scrollLeft,scrollTop:z.scrollTop}:xn(R)),Gn(d)?((Te=Hr(d,!0)).x+=d.clientLeft,Te.y+=d.clientTop):he&&(Te.x=Ar(he))),{x:de.left+be.scrollLeft-Te.x,y:de.top+be.scrollTop-Te.y,width:de.width,height:de.height}}function Ql(A){var d=new Map,v=new Set,R=[];function z(B){v.add(B.name),[].concat(B.requires||[],B.requiresIfExists||[]).forEach(function(ie){if(!v.has(ie)){var he=d.get(ie);he&&z(he)}}),R.push(B)}return A.forEach(function(B){d.set(B.name,B)}),A.forEach(function(B){v.has(B.name)||z(B)}),R}var Rr={placement:"bottom",modifiers:[],strategy:"absolute"};function fl(){for(var A=arguments.length,d=new Array(A),v=0;v<A;v++)d[v]=arguments[v];return!d.some(function(R){return!(R&&typeof R.getBoundingClientRect=="function")})}function ya(A){A===void 0&&(A={});var d=A,v=d.defaultModifiers,R=v===void 0?[]:v,z=d.defaultOptions,B=z===void 0?Rr:z;return function(ie,he,de){de===void 0&&(de=B);var be,Te,_e={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rr,B),modifiersData:{},elements:{reference:ie,popper:he},attributes:{},styles:{}},Ge=[],Le=!1,Pe={state:_e,setOptions:function(Oe){var At=typeof Oe=="function"?Oe(_e.options):Oe;Be(),_e.options=Object.assign({},B,_e.options,At),_e.scrollParents={reference:vn(ie)?us(ie):ie.contextElement?us(ie.contextElement):[],popper:us(he)};var Dt,Fe,tt=(function($e){var it=Ql($e);return Ns.reduce(function(yt,pt){return yt.concat(it.filter(function(mt){return mt.phase===pt}))},[])})((Dt=[].concat(R,_e.options.modifiers),Fe=Dt.reduce(function($e,it){var yt=$e[it.name];return $e[it.name]=yt?Object.assign({},yt,it,{options:Object.assign({},yt.options,it.options),data:Object.assign({},yt.data,it.data)}):it,$e},{}),Object.keys(Fe).map(function($e){return Fe[$e]})));return _e.orderedModifiers=tt.filter(function($e){return $e.enabled}),_e.orderedModifiers.forEach(function($e){var it=$e.name,yt=$e.options,pt=yt===void 0?{}:yt,mt=$e.effect;if(typeof mt=="function"){var nn=mt({state:_e,name:it,instance:Pe,options:pt});Ge.push(nn||function(){})}}),Pe.update()},forceUpdate:function(){if(!Le){var Oe=_e.elements,At=Oe.reference,Dt=Oe.popper;if(fl(At,Dt)){_e.rects={reference:Kl(At,Qi(Dt),_e.options.strategy==="fixed"),popper:Os(Dt)},_e.reset=!1,_e.placement=_e.options.placement,_e.orderedModifiers.forEach(function(mt){return _e.modifiersData[mt.name]=Object.assign({},mt.data)});for(var Fe=0;Fe<_e.orderedModifiers.length;Fe++)if(_e.reset!==!0){var tt=_e.orderedModifiers[Fe],$e=tt.fn,it=tt.options,yt=it===void 0?{}:it,pt=tt.name;typeof $e=="function"&&(_e=$e({state:_e,options:yt,name:pt,instance:Pe})||_e)}else _e.reset=!1,Fe=-1}}},update:(be=function(){return new Promise(function(Oe){Pe.forceUpdate(),Oe(_e)})},function(){return Te||(Te=new Promise(function(Oe){Promise.resolve().then(function(){Te=void 0,Oe(be())})})),Te}),destroy:function(){Be(),Le=!0}};if(!fl(ie,he))return Pe;function Be(){Ge.forEach(function(Oe){return Oe()}),Ge=[]}return Pe.setOptions(de).then(function(Oe){!Le&&de.onFirstUpdate&&de.onFirstUpdate(Oe)}),Pe}}var Wl=ya(),Xl=ya({defaultModifiers:[as,so,Ji,fa]}),Gr=ya({defaultModifiers:[as,so,Ji,fa,ro,Vs,ga,Xi,Ls]});const ei=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Sn,afterRead:ha,afterWrite:Et,applyStyles:fa,arrow:Xi,auto:Fn,basePlacements:Nn,beforeMain:Ri,beforeRead:Ja,beforeWrite:rs,bottom:lt,clippingParents:Xa,computeStyles:Ji,createPopper:Gr,createPopperBase:Wl,createPopperLite:Xl,detectOverflow:Cr,end:Gt,eventListeners:as,flip:Vs,hide:Ls,left:Bt,main:fn,modifierPhases:Ns,offset:ro,placements:ca,popper:fi,popperGenerator:ya,popperOffsets:so,preventOverflow:ga,read:al,reference:Er,right:tn,start:Jn,top:bt,variationPlacements:ua,viewport:la,write:Za},Symbol.toStringTag,{value:"Module"})),dl="dropdown",$r=".bs.dropdown",Ir=".data-api",c="ArrowUp",_="ArrowDown",T=`hide${$r}`,D=`hidden${$r}`,Y=`show${$r}`,ee=`shown${$r}`,pe=`click${$r}${Ir}`,Ke=`keydown${$r}${Ir}`,dn=`keyup${$r}${Ir}`,rt="show",Tt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',tr=`${Tt}.${rt}`,ji=".dropdown-menu",xr=$()?"top-end":"top-start",Dr=$()?"top-start":"top-end",_a=$()?"bottom-end":"bottom-start",ao=$()?"bottom-start":"bottom-end",oo=$()?"left-start":"right-start",km=$()?"right-start":"left-start",Vm={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Lm={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class nr extends Ve{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=me.next(this._element,ji)[0]||me.prev(this._element,ji)[0]||me.findOne(ji,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Vm}static get DefaultType(){return Lm}static get NAME(){return dl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!x.trigger(this._element,Y,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))x.on(v,"mouseover",L);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rt),this._element.classList.add(rt),x.trigger(this._element,ee,d)}}hide(){if(S(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!x.trigger(this._element,T,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))x.off(v,"mouseover",L);this._popper&&this._popper.destroy(),this._menu.classList.remove(rt),this._element.classList.remove(rt),this._element.setAttribute("aria-expanded","false"),Ie.removeDataAttribute(this._menu,"popper"),x.trigger(this._element,D,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!g(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${dl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(ei===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:g(this._config.reference)?d=y(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=Gr(d,this._menu,v)}_isShown(){return this._menu.classList.contains(rt)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return oo;if(d.classList.contains("dropstart"))return km;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?Dr:xr:v?ao:_a}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ie.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...ce(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:v}){const R=me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(z=>w(z));R.length&&ze(R,v,d===_,!R.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=nr.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=me.find(tr);for(const R of v){const z=nr.getInstance(R);if(!z||z._config.autoClose===!1)continue;const B=d.composedPath(),ie=B.includes(z._menu);if(B.includes(z._element)||z._config.autoClose==="inside"&&!ie||z._config.autoClose==="outside"&&ie||z._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const he={relatedTarget:z._element};d.type==="click"&&(he.clickEvent=d),z._completeHide(he)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),R=d.key==="Escape",z=[c,_].includes(d.key);if(!z&&!R||v&&!R)return;d.preventDefault();const B=this.matches(Tt)?this:me.prev(this,Tt)[0]||me.next(this,Tt)[0]||me.findOne(Tt,d.delegateTarget.parentNode),ie=nr.getOrCreateInstance(B);if(z)return d.stopPropagation(),ie.show(),void ie._selectMenuItem(d);ie._isShown()&&(d.stopPropagation(),ie.hide(),B.focus())}}x.on(document,Ke,Tt,nr.dataApiKeydownHandler),x.on(document,Ke,ji,nr.dataApiKeydownHandler),x.on(document,pe,nr.clearMenus),x.on(document,dn,nr.clearMenus),x.on(document,pe,Tt,function(A){A.preventDefault(),nr.getOrCreateInstance(this).toggle()}),te(nr);const cc="backdrop",lo="show",uo=`mousedown.bs.${cc}`,Pm={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class hc extends ke{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Pm}static get DefaultType(){return Jl}static get NAME(){return cc}show(d){if(!this._config.isVisible)return void ce(d);this._append();const v=this._getElement();this._config.isAnimated&&K(v),v.classList.add(lo),this._emulateAnimation(()=>{ce(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(lo),this._emulateAnimation(()=>{this.dispose(),ce(d)})):ce(d)}dispose(){this._isAppended&&(x.off(this._element,uo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=y(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),x.on(d,uo,()=>{ce(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){Ce(d,this._getElement(),this._config.isAnimated)}}const ml=".bs.focustrap",fc=`focusin${ml}`,dc=`keydown.tab${ml}`,mc="backward",uf={autofocus:!0,trapElement:null},cf={autofocus:"boolean",trapElement:"element"};class hf extends ke{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return uf}static get DefaultType(){return cf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),x.off(document,ml),x.on(document,fc,d=>this._handleFocusin(d)),x.on(document,dc,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,x.off(document,ml))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const R=me.focusableChildren(v);R.length===0?v.focus():this._lastTabNavDirection===mc?R[R.length-1].focus():R[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?mc:"forward")}}const ff=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",df=".sticky-top",Zl="padding-right",mf="margin-right";class di{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zl,v=>v+d),this._setElementAttributes(ff,Zl,v=>v+d),this._setElementAttributes(df,mf,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zl),this._resetElementAttributes(ff,Zl),this._resetElementAttributes(df,mf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,R){const z=this.getWidth();this._applyManipulationCallback(d,B=>{if(B!==this._element&&window.innerWidth>B.clientWidth+z)return;this._saveInitialAttribute(B,v);const ie=window.getComputedStyle(B).getPropertyValue(v);B.style.setProperty(v,`${R(Number.parseFloat(ie))}px`)})}_saveInitialAttribute(d,v){const R=d.style.getPropertyValue(v);R&&Ie.setDataAttribute(d,v,R)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,R=>{const z=Ie.getDataAttribute(R,v);z!==null?(Ie.removeDataAttribute(R,v),R.style.setProperty(v,z)):R.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(g(d))v(d);else for(const R of me.find(d,this._element))v(R)}}const ti=".bs.modal",pf=`hide${ti}`,gf=`hidePrevented${ti}`,pc=`hidden${ti}`,gc=`show${ti}`,yc=`shown${ti}`,jm=`resize${ti}`,co=`click.dismiss${ti}`,_c=`mousedown.dismiss${ti}`,pl=`keydown.dismiss${ti}`,vc=`click${ti}.data-api`,bc="modal-open",Ps="show",js="modal-static",Ec={backdrop:!0,focus:!0,keyboard:!0},yf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ui extends Ve{constructor(d,v){super(d,v),this._dialog=me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new di,this._addEventListeners()}static get Default(){return Ec}static get DefaultType(){return yf}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||x.trigger(this._element,gc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(bc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(x.trigger(this._element,pf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ps),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){x.off(window,ti),x.off(this._dialog,ti),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new hc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hf({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=me.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),K(this._element),this._element.classList.add(Ps),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,x.trigger(this._element,yc,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){x.on(this._element,pl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),x.on(window,jm,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),x.on(this._element,_c,d=>{x.one(this._element,co,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(bc),this._resetAdjustments(),this._scrollBar.reset(),x.trigger(this._element,pc)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(x.trigger(this._element,gf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(js)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(js),this._queueCallback(()=>{this._element.classList.remove(js),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),R=v>0;if(R&&!d){const z=$()?"paddingLeft":"paddingRight";this._element.style[z]=`${v}px`}if(!R&&d){const z=$()?"paddingRight":"paddingLeft";this._element.style[z]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const R=Ui.getOrCreateInstance(this,d);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d](v)}})}}x.on(document,vc,'[data-bs-toggle="modal"]',function(A){const d=me.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),x.one(d,gc,R=>{R.defaultPrevented||x.one(d,pc,()=>{w(this)&&this.focus()})});const v=me.findOne(".modal.show");v&&Ui.getInstance(v).hide(),Ui.getOrCreateInstance(d).toggle(this)}),wi(Ui),te(Ui);const Yr=".bs.offcanvas",Tc=".data-api",_f=`load${Yr}${Tc}`,vf="show",bf="showing",Ef="hiding",wc=".offcanvas.show",Tf=`show${Yr}`,Ac=`shown${Yr}`,Nr=`hide${Yr}`,gl=`hidePrevented${Yr}`,zi=`hidden${Yr}`,ho=`resize${Yr}`,Sc=`click${Yr}${Tc}`,eu=`keydown.dismiss${Yr}`,tu={backdrop:!0,keyboard:!0,scroll:!1},Cc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class mi extends Ve{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return tu}static get DefaultType(){return Cc}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||x.trigger(this._element,Tf,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new di().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(bf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(vf),this._element.classList.remove(bf),x.trigger(this._element,Ac,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(x.trigger(this._element,Nr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ef),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(vf,Ef),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new di().reset(),x.trigger(this._element,zi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new hc({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():x.trigger(this._element,gl)}:null})}_initializeFocusTrap(){return new hf({trapElement:this._element})}_addEventListeners(){x.on(this._element,eu,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():x.trigger(this._element,gl))})}static jQueryInterface(d){return this.each(function(){const v=mi.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}x.on(document,Sc,'[data-bs-toggle="offcanvas"]',function(A){const d=me.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this))return;x.one(d,zi,()=>{w(this)&&this.focus()});const v=me.findOne(wc);v&&v!==d&&mi.getInstance(v).hide(),mi.getOrCreateInstance(d).toggle(this)}),x.on(window,_f,()=>{for(const A of me.find(wc))mi.getOrCreateInstance(A).show()}),x.on(window,ho,()=>{for(const A of me.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&mi.getOrCreateInstance(A).hide()}),wi(mi),te(mi);const Rc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Um=(A,d)=>{const v=A.nodeName.toLowerCase();return d.includes(v)?!nu.has(v)||!!fo.test(A.nodeValue):d.filter(R=>R instanceof RegExp).some(R=>R.test(v))},Bi={allowList:Rc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ic={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},cs={entry:"(string|element|function|null)",selector:"(string|element)"};class wf extends ke{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Bi}static get DefaultType(){return Ic}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[z,B]of Object.entries(this._config.content))this._setContent(d,B,z);const v=d.children[0],R=this._resolvePossibleFunction(this._config.extraClass);return R&&v.classList.add(...R.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,R]of Object.entries(d))super._typeCheckConfig({selector:v,entry:R},cs)}_setContent(d,v,R){const z=me.findOne(R,d);z&&((v=this._resolvePossibleFunction(v))?g(v)?this._putElementInTemplate(y(v),z):this._config.html?z.innerHTML=this._maybeSanitize(v):z.textContent=v:z.remove())}_maybeSanitize(d){return this._config.sanitize?(function(v,R,z){if(!v.length)return v;if(z&&typeof z=="function")return z(v);const B=new window.DOMParser().parseFromString(v,"text/html"),ie=[].concat(...B.body.querySelectorAll("*"));for(const he of ie){const de=he.nodeName.toLowerCase();if(!Object.keys(R).includes(de)){he.remove();continue}const be=[].concat(...he.attributes),Te=[].concat(R["*"]||[],R[de]||[]);for(const _e of be)Um(_e,Te)||he.removeAttribute(_e.nodeName)}return B.body.innerHTML})(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return ce(d,[void 0,this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const iu=new Set(["sanitize","allowList","sanitizeFn"]),hs="fade",mo="show",Af=".tooltip-inner",ru=".modal",xc="hide.bs.modal",ni="hover",Us="focus",zs="click",su={AUTO:"auto",TOP:"top",RIGHT:$()?"left":"right",BOTTOM:"bottom",LEFT:$()?"right":"left"},yl={allowList:Rc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ir={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Mn extends Ve{constructor(d,v){if(ei===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yl}static get DefaultType(){return ir}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),x.off(this._element.closest(ru),xc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=x.trigger(this._element,this.constructor.eventName("show")),v=(I(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const R=this._getTipElement();this._element.setAttribute("aria-describedby",R.getAttribute("id"));const{container:z}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(z.append(R),x.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(R),R.classList.add(mo),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))x.on(B,"mouseover",L);this._queueCallback(()=>{x.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!x.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(mo),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))x.off(d,"mouseover",L);this._activeTrigger[zs]=!1,this._activeTrigger[Us]=!1,this._activeTrigger[ni]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),x.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(hs,mo),v.classList.add(`bs-${this.constructor.NAME}-auto`);const R=(z=>{do z+=Math.floor(1e6*Math.random());while(document.getElementById(z));return z})(this.constructor.NAME).toString();return v.setAttribute("id",R),this._isAnimated()&&v.classList.add(hs),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new wf({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Af]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hs)}_isShown(){return this.tip&&this.tip.classList.contains(mo)}_createPopper(d){const v=ce(this._config.placement,[this,d,this._element]),R=su[v.toUpperCase()];return Gr(this._element,d,this._getPopperConfig(R))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return ce(d,[this._element,this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:R=>{this._getTipElement().setAttribute("data-popper-placement",R.state.placement)}}]};return{...v,...ce(this._config.popperConfig,[void 0,v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")x.on(this._element,this.constructor.eventName("click"),this._config.selector,R=>{const z=this._initializeOnDelegatedTarget(R);z._activeTrigger[zs]=!(z._isShown()&&z._activeTrigger[zs]),z.toggle()});else if(v!=="manual"){const R=v===ni?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),z=v===ni?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");x.on(this._element,R,this._config.selector,B=>{const ie=this._initializeOnDelegatedTarget(B);ie._activeTrigger[B.type==="focusin"?Us:ni]=!0,ie._enter()}),x.on(this._element,z,this._config.selector,B=>{const ie=this._initializeOnDelegatedTarget(B);ie._activeTrigger[B.type==="focusout"?Us:ni]=ie._element.contains(B.relatedTarget),ie._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},x.on(this._element.closest(ru),xc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=Ie.getDataAttributes(this._element);for(const R of Object.keys(v))iu.has(R)&&delete v[R];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:y(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,R]of Object.entries(this._config))this.constructor.Default[v]!==R&&(d[v]=R);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Mn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}te(Mn);const Bs=".popover-header",Kr=".popover-body",Qr={...Mn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},fs={...Mn.DefaultType,content:"(null|string|element|function)"};class _l extends Mn{static get Default(){return Qr}static get DefaultType(){return fs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Bs]:this._getTitle(),[Kr]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=_l.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}te(_l);const vl=".bs.scrollspy",Dc=`activate${vl}`,Nc=`click${vl}`,Kn=`load${vl}.data-api`,wt="active",nt="[href]",ds=".nav-link",rr=`${ds}, .nav-item > ${ds}, .list-group-item`,Oc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Hs={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class po extends Ve{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Oc}static get DefaultType(){return Hs}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=y(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(x.off(this._config.target,Nc),x.on(this._config.target,Nc,nt,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const R=this._rootElement||window,z=v.offsetTop-this._element.offsetTop;if(R.scrollTo)return void R.scrollTo({top:z,behavior:"smooth"});R.scrollTop=z}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=ie=>this._targetLinks.get(`#${ie.target.id}`),R=ie=>{this._previousScrollData.visibleEntryTop=ie.target.offsetTop,this._process(v(ie))},z=(this._rootElement||document.documentElement).scrollTop,B=z>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=z;for(const ie of d){if(!ie.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(ie));continue}const he=ie.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(B&&he){if(R(ie),!z)return}else B||he||R(ie)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=me.find(nt,this._config.target);for(const v of d){if(!v.hash||S(v))continue;const R=me.findOne(decodeURI(v.hash),this._element);w(R)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,R))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(wt),this._activateParents(d),x.trigger(this._element,Dc,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))me.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(wt);else for(const v of me.parents(d,".nav, .list-group"))for(const R of me.prev(v,rr))R.classList.add(wt)}_clearActiveClass(d){d.classList.remove(wt);const v=me.find(`${nt}.${wt}`,d);for(const R of v)R.classList.remove(wt)}static jQueryInterface(d){return this.each(function(){const v=po.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}x.on(window,Kn,()=>{for(const A of me.find('[data-bs-spy="scroll"]'))po.getOrCreateInstance(A)}),te(po);const qs=".bs.tab",go=`hide${qs}`,va=`hidden${qs}`,Mc=`show${qs}`,bl=`shown${qs}`,kc=`click${qs}`,ba=`keydown${qs}`,ms=`load${qs}`,Fs="ArrowLeft",Wr="ArrowRight",Vc="ArrowUp",au="ArrowDown",Gs="Home",El="End",Hi="active",kn="fade",yo="show",Lc=".dropdown-toggle",Pc=`:not(${Lc})`,Sf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jc=`.nav-link${Pc}, .list-group-item${Pc}, [role="tab"]${Pc}, ${Sf}`,bn=`.${Hi}[data-bs-toggle="tab"], .${Hi}[data-bs-toggle="pill"], .${Hi}[data-bs-toggle="list"]`;class ps extends Ve{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),x.on(this._element,ba,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),R=v?x.trigger(v,go,{relatedTarget:d}):null;x.trigger(d,Mc,{relatedTarget:v}).defaultPrevented||R&&R.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(Hi),this._activate(me.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),x.trigger(d,bl,{relatedTarget:v})):d.classList.add(yo)},d,d.classList.contains(kn)))}_deactivate(d,v){d&&(d.classList.remove(Hi),d.blur(),this._deactivate(me.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),x.trigger(d,va,{relatedTarget:v})):d.classList.remove(yo)},d,d.classList.contains(kn)))}_keydown(d){if(![Fs,Wr,Vc,au,Gs,El].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(z=>!S(z));let R;if([Gs,El].includes(d.key))R=v[d.key===Gs?0:v.length-1];else{const z=[Wr,au].includes(d.key);R=ze(v,d.target,z,!0)}R&&(R.focus({preventScroll:!0}),ps.getOrCreateInstance(R).show())}_getChildren(){return me.find(jc,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const R of v)this._setInitialAttributesOnChild(R)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),R=this._getOuterElement(d);d.setAttribute("aria-selected",v),R!==d&&this._setAttributeIfNotExists(R,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=me.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const R=this._getOuterElement(d);if(!R.classList.contains("dropdown"))return;const z=(B,ie)=>{const he=me.findOne(B,R);he&&he.classList.toggle(ie,v)};z(Lc,Hi),z(".dropdown-menu",yo),R.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,R){d.hasAttribute(v)||d.setAttribute(v,R)}_elemIsActive(d){return d.classList.contains(Hi)}_getInnerElement(d){return d.matches(jc)?d:me.findOne(jc,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=ps.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}x.on(document,kc,Sf,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),S(this)||ps.getOrCreateInstance(this).show()}),x.on(window,ms,()=>{for(const A of me.find(bn))ps.getOrCreateInstance(A)}),te(ps);const sr=".bs.toast",Tl=`mouseover${sr}`,Uc=`mouseout${sr}`,_o=`focusin${sr}`,vo=`focusout${sr}`,zm=`hide${sr}`,Cf=`hidden${sr}`,Bm=`show${sr}`,Rf=`shown${sr}`,$s="hide",bo="show",Ea="showing",If={animation:"boolean",autohide:"boolean",delay:"number"},Eo={animation:!0,autohide:!0,delay:5e3};class Ta extends Ve{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Eo}static get DefaultType(){return If}static get NAME(){return"toast"}show(){x.trigger(this._element,Bm).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($s),K(this._element),this._element.classList.add(bo,Ea),this._queueCallback(()=>{this._element.classList.remove(Ea),x.trigger(this._element,Rf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(x.trigger(this._element,zm).defaultPrevented||(this._element.classList.add(Ea),this._queueCallback(()=>{this._element.classList.add($s),this._element.classList.remove(Ea,bo),x.trigger(this._element,Cf)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(bo),super.dispose()}isShown(){return this._element.classList.contains(bo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const R=d.relatedTarget;this._element===R||this._element.contains(R)||this._maybeScheduleHide()}_setListeners(){x.on(this._element,Tl,d=>this._onInteraction(d,!0)),x.on(this._element,Uc,d=>this._onInteraction(d,!1)),x.on(this._element,_o,d=>this._onInteraction(d,!0)),x.on(this._element,vo,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=Ta.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return wi(Ta),te(Ta),{Alert:ot,Button:Yt,Carousel:vr,Collapse:vt,Dropdown:nr,Modal:Ui,Offcanvas:mi,Popover:_l,ScrollSpy:po,Tab:ps,Toast:Ta,Tooltip:Mn}})})(Vd)),Vd.exports}UM();function zM(){return E.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-gradient bg-primary fixed-top shadow-sm ",children:E.jsxs("div",{className:"container-fluid mx-md-5 mx-lg-7",children:[E.jsxs(Nu,{className:"navbar-brand fw-bold fs-1",to:"/",children:[E.jsx("span",{className:"text-dark",children:"Salamat"}),E.jsx("span",{className:"text-white",children:"Doc"})]}),E.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:E.jsx("span",{className:"navbar-toggler-icon"})}),E.jsx("div",{className:"collapse navbar-collapse justify-content-end fs-3",id:"navbarNav",children:E.jsxs("ul",{className:"navbar-nav",children:[E.jsx("li",{className:"nav-item",children:E.jsx(Nu,{className:"nav-link text-dark",to:"/login",children:"Login"})}),E.jsxs("li",{className:"nav-item dropdown",children:[E.jsx("a",{className:"nav-link dropdown-toggle text-dark",href:"#",id:"infoDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Info"}),E.jsxs("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"infoDropdown",children:[E.jsx("li",{children:E.jsx(Nu,{className:"dropdown-item",to:"/about",children:"About Us"})}),E.jsx("li",{children:E.jsx(Nu,{className:"dropdown-item",to:"/contact",children:"Contact"})})]})]})]})})]})})}function BM(){const{user:i,profile:e,loading:n}=Ka(),s=$a();if(n)return E.jsx("div",{children:"Loading..."});const o=e?.role||null;let u=null;o==="admin"&&s.pathname.startsWith("/admin")?u=E.jsx(VM,{}):o==="doctor"&&s.pathname.startsWith("/doctor")?u=E.jsx(LM,{}):o==="patient"&&s.pathname.startsWith("/patient")&&(u=E.jsx(PM,{}));const h=!u;return E.jsxs("div",{style:{display:"flex",minHeight:"100vh"},children:[u&&E.jsx("div",{style:{width:"250px",flexShrink:0},children:u}),E.jsxs("div",{style:{flexGrow:1},children:[h&&E.jsx(zM,{}),E.jsx(jC,{})]})]})}function vs({children:i}){const{user:e,loading:n}=Ka();return n?E.jsx("div",{className:"loading-screen",children:"Loading..."}):e?i:E.jsx(PC,{to:"/login"})}function HM(){return E.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-white",style:{backgroundImage:"url('../Home.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:E.jsxs("div",{className:"container bg-white text-dark rounded-4 shadow-lg p-5",style:{maxWidth:"700px"},children:[E.jsx("h1",{className:"fw-bold mb-4",children:"Accessible Online Health"}),E.jsx("p",{className:"lead",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective for all."}),E.jsx("p",{children:"With a future-oriented mindset, we don’t shy away from technology. This has allowed us to remotely connect you to our partnered doctors , ensuring you stay fit and healthy even in the comfort of your own home."}),E.jsx("hr",{}),E.jsx("p",{className:"mb-0",children:E.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})}const _i=[];for(let i=0;i<256;++i)_i.push((i+256).toString(16).slice(1));function qM(i,e=0){return(_i[i[e+0]]+_i[i[e+1]]+_i[i[e+2]]+_i[i[e+3]]+"-"+_i[i[e+4]]+_i[i[e+5]]+"-"+_i[i[e+6]]+_i[i[e+7]]+"-"+_i[i[e+8]]+_i[i[e+9]]+"-"+_i[i[e+10]]+_i[i[e+11]]+_i[i[e+12]]+_i[i[e+13]]+_i[i[e+14]]+_i[i[e+15]]).toLowerCase()}let vg;const FM=new Uint8Array(16);function GM(){if(!vg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vg=crypto.getRandomValues.bind(crypto)}return vg(FM)}const $M=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JT={randomUUID:$M};function YM(i,e,n){i=i||{};const s=i.random??i.rng?.()??GM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,qM(s)}function KM(i,e,n){return JT.randomUUID&&!i?JT.randomUUID():YM(i)}function QM(){const i=Fh(),[e,n]=q.useState(""),s=async o=>{o.preventDefault();const u=o.target.email.value,h=o.target.password.value;try{const g=(await tD(Gl,u,h)).user,y=ts(oi,"users",g.uid),w=await Fl(y);if(w.exists()){const S=w.data();if(console.log("Profile:",S),!S.token){const I=KM();await p_(y,{token:I}),S.token=I}switch(localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("authToken",S.token),console.log("Profile loaded:",S),S.role){case"admin":i("/admin/dashboard");break;case"doctor":i("/doctor/dashboard");break;case"patient":i("/patient/dashboard");break;default:alert("No valid role found. Please contact support."),i("/login")}}}catch(p){console.error("Login failed:",p.message),n("Invalid email or password")}};return E.jsx("div",{style:{backgroundImage:"url('../login.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:E.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:E.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:E.jsxs("div",{className:"card p-4 shadow-lg",style:{width:"22rem"},children:[E.jsx("h2",{className:"text-center mb-4",children:"Login"}),E.jsxs("form",{className:"mx-auto",onSubmit:s,children:[E.jsxs("div",{className:"mb-3 text-center",children:[E.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),E.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0})]}),E.jsxs("div",{className:"mb-3 text-center",children:[E.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),E.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",required:!0})]}),e&&E.jsx("p",{className:"text-danger text-center",children:e}),E.jsx("div",{className:"d-flex justify-content-center",children:E.jsx("button",{type:"submit",className:"btn btn-primary w-50",children:"Login"})}),E.jsx("div",{className:"text-center mt-3",children:E.jsx("a",{href:"#",className:"text-decoration-none",children:"Forgot password?"})})]})]})})})})}function WM(){return E.jsx("div",{style:{backgroundImage:"url('../Home.png')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:E.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",minHeight:"100vh"},children:E.jsx("div",{className:"container-fluid d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:E.jsxs("div",{className:"card p-4 shadow-lg",style:{maxWidth:"700px"},children:[E.jsx("h1",{className:"fw-bold mb-4",children:"Accessible Online Health"}),E.jsx("p",{className:"lead",children:"We’re dedicated to connecting patients to qualified doctors in a way that is safe, efficient, and effective for all."}),E.jsx("p",{children:"With a future-oriented mindset, we don’t shy away from technology. This has allowed us to remotely connect you to our partnered doctors , ensuring you stay fit and healthy even in the comfort of your own home."}),E.jsx("hr",{}),E.jsx("p",{className:"mb-0",children:E.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})})})}function XM(){return E.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-white",style:{backgroundImage:"url('../Contact.jpg')",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh"},children:E.jsxs("div",{className:"container bg-white text-dark rounded-4 shadow-lg p-5",style:{maxWidth:"700px"},children:[E.jsx("h1",{className:"fw-bold mb-4",children:"Contact"}),E.jsx("p",{className:"fs-4",children:"Are you interested as a patient? Email us through SalamatDoc@applications.com to get the patient application process started. Through email, we’ll guide you however much you need throughout the process."}),E.jsx("p",{className:"fs-4",children:"Are you interested in becoming a SalamatDoc doctor? Email us through SalamatDoc@applications.com to begin. You will undergo an authentication and screening process for everyone’s safety, security, and health."}),E.jsx("hr",{}),E.jsx("p",{className:"",children:E.jsx("strong",{children:"THINK OF CATCHPHRASE"})})]})})}const JM=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)}),tS=Ml(oi,"users"),ZM=()=>`USR-${JM()}`,ek=async i=>{try{const e=ZM(),n={...i,token:e,createdAt:zh(),updatedAt:zh(),status:"active"},s=await JA(tS,n);return console.log("User added with ID:",s.id),{success:!0,id:s.id,token:e}}catch(e){throw console.error("Error adding user:",e),e}},tk=async()=>{try{const i=await Ku(tS),e=[];return i.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(i){throw console.error("Error getting users:",i),i}},nk=async(i,e)=>{try{const n=ts(oi,"users",i),s={...e,updatedAt:zh()};return await p_(n,s),console.log("User updated successfully"),{success:!0}}catch(n){throw console.error("Error updating user:",n),n}},ik=async i=>{try{const e=ts(oi,"users",i);return await XA(e),console.log("User deleted successfully"),{success:!0}}catch(e){throw console.error("Error deleting user:",e),e}};function rk(){const[i,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(!1),[h,p]=q.useState(null),[g,y]=q.useState({name:"",email:"",role:"user",phone:"",address:""});q.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const $=await tk();e($)}catch($){console.error("Error fetching users:",$),alert("Failed to fetch users")}finally{s(!1)}},S=$=>{const{name:te,value:ce}=$.target;y(Ce=>({...Ce,[te]:ce}))},I=async $=>{$.preventDefault();try{if(h)await nk(h.id,g),alert("User updated successfully!");else{const te=await ek(g);alert(`User added successfully!
Token: ${te.token}`)}y({name:"",email:"",role:"user",phone:"",address:""}),u(!1),p(null),w()}catch(te){console.error("Error saving user:",te),alert("Failed to save user")}},L=$=>{p($),y({name:$.name||"",email:$.email||"",role:$.role||"user",phone:$.phone||"",address:$.address||""}),u(!0)},K=async $=>{if(window.confirm("Are you sure you want to delete this user?"))try{await ik($),alert("User deleted successfully!"),w()}catch(te){console.error("Error deleting user:",te),alert("Failed to delete user")}},Z=()=>{p(null),y({name:"",email:"",role:"user",phone:"",address:""}),u(!0)},G=()=>{u(!1),p(null)};return E.jsxs("main",{style:{padding:"20px",width:"100%",backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[E.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[E.jsx("h1",{children:"Admin Dashboard"}),E.jsx("button",{onClick:Z,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add New User"})]}),n?E.jsx("p",{children:"Loading users..."}):E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[E.jsx("th",{style:Su,children:"Name"}),E.jsx("th",{style:Su,children:"Email"}),E.jsx("th",{style:Su,children:"Role"}),E.jsx("th",{style:Su,children:"Token"}),E.jsx("th",{style:Su,children:"Status"}),E.jsx("th",{style:Su,children:"Actions"})]})}),E.jsx("tbody",{children:i.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:"No users found"})}):i.map($=>E.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[E.jsx("td",{style:Cu,children:$.name}),E.jsx("td",{style:Cu,children:$.email}),E.jsx("td",{style:Cu,children:$.role}),E.jsx("td",{style:Cu,children:E.jsx("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px",fontSize:"12px"},children:$.token})}),E.jsx("td",{style:Cu,children:E.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:$.status==="active"?"#4CAF50":"#f44336",color:"white",fontSize:"12px"},children:$.status})}),E.jsxs("td",{style:Cu,children:[E.jsx("button",{onClick:()=>L($),style:sk,children:"Edit"}),E.jsx("button",{onClick:()=>K($.id),style:ak,children:"Delete"})]})]},$.id))})]})})]}),o&&E.jsx("div",{style:ok,children:E.jsxs("div",{style:lk,children:[E.jsx("h2",{children:h?"Edit User":"Add New User"}),E.jsxs("form",{onSubmit:I,children:[E.jsxs("div",{style:fh,children:[E.jsx("label",{style:dh,children:"Name:"}),E.jsx("input",{type:"text",name:"name",value:g.name,onChange:S,required:!0,style:mh})]}),E.jsxs("div",{style:fh,children:[E.jsx("label",{style:dh,children:"Email:"}),E.jsx("input",{type:"email",name:"email",value:g.email,onChange:S,required:!0,style:mh})]}),E.jsxs("div",{style:fh,children:[E.jsx("label",{style:dh,children:"Role:"}),E.jsxs("select",{name:"role",value:g.role,onChange:S,style:mh,children:[E.jsx("option",{value:"user",children:"User"}),E.jsx("option",{value:"admin",children:"Admin"}),E.jsx("option",{value:"moderator",children:"Moderator"})]})]}),E.jsxs("div",{style:fh,children:[E.jsx("label",{style:dh,children:"Phone:"}),E.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:S,style:mh})]}),E.jsxs("div",{style:fh,children:[E.jsx("label",{style:dh,children:"Address:"}),E.jsx("textarea",{name:"address",value:g.address,onChange:S,style:{...mh,minHeight:"80px"}})]}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[E.jsx("button",{type:"submit",style:uk,children:h?"Update":"Create"}),E.jsx("button",{type:"button",onClick:G,style:ck,children:"Cancel"})]})]})]})})]})}const Su={padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"600"},Cu={padding:"12px"},sk={padding:"6px 12px",marginRight:"8px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},ak={padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},ok={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},lk={backgroundColor:"white",padding:"30px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto"},fh={marginBottom:"15px"},dh={display:"block",marginBottom:"5px",fontWeight:"500"},mh={width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"},uk={flex:1,padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},ck={flex:1,padding:"10px 20px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"};function nS(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=nS(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Rm(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=nS(i))&&(s&&(s+=" "),s+=e);return s}const hk=(i,e,n,s)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(i,n),u=Object.getOwnPropertyDescriptor(e,n);!fk(o,u)&&s||Object.defineProperty(i,n,u)},fk=function(i,e){return i===void 0||i.configurable||i.writable===e.writable&&i.enumerable===e.enumerable&&i.configurable===e.configurable&&(i.writable||i.value===e.value)},dk=(i,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(i)&&Object.setPrototypeOf(i,n)},mk=(i,e)=>`/* Wrapped ${i}*/
${e}`,pk=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),gk=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),yk=(i,e,n)=>{const s=n===""?"":`with ${n.trim()}() `,o=mk.bind(null,s,e.toString());Object.defineProperty(o,"name",gk);const{writable:u,enumerable:h,configurable:p}=pk;Object.defineProperty(i,"toString",{value:o,writable:u,enumerable:h,configurable:p})};function _k(i,e,{ignoreNonConfigurable:n=!1}={}){const{name:s}=i;for(const o of Reflect.ownKeys(e))hk(i,e,o,n);return dk(i,e),yk(i,e,s),i}const vk=new WeakMap,ZT=new WeakMap;function iS(i,{cacheKey:e,cache:n=new Map,maxAge:s}={}){if(s===0)return i;if(typeof s=="number"){if(s>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(s<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const h=e?e(u):u[0],p=n.get(h);if(p)return p.data;const g=i.apply(this,u),y=typeof s=="function"?s(...u):s;if(n.set(h,{data:g,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),y&&y>0&&y!==Number.POSITIVE_INFINITY){const w=setTimeout(()=>{n.delete(h)},y);w.unref?.();const S=ZT.get(i)??new Set;S.add(w),ZT.set(i,S)}return g};return _k(o,i,{ignoreNonConfigurable:!0}),vk.set(o,n),o}function bk(i){return typeof i=="string"}function Ek(i,e,n){return n.indexOf(i)===e}function Tk(i){return i.toLowerCase()===i}function e0(i){return i.indexOf(",")===-1?i:i.split(",")}function Zg(i){if(!i)return i;if(i==="C"||i==="posix"||i==="POSIX")return"en-US";if(i.indexOf(".")!==-1){var e=i.split(".")[0],n=e===void 0?"":e;return Zg(n)}if(i.indexOf("@")!==-1){var s=i.split("@")[0],n=s===void 0?"":s;return Zg(n)}if(i.indexOf("-")===-1||!Tk(i))return i;var o=i.split("-"),u=o[0],h=o[1],p=h===void 0?"":h;return"".concat(u,"-").concat(p.toUpperCase())}function wk(i){var e=i===void 0?{}:i,n=e.useFallbackLocale,s=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],g=[],y=0,w=p;y<w.length;y++){var S=w[y];g=g.concat(e0(S))}var I=navigator.language,L=I&&e0(I);h=h.concat(g,L)}return s&&h.push(u),h.filter(bk).map(Zg).filter(Ek)}var Ak=iS(wk,{cacheKey:JSON.stringify});function Sk(i){return Ak(i)[0]||null}var rS=iS(Sk,{cacheKey:JSON.stringify});function Qa(i,e,n){return function(o,u=n){const h=i(o)+u;return e(h)}}function sf(i){return function(n){return new Date(i(n).getTime()-1)}}function af(i,e){return function(s){return[i(s),e(s)]}}function cn(i){if(i instanceof Date)return i.getFullYear();if(typeof i=="number")return i;const e=Number.parseInt(i,10);if(typeof i=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${i}.`)}function il(i){if(i instanceof Date)return i.getMonth();throw new Error(`Failed to get month from date: ${i}.`)}function Im(i){if(i instanceof Date)return i.getDate();throw new Error(`Failed to get year from date: ${i}.`)}function lc(i){const e=cn(i),n=e+(-e+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}const Ck=Qa(cn,lc,-100),sS=Qa(cn,lc,100),y_=sf(sS),Rk=Qa(cn,y_,-100),aS=af(lc,y_);function rl(i){const e=cn(i),n=e+(-e+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}const oS=Qa(cn,rl,-10),__=Qa(cn,rl,10),xm=sf(__),lS=Qa(cn,xm,-10),uS=af(rl,xm);function uc(i){const e=cn(i),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const cS=Qa(cn,uc,-1),v_=Qa(cn,uc,1),Dm=sf(v_),hS=Qa(cn,Dm,-1),Ik=af(uc,Dm);function b_(i,e){return function(s,o=e){const u=cn(s),h=il(s)+o,p=new Date;return p.setFullYear(u,h,1),p.setHours(0,0,0,0),i(p)}}function $l(i){const e=cn(i),n=il(i),s=new Date;return s.setFullYear(e,n,1),s.setHours(0,0,0,0),s}const fS=b_($l,-1),E_=b_($l,1),of=sf(E_),dS=b_(of,-1),xk=af($l,of);function Dk(i,e){return function(s,o=e){const u=cn(s),h=il(s),p=Im(s)+o,g=new Date;return g.setFullYear(u,h,p),g.setHours(0,0,0,0),i(g)}}function lf(i){const e=cn(i),n=il(i),s=Im(i),o=new Date;return o.setFullYear(e,n,s),o.setHours(0,0,0,0),o}const Nk=Dk(lf,1),T_=sf(Nk),Ok=af(lf,T_);function mS(i){return Im(of(i))}var Ei={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Mk={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},w_=[0,1,2,3,4,5,6],bg=new Map;function kk(i){return function(n,s){var o=n||rS();bg.has(o)||bg.set(o,new Map);var u=bg.get(o);return u.has(i)||u.set(i,new Intl.DateTimeFormat(o||void 0,i).format),u.get(i)(s)}}function Vk(i){var e=new Date(i);return new Date(e.setHours(12))}function Yl(i){return function(e,n){return kk(i)(e,Vk(n))}}var Lk={day:"numeric"},Pk={day:"numeric",month:"long",year:"numeric"},jk={month:"long"},Uk={month:"long",year:"numeric"},zk={weekday:"short"},Bk={weekday:"long"},Hk={year:"numeric"},qk=Yl(Lk),Fk=Yl(Pk),Gk=Yl(jk),pS=Yl(Uk),$k=Yl(zk),Yk=Yl(Bk),Nm=Yl(Hk),Kk=w_[0],Qk=w_[5],t0=w_[6];function Bh(i,e){e===void 0&&(e=Ei.ISO_8601);var n=i.getDay();switch(e){case Ei.ISO_8601:return(n+6)%7;case Ei.ISLAMIC:return(n+1)%7;case Ei.HEBREW:case Ei.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Wk(i){var e=lc(i);return cn(e)}function Xk(i){var e=rl(i);return cn(e)}function ey(i,e){e===void 0&&(e=Ei.ISO_8601);var n=cn(i),s=il(i),o=i.getDate()-Bh(i,e);return new Date(n,s,o)}function Jk(i,e){e===void 0&&(e=Ei.ISO_8601);var n=e===Ei.GREGORY?Ei.GREGORY:Ei.ISO_8601,s=ey(i,e),o=cn(i)+1,u,h;do u=new Date(o,0,n===Ei.ISO_8601?4:1),h=ey(u,e),o-=1;while(i<h);return Math.round((s.getTime()-h.getTime())/(864e5*7))+1}function Vl(i,e){switch(i){case"century":return lc(e);case"decade":return rl(e);case"year":return uc(e);case"month":return $l(e);case"day":return lf(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function Zk(i,e){switch(i){case"century":return Ck(e);case"decade":return oS(e);case"year":return cS(e);case"month":return fS(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function gS(i,e){switch(i){case"century":return sS(e);case"decade":return __(e);case"year":return v_(e);case"month":return E_(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function eV(i,e){switch(i){case"decade":return oS(e,-100);case"year":return cS(e,-10);case"month":return fS(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function tV(i,e){switch(i){case"decade":return __(e,100);case"year":return v_(e,10);case"month":return E_(e,12);default:throw new Error("Invalid rangeType: ".concat(i))}}function yS(i,e){switch(i){case"century":return y_(e);case"decade":return xm(e);case"year":return Dm(e);case"month":return of(e);case"day":return T_(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function nV(i,e){switch(i){case"century":return Rk(e);case"decade":return lS(e);case"year":return hS(e);case"month":return dS(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function iV(i,e){switch(i){case"decade":return lS(e,-100);case"year":return hS(e,-10);case"month":return dS(e,-12);default:throw new Error("Invalid rangeType: ".concat(i))}}function n0(i,e){switch(i){case"century":return aS(e);case"decade":return uS(e);case"year":return Ik(e);case"month":return xk(e);case"day":return Ok(e);default:throw new Error("Invalid rangeType: ".concat(i))}}function rV(i,e,n){var s=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[Vl(i,s[0]),yS(i,s[1])]}function _S(i,e,n){return n.map(function(s){return(e||Nm)(i,s)}).join(" – ")}function sV(i,e,n){return _S(i,e,aS(n))}function vS(i,e,n){return _S(i,e,uS(n))}function aV(i){return i.getDay()===new Date().getDay()}function bS(i,e){e===void 0&&(e=Ei.ISO_8601);var n=i.getDay();switch(e){case Ei.ISLAMIC:case Ei.HEBREW:return n===Qk||n===t0;case Ei.ISO_8601:case Ei.GREGORY:return n===t0||n===Kk;default:throw new Error("Unsupported calendar type.")}}var Ws="react-calendar__navigation";function oV(i){var e=i.activeStartDate,n=i.drillUp,s=i.formatMonthYear,o=s===void 0?pS:s,u=i.formatYear,h=u===void 0?Nm:u,p=i.locale,g=i.maxDate,y=i.minDate,w=i.navigationAriaLabel,S=w===void 0?"":w,I=i.navigationAriaLive,L=i.navigationLabel,K=i.next2AriaLabel,Z=K===void 0?"":K,G=i.next2Label,$=G===void 0?"»":G,te=i.nextAriaLabel,ce=te===void 0?"":te,Ce=i.nextLabel,ze=Ce===void 0?"›":Ce,Ne=i.prev2AriaLabel,k=Ne===void 0?"":Ne,N=i.prev2Label,O=N===void 0?"«":N,j=i.prevAriaLabel,P=j===void 0?"":j,H=i.prevLabel,M=H===void 0?"‹":H,ye=i.setActiveStartDate,Ze=i.showDoubleView,J=i.view,fe=i.views,Ae=fe.indexOf(J)>0,je=J!=="century",Me=Zk(J,e),x=je?eV(J,e):void 0,se=gS(J,e),ge=je?tV(J,e):void 0,ve=(function(){if(Me.getFullYear()<0)return!0;var ot=nV(J,e);return y&&y>=ot})(),Ie=je&&(function(){if(x.getFullYear()<0)return!0;var ot=iV(J,e);return y&&y>=ot})(),ke=g&&g<se,Ve=je&&g&&g<ge;function kt(){ye(Me,"prev")}function me(){ye(x,"prev2")}function wi(){ye(se,"next")}function mr(){ye(ge,"next2")}function pr(ot){var Gi=(function(){switch(J){case"century":return sV(p,h,ot);case"decade":return vS(p,h,ot);case"year":return h(p,ot);case"month":return o(p,ot);default:throw new Error("Invalid view: ".concat(J,"."))}})();return L?L({date:ot,label:Gi,locale:p||rS()||void 0,view:J}):Gi}function Lr(){var ot="".concat(Ws,"__label");return E.jsxs("button",{"aria-label":S,"aria-live":I,className:ot,disabled:!Ae,onClick:n,style:{flexGrow:1},type:"button",children:[E.jsx("span",{className:"".concat(ot,"__labelText ").concat(ot,"__labelText--from"),children:pr(e)}),Ze?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"".concat(ot,"__divider"),children:" – "}),E.jsx("span",{className:"".concat(ot,"__labelText ").concat(ot,"__labelText--to"),children:pr(se)})]}):null]})}return E.jsxs("div",{className:Ws,children:[O!==null&&je?E.jsx("button",{"aria-label":k,className:"".concat(Ws,"__arrow ").concat(Ws,"__prev2-button"),disabled:Ie,onClick:me,type:"button",children:O}):null,M!==null&&E.jsx("button",{"aria-label":P,className:"".concat(Ws,"__arrow ").concat(Ws,"__prev-button"),disabled:ve,onClick:kt,type:"button",children:M}),Lr(),ze!==null&&E.jsx("button",{"aria-label":ce,className:"".concat(Ws,"__arrow ").concat(Ws,"__next-button"),disabled:ke,onClick:wi,type:"button",children:ze}),$!==null&&je?E.jsx("button",{"aria-label":Z,className:"".concat(Ws,"__arrow ").concat(Ws,"__next2-button"),disabled:Ve,onClick:mr,type:"button",children:$}):null]})}var Mu=function(){return Mu=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},Mu.apply(this,arguments)},lV=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function i0(i){return"".concat(i,"%")}function A_(i){var e=i.children,n=i.className,s=i.count,o=i.direction,u=i.offset,h=i.style,p=i.wrap,g=lV(i,["children","className","count","direction","offset","style","wrap"]);return E.jsx("div",Mu({className:n,style:Mu({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},h)},g,{children:q.Children.map(e,function(y,w){var S=u&&w===0?i0(100*u/s):null;return q.cloneElement(y,Mu(Mu({},y.props),{style:{flexBasis:i0(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function uV(i,e,n){return e&&e>i?e:n&&n<i?n:i}function Hh(i,e){return e[0]<=i&&e[1]>=i}function cV(i,e){return i[0]<=e[0]&&i[1]>=e[1]}function ES(i,e){return Hh(i[0],e)||Hh(i[1],e)}function r0(i,e,n){var s=ES(e,i),o=[];if(s){o.push(n);var u=Hh(i[0],e),h=Hh(i[1],e);u&&o.push("".concat(n,"Start")),h&&o.push("".concat(n,"End")),u&&h&&o.push("".concat(n,"BothEnds"))}return o}function hV(i){return Array.isArray(i)?i[0]!==null&&i[1]!==null:i!==null}function fV(i){if(!i)throw new Error("args is required");var e=i.value,n=i.date,s=i.hover,o="react-calendar__tile",u=[o];if(!n)return u;var h=new Date,p=(function(){if(Array.isArray(n))return n;var L=i.dateType;if(!L)throw new Error("dateType is required when date is not an array of two dates");return n0(L,n)})();if(Hh(h,p)&&u.push("".concat(o,"--now")),!e||!hV(e))return u;var g=(function(){if(Array.isArray(e))return e;var L=i.valueType;if(!L)throw new Error("valueType is required when value is not an array of two dates");return n0(L,e)})();cV(g,p)?u.push("".concat(o,"--active")):ES(g,p)&&u.push("".concat(o,"--hasActive"));var y=r0(g,p,"".concat(o,"--range"));u.push.apply(u,y);var w=Array.isArray(e)?e:[e];if(s&&w.length===1){var S=s>g[0]?[g[0],s]:[s,g[0]],I=r0(S,p,"".concat(o,"--hover"));u.push.apply(u,I)}return u}function Om(i){for(var e=i.className,n=i.count,s=n===void 0?3:n,o=i.dateTransform,u=i.dateType,h=i.end,p=i.hover,g=i.offset,y=i.renderTile,w=i.start,S=i.step,I=S===void 0?1:S,L=i.value,K=i.valueType,Z=[],G=w;G<=h;G+=I){var $=o(G);Z.push(y({classes:fV({date:$,dateType:u,hover:p,value:L,valueType:K}),date:$}))}return E.jsx(A_,{className:e,count:s,offset:g,wrap:!0,children:Z})}function Mm(i){var e=i.activeStartDate,n=i.children,s=i.classes,o=i.date,u=i.formatAbbr,h=i.locale,p=i.maxDate,g=i.maxDateTransform,y=i.minDate,w=i.minDateTransform,S=i.onClick,I=i.onMouseOver,L=i.style,K=i.tileClassName,Z=i.tileContent,G=i.tileDisabled,$=i.view,te=q.useMemo(function(){var Ce={activeStartDate:e,date:o,view:$};return typeof K=="function"?K(Ce):K},[e,o,K,$]),ce=q.useMemo(function(){var Ce={activeStartDate:e,date:o,view:$};return typeof Z=="function"?Z(Ce):Z},[e,o,Z,$]);return E.jsxs("button",{className:Rm(s,te),disabled:y&&w(y)>o||p&&g(p)<o||G?.({activeStartDate:e,date:o,view:$}),onClick:S?function(Ce){return S(o,Ce)}:void 0,onFocus:I?function(){return I(o)}:void 0,onMouseOver:I?function(){return I(o)}:void 0,style:L,type:"button",children:[u?E.jsx("abbr",{"aria-label":u(h,o),children:n}):n,ce]})}var ty=function(){return ty=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ty.apply(this,arguments)},dV=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},s0="react-calendar__century-view__decades__decade";function mV(i){var e=i.classes,n=e===void 0?[]:e,s=i.currentCentury,o=i.formatYear,u=o===void 0?Nm:o,h=dV(i,["classes","currentCentury","formatYear"]),p=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(s0),lc(p).getFullYear()!==s&&y.push("".concat(s0,"--neighboringCentury")),E.jsx(Mm,ty({},h,{classes:y,maxDateTransform:xm,minDateTransform:rl,view:"century",children:vS(g,u,p)}))}var ny=function(){return ny=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ny.apply(this,arguments)},a0=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function pV(i){var e=i.activeStartDate,n=i.hover,s=i.showNeighboringCentury,o=i.value,u=i.valueType,h=a0(i,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=Wk(e),g=p+(s?119:99);return E.jsx(Om,{className:"react-calendar__century-view__decades",dateTransform:rl,dateType:"decade",end:g,hover:n,renderTile:function(y){var w=y.date,S=a0(y,["date"]);return E.jsx(mV,ny({},h,S,{activeStartDate:e,currentCentury:p,date:w}),w.getTime())},start:p,step:10,value:o,valueType:u})}var iy=function(){return iy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},iy.apply(this,arguments)};function gV(i){function e(){return E.jsx(pV,iy({},i))}return E.jsx("div",{className:"react-calendar__century-view",children:e()})}var ry=function(){return ry=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ry.apply(this,arguments)},yV=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},o0="react-calendar__decade-view__years__year";function _V(i){var e=i.classes,n=e===void 0?[]:e,s=i.currentDecade,o=i.formatYear,u=o===void 0?Nm:o,h=yV(i,["classes","currentDecade","formatYear"]),p=h.date,g=h.locale,y=[];return n&&y.push.apply(y,n),y.push(o0),rl(p).getFullYear()!==s&&y.push("".concat(o0,"--neighboringDecade")),E.jsx(Mm,ry({},h,{classes:y,maxDateTransform:Dm,minDateTransform:uc,view:"decade",children:u(g,p)}))}var sy=function(){return sy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},sy.apply(this,arguments)},l0=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function vV(i){var e=i.activeStartDate,n=i.hover,s=i.showNeighboringDecade,o=i.value,u=i.valueType,h=l0(i,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=Xk(e),g=p+(s?11:9);return E.jsx(Om,{className:"react-calendar__decade-view__years",dateTransform:uc,dateType:"year",end:g,hover:n,renderTile:function(y){var w=y.date,S=l0(y,["date"]);return E.jsx(_V,sy({},h,S,{activeStartDate:e,currentDecade:p,date:w}),w.getTime())},start:p,value:o,valueType:u})}var ay=function(){return ay=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ay.apply(this,arguments)};function bV(i){function e(){return E.jsx(vV,ay({},i))}return E.jsx("div",{className:"react-calendar__decade-view",children:e()})}var oy=function(){return oy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},oy.apply(this,arguments)},EV=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},u0=function(i,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return i.concat(u||Array.prototype.slice.call(e))},TV="react-calendar__year-view__months__month";function wV(i){var e=i.classes,n=e===void 0?[]:e,s=i.formatMonth,o=s===void 0?Gk:s,u=i.formatMonthYear,h=u===void 0?pS:u,p=EV(i,["classes","formatMonth","formatMonthYear"]),g=p.date,y=p.locale;return E.jsx(Mm,oy({},p,{classes:u0(u0([],n,!0),[TV],!1),formatAbbr:h,maxDateTransform:of,minDateTransform:$l,view:"year",children:o(y,g)}))}var ly=function(){return ly=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ly.apply(this,arguments)},c0=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function AV(i){var e=i.activeStartDate,n=i.hover,s=i.value,o=i.valueType,u=c0(i,["activeStartDate","hover","value","valueType"]),h=0,p=11,g=cn(e);return E.jsx(Om,{className:"react-calendar__year-view__months",dateTransform:function(y){var w=new Date;return w.setFullYear(g,y,1),$l(w)},dateType:"month",end:p,hover:n,renderTile:function(y){var w=y.date,S=c0(y,["date"]);return E.jsx(wV,ly({},u,S,{activeStartDate:e,date:w}),w.getTime())},start:h,value:s,valueType:o})}var uy=function(){return uy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},uy.apply(this,arguments)};function SV(i){function e(){return E.jsx(AV,uy({},i))}return E.jsx("div",{className:"react-calendar__year-view",children:e()})}var cy=function(){return cy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},cy.apply(this,arguments)},CV=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},Eg="react-calendar__month-view__days__day";function RV(i){var e=i.calendarType,n=i.classes,s=n===void 0?[]:n,o=i.currentMonthIndex,u=i.formatDay,h=u===void 0?qk:u,p=i.formatLongDate,g=p===void 0?Fk:p,y=CV(i,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),w=y.date,S=y.locale,I=[];return s&&I.push.apply(I,s),I.push(Eg),bS(w,e)&&I.push("".concat(Eg,"--weekend")),w.getMonth()!==o&&I.push("".concat(Eg,"--neighboringMonth")),E.jsx(Mm,cy({},y,{classes:I,formatAbbr:g,maxDateTransform:T_,minDateTransform:lf,view:"month",children:h(S,w)}))}var hy=function(){return hy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},hy.apply(this,arguments)},h0=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function IV(i){var e=i.activeStartDate,n=i.calendarType,s=i.hover,o=i.showFixedNumberOfWeeks,u=i.showNeighboringMonth,h=i.value,p=i.valueType,g=h0(i,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=cn(e),w=il(e),S=o||u,I=Bh(e,n),L=S?0:I,K=(S?-I:0)+1,Z=(function(){if(o)return K+42-1;var G=mS(e);if(u){var $=new Date;$.setFullYear(y,w,G),$.setHours(0,0,0,0);var te=7-Bh($,n)-1;return G+te}return G})();return E.jsx(Om,{className:"react-calendar__month-view__days",count:7,dateTransform:function(G){var $=new Date;return $.setFullYear(y,w,G),lf($)},dateType:"day",hover:s,end:Z,renderTile:function(G){var $=G.date,te=h0(G,["date"]);return E.jsx(RV,hy({},g,te,{activeStartDate:e,calendarType:n,currentMonthIndex:w,date:$}),$.getTime())},offset:L,start:K,value:h,valueType:p})}var TS="react-calendar__month-view__weekdays",Tg="".concat(TS,"__weekday");function xV(i){for(var e=i.calendarType,n=i.formatShortWeekday,s=n===void 0?$k:n,o=i.formatWeekday,u=o===void 0?Yk:o,h=i.locale,p=i.onMouseLeave,g=new Date,y=$l(g),w=cn(y),S=il(y),I=[],L=1;L<=7;L+=1){var K=new Date(w,S,L-Bh(y,e)),Z=u(h,K);I.push(E.jsx("div",{className:Rm(Tg,aV(K)&&"".concat(Tg,"--current"),bS(K,e)&&"".concat(Tg,"--weekend")),children:E.jsx("abbr",{"aria-label":Z,title:Z,children:s(h,K).replace(".","")})},L))}return E.jsx(A_,{className:TS,count:7,onFocus:p,onMouseOver:p,children:I})}var nm=function(){return nm=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},nm.apply(this,arguments)},f0=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n},d0="react-calendar__tile";function DV(i){var e=i.onClickWeekNumber,n=i.weekNumber,s=E.jsx("span",{children:n});if(e){var o=i.date,u=i.onClickWeekNumber,h=i.weekNumber,p=f0(i,["date","onClickWeekNumber","weekNumber"]);return E.jsx("button",nm({},p,{className:d0,onClick:function(g){return u(h,o,g)},type:"button",children:s}))}else{i.date,i.onClickWeekNumber,i.weekNumber;var p=f0(i,["date","onClickWeekNumber","weekNumber"]);return E.jsx("div",nm({},p,{className:d0,children:s}))}}function NV(i){var e=i.activeStartDate,n=i.calendarType,s=i.onClickWeekNumber,o=i.onMouseLeave,u=i.showFixedNumberOfWeeks,h=(function(){if(u)return 6;var y=mS(e),w=Bh(e,n),S=y-(7-w);return 1+Math.ceil(S/7)})(),p=(function(){for(var y=cn(e),w=il(e),S=Im(e),I=[],L=0;L<h;L+=1)I.push(ey(new Date(y,w,S+L*7),n));return I})(),g=p.map(function(y){return Jk(y,n)});return E.jsx(A_,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,w){var S=p[w];if(!S)throw new Error("date is not defined");return E.jsx(DV,{date:S,onClickWeekNumber:s,weekNumber:y},y)})})}var fy=function(){return fy=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},fy.apply(this,arguments)},OV=function(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};function MV(i){if(i)for(var e=0,n=Object.entries(Mk);e<n.length;e++){var s=n[e],o=s[0],u=s[1];if(u.includes(i))return o}return Ei.ISO_8601}function kV(i){var e=i.activeStartDate,n=i.locale,s=i.onMouseLeave,o=i.showFixedNumberOfWeeks,u=i.calendarType,h=u===void 0?MV(n):u,p=i.formatShortWeekday,g=i.formatWeekday,y=i.onClickWeekNumber,w=i.showWeekNumbers,S=OV(i,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function I(){return E.jsx(xV,{calendarType:h,formatShortWeekday:p,formatWeekday:g,locale:n,onMouseLeave:s})}function L(){return w?E.jsx(NV,{activeStartDate:e,calendarType:h,onClickWeekNumber:y,onMouseLeave:s,showFixedNumberOfWeeks:o}):null}function K(){return E.jsx(IV,fy({calendarType:h},S))}var Z="react-calendar__month-view";return E.jsx("div",{className:Rm(Z,w?"".concat(Z,"--weekNumbers"):""),children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[L(),E.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[I(),K()]})]})})}var ku=function(){return ku=Object.assign||function(i){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}return i},ku.apply(this,arguments)},Ed="react-calendar",Ld=["century","decade","year","month"],VV=["decade","year","month","day"],S_=new Date;S_.setFullYear(1,0,1);S_.setHours(0,0,0,0);var LV=new Date(864e13);function Eh(i){return i instanceof Date?i:new Date(i)}function wS(i,e){return Ld.slice(Ld.indexOf(i),Ld.indexOf(e)+1)}function PV(i,e,n){var s=wS(e,n);return s.indexOf(i)!==-1}function C_(i,e,n){return i&&PV(i,e,n)?i:n}function AS(i){var e=Ld.indexOf(i);return VV[e]}function jV(i,e){var n=Array.isArray(i)?i[e]:i;if(!n)return null;var s=Eh(n);if(Number.isNaN(s.getTime()))throw new Error("Invalid date: ".concat(i));return s}function SS(i,e){var n=i.value,s=i.minDate,o=i.maxDate,u=i.maxDetail,h=jV(n,e);if(!h)return null;var p=AS(u),g=(function(){switch(e){case 0:return Vl(p,h);case 1:return yS(p,h);default:throw new Error("Invalid index value: ".concat(e))}})();return uV(g,s,o)}var R_=function(i){return SS(i,0)},CS=function(i){return SS(i,1)},UV=function(i){return[R_,CS].map(function(e){return e(i)})};function RS(i){var e=i.maxDate,n=i.maxDetail,s=i.minDate,o=i.minDetail,u=i.value,h=i.view,p=C_(h,o,n),g=R_({value:u,minDate:s,maxDate:e,maxDetail:n})||new Date;return Vl(p,g)}function zV(i){var e=i.activeStartDate,n=i.defaultActiveStartDate,s=i.defaultValue,o=i.defaultView,u=i.maxDate,h=i.maxDetail,p=i.minDate,g=i.minDetail,y=i.value,w=i.view,S=C_(w,g,h),I=e||n;return I?Vl(S,I):RS({maxDate:u,maxDetail:h,minDate:p,minDetail:g,value:y||s,view:w||o})}function wg(i){return i&&(!Array.isArray(i)||i.length===1)}function Td(i,e){return i instanceof Date&&e instanceof Date&&i.getTime()===e.getTime()}var BV=q.forwardRef(function(e,n){var s=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,h=e.className,p=e.defaultActiveStartDate,g=e.defaultValue,y=e.defaultView,w=e.formatDay,S=e.formatLongDate,I=e.formatMonth,L=e.formatMonthYear,K=e.formatShortWeekday,Z=e.formatWeekday,G=e.formatYear,$=e.goToRangeStartOnSelect,te=$===void 0?!0:$,ce=e.inputRef,Ce=e.locale,ze=e.maxDate,Ne=ze===void 0?LV:ze,k=e.maxDetail,N=k===void 0?"month":k,O=e.minDate,j=O===void 0?S_:O,P=e.minDetail,H=P===void 0?"century":P,M=e.navigationAriaLabel,ye=e.navigationAriaLive,Ze=e.navigationLabel,J=e.next2AriaLabel,fe=e.next2Label,Ae=e.nextAriaLabel,je=e.nextLabel,Me=e.onActiveStartDateChange,x=e.onChange,se=e.onClickDay,ge=e.onClickDecade,ve=e.onClickMonth,Ie=e.onClickWeekNumber,ke=e.onClickYear,Ve=e.onDrillDown,kt=e.onDrillUp,me=e.onViewChange,wi=e.prev2AriaLabel,mr=e.prev2Label,pr=e.prevAriaLabel,Lr=e.prevLabel,ot=e.returnValue,Gi=ot===void 0?"start":ot,Yt=e.selectRange,ui=e.showDoubleView,Is=e.showFixedNumberOfWeeks,Zt=e.showNavigation,hn=Zt===void 0?!0:Zt,Pr=e.showNeighboringCentury,sl=e.showNeighboringDecade,sa=e.showNeighboringMonth,Hn=sa===void 0?!0:sa,$i=e.showWeekNumbers,Ai=e.tileClassName,xs=e.tileContent,jr=e.tileDisabled,aa=e.value,gr=e.view,Yi=q.useState(p),yr=Yi[0],An=Yi[1],gn=q.useState(null),Xn=gn[0],Kt=gn[1],oa=q.useState(Array.isArray(g)?g.map(function(Ye){return Ye!==null?Eh(Ye):null}):g!=null?Eh(g):null),Ur=oa[0],Wa=oa[1],Vi=q.useState(y),ns=Vi[0],Qt=Vi[1],xt=s||yr||zV({activeStartDate:s,defaultActiveStartDate:p,defaultValue:g,defaultView:y,maxDate:Ne,maxDetail:N,minDate:j,minDetail:H,value:aa,view:gr}),jt=(function(){var Ye=(function(){return Yt&&wg(Ur)?Ur:aa!==void 0?aa:Ur})();return Ye?Array.isArray(Ye)?Ye.map(function(zt){return zt!==null?Eh(zt):null}):Ye!==null?Eh(Ye):null:null})(),qn=AS(N),Vt=C_(gr||ns,H,N),ci=wS(H,N),Ki=Yt?Xn:null,_r=ci.indexOf(Vt)<ci.length-1,vr=ci.indexOf(Vt)>0,Si=q.useCallback(function(Ye){var zt=(function(){switch(Gi){case"start":return R_;case"end":return CS;case"range":return UV;default:throw new Error("Invalid returnValue.")}})();return zt({maxDate:Ne,maxDetail:N,minDate:j,value:Ye})},[Ne,N,j,Gi]),is=q.useCallback(function(Ye,zt){An(Ye);var vt={action:zt,activeStartDate:Ye,value:jt,view:Vt};Me&&!Td(xt,Ye)&&Me(vt)},[xt,Me,jt,Vt]),zr=q.useCallback(function(Ye,zt){var vt=(function(){switch(Vt){case"century":return ge;case"decade":return ke;case"year":return ve;case"month":return se;default:throw new Error("Invalid view: ".concat(Vt,"."))}})();vt&&vt(Ye,zt)},[se,ge,ve,ke,Vt]),br=q.useCallback(function(Ye,zt){if(_r){zr(Ye,zt);var vt=ci[ci.indexOf(Vt)+1];if(!vt)throw new Error("Attempted to drill down from the lowest view.");An(Ye),Qt(vt);var bt={action:"drillDown",activeStartDate:Ye,value:jt,view:vt};Me&&!Td(xt,Ye)&&Me(bt),me&&Vt!==vt&&me(bt),Ve&&Ve(bt)}},[xt,_r,Me,zr,Ve,me,jt,Vt,ci]),Li=q.useCallback(function(){if(vr){var Ye=ci[ci.indexOf(Vt)-1];if(!Ye)throw new Error("Attempted to drill up from the highest view.");var zt=Vl(Ye,xt);An(zt),Qt(Ye);var vt={action:"drillUp",activeStartDate:zt,value:jt,view:Ye};Me&&!Td(xt,zt)&&Me(vt),me&&Vt!==Ye&&me(vt),kt&&kt(vt)}},[xt,vr,Me,kt,me,jt,Vt,ci]),Ds=q.useCallback(function(Ye,zt){var vt=jt;zr(Ye,zt);var bt=Yt&&!wg(vt),lt;if(Yt)if(bt)lt=Vl(qn,Ye);else{if(!vt)throw new Error("previousValue is required");if(Array.isArray(vt))throw new Error("previousValue must not be an array");lt=rV(qn,vt,Ye)}else lt=Si(Ye);var tn=!Yt||bt||te?RS({maxDate:Ne,maxDetail:N,minDate:j,minDetail:H,value:lt,view:Vt}):null;zt.persist(),An(tn),Wa(lt);var Bt={action:"onChange",activeStartDate:tn,value:lt,view:Vt};if(Me&&!Td(xt,tn)&&Me(Bt),x)if(Yt){var Fn=wg(lt);if(!Fn)x(lt||null,zt);else if(o){if(Array.isArray(lt))throw new Error("value must not be an array");x([lt||null,null],zt)}}else x(lt||null,zt)},[xt,o,Si,te,Ne,N,j,H,Me,x,zr,Yt,jt,qn,Vt]);function hi(Ye){Kt(Ye)}function yn(){Kt(null)}q.useImperativeHandle(n,function(){return{activeStartDate:xt,drillDown:br,drillUp:Li,onChange:Ds,setActiveStartDate:is,value:jt,view:Vt}},[xt,br,Li,Ds,is,jt,Vt]);function Ut(Ye){var zt=Ye?gS(Vt,xt):Vl(Vt,xt),vt=_r?br:Ds,bt={activeStartDate:zt,hover:Ki,locale:Ce,maxDate:Ne,minDate:j,onClick:vt,onMouseOver:Yt?hi:void 0,tileClassName:Ai,tileContent:xs,tileDisabled:jr,value:jt,valueType:qn};switch(Vt){case"century":return E.jsx(gV,ku({formatYear:G,showNeighboringCentury:Pr},bt));case"decade":return E.jsx(bV,ku({formatYear:G,showNeighboringDecade:sl},bt));case"year":return E.jsx(SV,ku({formatMonth:I,formatMonthYear:L},bt));case"month":return E.jsx(kV,ku({calendarType:u,formatDay:w,formatLongDate:S,formatShortWeekday:K,formatWeekday:Z,onClickWeekNumber:Ie,onMouseLeave:Yt?yn:void 0,showFixedNumberOfWeeks:typeof Is<"u"?Is:ui,showNeighboringMonth:Hn,showWeekNumbers:$i},bt));default:throw new Error("Invalid view: ".concat(Vt,"."))}}function _n(){return hn?E.jsx(oV,{activeStartDate:xt,drillUp:Li,formatMonthYear:L,formatYear:G,locale:Ce,maxDate:Ne,minDate:j,navigationAriaLabel:M,navigationAriaLive:ye,navigationLabel:Ze,next2AriaLabel:J,next2Label:fe,nextAriaLabel:Ae,nextLabel:je,prev2AriaLabel:wi,prev2Label:mr,prevAriaLabel:pr,prevLabel:Lr,setActiveStartDate:is,showDoubleView:ui,view:Vt,views:ci}):null}var Ci=Array.isArray(jt)?jt:[jt];return E.jsxs("div",{className:Rm(Ed,Yt&&Ci.length===1&&"".concat(Ed,"--selectRange"),ui&&"".concat(Ed,"--doubleView"),h),ref:ce,children:[_n(),E.jsxs("div",{className:"".concat(Ed,"__viewContainer"),onBlur:Yt?yn:void 0,onMouseLeave:Yt?yn:void 0,children:[Ut(),ui?Ut(!0):null]})]})});function HV(i){if(!i)return null;if(i instanceof Ft)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function qV(){const[i,e]=q.useState([]),[n,s]=q.useState([]),[o,u]=q.useState(!0),[h,p]=q.useState(new Date);q.useEffect(()=>{g()},[]);const g=async()=>{try{const I=Gl.currentUser;if(!I)return;const L=I.uid,Z=(await Ku(Ml(oi,"users"))).docs.map(te=>({id:te.id,...te.data()})).filter(te=>te.role==="patient");e(Z);const $=(await Ku(Ml(oi,"appointments"))).docs.map(te=>{const ce=te.data();return{id:te.id,doctorID:ce.doctorID?.trim()||"",patientID:ce.patientID?.trim()||"",type:ce.type||"",location:ce.location||"",reason:ce.reason||"",notes:ce.notes||"N/A",dateTime:HV(ce.dateTime),prescribedMeds:ce.prescribedMeds||[]}}).filter(te=>te.doctorID===L);s($)}catch(I){console.error(I)}finally{u(!1)}};if(o)return E.jsx("p",{className:"loading",children:"Loading dashboard..."});const y=n.filter(I=>I.dateTime).map(I=>I.dateTime.toDateString()),w=n.filter(I=>I.dateTime&&I.dateTime.toDateString()===h.toDateString()),S=I=>{const L=i.find(K=>K.id===I);return L?`${L.first_name||L.firstName||""} ${L.last_name||L.lastName||""}`.trim():"Unknown"};return E.jsxs("div",{className:"dashboard-container",children:[E.jsx("div",{className:"dashboard-row",children:E.jsxs("div",{className:"dashboard-card overview-card",children:[E.jsx("h2",{children:"Patient Overview"}),E.jsxs("p",{children:["Active Patients: ",i.length]}),E.jsxs("p",{children:["Pending Checkups: ",Math.floor(i.length/4)]})]})}),E.jsx("div",{className:"dashboard-row",children:E.jsxs("div",{className:"dashboard-card patient-table-card",children:[E.jsx("h2",{children:"Patients"}),E.jsxs("table",{className:"appointment-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Patient Name"}),E.jsx("th",{children:"Appointments"}),E.jsx("th",{children:"Prescribed Meds"})]})}),E.jsx("tbody",{children:i.map(I=>{const L=n.filter(Z=>Z.patientID===I.id).map(Z=>Z.dateTime?Z.dateTime.toLocaleDateString():"N/A").join(", "),K=n.filter(Z=>Z.patientID===I.id).flatMap(Z=>Z.prescribedMeds).join(", ")||"None";return E.jsxs("tr",{children:[E.jsx("td",{children:S(I.id)}),E.jsx("td",{children:L||"No appointments"}),E.jsx("td",{children:K})]},I.id)})})]})]})}),E.jsx("div",{className:"dashboard-row",children:E.jsxs("div",{className:"dashboard-card calendar-card",children:[E.jsx("h2",{children:"Appointment Calendar"}),E.jsx(BV,{value:h,onChange:p,tileClassName:({date:I,view:L})=>L==="month"&&y.includes(I.toDateString())?"highlight-appointment":null}),w.length>0?E.jsxs("div",{className:"appointments-list",children:[E.jsxs("h3",{children:["Appointments on ",h.toDateString(),":"]}),E.jsx("ul",{children:w.map(I=>E.jsxs("li",{children:[I.type||"Checkup"," with ",S(I.patientID)," "," ","(",I.dateTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),")"]},I.id))})]}):E.jsx("p",{children:"No appointments on this day."})]})})]})}function Ag(i){if(!i)return null;if(i instanceof Ft)return i.toDate();const e=new Date(i);return isNaN(e.getTime())?null:e}function FV(){const{user:i}=Ka(),[e,n]=q.useState([]),[s,o]=q.useState([]),[u,h]=q.useState(!0),[p,g]=q.useState(""),[y,w]=q.useState(""),[S,I]=q.useState(""),[L,K]=q.useState(""),[Z,G]=q.useState(""),[$,te]=q.useState(""),[ce,Ce]=q.useState(""),[ze,Ne]=q.useState(!1),[k,N]=q.useState(null);q.useEffect(()=>{i?.uid?(O(i.uid.trim()),j()):(console.warn("User UID not available yet."),h(!1))},[i]);const O=async ye=>{try{const Ze=await Ku(Ml(oi,"appointments")),J=await Promise.all(Ze.docs.map(fe=>({id:fe.id,...fe.data()})).filter(fe=>fe.doctorID?.trim()===ye).map(async fe=>{let Ae="Unknown";if(fe.patientID)try{const je=await Fl(ts(oi,"users",fe.patientID));if(je.exists()){const{firstName:Me,lastName:x}=je.data();Ae=`${Me||""} ${x||""}`.trim()}}catch(je){console.error("Error fetching patient:",je)}return{...fe,patientName:Ae}}));n(J)}catch(Ze){console.error("Error loading appointments:",Ze)}finally{h(!1)}},j=async()=>{try{const Ze=(await Ku(Ml(oi,"users"))).docs.map(J=>({id:J.id,...J.data()})).filter(J=>J.role==="patient");o(Ze)}catch(ye){console.error("Error fetching patients:",ye)}},P=ye=>{N(ye.id),g(ye.patientID||""),w(ye.dateTime?Ag(ye.dateTime).toISOString().split("T")[0]:""),I(ye.dateTime?Ag(ye.dateTime).toTimeString().slice(0,5):""),K(ye.type||""),G(ye.reason||""),te(ye.location||""),Ce(ye.notes||""),window.scrollTo({top:0,behavior:"smooth"})},H=async ye=>{if(window.confirm("Are you sure you want to delete this appointment?"))try{await XA(ts(oi,"appointments",ye)),O(i.uid)}catch(Ze){console.error("Error deleting appointment:",Ze)}},M=async ye=>{if(ye.preventDefault(),!p||!y||!S)return alert("Fill all required fields");Ne(!0);try{const[Ze,J,fe]=y.split("-"),[Ae,je]=S.split(":").map(Number),Me=new Date(Ze,J-1,fe,Ae,je),x={doctorID:i.uid,patientID:p,dateTime:Ft.fromDate(Me),type:L||"",reason:Z||"",location:$||"",notes:ce||"",updatedAt:zh()};k?(await p_(ts(oi,"appointments",k),x),N(null)):(x.createdAt=zh(),await JA(Ml(oi,"appointments"),x)),O(i.uid),g(""),w(""),I(""),K(""),G(""),te(""),Ce("")}catch(Ze){console.error("Error saving appointment:",Ze)}finally{Ne(!1)}};return u?E.jsx("p",{className:"loading",children:"Loading appointments..."}):E.jsxs("div",{className:"dashboard-container",children:[e.length===0?E.jsx("p",{children:"No appointments scheduled."}):E.jsx("div",{className:"dashboard-card table-container",children:E.jsxs("table",{className:"appointment-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Date & Time"}),E.jsx("th",{children:"Type"}),E.jsx("th",{children:"Reason"}),E.jsx("th",{children:"Location"}),E.jsx("th",{children:"Patient"}),E.jsx("th",{children:"Notes"}),E.jsx("th",{children:"Actions"})]})}),E.jsx("tbody",{children:e.map(ye=>{const Ze=Ag(ye.dateTime);return E.jsxs("tr",{children:[E.jsx("td",{children:Ze?Ze.toLocaleString():"Invalid Date"}),E.jsx("td",{children:ye.type||"—"}),E.jsx("td",{children:ye.reason||"—"}),E.jsx("td",{children:ye.location||"—"}),E.jsx("td",{children:ye.patientName}),E.jsx("td",{children:ye.notes||"N/A"}),E.jsxs("td",{className:"actions-cell",children:[E.jsx("button",{className:"action-btn edit-btn full-width-btn",onClick:()=>P(ye),children:"Edit"}),E.jsx("button",{className:"action-btn delete-btn full-width-btn",onClick:()=>H(ye.id),children:"Delete"})]})]},ye.id)})})]})}),E.jsxs("div",{className:"dashboard-card add-appointment",children:[E.jsx("h3",{children:k?"Edit Appointment":"Add Appointment"}),E.jsxs("form",{className:"add-appointment-form",onSubmit:M,children:[E.jsxs("div",{className:"form-row",children:[E.jsxs("select",{value:p,onChange:ye=>g(ye.target.value),required:!0,children:[E.jsx("option",{value:"",children:"Select Patient"}),s.map(ye=>E.jsxs("option",{value:ye.id,children:[ye.firstName," ",ye.lastName]},ye.id))]}),E.jsx("input",{type:"date",value:y,onChange:ye=>w(ye.target.value),required:!0}),E.jsx("input",{type:"time",value:S,onChange:ye=>I(ye.target.value),required:!0})]}),E.jsxs("div",{className:"form-row",children:[E.jsx("input",{type:"text",placeholder:"Type",value:L,onChange:ye=>K(ye.target.value)}),E.jsx("input",{type:"text",placeholder:"Reason",value:Z,onChange:ye=>G(ye.target.value)})]}),E.jsxs("div",{className:"form-row",children:[E.jsx("input",{type:"text",placeholder:"Location",value:$,onChange:ye=>te(ye.target.value)}),E.jsx("textarea",{placeholder:"Notes",value:ce,onChange:ye=>Ce(ye.target.value)})]}),E.jsx("div",{className:"form-row",children:E.jsx("button",{type:"submit",disabled:ze,children:ze?k?"Updating...":"Adding...":k?"Update Appointment":"Add Appointment"})})]})]})]})}function GV(){const{user:i,logout:e}=Ka(),[n,s]=q.useState(null),[o,u]=q.useState(!0);return q.useEffect(()=>{if(!i)return;(async()=>{try{const p=ts(oi,"doctors",i.uid),g=await Fl(p);g.exists()?s(g.data()):console.warn("No doctor profile found for this account.")}catch(p){console.error("Error fetching doctor data:",p)}finally{u(!1)}})()},[i]),o?E.jsx("div",{className:"profile-container",children:E.jsx("h1",{className:"profile-title",children:"Loading profile..."})}):n?E.jsx("div",{className:"profile-container",children:E.jsxs("div",{className:"profile-card",children:[E.jsx("h3",{className:"profile-title",children:"Doctor Profile"}),E.jsx("hr",{className:"divider"}),E.jsxs("div",{className:"profile-section",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Name:"})," ",n.fullName]}),E.jsxs("p",{children:[E.jsx("strong",{children:"E-mail Address:"})," ",n.email]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Contact Number:"})," ",n.contactNumber||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Password:"})," ********",E.jsx("span",{className:"change-password",children:"(Change Password)"})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Account Creation Date:"})," ",n.createdAt?new Date(n.createdAt.seconds*1e3).toLocaleDateString():"N/A"]})]}),E.jsx("hr",{className:"divider"}),E.jsxs("div",{className:"profile-section",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Field:"})," ",n.field||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Hospital Address & Office:"})," ",n.hospitalAddress||"N/A"]})]})]})}):E.jsx("div",{className:"profile-container",children:E.jsx("h1",{className:"profile-title",children:"No profile data available."})})}function $V(){return E.jsxs("div",{children:[E.jsx("h1",{children:"Management Dashboard"}),E.jsx("p",{children:"Welcome to the admin management panel."})]})}function YV(){return E.jsxs("div",{children:[E.jsx("h1",{children:"Management Profile"}),E.jsx("p",{children:"Admin details and management profile info go here."})]})}function KV(){const{user:i}=Ka(),[e,n]=q.useState(null),[s,o]=q.useState(!0);q.useEffect(()=>{i&&u()},[i]);const u=async()=>{try{const h=ts(oi,"users",i.uid),p=await Fl(h);p.exists()?n(p.data()):console.warn("User document not found.")}catch(h){console.error("Error loading profile:",h)}finally{o(!1)}};return s?E.jsx("p",{className:"loading",children:"Loading dashboard..."}):E.jsxs("div",{className:"patient-dashboard",children:[E.jsx("h3",{className:"dashboard-title",children:"Patient Dashboard"}),E.jsxs("div",{className:"dashboard-grid",children:[E.jsxs("div",{className:"dashboard-card",children:[E.jsxs("h2",{children:["Good Morning, ",e?.name||"User","!"]}),E.jsxs("p",{children:["You are on a ",e?.streak||0,"-day streak!"]})]}),E.jsxs("div",{className:"dashboard-card",children:[E.jsx("h2",{children:"Notifications"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Your morning medication is almost due"}),E.jsx("li",{children:"You missed your medicine yesterday"})]})]}),E.jsxs("div",{className:"dashboard-card",children:[E.jsx("h2",{children:"Calendar"}),E.jsx("p",{children:"[Calendar Component will go here]"})]}),E.jsxs("div",{className:"dashboard-card",children:[E.jsx("h2",{children:"Checklist"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Medicine"}),E.jsx("li",{children:"Food"})]})]})]})]})}function QV(){const{user:i}=Ka(),[e,n]=q.useState(null),[s,o]=q.useState(null),[u,h]=q.useState(!0);if(q.useEffect(()=>{const y=async()=>{try{const w=ts(oi,"patients",i.uid),S=RM(Ml(oi,"appointments"),IM("patient","==",w)),I=await Ku(S);if(!I.empty){const L=I.docs[0].data();n(L);const K=await Fl(L.doctor);K.exists()&&o(K.data())}}catch(w){console.error("Error loading appointment:",w)}finally{h(!1)}};i?.uid&&y()},[i]),u)return E.jsx("div",{className:"appointment-loading",children:"Loading..."});if(!e||!s)return E.jsx("div",{className:"appointment-container",children:E.jsx("h2",{children:"No upcoming appointments found."})});const p=e.date_time.toDate().toLocaleDateString(),g=e.date_time.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return E.jsxs("div",{className:"appointment-container",children:[E.jsx("h1",{children:"Appointments"}),E.jsxs("div",{className:"appointment-card",children:[E.jsx("h2",{children:"Assigned Doctor"}),E.jsx("p",{children:E.jsxs("strong",{children:["Dr. ",s.user_fullname]})}),E.jsxs("p",{children:[E.jsx("strong",{children:"Field:"})," ",s.medical_field]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Email:"})," ",s.email]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Contact Number:"})," ",s.office_contact_no]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Hospital Address & Office:"})," ",s.place_employment,", Room ",s.office_room_no,", ",s.address]}),E.jsx("hr",{className:"appointment-divider"}),E.jsx("h2",{children:"Upcoming Appointment Details"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Time:"})," ",g]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Date:"})," ",p]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Location:"})," ",e.location]}),E.jsx("p",{className:"appointment-note",children:"To reschedule, please contact your assigned doctor."})]})]})}async function WV(i,e){const n=ts(oi,i,e),s=await Fl(n);return s.exists()?{id:s.id,...s.data()}:null}function XV(){const[i,e]=q.useState(null),[n,s]=q.useState(!0);return q.useEffect(()=>{async function o(){const u=Gl.currentUser;if(u){const h=await WV("users",u.uid);e(h)}s(!1)}o()},[]),n?E.jsx("div",{className:"profile-container",children:E.jsx("h1",{className:"profile-title",children:"Loading profile..."})}):i?E.jsx("div",{className:"profile-container",children:E.jsxs("div",{className:"profile-card",children:[E.jsx("h3",{className:"profile-title",children:"Profile"}),E.jsx("hr",{className:"divider"}),E.jsxs("div",{className:"profile-section",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Name:"})," ",i.name]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Email Address:"})," ",i.email]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Contact Number:"})," ",i.contactNumber]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Password:"})," ********",E.jsx("span",{className:"change-password",children:"(Change Password)"})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Account Creation Date:"})," ",i.accountCreated]})]}),E.jsx("hr",{className:"divider"}),E.jsxs("div",{className:"profile-section",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Age:"})," ",i.age]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Gender:"})," ",i.gender]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Date of Birth:"})," ",i.birthDate]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Chronic Condition/s:"})," ",i.chronicConditions]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Allergies:"})," ",i.allergies]})]}),E.jsx("hr",{className:"divider"}),E.jsxs("div",{className:"profile-section",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Insurance Provider:"})," ",i.insuranceProvider]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Senior Citizen:"})," ",i.isSenior?"Yes":"No"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"PWD:"})," ",i.isPWD?"Yes":"No"]})]})]})}):E.jsx("div",{className:"profile-container",children:E.jsx("h1",{className:"profile-title",children:"No profile data found."})})}function JV(){const[i,e]=q.useState([]);return q.useEffect(()=>{e([{name:"Breakfast - Oatmeal",calories:250},{name:"Lunch - Grilled Chicken",calories:500}])},[]),E.jsxs("div",{className:"dashboard-container",children:[E.jsx("h1",{children:"Daily Food Log"}),i.length===0?E.jsx("p",{children:"No food entries logged yet."}):E.jsxs("table",{className:"dashboard-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Meal"}),E.jsx("th",{children:"Calories"})]})}),E.jsx("tbody",{children:i.map((n,s)=>E.jsxs("tr",{children:[E.jsx("td",{children:n.name}),E.jsx("td",{children:n.calories})]},s))})]})]})}function ZV(){const[i,e]=q.useState([]);return q.useEffect(()=>{e([{name:"Paracetamol",dosage:"500mg",time:"8:00 AM"},{name:"Vitamin C",dosage:"1000mg",time:"12:00 PM"}])},[]),E.jsxs("div",{className:"dashboard-container",children:[E.jsx("h1",{children:"Daily Medicine Log"}),i.length===0?E.jsx("p",{children:"No medicines logged yet."}):E.jsxs("table",{className:"dashboard-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Medicine"}),E.jsx("th",{children:"Dosage"}),E.jsx("th",{children:"Time"})]})}),E.jsx("tbody",{children:i.map((n,s)=>E.jsxs("tr",{children:[E.jsx("td",{children:n.name}),E.jsx("td",{children:n.dosage}),E.jsx("td",{children:n.time})]},s))})]})]})}function eL(){return E.jsx(kM,{children:E.jsx(uR,{children:E.jsx(zC,{children:E.jsxs(yi,{path:"/",element:E.jsx(BM,{}),children:[E.jsx(yi,{index:!0,element:E.jsx(HM,{})}),E.jsx(yi,{path:"login",element:E.jsx(QM,{})}),E.jsx(yi,{path:"about",element:E.jsx(WM,{})}),E.jsx(yi,{path:"contact",element:E.jsx(XM,{})}),E.jsx(yi,{path:"admin/dashboard",element:E.jsx(vs,{children:E.jsx(rk,{})})}),E.jsx(yi,{path:"doctor/dashboard",element:E.jsx(vs,{children:E.jsx(qV,{})})}),E.jsx(yi,{path:"doctor/appointments",element:E.jsx(vs,{children:E.jsx(FV,{})})}),E.jsx(yi,{path:"doctor/management",element:E.jsx(vs,{children:E.jsx($V,{})})}),E.jsx(yi,{path:"doctor/management-profile",element:E.jsx(vs,{children:E.jsx(YV,{})})}),E.jsx(yi,{path:"doctor/profile",element:E.jsx(vs,{children:E.jsx(GV,{})})}),E.jsx(yi,{path:"patient/dashboard",element:E.jsx(vs,{children:E.jsx(KV,{})})}),E.jsx(yi,{path:"patient/appointments",element:E.jsx(vs,{children:E.jsx(QV,{})})}),E.jsx(yi,{path:"patient/dailies/food",element:E.jsx(vs,{children:E.jsx(JV,{})})}),E.jsx(yi,{path:"patient/dailies/medicine",element:E.jsx(vs,{children:E.jsx(ZV,{})})}),E.jsx(yi,{path:"patient/profile",element:E.jsx(vs,{children:E.jsx(XV,{})})})]})})})})}$1.createRoot(document.getElementById("root")).render(E.jsx(q.StrictMode,{children:E.jsx(eL,{})}));
